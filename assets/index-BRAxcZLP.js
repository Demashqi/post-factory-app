var CT=Object.defineProperty;var TT=(r,e,t)=>e in r?CT(r,e,{enumerable:!0,configurable:!0,writable:!0,value:t}):r[e]=t;var Or=(r,e,t)=>TT(r,typeof e!="symbol"?e+"":e,t);(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const a of document.querySelectorAll('link[rel="modulepreload"]'))n(a);new MutationObserver(a=>{for(const i of a)if(i.type==="childList")for(const o of i.addedNodes)o.tagName==="LINK"&&o.rel==="modulepreload"&&n(o)}).observe(document,{childList:!0,subtree:!0});function t(a){const i={};return a.integrity&&(i.integrity=a.integrity),a.referrerPolicy&&(i.referrerPolicy=a.referrerPolicy),a.crossOrigin==="use-credentials"?i.credentials="include":a.crossOrigin==="anonymous"?i.credentials="omit":i.credentials="same-origin",i}function n(a){if(a.ep)return;a.ep=!0;const i=t(a);fetch(a.href,i)}})();var mu=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function mv(r){return r&&r.__esModule&&Object.prototype.hasOwnProperty.call(r,"default")?r.default:r}var d2={exports:{}},J0={};/**
 * @license React
 * react-jsx-runtime.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Lb;function AT(){if(Lb)return J0;Lb=1;var r=Symbol.for("react.transitional.element"),e=Symbol.for("react.fragment");function t(n,a,i){var o=null;if(i!==void 0&&(o=""+i),a.key!==void 0&&(o=""+a.key),"key"in a){i={};for(var l in a)l!=="key"&&(i[l]=a[l])}else i=a;return a=i.ref,{$$typeof:r,type:n,key:o,ref:a!==void 0?a:null,props:i}}return J0.Fragment=e,J0.jsx=t,J0.jsxs=t,J0}var Fb;function ET(){return Fb||(Fb=1,d2.exports=AT()),d2.exports}var _=ET(),g2={exports:{}},pr={};/**
 * @license React
 * react.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Mb;function NT(){if(Mb)return pr;Mb=1;var r=Symbol.for("react.transitional.element"),e=Symbol.for("react.portal"),t=Symbol.for("react.fragment"),n=Symbol.for("react.strict_mode"),a=Symbol.for("react.profiler"),i=Symbol.for("react.consumer"),o=Symbol.for("react.context"),l=Symbol.for("react.forward_ref"),u=Symbol.for("react.suspense"),h=Symbol.for("react.memo"),f=Symbol.for("react.lazy"),m=Symbol.for("react.activity"),x=Symbol.iterator;function g(Y){return Y===null||typeof Y!="object"?null:(Y=x&&Y[x]||Y["@@iterator"],typeof Y=="function"?Y:null)}var y={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},v=Object.assign,S={};function k(Y,w,L){this.props=Y,this.context=w,this.refs=S,this.updater=L||y}k.prototype.isReactComponent={},k.prototype.setState=function(Y,w){if(typeof Y!="object"&&typeof Y!="function"&&Y!=null)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,Y,w,"setState")},k.prototype.forceUpdate=function(Y){this.updater.enqueueForceUpdate(this,Y,"forceUpdate")};function A(){}A.prototype=k.prototype;function N(Y,w,L){this.props=Y,this.context=w,this.refs=S,this.updater=L||y}var j=N.prototype=new A;j.constructor=N,v(j,k.prototype),j.isPureReactComponent=!0;var W=Array.isArray;function ee(){}var z={H:null,A:null,T:null,S:null},B=Object.prototype.hasOwnProperty;function D(Y,w,L){var P=L.ref;return{$$typeof:r,type:Y,key:w,ref:P!==void 0?P:null,props:L}}function Z(Y,w){return D(Y.type,w,Y.props)}function q(Y){return typeof Y=="object"&&Y!==null&&Y.$$typeof===r}function O(Y){var w={"=":"=0",":":"=2"};return"$"+Y.replace(/[=:]/g,function(L){return w[L]})}var V=/\/+/g;function F(Y,w){return typeof Y=="object"&&Y!==null&&Y.key!=null?O(""+Y.key):w.toString(36)}function re(Y){switch(Y.status){case"fulfilled":return Y.value;case"rejected":throw Y.reason;default:switch(typeof Y.status=="string"?Y.then(ee,ee):(Y.status="pending",Y.then(function(w){Y.status==="pending"&&(Y.status="fulfilled",Y.value=w)},function(w){Y.status==="pending"&&(Y.status="rejected",Y.reason=w)})),Y.status){case"fulfilled":return Y.value;case"rejected":throw Y.reason}}throw Y}function ae(Y,w,L,P,U){var ie=typeof Y;(ie==="undefined"||ie==="boolean")&&(Y=null);var fe=!1;if(Y===null)fe=!0;else switch(ie){case"bigint":case"string":case"number":fe=!0;break;case"object":switch(Y.$$typeof){case r:case e:fe=!0;break;case f:return fe=Y._init,ae(fe(Y._payload),w,L,P,U)}}if(fe)return U=U(Y),fe=P===""?"."+F(Y,0):P,W(U)?(L="",fe!=null&&(L=fe.replace(V,"$&/")+"/"),ae(U,w,L,"",function(ce){return ce})):U!=null&&(q(U)&&(U=Z(U,L+(U.key==null||Y&&Y.key===U.key?"":(""+U.key).replace(V,"$&/")+"/")+fe)),w.push(U)),1;fe=0;var xe=P===""?".":P+":";if(W(Y))for(var ve=0;ve<Y.length;ve++)P=Y[ve],ie=xe+F(P,ve),fe+=ae(P,w,L,ie,U);else if(ve=g(Y),typeof ve=="function")for(Y=ve.call(Y),ve=0;!(P=Y.next()).done;)P=P.value,ie=xe+F(P,ve++),fe+=ae(P,w,L,ie,U);else if(ie==="object"){if(typeof Y.then=="function")return ae(re(Y),w,L,P,U);throw w=String(Y),Error("Objects are not valid as a React child (found: "+(w==="[object Object]"?"object with keys {"+Object.keys(Y).join(", ")+"}":w)+"). If you meant to render a collection of children, use an array instead.")}return fe}function J(Y,w,L){if(Y==null)return Y;var P=[],U=0;return ae(Y,P,"","",function(ie){return w.call(L,ie,U++)}),P}function ge(Y){if(Y._status===-1){var w=Y._result;w=w(),w.then(function(L){(Y._status===0||Y._status===-1)&&(Y._status=1,Y._result=L)},function(L){(Y._status===0||Y._status===-1)&&(Y._status=2,Y._result=L)}),Y._status===-1&&(Y._status=0,Y._result=w)}if(Y._status===1)return Y._result.default;throw Y._result}var te=typeof reportError=="function"?reportError:function(Y){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var w=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof Y=="object"&&Y!==null&&typeof Y.message=="string"?String(Y.message):String(Y),error:Y});if(!window.dispatchEvent(w))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",Y);return}console.error(Y)},ke={map:J,forEach:function(Y,w,L){J(Y,function(){w.apply(this,arguments)},L)},count:function(Y){var w=0;return J(Y,function(){w++}),w},toArray:function(Y){return J(Y,function(w){return w})||[]},only:function(Y){if(!q(Y))throw Error("React.Children.only expected to receive a single React element child.");return Y}};return pr.Activity=m,pr.Children=ke,pr.Component=k,pr.Fragment=t,pr.Profiler=a,pr.PureComponent=N,pr.StrictMode=n,pr.Suspense=u,pr.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=z,pr.__COMPILER_RUNTIME={__proto__:null,c:function(Y){return z.H.useMemoCache(Y)}},pr.cache=function(Y){return function(){return Y.apply(null,arguments)}},pr.cacheSignal=function(){return null},pr.cloneElement=function(Y,w,L){if(Y==null)throw Error("The argument must be a React element, but you passed "+Y+".");var P=v({},Y.props),U=Y.key;if(w!=null)for(ie in w.key!==void 0&&(U=""+w.key),w)!B.call(w,ie)||ie==="key"||ie==="__self"||ie==="__source"||ie==="ref"&&w.ref===void 0||(P[ie]=w[ie]);var ie=arguments.length-2;if(ie===1)P.children=L;else if(1<ie){for(var fe=Array(ie),xe=0;xe<ie;xe++)fe[xe]=arguments[xe+2];P.children=fe}return D(Y.type,U,P)},pr.createContext=function(Y){return Y={$$typeof:o,_currentValue:Y,_currentValue2:Y,_threadCount:0,Provider:null,Consumer:null},Y.Provider=Y,Y.Consumer={$$typeof:i,_context:Y},Y},pr.createElement=function(Y,w,L){var P,U={},ie=null;if(w!=null)for(P in w.key!==void 0&&(ie=""+w.key),w)B.call(w,P)&&P!=="key"&&P!=="__self"&&P!=="__source"&&(U[P]=w[P]);var fe=arguments.length-2;if(fe===1)U.children=L;else if(1<fe){for(var xe=Array(fe),ve=0;ve<fe;ve++)xe[ve]=arguments[ve+2];U.children=xe}if(Y&&Y.defaultProps)for(P in fe=Y.defaultProps,fe)U[P]===void 0&&(U[P]=fe[P]);return D(Y,ie,U)},pr.createRef=function(){return{current:null}},pr.forwardRef=function(Y){return{$$typeof:l,render:Y}},pr.isValidElement=q,pr.lazy=function(Y){return{$$typeof:f,_payload:{_status:-1,_result:Y},_init:ge}},pr.memo=function(Y,w){return{$$typeof:h,type:Y,compare:w===void 0?null:w}},pr.startTransition=function(Y){var w=z.T,L={};z.T=L;try{var P=Y(),U=z.S;U!==null&&U(L,P),typeof P=="object"&&P!==null&&typeof P.then=="function"&&P.then(ee,te)}catch(ie){te(ie)}finally{w!==null&&L.types!==null&&(w.types=L.types),z.T=w}},pr.unstable_useCacheRefresh=function(){return z.H.useCacheRefresh()},pr.use=function(Y){return z.H.use(Y)},pr.useActionState=function(Y,w,L){return z.H.useActionState(Y,w,L)},pr.useCallback=function(Y,w){return z.H.useCallback(Y,w)},pr.useContext=function(Y){return z.H.useContext(Y)},pr.useDebugValue=function(){},pr.useDeferredValue=function(Y,w){return z.H.useDeferredValue(Y,w)},pr.useEffect=function(Y,w){return z.H.useEffect(Y,w)},pr.useEffectEvent=function(Y){return z.H.useEffectEvent(Y)},pr.useId=function(){return z.H.useId()},pr.useImperativeHandle=function(Y,w,L){return z.H.useImperativeHandle(Y,w,L)},pr.useInsertionEffect=function(Y,w){return z.H.useInsertionEffect(Y,w)},pr.useLayoutEffect=function(Y,w){return z.H.useLayoutEffect(Y,w)},pr.useMemo=function(Y,w){return z.H.useMemo(Y,w)},pr.useOptimistic=function(Y,w){return z.H.useOptimistic(Y,w)},pr.useReducer=function(Y,w,L){return z.H.useReducer(Y,w,L)},pr.useRef=function(Y){return z.H.useRef(Y)},pr.useState=function(Y){return z.H.useState(Y)},pr.useSyncExternalStore=function(Y,w,L){return z.H.useSyncExternalStore(Y,w,L)},pr.useTransition=function(){return z.H.useTransition()},pr.version="19.2.4",pr}var jb;function xv(){return jb||(jb=1,g2.exports=NT()),g2.exports}var Me=xv();const Ca=mv(Me);var p2={exports:{}},Q0={},m2={exports:{}},x2={};/**
 * @license React
 * scheduler.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Rb;function OT(){return Rb||(Rb=1,(function(r){function e(ae,J){var ge=ae.length;ae.push(J);e:for(;0<ge;){var te=ge-1>>>1,ke=ae[te];if(0<a(ke,J))ae[te]=J,ae[ge]=ke,ge=te;else break e}}function t(ae){return ae.length===0?null:ae[0]}function n(ae){if(ae.length===0)return null;var J=ae[0],ge=ae.pop();if(ge!==J){ae[0]=ge;e:for(var te=0,ke=ae.length,Y=ke>>>1;te<Y;){var w=2*(te+1)-1,L=ae[w],P=w+1,U=ae[P];if(0>a(L,ge))P<ke&&0>a(U,L)?(ae[te]=U,ae[P]=ge,te=P):(ae[te]=L,ae[w]=ge,te=w);else if(P<ke&&0>a(U,ge))ae[te]=U,ae[P]=ge,te=P;else break e}}return J}function a(ae,J){var ge=ae.sortIndex-J.sortIndex;return ge!==0?ge:ae.id-J.id}if(r.unstable_now=void 0,typeof performance=="object"&&typeof performance.now=="function"){var i=performance;r.unstable_now=function(){return i.now()}}else{var o=Date,l=o.now();r.unstable_now=function(){return o.now()-l}}var u=[],h=[],f=1,m=null,x=3,g=!1,y=!1,v=!1,S=!1,k=typeof setTimeout=="function"?setTimeout:null,A=typeof clearTimeout=="function"?clearTimeout:null,N=typeof setImmediate<"u"?setImmediate:null;function j(ae){for(var J=t(h);J!==null;){if(J.callback===null)n(h);else if(J.startTime<=ae)n(h),J.sortIndex=J.expirationTime,e(u,J);else break;J=t(h)}}function W(ae){if(v=!1,j(ae),!y)if(t(u)!==null)y=!0,ee||(ee=!0,O());else{var J=t(h);J!==null&&re(W,J.startTime-ae)}}var ee=!1,z=-1,B=5,D=-1;function Z(){return S?!0:!(r.unstable_now()-D<B)}function q(){if(S=!1,ee){var ae=r.unstable_now();D=ae;var J=!0;try{e:{y=!1,v&&(v=!1,A(z),z=-1),g=!0;var ge=x;try{t:{for(j(ae),m=t(u);m!==null&&!(m.expirationTime>ae&&Z());){var te=m.callback;if(typeof te=="function"){m.callback=null,x=m.priorityLevel;var ke=te(m.expirationTime<=ae);if(ae=r.unstable_now(),typeof ke=="function"){m.callback=ke,j(ae),J=!0;break t}m===t(u)&&n(u),j(ae)}else n(u);m=t(u)}if(m!==null)J=!0;else{var Y=t(h);Y!==null&&re(W,Y.startTime-ae),J=!1}}break e}finally{m=null,x=ge,g=!1}J=void 0}}finally{J?O():ee=!1}}}var O;if(typeof N=="function")O=function(){N(q)};else if(typeof MessageChannel<"u"){var V=new MessageChannel,F=V.port2;V.port1.onmessage=q,O=function(){F.postMessage(null)}}else O=function(){k(q,0)};function re(ae,J){z=k(function(){ae(r.unstable_now())},J)}r.unstable_IdlePriority=5,r.unstable_ImmediatePriority=1,r.unstable_LowPriority=4,r.unstable_NormalPriority=3,r.unstable_Profiling=null,r.unstable_UserBlockingPriority=2,r.unstable_cancelCallback=function(ae){ae.callback=null},r.unstable_forceFrameRate=function(ae){0>ae||125<ae?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):B=0<ae?Math.floor(1e3/ae):5},r.unstable_getCurrentPriorityLevel=function(){return x},r.unstable_next=function(ae){switch(x){case 1:case 2:case 3:var J=3;break;default:J=x}var ge=x;x=J;try{return ae()}finally{x=ge}},r.unstable_requestPaint=function(){S=!0},r.unstable_runWithPriority=function(ae,J){switch(ae){case 1:case 2:case 3:case 4:case 5:break;default:ae=3}var ge=x;x=ae;try{return J()}finally{x=ge}},r.unstable_scheduleCallback=function(ae,J,ge){var te=r.unstable_now();switch(typeof ge=="object"&&ge!==null?(ge=ge.delay,ge=typeof ge=="number"&&0<ge?te+ge:te):ge=te,ae){case 1:var ke=-1;break;case 2:ke=250;break;case 5:ke=1073741823;break;case 4:ke=1e4;break;default:ke=5e3}return ke=ge+ke,ae={id:f++,callback:J,priorityLevel:ae,startTime:ge,expirationTime:ke,sortIndex:-1},ge>te?(ae.sortIndex=ge,e(h,ae),t(u)===null&&ae===t(h)&&(v?(A(z),z=-1):v=!0,re(W,ge-te))):(ae.sortIndex=ke,e(u,ae),y||g||(y=!0,ee||(ee=!0,O()))),ae},r.unstable_shouldYield=Z,r.unstable_wrapCallback=function(ae){var J=x;return function(){var ge=x;x=J;try{return ae.apply(this,arguments)}finally{x=ge}}}})(x2)),x2}var Bb;function DT(){return Bb||(Bb=1,m2.exports=OT()),m2.exports}var v2={exports:{}},gi={};/**
 * @license React
 * react-dom.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Pb;function LT(){if(Pb)return gi;Pb=1;var r=xv();function e(u){var h="https://react.dev/errors/"+u;if(1<arguments.length){h+="?args[]="+encodeURIComponent(arguments[1]);for(var f=2;f<arguments.length;f++)h+="&args[]="+encodeURIComponent(arguments[f])}return"Minified React error #"+u+"; visit "+h+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function t(){}var n={d:{f:t,r:function(){throw Error(e(522))},D:t,C:t,L:t,m:t,X:t,S:t,M:t},p:0,findDOMNode:null},a=Symbol.for("react.portal");function i(u,h,f){var m=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:a,key:m==null?null:""+m,children:u,containerInfo:h,implementation:f}}var o=r.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;function l(u,h){if(u==="font")return"";if(typeof h=="string")return h==="use-credentials"?h:""}return gi.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=n,gi.createPortal=function(u,h){var f=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!h||h.nodeType!==1&&h.nodeType!==9&&h.nodeType!==11)throw Error(e(299));return i(u,h,null,f)},gi.flushSync=function(u){var h=o.T,f=n.p;try{if(o.T=null,n.p=2,u)return u()}finally{o.T=h,n.p=f,n.d.f()}},gi.preconnect=function(u,h){typeof u=="string"&&(h?(h=h.crossOrigin,h=typeof h=="string"?h==="use-credentials"?h:"":void 0):h=null,n.d.C(u,h))},gi.prefetchDNS=function(u){typeof u=="string"&&n.d.D(u)},gi.preinit=function(u,h){if(typeof u=="string"&&h&&typeof h.as=="string"){var f=h.as,m=l(f,h.crossOrigin),x=typeof h.integrity=="string"?h.integrity:void 0,g=typeof h.fetchPriority=="string"?h.fetchPriority:void 0;f==="style"?n.d.S(u,typeof h.precedence=="string"?h.precedence:void 0,{crossOrigin:m,integrity:x,fetchPriority:g}):f==="script"&&n.d.X(u,{crossOrigin:m,integrity:x,fetchPriority:g,nonce:typeof h.nonce=="string"?h.nonce:void 0})}},gi.preinitModule=function(u,h){if(typeof u=="string")if(typeof h=="object"&&h!==null){if(h.as==null||h.as==="script"){var f=l(h.as,h.crossOrigin);n.d.M(u,{crossOrigin:f,integrity:typeof h.integrity=="string"?h.integrity:void 0,nonce:typeof h.nonce=="string"?h.nonce:void 0})}}else h==null&&n.d.M(u)},gi.preload=function(u,h){if(typeof u=="string"&&typeof h=="object"&&h!==null&&typeof h.as=="string"){var f=h.as,m=l(f,h.crossOrigin);n.d.L(u,f,{crossOrigin:m,integrity:typeof h.integrity=="string"?h.integrity:void 0,nonce:typeof h.nonce=="string"?h.nonce:void 0,type:typeof h.type=="string"?h.type:void 0,fetchPriority:typeof h.fetchPriority=="string"?h.fetchPriority:void 0,referrerPolicy:typeof h.referrerPolicy=="string"?h.referrerPolicy:void 0,imageSrcSet:typeof h.imageSrcSet=="string"?h.imageSrcSet:void 0,imageSizes:typeof h.imageSizes=="string"?h.imageSizes:void 0,media:typeof h.media=="string"?h.media:void 0})}},gi.preloadModule=function(u,h){if(typeof u=="string")if(h){var f=l(h.as,h.crossOrigin);n.d.m(u,{as:typeof h.as=="string"&&h.as!=="script"?h.as:void 0,crossOrigin:f,integrity:typeof h.integrity=="string"?h.integrity:void 0})}else n.d.m(u)},gi.requestFormReset=function(u){n.d.r(u)},gi.unstable_batchedUpdates=function(u,h){return u(h)},gi.useFormState=function(u,h,f){return o.H.useFormState(u,h,f)},gi.useFormStatus=function(){return o.H.useHostTransitionStatus()},gi.version="19.2.4",gi}var Ib;function FT(){if(Ib)return v2.exports;Ib=1;function r(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(r)}catch(e){console.error(e)}}return r(),v2.exports=LT(),v2.exports}/**
 * @license React
 * react-dom-client.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Ub;function MT(){if(Ub)return Q0;Ub=1;var r=DT(),e=xv(),t=FT();function n(s){var c="https://react.dev/errors/"+s;if(1<arguments.length){c+="?args[]="+encodeURIComponent(arguments[1]);for(var d=2;d<arguments.length;d++)c+="&args[]="+encodeURIComponent(arguments[d])}return"Minified React error #"+s+"; visit "+c+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function a(s){return!(!s||s.nodeType!==1&&s.nodeType!==9&&s.nodeType!==11)}function i(s){var c=s,d=s;if(s.alternate)for(;c.return;)c=c.return;else{s=c;do c=s,(c.flags&4098)!==0&&(d=c.return),s=c.return;while(s)}return c.tag===3?d:null}function o(s){if(s.tag===13){var c=s.memoizedState;if(c===null&&(s=s.alternate,s!==null&&(c=s.memoizedState)),c!==null)return c.dehydrated}return null}function l(s){if(s.tag===31){var c=s.memoizedState;if(c===null&&(s=s.alternate,s!==null&&(c=s.memoizedState)),c!==null)return c.dehydrated}return null}function u(s){if(i(s)!==s)throw Error(n(188))}function h(s){var c=s.alternate;if(!c){if(c=i(s),c===null)throw Error(n(188));return c!==s?null:s}for(var d=s,p=c;;){var C=d.return;if(C===null)break;var E=C.alternate;if(E===null){if(p=C.return,p!==null){d=p;continue}break}if(C.child===E.child){for(E=C.child;E;){if(E===d)return u(C),s;if(E===p)return u(C),c;E=E.sibling}throw Error(n(188))}if(d.return!==p.return)d=C,p=E;else{for(var Q=!1,me=C.child;me;){if(me===d){Q=!0,d=C,p=E;break}if(me===p){Q=!0,p=C,d=E;break}me=me.sibling}if(!Q){for(me=E.child;me;){if(me===d){Q=!0,d=E,p=C;break}if(me===p){Q=!0,p=E,d=C;break}me=me.sibling}if(!Q)throw Error(n(189))}}if(d.alternate!==p)throw Error(n(190))}if(d.tag!==3)throw Error(n(188));return d.stateNode.current===d?s:c}function f(s){var c=s.tag;if(c===5||c===26||c===27||c===6)return s;for(s=s.child;s!==null;){if(c=f(s),c!==null)return c;s=s.sibling}return null}var m=Object.assign,x=Symbol.for("react.element"),g=Symbol.for("react.transitional.element"),y=Symbol.for("react.portal"),v=Symbol.for("react.fragment"),S=Symbol.for("react.strict_mode"),k=Symbol.for("react.profiler"),A=Symbol.for("react.consumer"),N=Symbol.for("react.context"),j=Symbol.for("react.forward_ref"),W=Symbol.for("react.suspense"),ee=Symbol.for("react.suspense_list"),z=Symbol.for("react.memo"),B=Symbol.for("react.lazy"),D=Symbol.for("react.activity"),Z=Symbol.for("react.memo_cache_sentinel"),q=Symbol.iterator;function O(s){return s===null||typeof s!="object"?null:(s=q&&s[q]||s["@@iterator"],typeof s=="function"?s:null)}var V=Symbol.for("react.client.reference");function F(s){if(s==null)return null;if(typeof s=="function")return s.$$typeof===V?null:s.displayName||s.name||null;if(typeof s=="string")return s;switch(s){case v:return"Fragment";case k:return"Profiler";case S:return"StrictMode";case W:return"Suspense";case ee:return"SuspenseList";case D:return"Activity"}if(typeof s=="object")switch(s.$$typeof){case y:return"Portal";case N:return s.displayName||"Context";case A:return(s._context.displayName||"Context")+".Consumer";case j:var c=s.render;return s=s.displayName,s||(s=c.displayName||c.name||"",s=s!==""?"ForwardRef("+s+")":"ForwardRef"),s;case z:return c=s.displayName||null,c!==null?c:F(s.type)||"Memo";case B:c=s._payload,s=s._init;try{return F(s(c))}catch{}}return null}var re=Array.isArray,ae=e.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,J=t.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,ge={pending:!1,data:null,method:null,action:null},te=[],ke=-1;function Y(s){return{current:s}}function w(s){0>ke||(s.current=te[ke],te[ke]=null,ke--)}function L(s,c){ke++,te[ke]=s.current,s.current=c}var P=Y(null),U=Y(null),ie=Y(null),fe=Y(null);function xe(s,c){switch(L(ie,c),L(U,s),L(P,null),c.nodeType){case 9:case 11:s=(s=c.documentElement)&&(s=s.namespaceURI)?tb(s):0;break;default:if(s=c.tagName,c=c.namespaceURI)c=tb(c),s=rb(c,s);else switch(s){case"svg":s=1;break;case"math":s=2;break;default:s=0}}w(P),L(P,s)}function ve(){w(P),w(U),w(ie)}function ce(s){s.memoizedState!==null&&L(fe,s);var c=P.current,d=rb(c,s.type);c!==d&&(L(U,s),L(P,d))}function De(s){U.current===s&&(w(P),w(U)),fe.current===s&&(w(fe),X0._currentValue=ge)}var ue,Ye;function R(s){if(ue===void 0)try{throw Error()}catch(d){var c=d.stack.trim().match(/\n( *(at )?)/);ue=c&&c[1]||"",Ye=-1<d.stack.indexOf(`
    at`)?" (<anonymous>)":-1<d.stack.indexOf("@")?"@unknown:0:0":""}return`
`+ue+s+Ye}var H=!1;function ne(s,c){if(!s||H)return"";H=!0;var d=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var p={DetermineComponentFrameRoot:function(){try{if(c){var vt=function(){throw Error()};if(Object.defineProperty(vt.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(vt,[])}catch(st){var at=st}Reflect.construct(s,[],vt)}else{try{vt.call()}catch(st){at=st}s.call(vt.prototype)}}else{try{throw Error()}catch(st){at=st}(vt=s())&&typeof vt.catch=="function"&&vt.catch(function(){})}}catch(st){if(st&&at&&typeof st.stack=="string")return[st.stack,at.stack]}return[null,null]}};p.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var C=Object.getOwnPropertyDescriptor(p.DetermineComponentFrameRoot,"name");C&&C.configurable&&Object.defineProperty(p.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var E=p.DetermineComponentFrameRoot(),Q=E[0],me=E[1];if(Q&&me){var Le=Q.split(`
`),nt=me.split(`
`);for(C=p=0;p<Le.length&&!Le[p].includes("DetermineComponentFrameRoot");)p++;for(;C<nt.length&&!nt[C].includes("DetermineComponentFrameRoot");)C++;if(p===Le.length||C===nt.length)for(p=Le.length-1,C=nt.length-1;1<=p&&0<=C&&Le[p]!==nt[C];)C--;for(;1<=p&&0<=C;p--,C--)if(Le[p]!==nt[C]){if(p!==1||C!==1)do if(p--,C--,0>C||Le[p]!==nt[C]){var ft=`
`+Le[p].replace(" at new "," at ");return s.displayName&&ft.includes("<anonymous>")&&(ft=ft.replace("<anonymous>",s.displayName)),ft}while(1<=p&&0<=C);break}}}finally{H=!1,Error.prepareStackTrace=d}return(d=s?s.displayName||s.name:"")?R(d):""}function G(s,c){switch(s.tag){case 26:case 27:case 5:return R(s.type);case 16:return R("Lazy");case 13:return s.child!==c&&c!==null?R("Suspense Fallback"):R("Suspense");case 19:return R("SuspenseList");case 0:case 15:return ne(s.type,!1);case 11:return ne(s.type.render,!1);case 1:return ne(s.type,!0);case 31:return R("Activity");default:return""}}function K(s){try{var c="",d=null;do c+=G(s,d),d=s,s=s.return;while(s);return c}catch(p){return`
Error generating stack: `+p.message+`
`+p.stack}}var le=Object.prototype.hasOwnProperty,Fe=r.unstable_scheduleCallback,je=r.unstable_cancelCallback,Oe=r.unstable_shouldYield,Ge=r.unstable_requestPaint,$e=r.unstable_now,rt=r.unstable_getCurrentPriorityLevel,it=r.unstable_ImmediatePriority,Tt=r.unstable_UserBlockingPriority,dt=r.unstable_NormalPriority,He=r.unstable_LowPriority,xt=r.unstable_IdlePriority,bt=r.log,Qt=r.unstable_setDisableYieldValue,Et=null,Rt=null;function Lt(s){if(typeof bt=="function"&&Qt(s),Rt&&typeof Rt.setStrictMode=="function")try{Rt.setStrictMode(Et,s)}catch{}}var zt=Math.clz32?Math.clz32:Ut,Mt=Math.log,hr=Math.LN2;function Ut(s){return s>>>=0,s===0?32:31-(Mt(s)/hr|0)|0}var Kt=256,St=262144,kt=4194304;function ht(s){var c=s&42;if(c!==0)return c;switch(s&-s){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:return 128;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:return s&261888;case 262144:case 524288:case 1048576:case 2097152:return s&3932160;case 4194304:case 8388608:case 16777216:case 33554432:return s&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return s}}function $t(s,c,d){var p=s.pendingLanes;if(p===0)return 0;var C=0,E=s.suspendedLanes,Q=s.pingedLanes;s=s.warmLanes;var me=p&134217727;return me!==0?(p=me&~E,p!==0?C=ht(p):(Q&=me,Q!==0?C=ht(Q):d||(d=me&~s,d!==0&&(C=ht(d))))):(me=p&~E,me!==0?C=ht(me):Q!==0?C=ht(Q):d||(d=p&~s,d!==0&&(C=ht(d)))),C===0?0:c!==0&&c!==C&&(c&E)===0&&(E=C&-C,d=c&-c,E>=d||E===32&&(d&4194048)!==0)?c:C}function Jr(s,c){return(s.pendingLanes&~(s.suspendedLanes&~s.pingedLanes)&c)===0}function Dr(s,c){switch(s){case 1:case 2:case 4:case 8:case 64:return c+250;case 16:case 32:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return c+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function bn(){var s=kt;return kt<<=1,(kt&62914560)===0&&(kt=4194304),s}function wn(s){for(var c=[],d=0;31>d;d++)c.push(s);return c}function jt(s,c){s.pendingLanes|=c,c!==268435456&&(s.suspendedLanes=0,s.pingedLanes=0,s.warmLanes=0)}function Vn(s,c,d,p,C,E){var Q=s.pendingLanes;s.pendingLanes=d,s.suspendedLanes=0,s.pingedLanes=0,s.warmLanes=0,s.expiredLanes&=d,s.entangledLanes&=d,s.errorRecoveryDisabledLanes&=d,s.shellSuspendCounter=0;var me=s.entanglements,Le=s.expirationTimes,nt=s.hiddenUpdates;for(d=Q&~d;0<d;){var ft=31-zt(d),vt=1<<ft;me[ft]=0,Le[ft]=-1;var at=nt[ft];if(at!==null)for(nt[ft]=null,ft=0;ft<at.length;ft++){var st=at[ft];st!==null&&(st.lane&=-536870913)}d&=~vt}p!==0&&da(s,p,0),E!==0&&C===0&&s.tag!==0&&(s.suspendedLanes|=E&~(Q&~c))}function da(s,c,d){s.pendingLanes|=c,s.suspendedLanes&=~c;var p=31-zt(c);s.entangledLanes|=c,s.entanglements[p]=s.entanglements[p]|1073741824|d&261930}function Ta(s,c){var d=s.entangledLanes|=c;for(s=s.entanglements;d;){var p=31-zt(d),C=1<<p;C&c|s[p]&c&&(s[p]|=c),d&=~C}}function $a(s,c){var d=c&-c;return d=(d&42)!==0?1:sn(d),(d&(s.suspendedLanes|c))!==0?0:d}function sn(s){switch(s){case 2:s=1;break;case 8:s=4;break;case 32:s=16;break;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:s=128;break;case 268435456:s=134217728;break;default:s=0}return s}function Dn(s){return s&=-s,2<s?8<s?(s&134217727)!==0?32:268435456:8:2}function he(){var s=J.p;return s!==0?s:(s=window.event,s===void 0?32:Cb(s.type))}function Ae(s,c){var d=J.p;try{return J.p=s,c()}finally{J.p=d}}var be=Math.random().toString(36).slice(2),we="__reactFiber$"+be,Se="__reactProps$"+be,Ne="__reactContainer$"+be,Xe="__reactEvents$"+be,ot="__reactListeners$"+be,Ze="__reactHandles$"+be,Je="__reactResources$"+be,et="__reactMarker$"+be;function _t(s){delete s[we],delete s[Se],delete s[Xe],delete s[ot],delete s[Ze]}function Nt(s){var c=s[we];if(c)return c;for(var d=s.parentNode;d;){if(c=d[Ne]||d[we]){if(d=c.alternate,c.child!==null||d!==null&&d.child!==null)for(s=cb(s);s!==null;){if(d=s[we])return d;s=cb(s)}return c}s=d,d=s.parentNode}return null}function Ft(s){if(s=s[we]||s[Ne]){var c=s.tag;if(c===5||c===6||c===13||c===31||c===26||c===27||c===3)return s}return null}function At(s){var c=s.tag;if(c===5||c===26||c===27||c===6)return s.stateNode;throw Error(n(33))}function Ot(s){var c=s[Je];return c||(c=s[Je]={hoistableStyles:new Map,hoistableScripts:new Map}),c}function Ht(s){s[et]=!0}var Xr=new Set,_r={};function Qr(s,c){Za(s,c),Za(s+"Capture",c)}function Za(s,c){for(_r[s]=c,s=0;s<c.length;s++)Xr.add(c[s])}var gs=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),ps={},Ni={};function rl(s){return le.call(Ni,s)?!0:le.call(ps,s)?!1:gs.test(s)?Ni[s]=!0:(ps[s]=!0,!1)}function _n(s,c,d){if(rl(c))if(d===null)s.removeAttribute(c);else{switch(typeof d){case"undefined":case"function":case"symbol":s.removeAttribute(c);return;case"boolean":var p=c.toLowerCase().slice(0,5);if(p!=="data-"&&p!=="aria-"){s.removeAttribute(c);return}}s.setAttribute(c,""+d)}}function ho(s,c,d){if(d===null)s.removeAttribute(c);else{switch(typeof d){case"undefined":case"function":case"symbol":case"boolean":s.removeAttribute(c);return}s.setAttribute(c,""+d)}}function ms(s,c,d,p){if(p===null)s.removeAttribute(d);else{switch(typeof p){case"undefined":case"function":case"symbol":case"boolean":s.removeAttribute(d);return}s.setAttributeNS(c,d,""+p)}}function zr(s){switch(typeof s){case"bigint":case"boolean":case"number":case"string":case"undefined":return s;case"object":return s;default:return""}}function Nu(s){var c=s.type;return(s=s.nodeName)&&s.toLowerCase()==="input"&&(c==="checkbox"||c==="radio")}function Bs(s,c,d){var p=Object.getOwnPropertyDescriptor(s.constructor.prototype,c);if(!s.hasOwnProperty(c)&&typeof p<"u"&&typeof p.get=="function"&&typeof p.set=="function"){var C=p.get,E=p.set;return Object.defineProperty(s,c,{configurable:!0,get:function(){return C.call(this)},set:function(Q){d=""+Q,E.call(this,Q)}}),Object.defineProperty(s,c,{enumerable:p.enumerable}),{getValue:function(){return d},setValue:function(Q){d=""+Q},stopTracking:function(){s._valueTracker=null,delete s[c]}}}}function nl(s){if(!s._valueTracker){var c=Nu(s)?"checked":"value";s._valueTracker=Bs(s,c,""+s[c])}}function Ou(s){if(!s)return!1;var c=s._valueTracker;if(!c)return!0;var d=c.getValue(),p="";return s&&(p=Nu(s)?s.checked?"true":"false":s.value),s=p,s!==d?(c.setValue(s),!0):!1}function Ja(s){if(s=s||(typeof document<"u"?document:void 0),typeof s>"u")return null;try{return s.activeElement||s.body}catch{return s.body}}var ra=/[\n"\\]/g;function Gn(s){return s.replace(ra,function(c){return"\\"+c.charCodeAt(0).toString(16)+" "})}function Nc(s,c,d,p,C,E,Q,me){s.name="",Q!=null&&typeof Q!="function"&&typeof Q!="symbol"&&typeof Q!="boolean"?s.type=Q:s.removeAttribute("type"),c!=null?Q==="number"?(c===0&&s.value===""||s.value!=c)&&(s.value=""+zr(c)):s.value!==""+zr(c)&&(s.value=""+zr(c)):Q!=="submit"&&Q!=="reset"||s.removeAttribute("value"),c!=null?Du(s,Q,zr(c)):d!=null?Du(s,Q,zr(d)):p!=null&&s.removeAttribute("value"),C==null&&E!=null&&(s.defaultChecked=!!E),C!=null&&(s.checked=C&&typeof C!="function"&&typeof C!="symbol"),me!=null&&typeof me!="function"&&typeof me!="symbol"&&typeof me!="boolean"?s.name=""+zr(me):s.removeAttribute("name")}function Mh(s,c,d,p,C,E,Q,me){if(E!=null&&typeof E!="function"&&typeof E!="symbol"&&typeof E!="boolean"&&(s.type=E),c!=null||d!=null){if(!(E!=="submit"&&E!=="reset"||c!=null)){nl(s);return}d=d!=null?""+zr(d):"",c=c!=null?""+zr(c):d,me||c===s.value||(s.value=c),s.defaultValue=c}p=p??C,p=typeof p!="function"&&typeof p!="symbol"&&!!p,s.checked=me?s.checked:!!p,s.defaultChecked=!!p,Q!=null&&typeof Q!="function"&&typeof Q!="symbol"&&typeof Q!="boolean"&&(s.name=Q),nl(s)}function Du(s,c,d){c==="number"&&Ja(s.ownerDocument)===s||s.defaultValue===""+d||(s.defaultValue=""+d)}function Qa(s,c,d,p){if(s=s.options,c){c={};for(var C=0;C<d.length;C++)c["$"+d[C]]=!0;for(d=0;d<s.length;d++)C=c.hasOwnProperty("$"+s[d].value),s[d].selected!==C&&(s[d].selected=C),C&&p&&(s[d].defaultSelected=!0)}else{for(d=""+zr(d),c=null,C=0;C<s.length;C++){if(s[C].value===d){s[C].selected=!0,p&&(s[C].defaultSelected=!0);return}c!==null||s[C].disabled||(c=s[C])}c!==null&&(c.selected=!0)}}function Lu(s,c,d){if(c!=null&&(c=""+zr(c),c!==s.value&&(s.value=c),d==null)){s.defaultValue!==c&&(s.defaultValue=c);return}s.defaultValue=d!=null?""+zr(d):""}function Fu(s,c,d,p){if(c==null){if(p!=null){if(d!=null)throw Error(n(92));if(re(p)){if(1<p.length)throw Error(n(93));p=p[0]}d=p}d==null&&(d=""),c=d}d=zr(c),s.defaultValue=d,p=s.textContent,p===d&&p!==""&&p!==null&&(s.value=p),nl(s)}function xs(s,c){if(c){var d=s.firstChild;if(d&&d===s.lastChild&&d.nodeType===3){d.nodeValue=c;return}}s.textContent=c}var Rl=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function jh(s,c,d){var p=c.indexOf("--")===0;d==null||typeof d=="boolean"||d===""?p?s.setProperty(c,""):c==="float"?s.cssFloat="":s[c]="":p?s.setProperty(c,d):typeof d!="number"||d===0||Rl.has(c)?c==="float"?s.cssFloat=d:s[c]=(""+d).trim():s[c]=d+"px"}function Rh(s,c,d){if(c!=null&&typeof c!="object")throw Error(n(62));if(s=s.style,d!=null){for(var p in d)!d.hasOwnProperty(p)||c!=null&&c.hasOwnProperty(p)||(p.indexOf("--")===0?s.setProperty(p,""):p==="float"?s.cssFloat="":s[p]="");for(var C in c)p=c[C],c.hasOwnProperty(C)&&d[C]!==p&&jh(s,C,p)}else for(var E in c)c.hasOwnProperty(E)&&jh(s,E,c[E])}function Mu(s){if(s.indexOf("-")===-1)return!1;switch(s){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var ju=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),Bh=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function hi(s){return Bh.test(""+s)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":s}function vs(){}var fo=null;function Bl(s){return s=s.target||s.srcElement||window,s.correspondingUseElement&&(s=s.correspondingUseElement),s.nodeType===3?s.parentNode:s}var al=null,ar=null;function Ph(s){var c=Ft(s);if(c&&(s=c.stateNode)){var d=s[Se]||null;e:switch(s=c.stateNode,c.type){case"input":if(Nc(s,d.value,d.defaultValue,d.defaultValue,d.checked,d.defaultChecked,d.type,d.name),c=d.name,d.type==="radio"&&c!=null){for(d=s;d.parentNode;)d=d.parentNode;for(d=d.querySelectorAll('input[name="'+Gn(""+c)+'"][type="radio"]'),c=0;c<d.length;c++){var p=d[c];if(p!==s&&p.form===s.form){var C=p[Se]||null;if(!C)throw Error(n(90));Nc(p,C.value,C.defaultValue,C.defaultValue,C.checked,C.defaultChecked,C.type,C.name)}}for(c=0;c<d.length;c++)p=d[c],p.form===s.form&&Ou(p)}break e;case"textarea":Lu(s,d.value,d.defaultValue);break e;case"select":c=d.value,c!=null&&Qa(s,!!d.multiple,c,!1)}}}var Ru=!1;function Ih(s,c,d){if(Ru)return s(c,d);Ru=!0;try{var p=s(c);return p}finally{if(Ru=!1,(al!==null||ar!==null)&&(T1(),al&&(c=al,s=ar,ar=al=null,Ph(c),s)))for(c=0;c<s.length;c++)Ph(s[c])}}function Oi(s,c){var d=s.stateNode;if(d===null)return null;var p=d[Se]||null;if(p===null)return null;d=p[c];e:switch(c){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(p=!p.disabled)||(s=s.type,p=!(s==="button"||s==="input"||s==="select"||s==="textarea")),s=!p;break e;default:s=!1}if(s)return null;if(d&&typeof d!="function")throw Error(n(231,c,typeof d));return d}var Aa=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),Bu=!1;if(Aa)try{var Pl={};Object.defineProperty(Pl,"passive",{get:function(){Bu=!0}}),window.addEventListener("test",Pl,Pl),window.removeEventListener("test",Pl,Pl)}catch{Bu=!1}var Di=null,Il=null,Ps=null;function Uh(){if(Ps)return Ps;var s,c=Il,d=c.length,p,C="value"in Di?Di.value:Di.textContent,E=C.length;for(s=0;s<d&&c[s]===C[s];s++);var Q=d-s;for(p=1;p<=Q&&c[d-p]===C[E-p];p++);return Ps=C.slice(s,1<p?1-p:void 0)}function Vi(s){var c=s.keyCode;return"charCode"in s?(s=s.charCode,s===0&&c===13&&(s=13)):s=c,s===10&&(s=13),32<=s||s===13?s:0}function Oc(){return!0}function Dc(){return!1}function ga(s){function c(d,p,C,E,Q){this._reactName=d,this._targetInst=C,this.type=p,this.nativeEvent=E,this.target=Q,this.currentTarget=null;for(var me in s)s.hasOwnProperty(me)&&(d=s[me],this[me]=d?d(E):E[me]);return this.isDefaultPrevented=(E.defaultPrevented!=null?E.defaultPrevented:E.returnValue===!1)?Oc:Dc,this.isPropagationStopped=Dc,this}return m(c.prototype,{preventDefault:function(){this.defaultPrevented=!0;var d=this.nativeEvent;d&&(d.preventDefault?d.preventDefault():typeof d.returnValue!="unknown"&&(d.returnValue=!1),this.isDefaultPrevented=Oc)},stopPropagation:function(){var d=this.nativeEvent;d&&(d.stopPropagation?d.stopPropagation():typeof d.cancelBubble!="unknown"&&(d.cancelBubble=!0),this.isPropagationStopped=Oc)},persist:function(){},isPersistent:Oc}),c}var Is={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(s){return s.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},Gi=ga(Is),go=m({},Is,{view:0,detail:0}),Lc=ga(go),Ul,po,mo,zl=m({},go,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:or,button:0,buttons:0,relatedTarget:function(s){return s.relatedTarget===void 0?s.fromElement===s.srcElement?s.toElement:s.fromElement:s.relatedTarget},movementX:function(s){return"movementX"in s?s.movementX:(s!==mo&&(mo&&s.type==="mousemove"?(Ul=s.screenX-mo.screenX,po=s.screenY-mo.screenY):po=Ul=0,mo=s),Ul)},movementY:function(s){return"movementY"in s?s.movementY:po}}),Pu=ga(zl),xo=m({},zl,{dataTransfer:0}),vo=ga(xo),zh=m({},go,{relatedTarget:0}),yo=ga(zh),Hh=m({},Is,{animationName:0,elapsedTime:0,pseudoElement:0}),M=ga(Hh),se=m({},Is,{clipboardData:function(s){return"clipboardData"in s?s.clipboardData:window.clipboardData}}),Ee=ga(se),Re=m({},Is,{data:0}),qe=ga(Re),gt={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},wt={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},Gt={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function Zt(s){var c=this.nativeEvent;return c.getModifierState?c.getModifierState(s):(s=Gt[s])?!!c[s]:!1}function or(){return Zt}var dr=m({},go,{key:function(s){if(s.key){var c=gt[s.key]||s.key;if(c!=="Unidentified")return c}return s.type==="keypress"?(s=Vi(s),s===13?"Enter":String.fromCharCode(s)):s.type==="keydown"||s.type==="keyup"?wt[s.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:or,charCode:function(s){return s.type==="keypress"?Vi(s):0},keyCode:function(s){return s.type==="keydown"||s.type==="keyup"?s.keyCode:0},which:function(s){return s.type==="keypress"?Vi(s):s.type==="keydown"||s.type==="keyup"?s.keyCode:0}}),Lr=ga(dr),Sn=m({},zl,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),Pn=ga(Sn),on=m({},go,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:or}),na=ga(on),Wn=m({},Is,{propertyName:0,elapsedTime:0,pseudoElement:0}),Ea=ga(Wn),bo=m({},zl,{deltaX:function(s){return"deltaX"in s?s.deltaX:"wheelDeltaX"in s?-s.wheelDeltaX:0},deltaY:function(s){return"deltaY"in s?s.deltaY:"wheelDeltaY"in s?-s.wheelDeltaY:"wheelDelta"in s?-s.wheelDelta:0},deltaZ:0,deltaMode:0}),ys=ga(bo),wo=m({},Is,{newState:0,oldState:0}),Iu=ga(wo),Fc=[9,13,27,32],Us=Aa&&"CompositionEvent"in window,bs=null;Aa&&"documentMode"in document&&(bs=document.documentMode);var Hl=Aa&&"TextEvent"in window&&!bs,_o=Aa&&(!Us||bs&&8<bs&&11>=bs),pa=" ",il=!1;function sl(s,c){switch(s){case"keyup":return Fc.indexOf(c.keyCode)!==-1;case"keydown":return c.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function Mc(s){return s=s.detail,typeof s=="object"&&"data"in s?s.data:null}var zs=!1;function ei(s,c){switch(s){case"compositionend":return Mc(c);case"keypress":return c.which!==32?null:(il=!0,pa);case"textInput":return s=c.data,s===pa&&il?null:s;default:return null}}function So(s,c){if(zs)return s==="compositionend"||!Us&&sl(s,c)?(s=Uh(),Ps=Il=Di=null,zs=!1,s):null;switch(s){case"paste":return null;case"keypress":if(!(c.ctrlKey||c.altKey||c.metaKey)||c.ctrlKey&&c.altKey){if(c.char&&1<c.char.length)return c.char;if(c.which)return String.fromCharCode(c.which)}return null;case"compositionend":return _o&&c.locale!=="ko"?null:c.data;default:return null}}var jc={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Uu(s){var c=s&&s.nodeName&&s.nodeName.toLowerCase();return c==="input"?!!jc[s.type]:c==="textarea"}function Li(s,c,d,p){al?ar?ar.push(p):ar=[p]:al=p,c=F1(c,"onChange"),0<c.length&&(d=new Gi("onChange","change",null,d,p),s.push({event:d,listeners:c}))}var ws=null,ko=null;function zu(s){K5(s,0)}function _s(s){var c=At(s);if(Ou(c))return s}function ol(s,c){if(s==="change")return c}var fi=!1;if(Aa){var ti;if(Aa){var Hs="oninput"in document;if(!Hs){var qs=document.createElement("div");qs.setAttribute("oninput","return;"),Hs=typeof qs.oninput=="function"}ti=Hs}else ti=!1;fi=ti&&(!document.documentMode||9<document.documentMode)}function Co(){ws&&(ws.detachEvent("onpropertychange",Rc),ko=ws=null)}function Rc(s){if(s.propertyName==="value"&&_s(ko)){var c=[];Li(c,ko,s,Bl(s)),Ih(zu,c)}}function Bc(s,c,d){s==="focusin"?(Co(),ws=c,ko=d,ws.attachEvent("onpropertychange",Rc)):s==="focusout"&&Co()}function In(s){if(s==="selectionchange"||s==="keyup"||s==="keydown")return _s(ko)}function qh(s,c){if(s==="click")return _s(c)}function Vs(s,c){if(s==="input"||s==="change")return _s(c)}function Gs(s,c){return s===c&&(s!==0||1/s===1/c)||s!==s&&c!==c}var Na=typeof Object.is=="function"?Object.is:Gs;function To(s,c){if(Na(s,c))return!0;if(typeof s!="object"||s===null||typeof c!="object"||c===null)return!1;var d=Object.keys(s),p=Object.keys(c);if(d.length!==p.length)return!1;for(p=0;p<d.length;p++){var C=d[p];if(!le.call(c,C)||!Na(s[C],c[C]))return!1}return!0}function Pc(s){for(;s&&s.firstChild;)s=s.firstChild;return s}function Ic(s,c){var d=Pc(s);s=0;for(var p;d;){if(d.nodeType===3){if(p=s+d.textContent.length,s<=c&&p>=c)return{node:d,offset:c-s};s=p}e:{for(;d;){if(d.nextSibling){d=d.nextSibling;break e}d=d.parentNode}d=void 0}d=Pc(d)}}function Ao(s,c){return s&&c?s===c?!0:s&&s.nodeType===3?!1:c&&c.nodeType===3?Ao(s,c.parentNode):"contains"in s?s.contains(c):s.compareDocumentPosition?!!(s.compareDocumentPosition(c)&16):!1:!1}function Eo(s){s=s!=null&&s.ownerDocument!=null&&s.ownerDocument.defaultView!=null?s.ownerDocument.defaultView:window;for(var c=Ja(s.document);c instanceof s.HTMLIFrameElement;){try{var d=typeof c.contentWindow.location.href=="string"}catch{d=!1}if(d)s=c.contentWindow;else break;c=Ja(s.document)}return c}function Ws(s){var c=s&&s.nodeName&&s.nodeName.toLowerCase();return c&&(c==="input"&&(s.type==="text"||s.type==="search"||s.type==="tel"||s.type==="url"||s.type==="password")||c==="textarea"||s.contentEditable==="true")}var ql=Aa&&"documentMode"in document&&11>=document.documentMode,Fi=null,No=null,za=null,Wi=!1;function Hr(s,c,d){var p=d.window===d?d.document:d.nodeType===9?d:d.ownerDocument;Wi||Fi==null||Fi!==Ja(p)||(p=Fi,"selectionStart"in p&&Ws(p)?p={start:p.selectionStart,end:p.selectionEnd}:(p=(p.ownerDocument&&p.ownerDocument.defaultView||window).getSelection(),p={anchorNode:p.anchorNode,anchorOffset:p.anchorOffset,focusNode:p.focusNode,focusOffset:p.focusOffset}),za&&To(za,p)||(za=p,p=F1(No,"onSelect"),0<p.length&&(c=new Gi("onSelect","select",null,c,d),s.push({event:c,listeners:p}),c.target=Fi)))}function Fr(s,c){var d={};return d[s.toLowerCase()]=c.toLowerCase(),d["Webkit"+s]="webkit"+c,d["Moz"+s]="moz"+c,d}var ln={animationend:Fr("Animation","AnimationEnd"),animationiteration:Fr("Animation","AnimationIteration"),animationstart:Fr("Animation","AnimationStart"),transitionrun:Fr("Transition","TransitionRun"),transitionstart:Fr("Transition","TransitionStart"),transitioncancel:Fr("Transition","TransitionCancel"),transitionend:Fr("Transition","TransitionEnd")},Un={},Ys={};Aa&&(Ys=document.createElement("div").style,"AnimationEvent"in window||(delete ln.animationend.animation,delete ln.animationiteration.animation,delete ln.animationstart.animation),"TransitionEvent"in window||delete ln.transitionend.transition);function Ss(s){if(Un[s])return Un[s];if(!ln[s])return s;var c=ln[s],d;for(d in c)if(c.hasOwnProperty(d)&&d in Ys)return Un[s]=c[d];return s}var Vl=Ss("animationend"),Hu=Ss("animationiteration"),x0=Ss("animationstart"),r1=Ss("transitionrun"),n1=Ss("transitionstart"),a1=Ss("transitioncancel"),v0=Ss("transitionend"),y0=new Map,Gl="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");Gl.push("scrollEnd");function Yi(s,c){y0.set(s,c),Qr(c,[s])}var qu=typeof reportError=="function"?reportError:function(s){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var c=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof s=="object"&&s!==null&&typeof s.message=="string"?String(s.message):String(s),error:s});if(!window.dispatchEvent(c))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",s);return}console.error(s)},Mi=[],Wl=0,Vh=0;function Vu(){for(var s=Wl,c=Vh=Wl=0;c<s;){var d=Mi[c];Mi[c++]=null;var p=Mi[c];Mi[c++]=null;var C=Mi[c];Mi[c++]=null;var E=Mi[c];if(Mi[c++]=null,p!==null&&C!==null){var Q=p.pending;Q===null?C.next=C:(C.next=Q.next,Q.next=C),p.pending=C}E!==0&&Wu(d,C,E)}}function Gu(s,c,d,p){Mi[Wl++]=s,Mi[Wl++]=c,Mi[Wl++]=d,Mi[Wl++]=p,Vh|=p,s.lanes|=p,s=s.alternate,s!==null&&(s.lanes|=p)}function Gh(s,c,d,p){return Gu(s,c,d,p),Ha(s)}function Oo(s,c){return Gu(s,null,null,c),Ha(s)}function Wu(s,c,d){s.lanes|=d;var p=s.alternate;p!==null&&(p.lanes|=d);for(var C=!1,E=s.return;E!==null;)E.childLanes|=d,p=E.alternate,p!==null&&(p.childLanes|=d),E.tag===22&&(s=E.stateNode,s===null||s._visibility&1||(C=!0)),s=E,E=E.return;return s.tag===3?(E=s.stateNode,C&&c!==null&&(C=31-zt(d),s=E.hiddenUpdates,p=s[C],p===null?s[C]=[c]:p.push(c),c.lane=d|536870912),E):null}function Ha(s){if(50<z0)throw z0=0,Bm=null,Error(n(185));for(var c=s.return;c!==null;)s=c,c=s.return;return s.tag===3?s.stateNode:null}var Oa={};function Wh(s,c,d,p){this.tag=s,this.key=d,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=c,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=p,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function qa(s,c,d,p){return new Wh(s,c,d,p)}function Yh(s){return s=s.prototype,!(!s||!s.isReactComponent)}function Xi(s,c){var d=s.alternate;return d===null?(d=qa(s.tag,c,s.key,s.mode),d.elementType=s.elementType,d.type=s.type,d.stateNode=s.stateNode,d.alternate=s,s.alternate=d):(d.pendingProps=c,d.type=s.type,d.flags=0,d.subtreeFlags=0,d.deletions=null),d.flags=s.flags&65011712,d.childLanes=s.childLanes,d.lanes=s.lanes,d.child=s.child,d.memoizedProps=s.memoizedProps,d.memoizedState=s.memoizedState,d.updateQueue=s.updateQueue,c=s.dependencies,d.dependencies=c===null?null:{lanes:c.lanes,firstContext:c.firstContext},d.sibling=s.sibling,d.index=s.index,d.ref=s.ref,d.refCleanup=s.refCleanup,d}function Yu(s,c){s.flags&=65011714;var d=s.alternate;return d===null?(s.childLanes=0,s.lanes=c,s.child=null,s.subtreeFlags=0,s.memoizedProps=null,s.memoizedState=null,s.updateQueue=null,s.dependencies=null,s.stateNode=null):(s.childLanes=d.childLanes,s.lanes=d.lanes,s.child=d.child,s.subtreeFlags=0,s.deletions=null,s.memoizedProps=d.memoizedProps,s.memoizedState=d.memoizedState,s.updateQueue=d.updateQueue,s.type=d.type,c=d.dependencies,s.dependencies=c===null?null:{lanes:c.lanes,firstContext:c.firstContext}),s}function Uc(s,c,d,p,C,E){var Q=0;if(p=s,typeof s=="function")Yh(s)&&(Q=1);else if(typeof s=="string")Q=dT(s,d,P.current)?26:s==="html"||s==="head"||s==="body"?27:5;else e:switch(s){case D:return s=qa(31,d,c,C),s.elementType=D,s.lanes=E,s;case v:return ll(d.children,C,E,c);case S:Q=8,C|=24;break;case k:return s=qa(12,d,c,C|2),s.elementType=k,s.lanes=E,s;case W:return s=qa(13,d,c,C),s.elementType=W,s.lanes=E,s;case ee:return s=qa(19,d,c,C),s.elementType=ee,s.lanes=E,s;default:if(typeof s=="object"&&s!==null)switch(s.$$typeof){case N:Q=10;break e;case A:Q=9;break e;case j:Q=11;break e;case z:Q=14;break e;case B:Q=16,p=null;break e}Q=29,d=Error(n(130,s===null?"null":typeof s,"")),p=null}return c=qa(Q,d,c,C),c.elementType=s,c.type=p,c.lanes=E,c}function ll(s,c,d,p){return s=qa(7,s,p,c),s.lanes=d,s}function Xu(s,c,d){return s=qa(6,s,null,c),s.lanes=d,s}function Xh(s){var c=qa(18,null,null,0);return c.stateNode=s,c}function zc(s,c,d){return c=qa(4,s.children!==null?s.children:[],s.key,c),c.lanes=d,c.stateNode={containerInfo:s.containerInfo,pendingChildren:null,implementation:s.implementation},c}var Kh=new WeakMap;function Ki(s,c){if(typeof s=="object"&&s!==null){var d=Kh.get(s);return d!==void 0?d:(c={value:s,source:c,stack:K(c)},Kh.set(s,c),c)}return{value:s,source:c,stack:K(c)}}var Hc=[],Yl=0,$h=null,Ku=0,$i=[],Zi=0,cl=null,Ji=1,Qi="";function ji(s,c){Hc[Yl++]=Ku,Hc[Yl++]=$h,$h=s,Ku=c}function i1(s,c,d){$i[Zi++]=Ji,$i[Zi++]=Qi,$i[Zi++]=cl,cl=s;var p=Ji;s=Qi;var C=32-zt(p)-1;p&=~(1<<C),d+=1;var E=32-zt(c)+C;if(30<E){var Q=C-C%5;E=(p&(1<<Q)-1).toString(32),p>>=Q,C-=Q,Ji=1<<32-zt(c)+C|d<<C|p,Qi=E+s}else Ji=1<<E|d<<C|p,Qi=s}function b0(s){s.return!==null&&(ji(s,1),i1(s,1,0))}function Zh(s){for(;s===$h;)$h=Hc[--Yl],Hc[Yl]=null,Ku=Hc[--Yl],Hc[Yl]=null;for(;s===cl;)cl=$i[--Zi],$i[Zi]=null,Qi=$i[--Zi],$i[Zi]=null,Ji=$i[--Zi],$i[Zi]=null}function s1(s,c){$i[Zi++]=Ji,$i[Zi++]=Qi,$i[Zi++]=cl,Ji=c.id,Qi=c.overflow,cl=s}var Da=null,dn=null,Cr=!1,ri=null,Ln=!1,ks=Error(n(519));function ul(s){var c=Error(n(418,1<arguments.length&&arguments[1]!==void 0&&arguments[1]?"text":"HTML",""));throw qc(Ki(c,s)),ks}function w0(s){var c=s.stateNode,d=s.type,p=s.memoizedProps;switch(c[we]=s,c[Se]=p,d){case"dialog":Ar("cancel",c),Ar("close",c);break;case"iframe":case"object":case"embed":Ar("load",c);break;case"video":case"audio":for(d=0;d<q0.length;d++)Ar(q0[d],c);break;case"source":Ar("error",c);break;case"img":case"image":case"link":Ar("error",c),Ar("load",c);break;case"details":Ar("toggle",c);break;case"input":Ar("invalid",c),Mh(c,p.value,p.defaultValue,p.checked,p.defaultChecked,p.type,p.name,!0);break;case"select":Ar("invalid",c);break;case"textarea":Ar("invalid",c),Fu(c,p.value,p.defaultValue,p.children)}d=p.children,typeof d!="string"&&typeof d!="number"&&typeof d!="bigint"||c.textContent===""+d||p.suppressHydrationWarning===!0||Q5(c.textContent,d)?(p.popover!=null&&(Ar("beforetoggle",c),Ar("toggle",c)),p.onScroll!=null&&Ar("scroll",c),p.onScrollEnd!=null&&Ar("scrollend",c),p.onClick!=null&&(c.onclick=vs),c=!0):c=!1,c||ul(s,!0)}function Do(s){for(Da=s.return;Da;)switch(Da.tag){case 5:case 31:case 13:Ln=!1;return;case 27:case 3:Ln=!0;return;default:Da=Da.return}}function La(s){if(s!==Da)return!1;if(!Cr)return Do(s),Cr=!0,!1;var c=s.tag,d;if((d=c!==3&&c!==27)&&((d=c===5)&&(d=s.type,d=!(d!=="form"&&d!=="button")||Jm(s.type,s.memoizedProps)),d=!d),d&&dn&&ul(s),Do(s),c===13){if(s=s.memoizedState,s=s!==null?s.dehydrated:null,!s)throw Error(n(317));dn=lb(s)}else if(c===31){if(s=s.memoizedState,s=s!==null?s.dehydrated:null,!s)throw Error(n(317));dn=lb(s)}else c===27?(c=dn,nu(s.type)?(s=n2,n2=null,dn=s):dn=c):dn=Da?Zs(s.stateNode.nextSibling):null;return!0}function Xl(){dn=Da=null,Cr=!1}function _0(){var s=ri;return s!==null&&(is===null?is=s:is.push.apply(is,s),ri=null),s}function qc(s){ri===null?ri=[s]:ri.push(s)}var Jh=Y(null),hl=null,Xs=null;function fl(s,c,d){L(Jh,c._currentValue),c._currentValue=d}function es(s){s._currentValue=Jh.current,w(Jh)}function Vc(s,c,d){for(;s!==null;){var p=s.alternate;if((s.childLanes&c)!==c?(s.childLanes|=c,p!==null&&(p.childLanes|=c)):p!==null&&(p.childLanes&c)!==c&&(p.childLanes|=c),s===d)break;s=s.return}}function Kl(s,c,d,p){var C=s.child;for(C!==null&&(C.return=s);C!==null;){var E=C.dependencies;if(E!==null){var Q=C.child;E=E.firstContext;e:for(;E!==null;){var me=E;E=C;for(var Le=0;Le<c.length;Le++)if(me.context===c[Le]){E.lanes|=d,me=E.alternate,me!==null&&(me.lanes|=d),Vc(E.return,d,s),p||(Q=null);break e}E=me.next}}else if(C.tag===18){if(Q=C.return,Q===null)throw Error(n(341));Q.lanes|=d,E=Q.alternate,E!==null&&(E.lanes|=d),Vc(Q,d,s),Q=null}else Q=C.child;if(Q!==null)Q.return=C;else for(Q=C;Q!==null;){if(Q===s){Q=null;break}if(C=Q.sibling,C!==null){C.return=Q.return,Q=C;break}Q=Q.return}C=Q}}function dl(s,c,d,p){s=null;for(var C=c,E=!1;C!==null;){if(!E){if((C.flags&524288)!==0)E=!0;else if((C.flags&262144)!==0)break}if(C.tag===10){var Q=C.alternate;if(Q===null)throw Error(n(387));if(Q=Q.memoizedProps,Q!==null){var me=C.type;Na(C.pendingProps.value,Q.value)||(s!==null?s.push(me):s=[me])}}else if(C===fe.current){if(Q=C.alternate,Q===null)throw Error(n(387));Q.memoizedState.memoizedState!==C.memoizedState.memoizedState&&(s!==null?s.push(X0):s=[X0])}C=C.return}s!==null&&Kl(c,s,d,p),c.flags|=262144}function Qh(s){for(s=s.firstContext;s!==null;){if(!Na(s.context._currentValue,s.memoizedValue))return!0;s=s.next}return!1}function gl(s){hl=s,Xs=null,s=s.dependencies,s!==null&&(s.firstContext=null)}function Fa(s){return o1(hl,s)}function ef(s,c){return hl===null&&gl(s),o1(s,c)}function o1(s,c){var d=c._currentValue;if(c={context:c,memoizedValue:d,next:null},Xs===null){if(s===null)throw Error(n(308));Xs=c,s.dependencies={lanes:0,firstContext:c},s.flags|=524288}else Xs=Xs.next=c;return d}var rm=typeof AbortController<"u"?AbortController:function(){var s=[],c=this.signal={aborted:!1,addEventListener:function(d,p){s.push(p)}};this.abort=function(){c.aborted=!0,s.forEach(function(d){return d()})}},nm=r.unstable_scheduleCallback,am=r.unstable_NormalPriority,zn={$$typeof:N,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function Gc(){return{controller:new rm,data:new Map,refCount:0}}function $u(s){s.refCount--,s.refCount===0&&nm(am,function(){s.controller.abort()})}var Zu=null,tf=0,b=0,T=null;function I(s,c){if(Zu===null){var d=Zu=[];tf=0,b=qm(),T={status:"pending",value:void 0,then:function(p){d.push(p)}}}return tf++,c.then(X,X),c}function X(){if(--tf===0&&Zu!==null){T!==null&&(T.status="fulfilled");var s=Zu;Zu=null,b=0,T=null;for(var c=0;c<s.length;c++)(0,s[c])()}}function oe(s,c){var d=[],p={status:"pending",value:null,reason:null,then:function(C){d.push(C)}};return s.then(function(){p.status="fulfilled",p.value=c;for(var C=0;C<d.length;C++)(0,d[C])(c)},function(C){for(p.status="rejected",p.reason=C,C=0;C<d.length;C++)(0,d[C])(void 0)}),p}var de=ae.S;ae.S=function(s,c){S5=$e(),typeof c=="object"&&c!==null&&typeof c.then=="function"&&I(s,c),de!==null&&de(s,c)};var pe=Y(null);function ye(){var s=pe.current;return s!==null?s:pn.pooledCache}function _e(s,c){c===null?L(pe,pe.current):L(pe,c.pool)}function Te(){var s=ye();return s===null?null:{parent:zn._currentValue,pool:s}}var Be=Error(n(460)),Qe=Error(n(474)),Ce=Error(n(542)),Ue={then:function(){}};function We(s){return s=s.status,s==="fulfilled"||s==="rejected"}function ut(s,c,d){switch(d=s[d],d===void 0?s.push(c):d!==c&&(c.then(vs,vs),c=d),c.status){case"fulfilled":return c.value;case"rejected":throw s=c.reason,Ct(s),s;default:if(typeof c.status=="string")c.then(vs,vs);else{if(s=pn,s!==null&&100<s.shellSuspendCounter)throw Error(n(482));s=c,s.status="pending",s.then(function(p){if(c.status==="pending"){var C=c;C.status="fulfilled",C.value=p}},function(p){if(c.status==="pending"){var C=c;C.status="rejected",C.reason=p}})}switch(c.status){case"fulfilled":return c.value;case"rejected":throw s=c.reason,Ct(s),s}throw lt=c,Be}}function Ke(s){try{var c=s._init;return c(s._payload)}catch(d){throw d!==null&&typeof d=="object"&&typeof d.then=="function"?(lt=d,Be):d}}var lt=null;function pt(){if(lt===null)throw Error(n(459));var s=lt;return lt=null,s}function Ct(s){if(s===Be||s===Ce)throw Error(n(483))}var yt=null,Yt=0;function Pt(s){var c=Yt;return Yt+=1,yt===null&&(yt=[]),ut(yt,s,c)}function cr(s,c){c=c.props.ref,s.ref=c!==void 0?c:null}function Vt(s,c){throw c.$$typeof===x?Error(n(525)):(s=Object.prototype.toString.call(c),Error(n(31,s==="[object Object]"?"object with keys {"+Object.keys(c).join(", ")+"}":s)))}function kr(s){function c(Ve,Pe){if(s){var tt=Ve.deletions;tt===null?(Ve.deletions=[Pe],Ve.flags|=16):tt.push(Pe)}}function d(Ve,Pe){if(!s)return null;for(;Pe!==null;)c(Ve,Pe),Pe=Pe.sibling;return null}function p(Ve){for(var Pe=new Map;Ve!==null;)Ve.key!==null?Pe.set(Ve.key,Ve):Pe.set(Ve.index,Ve),Ve=Ve.sibling;return Pe}function C(Ve,Pe){return Ve=Xi(Ve,Pe),Ve.index=0,Ve.sibling=null,Ve}function E(Ve,Pe,tt){return Ve.index=tt,s?(tt=Ve.alternate,tt!==null?(tt=tt.index,tt<Pe?(Ve.flags|=67108866,Pe):tt):(Ve.flags|=67108866,Pe)):(Ve.flags|=1048576,Pe)}function Q(Ve){return s&&Ve.alternate===null&&(Ve.flags|=67108866),Ve}function me(Ve,Pe,tt,mt){return Pe===null||Pe.tag!==6?(Pe=Xu(tt,Ve.mode,mt),Pe.return=Ve,Pe):(Pe=C(Pe,tt),Pe.return=Ve,Pe)}function Le(Ve,Pe,tt,mt){var nr=tt.type;return nr===v?ft(Ve,Pe,tt.props.children,mt,tt.key):Pe!==null&&(Pe.elementType===nr||typeof nr=="object"&&nr!==null&&nr.$$typeof===B&&Ke(nr)===Pe.type)?(Pe=C(Pe,tt.props),cr(Pe,tt),Pe.return=Ve,Pe):(Pe=Uc(tt.type,tt.key,tt.props,null,Ve.mode,mt),cr(Pe,tt),Pe.return=Ve,Pe)}function nt(Ve,Pe,tt,mt){return Pe===null||Pe.tag!==4||Pe.stateNode.containerInfo!==tt.containerInfo||Pe.stateNode.implementation!==tt.implementation?(Pe=zc(tt,Ve.mode,mt),Pe.return=Ve,Pe):(Pe=C(Pe,tt.children||[]),Pe.return=Ve,Pe)}function ft(Ve,Pe,tt,mt,nr){return Pe===null||Pe.tag!==7?(Pe=ll(tt,Ve.mode,mt,nr),Pe.return=Ve,Pe):(Pe=C(Pe,tt),Pe.return=Ve,Pe)}function vt(Ve,Pe,tt){if(typeof Pe=="string"&&Pe!==""||typeof Pe=="number"||typeof Pe=="bigint")return Pe=Xu(""+Pe,Ve.mode,tt),Pe.return=Ve,Pe;if(typeof Pe=="object"&&Pe!==null){switch(Pe.$$typeof){case g:return tt=Uc(Pe.type,Pe.key,Pe.props,null,Ve.mode,tt),cr(tt,Pe),tt.return=Ve,tt;case y:return Pe=zc(Pe,Ve.mode,tt),Pe.return=Ve,Pe;case B:return Pe=Ke(Pe),vt(Ve,Pe,tt)}if(re(Pe)||O(Pe))return Pe=ll(Pe,Ve.mode,tt,null),Pe.return=Ve,Pe;if(typeof Pe.then=="function")return vt(Ve,Pt(Pe),tt);if(Pe.$$typeof===N)return vt(Ve,ef(Ve,Pe),tt);Vt(Ve,Pe)}return null}function at(Ve,Pe,tt,mt){var nr=Pe!==null?Pe.key:null;if(typeof tt=="string"&&tt!==""||typeof tt=="number"||typeof tt=="bigint")return nr!==null?null:me(Ve,Pe,""+tt,mt);if(typeof tt=="object"&&tt!==null){switch(tt.$$typeof){case g:return tt.key===nr?Le(Ve,Pe,tt,mt):null;case y:return tt.key===nr?nt(Ve,Pe,tt,mt):null;case B:return tt=Ke(tt),at(Ve,Pe,tt,mt)}if(re(tt)||O(tt))return nr!==null?null:ft(Ve,Pe,tt,mt,null);if(typeof tt.then=="function")return at(Ve,Pe,Pt(tt),mt);if(tt.$$typeof===N)return at(Ve,Pe,ef(Ve,tt),mt);Vt(Ve,tt)}return null}function st(Ve,Pe,tt,mt,nr){if(typeof mt=="string"&&mt!==""||typeof mt=="number"||typeof mt=="bigint")return Ve=Ve.get(tt)||null,me(Pe,Ve,""+mt,nr);if(typeof mt=="object"&&mt!==null){switch(mt.$$typeof){case g:return Ve=Ve.get(mt.key===null?tt:mt.key)||null,Le(Pe,Ve,mt,nr);case y:return Ve=Ve.get(mt.key===null?tt:mt.key)||null,nt(Pe,Ve,mt,nr);case B:return mt=Ke(mt),st(Ve,Pe,tt,mt,nr)}if(re(mt)||O(mt))return Ve=Ve.get(tt)||null,ft(Pe,Ve,mt,nr,null);if(typeof mt.then=="function")return st(Ve,Pe,tt,Pt(mt),nr);if(mt.$$typeof===N)return st(Ve,Pe,tt,ef(Pe,mt),nr);Vt(Pe,mt)}return null}function Wt(Ve,Pe,tt,mt){for(var nr=null,Wr=null,Jt=Pe,br=Pe=0,Nr=null;Jt!==null&&br<tt.length;br++){Jt.index>br?(Nr=Jt,Jt=null):Nr=Jt.sibling;var Yr=at(Ve,Jt,tt[br],mt);if(Yr===null){Jt===null&&(Jt=Nr);break}s&&Jt&&Yr.alternate===null&&c(Ve,Jt),Pe=E(Yr,Pe,br),Wr===null?nr=Yr:Wr.sibling=Yr,Wr=Yr,Jt=Nr}if(br===tt.length)return d(Ve,Jt),Cr&&ji(Ve,br),nr;if(Jt===null){for(;br<tt.length;br++)Jt=vt(Ve,tt[br],mt),Jt!==null&&(Pe=E(Jt,Pe,br),Wr===null?nr=Jt:Wr.sibling=Jt,Wr=Jt);return Cr&&ji(Ve,br),nr}for(Jt=p(Jt);br<tt.length;br++)Nr=st(Jt,Ve,br,tt[br],mt),Nr!==null&&(s&&Nr.alternate!==null&&Jt.delete(Nr.key===null?br:Nr.key),Pe=E(Nr,Pe,br),Wr===null?nr=Nr:Wr.sibling=Nr,Wr=Nr);return s&&Jt.forEach(function(lu){return c(Ve,lu)}),Cr&&ji(Ve,br),nr}function sr(Ve,Pe,tt,mt){if(tt==null)throw Error(n(151));for(var nr=null,Wr=null,Jt=Pe,br=Pe=0,Nr=null,Yr=tt.next();Jt!==null&&!Yr.done;br++,Yr=tt.next()){Jt.index>br?(Nr=Jt,Jt=null):Nr=Jt.sibling;var lu=at(Ve,Jt,Yr.value,mt);if(lu===null){Jt===null&&(Jt=Nr);break}s&&Jt&&lu.alternate===null&&c(Ve,Jt),Pe=E(lu,Pe,br),Wr===null?nr=lu:Wr.sibling=lu,Wr=lu,Jt=Nr}if(Yr.done)return d(Ve,Jt),Cr&&ji(Ve,br),nr;if(Jt===null){for(;!Yr.done;br++,Yr=tt.next())Yr=vt(Ve,Yr.value,mt),Yr!==null&&(Pe=E(Yr,Pe,br),Wr===null?nr=Yr:Wr.sibling=Yr,Wr=Yr);return Cr&&ji(Ve,br),nr}for(Jt=p(Jt);!Yr.done;br++,Yr=tt.next())Yr=st(Jt,Ve,br,Yr.value,mt),Yr!==null&&(s&&Yr.alternate!==null&&Jt.delete(Yr.key===null?br:Yr.key),Pe=E(Yr,Pe,br),Wr===null?nr=Yr:Wr.sibling=Yr,Wr=Yr);return s&&Jt.forEach(function(kT){return c(Ve,kT)}),Cr&&ji(Ve,br),nr}function fn(Ve,Pe,tt,mt){if(typeof tt=="object"&&tt!==null&&tt.type===v&&tt.key===null&&(tt=tt.props.children),typeof tt=="object"&&tt!==null){switch(tt.$$typeof){case g:e:{for(var nr=tt.key;Pe!==null;){if(Pe.key===nr){if(nr=tt.type,nr===v){if(Pe.tag===7){d(Ve,Pe.sibling),mt=C(Pe,tt.props.children),mt.return=Ve,Ve=mt;break e}}else if(Pe.elementType===nr||typeof nr=="object"&&nr!==null&&nr.$$typeof===B&&Ke(nr)===Pe.type){d(Ve,Pe.sibling),mt=C(Pe,tt.props),cr(mt,tt),mt.return=Ve,Ve=mt;break e}d(Ve,Pe);break}else c(Ve,Pe);Pe=Pe.sibling}tt.type===v?(mt=ll(tt.props.children,Ve.mode,mt,tt.key),mt.return=Ve,Ve=mt):(mt=Uc(tt.type,tt.key,tt.props,null,Ve.mode,mt),cr(mt,tt),mt.return=Ve,Ve=mt)}return Q(Ve);case y:e:{for(nr=tt.key;Pe!==null;){if(Pe.key===nr)if(Pe.tag===4&&Pe.stateNode.containerInfo===tt.containerInfo&&Pe.stateNode.implementation===tt.implementation){d(Ve,Pe.sibling),mt=C(Pe,tt.children||[]),mt.return=Ve,Ve=mt;break e}else{d(Ve,Pe);break}else c(Ve,Pe);Pe=Pe.sibling}mt=zc(tt,Ve.mode,mt),mt.return=Ve,Ve=mt}return Q(Ve);case B:return tt=Ke(tt),fn(Ve,Pe,tt,mt)}if(re(tt))return Wt(Ve,Pe,tt,mt);if(O(tt)){if(nr=O(tt),typeof nr!="function")throw Error(n(150));return tt=nr.call(tt),sr(Ve,Pe,tt,mt)}if(typeof tt.then=="function")return fn(Ve,Pe,Pt(tt),mt);if(tt.$$typeof===N)return fn(Ve,Pe,ef(Ve,tt),mt);Vt(Ve,tt)}return typeof tt=="string"&&tt!==""||typeof tt=="number"||typeof tt=="bigint"?(tt=""+tt,Pe!==null&&Pe.tag===6?(d(Ve,Pe.sibling),mt=C(Pe,tt),mt.return=Ve,Ve=mt):(d(Ve,Pe),mt=Xu(tt,Ve.mode,mt),mt.return=Ve,Ve=mt),Q(Ve)):d(Ve,Pe)}return function(Ve,Pe,tt,mt){try{Yt=0;var nr=fn(Ve,Pe,tt,mt);return yt=null,nr}catch(Jt){if(Jt===Be||Jt===Ce)throw Jt;var Wr=qa(29,Jt,null,Ve.mode);return Wr.lanes=mt,Wr.return=Ve,Wr}finally{}}}var gn=kr(!0),gr=kr(!1),It=!1;function Dt(s){s.updateQueue={baseState:s.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function kn(s,c){s=s.updateQueue,c.updateQueue===s&&(c.updateQueue={baseState:s.baseState,firstBaseUpdate:s.firstBaseUpdate,lastBaseUpdate:s.lastBaseUpdate,shared:s.shared,callbacks:null})}function ir(s){return{lane:s,tag:0,payload:null,callback:null,next:null}}function vr(s,c,d){var p=s.updateQueue;if(p===null)return null;if(p=p.shared,(Zr&2)!==0){var C=p.pending;return C===null?c.next=c:(c.next=C.next,C.next=c),p.pending=c,c=Ha(s),Wu(s,null,d),c}return Gu(s,p,c,d),Ha(s)}function Kr(s,c,d){if(c=c.updateQueue,c!==null&&(c=c.shared,(d&4194048)!==0)){var p=c.lanes;p&=s.pendingLanes,d|=p,c.lanes=d,Ta(s,d)}}function aa(s,c){var d=s.updateQueue,p=s.alternate;if(p!==null&&(p=p.updateQueue,d===p)){var C=null,E=null;if(d=d.firstBaseUpdate,d!==null){do{var Q={lane:d.lane,tag:d.tag,payload:d.payload,callback:null,next:null};E===null?C=E=Q:E=E.next=Q,d=d.next}while(d!==null);E===null?C=E=c:E=E.next=c}else C=E=c;d={baseState:p.baseState,firstBaseUpdate:C,lastBaseUpdate:E,shared:p.shared,callbacks:p.callbacks},s.updateQueue=d;return}s=d.lastBaseUpdate,s===null?d.firstBaseUpdate=c:s.next=c,d.lastBaseUpdate=c}var Ma=!1;function cn(){if(Ma){var s=T;if(s!==null)throw s}}function Yn(s,c,d,p){Ma=!1;var C=s.updateQueue;It=!1;var E=C.firstBaseUpdate,Q=C.lastBaseUpdate,me=C.shared.pending;if(me!==null){C.shared.pending=null;var Le=me,nt=Le.next;Le.next=null,Q===null?E=nt:Q.next=nt,Q=Le;var ft=s.alternate;ft!==null&&(ft=ft.updateQueue,me=ft.lastBaseUpdate,me!==Q&&(me===null?ft.firstBaseUpdate=nt:me.next=nt,ft.lastBaseUpdate=Le))}if(E!==null){var vt=C.baseState;Q=0,ft=nt=Le=null,me=E;do{var at=me.lane&-536870913,st=at!==me.lane;if(st?(Er&at)===at:(p&at)===at){at!==0&&at===b&&(Ma=!0),ft!==null&&(ft=ft.next={lane:0,tag:me.tag,payload:me.payload,callback:null,next:null});e:{var Wt=s,sr=me;at=c;var fn=d;switch(sr.tag){case 1:if(Wt=sr.payload,typeof Wt=="function"){vt=Wt.call(fn,vt,at);break e}vt=Wt;break e;case 3:Wt.flags=Wt.flags&-65537|128;case 0:if(Wt=sr.payload,at=typeof Wt=="function"?Wt.call(fn,vt,at):Wt,at==null)break e;vt=m({},vt,at);break e;case 2:It=!0}}at=me.callback,at!==null&&(s.flags|=64,st&&(s.flags|=8192),st=C.callbacks,st===null?C.callbacks=[at]:st.push(at))}else st={lane:at,tag:me.tag,payload:me.payload,callback:me.callback,next:null},ft===null?(nt=ft=st,Le=vt):ft=ft.next=st,Q|=at;if(me=me.next,me===null){if(me=C.shared.pending,me===null)break;st=me,me=st.next,st.next=null,C.lastBaseUpdate=st,C.shared.pending=null}}while(!0);ft===null&&(Le=vt),C.baseState=Le,C.firstBaseUpdate=nt,C.lastBaseUpdate=ft,E===null&&(C.shared.lanes=0),Jc|=Q,s.lanes=Q,s.memoizedState=vt}}function Va(s,c){if(typeof s!="function")throw Error(n(191,s));s.call(c)}function Xn(s,c){var d=s.callbacks;if(d!==null)for(s.callbacks=null,s=0;s<d.length;s++)Va(d[s],c)}var wr=Y(null),Rr=Y(0);function Cn(s,c){s=ic,L(Rr,s),L(wr,c),ic=s|c.baseLanes}function qr(){L(Rr,ic),L(wr,wr.current)}function ia(){ic=Rr.current,w(wr),w(Rr)}var Tn=Y(null),Br=null;function Hn(s){var c=s.alternate;L(Mr,Mr.current&1),L(Tn,s),Br===null&&(c===null||wr.current!==null||c.memoizedState!==null)&&(Br=s)}function $r(s){L(Mr,Mr.current),L(Tn,s),Br===null&&(Br=s)}function Kn(s){s.tag===22?(L(Mr,Mr.current),L(Tn,s),Br===null&&(Br=s)):$n()}function $n(){L(Mr,Mr.current),L(Tn,Tn.current)}function tn(s){w(Tn),Br===s&&(Br=null),w(Mr)}var Mr=Y(0);function Ga(s){for(var c=s;c!==null;){if(c.tag===13){var d=c.memoizedState;if(d!==null&&(d=d.dehydrated,d===null||t2(d)||r2(d)))return c}else if(c.tag===19&&(c.memoizedProps.revealOrder==="forwards"||c.memoizedProps.revealOrder==="backwards"||c.memoizedProps.revealOrder==="unstable_legacy-backwards"||c.memoizedProps.revealOrder==="together")){if((c.flags&128)!==0)return c}else if(c.child!==null){c.child.return=c,c=c.child;continue}if(c===s)break;for(;c.sibling===null;){if(c.return===null||c.return===s)return null;c=c.return}c.sibling.return=c.return,c=c.sibling}return null}var Fn=0,tr=null,rr=null,Pr=null,di=!1,ts=!1,ni=!1,Zn=0,pl=0,ml=null,rf=0;function un(){throw Error(n(321))}function S0(s,c){if(c===null)return!1;for(var d=0;d<c.length&&d<s.length;d++)if(!Na(s[d],c[d]))return!1;return!0}function k0(s,c,d,p,C,E){return Fn=E,tr=c,c.memoizedState=null,c.updateQueue=null,c.lanes=0,ae.H=s===null||s.memoizedState===null?My:fm,ni=!1,E=d(p,C),ni=!1,ts&&(E=Lo(c,d,p,C)),nf(s),E}function nf(s){ae.H=L0;var c=rr!==null&&rr.next!==null;if(Fn=0,Pr=rr=tr=null,di=!1,pl=0,ml=null,c)throw Error(n(300));s===null||xa||(s=s.dependencies,s!==null&&Qh(s)&&(xa=!0))}function Lo(s,c,d,p){tr=s;var C=0;do{if(ts&&(ml=null),pl=0,ts=!1,25<=C)throw Error(n(301));if(C+=1,Pr=rr=null,s.updateQueue!=null){var E=s.updateQueue;E.lastEffect=null,E.events=null,E.stores=null,E.memoCache!=null&&(E.memoCache.index=0)}ae.H=jy,E=c(d,p)}while(ts);return E}function im(){var s=ae.H,c=s.useState()[0];return c=typeof c.then=="function"?xl(c):c,s=s.useState()[0],(rr!==null?rr.memoizedState:null)!==s&&(tr.flags|=1024),c}function C0(){var s=Zn!==0;return Zn=0,s}function T0(s,c,d){c.updateQueue=s.updateQueue,c.flags&=-2053,s.lanes&=~d}function af(s){if(di){for(s=s.memoizedState;s!==null;){var c=s.queue;c!==null&&(c.pending=null),s=s.next}di=!1}Fn=0,Pr=rr=tr=null,ts=!1,pl=Zn=0,ml=null}function ma(){var s={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return Pr===null?tr.memoizedState=Pr=s:Pr=Pr.next=s,Pr}function Mn(){if(rr===null){var s=tr.alternate;s=s!==null?s.memoizedState:null}else s=rr.next;var c=Pr===null?tr.memoizedState:Pr.next;if(c!==null)Pr=c,rr=s;else{if(s===null)throw tr.alternate===null?Error(n(467)):Error(n(310));rr=s,s={memoizedState:rr.memoizedState,baseState:rr.baseState,baseQueue:rr.baseQueue,queue:rr.queue,next:null},Pr===null?tr.memoizedState=Pr=s:Pr=Pr.next=s}return Pr}function Ju(){return{lastEffect:null,events:null,stores:null,memoCache:null}}function xl(s){var c=pl;return pl+=1,ml===null&&(ml=[]),s=ut(ml,s,c),c=tr,(Pr===null?c.memoizedState:Pr.next)===null&&(c=c.alternate,ae.H=c===null||c.memoizedState===null?My:fm),s}function Wc(s){if(s!==null&&typeof s=="object"){if(typeof s.then=="function")return xl(s);if(s.$$typeof===N)return Fa(s)}throw Error(n(438,String(s)))}function $l(s){var c=null,d=tr.updateQueue;if(d!==null&&(c=d.memoCache),c==null){var p=tr.alternate;p!==null&&(p=p.updateQueue,p!==null&&(p=p.memoCache,p!=null&&(c={data:p.data.map(function(C){return C.slice()}),index:0})))}if(c==null&&(c={data:[],index:0}),d===null&&(d=Ju(),tr.updateQueue=d),d.memoCache=c,d=c.data[c.index],d===void 0)for(d=c.data[c.index]=Array(s),p=0;p<s;p++)d[p]=Z;return c.index++,d}function Ks(s,c){return typeof c=="function"?c(s):c}function sf(s){var c=Mn();return Yc(c,rr,s)}function Yc(s,c,d){var p=s.queue;if(p===null)throw Error(n(311));p.lastRenderedReducer=d;var C=s.baseQueue,E=p.pending;if(E!==null){if(C!==null){var Q=C.next;C.next=E.next,E.next=Q}c.baseQueue=C=E,p.pending=null}if(E=s.baseState,C===null)s.memoizedState=E;else{c=C.next;var me=Q=null,Le=null,nt=c,ft=!1;do{var vt=nt.lane&-536870913;if(vt!==nt.lane?(Er&vt)===vt:(Fn&vt)===vt){var at=nt.revertLane;if(at===0)Le!==null&&(Le=Le.next={lane:0,revertLane:0,gesture:null,action:nt.action,hasEagerState:nt.hasEagerState,eagerState:nt.eagerState,next:null}),vt===b&&(ft=!0);else if((Fn&at)===at){nt=nt.next,at===b&&(ft=!0);continue}else vt={lane:0,revertLane:nt.revertLane,gesture:null,action:nt.action,hasEagerState:nt.hasEagerState,eagerState:nt.eagerState,next:null},Le===null?(me=Le=vt,Q=E):Le=Le.next=vt,tr.lanes|=at,Jc|=at;vt=nt.action,ni&&d(E,vt),E=nt.hasEagerState?nt.eagerState:d(E,vt)}else at={lane:vt,revertLane:nt.revertLane,gesture:nt.gesture,action:nt.action,hasEagerState:nt.hasEagerState,eagerState:nt.eagerState,next:null},Le===null?(me=Le=at,Q=E):Le=Le.next=at,tr.lanes|=vt,Jc|=vt;nt=nt.next}while(nt!==null&&nt!==c);if(Le===null?Q=E:Le.next=me,!Na(E,s.memoizedState)&&(xa=!0,ft&&(d=T,d!==null)))throw d;s.memoizedState=E,s.baseState=Q,s.baseQueue=Le,p.lastRenderedState=E}return C===null&&(p.lanes=0),[s.memoizedState,p.dispatch]}function of(s){var c=Mn(),d=c.queue;if(d===null)throw Error(n(311));d.lastRenderedReducer=s;var p=d.dispatch,C=d.pending,E=c.memoizedState;if(C!==null){d.pending=null;var Q=C=C.next;do E=s(E,Q.action),Q=Q.next;while(Q!==C);Na(E,c.memoizedState)||(xa=!0),c.memoizedState=E,c.baseQueue===null&&(c.baseState=E),d.lastRenderedState=E}return[E,p]}function lf(s,c,d){var p=tr,C=Mn(),E=Cr;if(E){if(d===void 0)throw Error(n(407));d=d()}else d=c();var Q=!Na((rr||C).memoizedState,d);if(Q&&(C.memoizedState=d,xa=!0),C=C.queue,sm(E0.bind(null,p,C,s),[s]),C.getSnapshot!==c||Q||Pr!==null&&Pr.memoizedState.tag&1){if(p.flags|=2048,Jl(9,{destroy:void 0},A0.bind(null,p,C,d,c),null),pn===null)throw Error(n(349));E||(Fn&127)!==0||Fo(p,c,d)}return d}function Fo(s,c,d){s.flags|=16384,s={getSnapshot:c,value:d},c=tr.updateQueue,c===null?(c=Ju(),tr.updateQueue=c,c.stores=[s]):(d=c.stores,d===null?c.stores=[s]:d.push(s))}function A0(s,c,d,p){c.value=d,c.getSnapshot=p,l1(c)&&N0(s)}function E0(s,c,d){return d(function(){l1(c)&&N0(s)})}function l1(s){var c=s.getSnapshot;s=s.value;try{var d=c();return!Na(s,d)}catch{return!0}}function N0(s){var c=Oo(s,2);c!==null&&ss(c,s,2)}function vl(s){var c=ma();if(typeof s=="function"){var d=s;if(s=d(),ni){Lt(!0);try{d()}finally{Lt(!1)}}}return c.memoizedState=c.baseState=s,c.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:Ks,lastRenderedState:s},c}function c1(s,c,d,p){return s.baseState=d,Yc(s,rr,typeof p=="function"?p:Ks)}function u1(s,c,d,p,C){if(g1(s))throw Error(n(485));if(s=c.action,s!==null){var E={payload:C,action:s,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(Q){E.listeners.push(Q)}};ae.T!==null?d(!0):E.isTransition=!1,p(E),d=c.pending,d===null?(E.next=c.pending=E,h1(c,E)):(E.next=d.next,c.pending=d.next=E)}}function h1(s,c){var d=c.action,p=c.payload,C=s.state;if(c.isTransition){var E=ae.T,Q={};ae.T=Q;try{var me=d(C,p),Le=ae.S;Le!==null&&Le(Q,me),O0(s,c,me)}catch(nt){Zl(s,c,nt)}finally{E!==null&&Q.types!==null&&(E.types=Q.types),ae.T=E}}else try{E=d(C,p),O0(s,c,E)}catch(nt){Zl(s,c,nt)}}function O0(s,c,d){d!==null&&typeof d=="object"&&typeof d.then=="function"?d.then(function(p){f1(s,c,p)},function(p){return Zl(s,c,p)}):f1(s,c,d)}function f1(s,c,d){c.status="fulfilled",c.value=d,cf(c),s.state=d,c=s.pending,c!==null&&(d=c.next,d===c?s.pending=null:(d=d.next,c.next=d,h1(s,d)))}function Zl(s,c,d){var p=s.pending;if(s.pending=null,p!==null){p=p.next;do c.status="rejected",c.reason=d,cf(c),c=c.next;while(c!==p)}s.action=null}function cf(s){s=s.listeners;for(var c=0;c<s.length;c++)(0,s[c])()}function Qu(s,c){return c}function $s(s,c){if(Cr){var d=pn.formState;if(d!==null){e:{var p=tr;if(Cr){if(dn){t:{for(var C=dn,E=Ln;C.nodeType!==8;){if(!E){C=null;break t}if(C=Zs(C.nextSibling),C===null){C=null;break t}}E=C.data,C=E==="F!"||E==="F"?C:null}if(C){dn=Zs(C.nextSibling),p=C.data==="F!";break e}}ul(p)}p=!1}p&&(c=d[0])}}return d=ma(),d.memoizedState=d.baseState=c,p={pending:null,lanes:0,dispatch:null,lastRenderedReducer:Qu,lastRenderedState:c},d.queue=p,d=Dy.bind(null,tr,p),p.dispatch=d,p=vl(!1),E=hm.bind(null,tr,!1,p.queue),p=ma(),C={state:c,dispatch:null,action:s,pending:null},p.queue=C,d=u1.bind(null,tr,C,E,d),C.dispatch=d,p.memoizedState=s,[c,d,!1]}function Mo(s){var c=Mn();return jo(c,rr,s)}function jo(s,c,d){if(c=Yc(s,c,Qu)[0],s=sf(Ks)[0],typeof c=="object"&&c!==null&&typeof c.then=="function")try{var p=xl(c)}catch(Q){throw Q===Be?Ce:Q}else p=c;c=Mn();var C=c.queue,E=C.dispatch;return d!==c.memoizedState&&(tr.flags|=2048,Jl(9,{destroy:void 0},uf.bind(null,C,d),null)),[p,E,s]}function uf(s,c){s.action=c}function hf(s){var c=Mn(),d=rr;if(d!==null)return jo(c,d,s);Mn(),c=c.memoizedState,d=Mn();var p=d.queue.dispatch;return d.memoizedState=s,[c,p,!1]}function Jl(s,c,d,p){return s={tag:s,create:d,deps:p,inst:c,next:null},c=tr.updateQueue,c===null&&(c=Ju(),tr.updateQueue=c),d=c.lastEffect,d===null?c.lastEffect=s.next=s:(p=d.next,d.next=s,s.next=p,c.lastEffect=s),s}function d1(){return Mn().memoizedState}function Xc(s,c,d,p){var C=ma();tr.flags|=s,C.memoizedState=Jl(1|c,{destroy:void 0},d,p===void 0?null:p)}function Kc(s,c,d,p){var C=Mn();p=p===void 0?null:p;var E=C.memoizedState.inst;rr!==null&&p!==null&&S0(p,rr.memoizedState.deps)?C.memoizedState=Jl(c,E,d,p):(tr.flags|=s,C.memoizedState=Jl(1|c,E,d,p))}function xy(s,c){Xc(8390656,8,s,c)}function sm(s,c){Kc(2048,8,s,c)}function vC(s){tr.flags|=4;var c=tr.updateQueue;if(c===null)c=Ju(),tr.updateQueue=c,c.events=[s];else{var d=c.events;d===null?c.events=[s]:d.push(s)}}function vy(s){var c=Mn().memoizedState;return vC({ref:c,nextImpl:s}),function(){if((Zr&2)!==0)throw Error(n(440));return c.impl.apply(void 0,arguments)}}function yy(s,c){return Kc(4,2,s,c)}function by(s,c){return Kc(4,4,s,c)}function wy(s,c){if(typeof c=="function"){s=s();var d=c(s);return function(){typeof d=="function"?d():c(null)}}if(c!=null)return s=s(),c.current=s,function(){c.current=null}}function _y(s,c,d){d=d!=null?d.concat([s]):null,Kc(4,4,wy.bind(null,c,s),d)}function om(){}function Sy(s,c){var d=Mn();c=c===void 0?null:c;var p=d.memoizedState;return c!==null&&S0(c,p[1])?p[0]:(d.memoizedState=[s,c],s)}function ky(s,c){var d=Mn();c=c===void 0?null:c;var p=d.memoizedState;if(c!==null&&S0(c,p[1]))return p[0];if(p=s(),ni){Lt(!0);try{s()}finally{Lt(!1)}}return d.memoizedState=[p,c],p}function lm(s,c,d){return d===void 0||(Fn&1073741824)!==0&&(Er&261930)===0?s.memoizedState=c:(s.memoizedState=d,s=C5(),tr.lanes|=s,Jc|=s,d)}function Cy(s,c,d,p){return Na(d,c)?d:wr.current!==null?(s=lm(s,d,p),Na(s,c)||(xa=!0),s):(Fn&42)===0||(Fn&1073741824)!==0&&(Er&261930)===0?(xa=!0,s.memoizedState=d):(s=C5(),tr.lanes|=s,Jc|=s,c)}function Ty(s,c,d,p,C){var E=J.p;J.p=E!==0&&8>E?E:8;var Q=ae.T,me={};ae.T=me,hm(s,!1,c,d);try{var Le=C(),nt=ae.S;if(nt!==null&&nt(me,Le),Le!==null&&typeof Le=="object"&&typeof Le.then=="function"){var ft=oe(Le,p);D0(s,c,ft,As(s))}else D0(s,c,p,As(s))}catch(vt){D0(s,c,{then:function(){},status:"rejected",reason:vt},As())}finally{J.p=E,Q!==null&&me.types!==null&&(Q.types=me.types),ae.T=Q}}function yC(){}function cm(s,c,d,p){if(s.tag!==5)throw Error(n(476));var C=Ay(s).queue;Ty(s,C,c,ge,d===null?yC:function(){return Ey(s),d(p)})}function Ay(s){var c=s.memoizedState;if(c!==null)return c;c={memoizedState:ge,baseState:ge,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:Ks,lastRenderedState:ge},next:null};var d={};return c.next={memoizedState:d,baseState:d,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:Ks,lastRenderedState:d},next:null},s.memoizedState=c,s=s.alternate,s!==null&&(s.memoizedState=c),c}function Ey(s){var c=Ay(s);c.next===null&&(c=s.alternate.memoizedState),D0(s,c.next.queue,{},As())}function um(){return Fa(X0)}function Ny(){return Mn().memoizedState}function Oy(){return Mn().memoizedState}function bC(s){for(var c=s.return;c!==null;){switch(c.tag){case 24:case 3:var d=As();s=ir(d);var p=vr(c,s,d);p!==null&&(ss(p,c,d),Kr(p,c,d)),c={cache:Gc()},s.payload=c;return}c=c.return}}function wC(s,c,d){var p=As();d={lane:p,revertLane:0,gesture:null,action:d,hasEagerState:!1,eagerState:null,next:null},g1(s)?Ly(c,d):(d=Gh(s,c,d,p),d!==null&&(ss(d,s,p),Fy(d,c,p)))}function Dy(s,c,d){var p=As();D0(s,c,d,p)}function D0(s,c,d,p){var C={lane:p,revertLane:0,gesture:null,action:d,hasEagerState:!1,eagerState:null,next:null};if(g1(s))Ly(c,C);else{var E=s.alternate;if(s.lanes===0&&(E===null||E.lanes===0)&&(E=c.lastRenderedReducer,E!==null))try{var Q=c.lastRenderedState,me=E(Q,d);if(C.hasEagerState=!0,C.eagerState=me,Na(me,Q))return Gu(s,c,C,0),pn===null&&Vu(),!1}catch{}finally{}if(d=Gh(s,c,C,p),d!==null)return ss(d,s,p),Fy(d,c,p),!0}return!1}function hm(s,c,d,p){if(p={lane:2,revertLane:qm(),gesture:null,action:p,hasEagerState:!1,eagerState:null,next:null},g1(s)){if(c)throw Error(n(479))}else c=Gh(s,d,p,2),c!==null&&ss(c,s,2)}function g1(s){var c=s.alternate;return s===tr||c!==null&&c===tr}function Ly(s,c){ts=di=!0;var d=s.pending;d===null?c.next=c:(c.next=d.next,d.next=c),s.pending=c}function Fy(s,c,d){if((d&4194048)!==0){var p=c.lanes;p&=s.pendingLanes,d|=p,c.lanes=d,Ta(s,d)}}var L0={readContext:Fa,use:Wc,useCallback:un,useContext:un,useEffect:un,useImperativeHandle:un,useLayoutEffect:un,useInsertionEffect:un,useMemo:un,useReducer:un,useRef:un,useState:un,useDebugValue:un,useDeferredValue:un,useTransition:un,useSyncExternalStore:un,useId:un,useHostTransitionStatus:un,useFormState:un,useActionState:un,useOptimistic:un,useMemoCache:un,useCacheRefresh:un};L0.useEffectEvent=un;var My={readContext:Fa,use:Wc,useCallback:function(s,c){return ma().memoizedState=[s,c===void 0?null:c],s},useContext:Fa,useEffect:xy,useImperativeHandle:function(s,c,d){d=d!=null?d.concat([s]):null,Xc(4194308,4,wy.bind(null,c,s),d)},useLayoutEffect:function(s,c){return Xc(4194308,4,s,c)},useInsertionEffect:function(s,c){Xc(4,2,s,c)},useMemo:function(s,c){var d=ma();c=c===void 0?null:c;var p=s();if(ni){Lt(!0);try{s()}finally{Lt(!1)}}return d.memoizedState=[p,c],p},useReducer:function(s,c,d){var p=ma();if(d!==void 0){var C=d(c);if(ni){Lt(!0);try{d(c)}finally{Lt(!1)}}}else C=c;return p.memoizedState=p.baseState=C,s={pending:null,lanes:0,dispatch:null,lastRenderedReducer:s,lastRenderedState:C},p.queue=s,s=s.dispatch=wC.bind(null,tr,s),[p.memoizedState,s]},useRef:function(s){var c=ma();return s={current:s},c.memoizedState=s},useState:function(s){s=vl(s);var c=s.queue,d=Dy.bind(null,tr,c);return c.dispatch=d,[s.memoizedState,d]},useDebugValue:om,useDeferredValue:function(s,c){var d=ma();return lm(d,s,c)},useTransition:function(){var s=vl(!1);return s=Ty.bind(null,tr,s.queue,!0,!1),ma().memoizedState=s,[!1,s]},useSyncExternalStore:function(s,c,d){var p=tr,C=ma();if(Cr){if(d===void 0)throw Error(n(407));d=d()}else{if(d=c(),pn===null)throw Error(n(349));(Er&127)!==0||Fo(p,c,d)}C.memoizedState=d;var E={value:d,getSnapshot:c};return C.queue=E,xy(E0.bind(null,p,E,s),[s]),p.flags|=2048,Jl(9,{destroy:void 0},A0.bind(null,p,E,d,c),null),d},useId:function(){var s=ma(),c=pn.identifierPrefix;if(Cr){var d=Qi,p=Ji;d=(p&~(1<<32-zt(p)-1)).toString(32)+d,c="_"+c+"R_"+d,d=Zn++,0<d&&(c+="H"+d.toString(32)),c+="_"}else d=rf++,c="_"+c+"r_"+d.toString(32)+"_";return s.memoizedState=c},useHostTransitionStatus:um,useFormState:$s,useActionState:$s,useOptimistic:function(s){var c=ma();c.memoizedState=c.baseState=s;var d={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return c.queue=d,c=hm.bind(null,tr,!0,d),d.dispatch=c,[s,c]},useMemoCache:$l,useCacheRefresh:function(){return ma().memoizedState=bC.bind(null,tr)},useEffectEvent:function(s){var c=ma(),d={impl:s};return c.memoizedState=d,function(){if((Zr&2)!==0)throw Error(n(440));return d.impl.apply(void 0,arguments)}}},fm={readContext:Fa,use:Wc,useCallback:Sy,useContext:Fa,useEffect:sm,useImperativeHandle:_y,useInsertionEffect:yy,useLayoutEffect:by,useMemo:ky,useReducer:sf,useRef:d1,useState:function(){return sf(Ks)},useDebugValue:om,useDeferredValue:function(s,c){var d=Mn();return Cy(d,rr.memoizedState,s,c)},useTransition:function(){var s=sf(Ks)[0],c=Mn().memoizedState;return[typeof s=="boolean"?s:xl(s),c]},useSyncExternalStore:lf,useId:Ny,useHostTransitionStatus:um,useFormState:Mo,useActionState:Mo,useOptimistic:function(s,c){var d=Mn();return c1(d,rr,s,c)},useMemoCache:$l,useCacheRefresh:Oy};fm.useEffectEvent=vy;var jy={readContext:Fa,use:Wc,useCallback:Sy,useContext:Fa,useEffect:sm,useImperativeHandle:_y,useInsertionEffect:yy,useLayoutEffect:by,useMemo:ky,useReducer:of,useRef:d1,useState:function(){return of(Ks)},useDebugValue:om,useDeferredValue:function(s,c){var d=Mn();return rr===null?lm(d,s,c):Cy(d,rr.memoizedState,s,c)},useTransition:function(){var s=of(Ks)[0],c=Mn().memoizedState;return[typeof s=="boolean"?s:xl(s),c]},useSyncExternalStore:lf,useId:Ny,useHostTransitionStatus:um,useFormState:hf,useActionState:hf,useOptimistic:function(s,c){var d=Mn();return rr!==null?c1(d,rr,s,c):(d.baseState=s,[s,d.queue.dispatch])},useMemoCache:$l,useCacheRefresh:Oy};jy.useEffectEvent=vy;function dm(s,c,d,p){c=s.memoizedState,d=d(p,c),d=d==null?c:m({},c,d),s.memoizedState=d,s.lanes===0&&(s.updateQueue.baseState=d)}var gm={enqueueSetState:function(s,c,d){s=s._reactInternals;var p=As(),C=ir(p);C.payload=c,d!=null&&(C.callback=d),c=vr(s,C,p),c!==null&&(ss(c,s,p),Kr(c,s,p))},enqueueReplaceState:function(s,c,d){s=s._reactInternals;var p=As(),C=ir(p);C.tag=1,C.payload=c,d!=null&&(C.callback=d),c=vr(s,C,p),c!==null&&(ss(c,s,p),Kr(c,s,p))},enqueueForceUpdate:function(s,c){s=s._reactInternals;var d=As(),p=ir(d);p.tag=2,c!=null&&(p.callback=c),c=vr(s,p,d),c!==null&&(ss(c,s,d),Kr(c,s,d))}};function Ry(s,c,d,p,C,E,Q){return s=s.stateNode,typeof s.shouldComponentUpdate=="function"?s.shouldComponentUpdate(p,E,Q):c.prototype&&c.prototype.isPureReactComponent?!To(d,p)||!To(C,E):!0}function By(s,c,d,p){s=c.state,typeof c.componentWillReceiveProps=="function"&&c.componentWillReceiveProps(d,p),typeof c.UNSAFE_componentWillReceiveProps=="function"&&c.UNSAFE_componentWillReceiveProps(d,p),c.state!==s&&gm.enqueueReplaceState(c,c.state,null)}function eh(s,c){var d=c;if("ref"in c){d={};for(var p in c)p!=="ref"&&(d[p]=c[p])}if(s=s.defaultProps){d===c&&(d=m({},d));for(var C in s)d[C]===void 0&&(d[C]=s[C])}return d}function Py(s){qu(s)}function Iy(s){console.error(s)}function Uy(s){qu(s)}function p1(s,c){try{var d=s.onUncaughtError;d(c.value,{componentStack:c.stack})}catch(p){setTimeout(function(){throw p})}}function zy(s,c,d){try{var p=s.onCaughtError;p(d.value,{componentStack:d.stack,errorBoundary:c.tag===1?c.stateNode:null})}catch(C){setTimeout(function(){throw C})}}function pm(s,c,d){return d=ir(d),d.tag=3,d.payload={element:null},d.callback=function(){p1(s,c)},d}function Hy(s){return s=ir(s),s.tag=3,s}function qy(s,c,d,p){var C=d.type.getDerivedStateFromError;if(typeof C=="function"){var E=p.value;s.payload=function(){return C(E)},s.callback=function(){zy(c,d,p)}}var Q=d.stateNode;Q!==null&&typeof Q.componentDidCatch=="function"&&(s.callback=function(){zy(c,d,p),typeof C!="function"&&(Qc===null?Qc=new Set([this]):Qc.add(this));var me=p.stack;this.componentDidCatch(p.value,{componentStack:me!==null?me:""})})}function _C(s,c,d,p,C){if(d.flags|=32768,p!==null&&typeof p=="object"&&typeof p.then=="function"){if(c=d.alternate,c!==null&&dl(c,d,C,!0),d=Tn.current,d!==null){switch(d.tag){case 31:case 13:return Br===null?A1():d.alternate===null&&Jn===0&&(Jn=3),d.flags&=-257,d.flags|=65536,d.lanes=C,p===Ue?d.flags|=16384:(c=d.updateQueue,c===null?d.updateQueue=new Set([p]):c.add(p),Um(s,p,C)),!1;case 22:return d.flags|=65536,p===Ue?d.flags|=16384:(c=d.updateQueue,c===null?(c={transitions:null,markerInstances:null,retryQueue:new Set([p])},d.updateQueue=c):(d=c.retryQueue,d===null?c.retryQueue=new Set([p]):d.add(p)),Um(s,p,C)),!1}throw Error(n(435,d.tag))}return Um(s,p,C),A1(),!1}if(Cr)return c=Tn.current,c!==null?((c.flags&65536)===0&&(c.flags|=256),c.flags|=65536,c.lanes=C,p!==ks&&(s=Error(n(422),{cause:p}),qc(Ki(s,d)))):(p!==ks&&(c=Error(n(423),{cause:p}),qc(Ki(c,d))),s=s.current.alternate,s.flags|=65536,C&=-C,s.lanes|=C,p=Ki(p,d),C=pm(s.stateNode,p,C),aa(s,C),Jn!==4&&(Jn=2)),!1;var E=Error(n(520),{cause:p});if(E=Ki(E,d),U0===null?U0=[E]:U0.push(E),Jn!==4&&(Jn=2),c===null)return!0;p=Ki(p,d),d=c;do{switch(d.tag){case 3:return d.flags|=65536,s=C&-C,d.lanes|=s,s=pm(d.stateNode,p,s),aa(d,s),!1;case 1:if(c=d.type,E=d.stateNode,(d.flags&128)===0&&(typeof c.getDerivedStateFromError=="function"||E!==null&&typeof E.componentDidCatch=="function"&&(Qc===null||!Qc.has(E))))return d.flags|=65536,C&=-C,d.lanes|=C,C=Hy(C),qy(C,s,d,p),aa(d,C),!1}d=d.return}while(d!==null);return!1}var mm=Error(n(461)),xa=!1;function ai(s,c,d,p){c.child=s===null?gr(c,null,d,p):gn(c,s.child,d,p)}function Vy(s,c,d,p,C){d=d.render;var E=c.ref;if("ref"in p){var Q={};for(var me in p)me!=="ref"&&(Q[me]=p[me])}else Q=p;return gl(c),p=k0(s,c,d,Q,E,C),me=C0(),s!==null&&!xa?(T0(s,c,C),Ql(s,c,C)):(Cr&&me&&b0(c),c.flags|=1,ai(s,c,p,C),c.child)}function Gy(s,c,d,p,C){if(s===null){var E=d.type;return typeof E=="function"&&!Yh(E)&&E.defaultProps===void 0&&d.compare===null?(c.tag=15,c.type=E,Wy(s,c,E,p,C)):(s=Uc(d.type,null,p,c,c.mode,C),s.ref=c.ref,s.return=c,c.child=s)}if(E=s.child,!km(s,C)){var Q=E.memoizedProps;if(d=d.compare,d=d!==null?d:To,d(Q,p)&&s.ref===c.ref)return Ql(s,c,C)}return c.flags|=1,s=Xi(E,p),s.ref=c.ref,s.return=c,c.child=s}function Wy(s,c,d,p,C){if(s!==null){var E=s.memoizedProps;if(To(E,p)&&s.ref===c.ref)if(xa=!1,c.pendingProps=p=E,km(s,C))(s.flags&131072)!==0&&(xa=!0);else return c.lanes=s.lanes,Ql(s,c,C)}return xm(s,c,d,p,C)}function Yy(s,c,d,p){var C=p.children,E=s!==null?s.memoizedState:null;if(s===null&&c.stateNode===null&&(c.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),p.mode==="hidden"){if((c.flags&128)!==0){if(E=E!==null?E.baseLanes|d:d,s!==null){for(p=c.child=s.child,C=0;p!==null;)C=C|p.lanes|p.childLanes,p=p.sibling;p=C&~E}else p=0,c.child=null;return Xy(s,c,E,d,p)}if((d&536870912)!==0)c.memoizedState={baseLanes:0,cachePool:null},s!==null&&_e(c,E!==null?E.cachePool:null),E!==null?Cn(c,E):qr(),Kn(c);else return p=c.lanes=536870912,Xy(s,c,E!==null?E.baseLanes|d:d,d,p)}else E!==null?(_e(c,E.cachePool),Cn(c,E),$n(),c.memoizedState=null):(s!==null&&_e(c,null),qr(),$n());return ai(s,c,C,d),c.child}function F0(s,c){return s!==null&&s.tag===22||c.stateNode!==null||(c.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),c.sibling}function Xy(s,c,d,p,C){var E=ye();return E=E===null?null:{parent:zn._currentValue,pool:E},c.memoizedState={baseLanes:d,cachePool:E},s!==null&&_e(c,null),qr(),Kn(c),s!==null&&dl(s,c,p,!0),c.childLanes=C,null}function m1(s,c){return c=v1({mode:c.mode,children:c.children},s.mode),c.ref=s.ref,s.child=c,c.return=s,c}function Ky(s,c,d){return gn(c,s.child,null,d),s=m1(c,c.pendingProps),s.flags|=2,tn(c),c.memoizedState=null,s}function SC(s,c,d){var p=c.pendingProps,C=(c.flags&128)!==0;if(c.flags&=-129,s===null){if(Cr){if(p.mode==="hidden")return s=m1(c,p),c.lanes=536870912,F0(null,s);if($r(c),(s=dn)?(s=ob(s,Ln),s=s!==null&&s.data==="&"?s:null,s!==null&&(c.memoizedState={dehydrated:s,treeContext:cl!==null?{id:Ji,overflow:Qi}:null,retryLane:536870912,hydrationErrors:null},d=Xh(s),d.return=c,c.child=d,Da=c,dn=null)):s=null,s===null)throw ul(c);return c.lanes=536870912,null}return m1(c,p)}var E=s.memoizedState;if(E!==null){var Q=E.dehydrated;if($r(c),C)if(c.flags&256)c.flags&=-257,c=Ky(s,c,d);else if(c.memoizedState!==null)c.child=s.child,c.flags|=128,c=null;else throw Error(n(558));else if(xa||dl(s,c,d,!1),C=(d&s.childLanes)!==0,xa||C){if(p=pn,p!==null&&(Q=$a(p,d),Q!==0&&Q!==E.retryLane))throw E.retryLane=Q,Oo(s,Q),ss(p,s,Q),mm;A1(),c=Ky(s,c,d)}else s=E.treeContext,dn=Zs(Q.nextSibling),Da=c,Cr=!0,ri=null,Ln=!1,s!==null&&s1(c,s),c=m1(c,p),c.flags|=4096;return c}return s=Xi(s.child,{mode:p.mode,children:p.children}),s.ref=c.ref,c.child=s,s.return=c,s}function x1(s,c){var d=c.ref;if(d===null)s!==null&&s.ref!==null&&(c.flags|=4194816);else{if(typeof d!="function"&&typeof d!="object")throw Error(n(284));(s===null||s.ref!==d)&&(c.flags|=4194816)}}function xm(s,c,d,p,C){return gl(c),d=k0(s,c,d,p,void 0,C),p=C0(),s!==null&&!xa?(T0(s,c,C),Ql(s,c,C)):(Cr&&p&&b0(c),c.flags|=1,ai(s,c,d,C),c.child)}function $y(s,c,d,p,C,E){return gl(c),c.updateQueue=null,d=Lo(c,p,d,C),nf(s),p=C0(),s!==null&&!xa?(T0(s,c,E),Ql(s,c,E)):(Cr&&p&&b0(c),c.flags|=1,ai(s,c,d,E),c.child)}function Zy(s,c,d,p,C){if(gl(c),c.stateNode===null){var E=Oa,Q=d.contextType;typeof Q=="object"&&Q!==null&&(E=Fa(Q)),E=new d(p,E),c.memoizedState=E.state!==null&&E.state!==void 0?E.state:null,E.updater=gm,c.stateNode=E,E._reactInternals=c,E=c.stateNode,E.props=p,E.state=c.memoizedState,E.refs={},Dt(c),Q=d.contextType,E.context=typeof Q=="object"&&Q!==null?Fa(Q):Oa,E.state=c.memoizedState,Q=d.getDerivedStateFromProps,typeof Q=="function"&&(dm(c,d,Q,p),E.state=c.memoizedState),typeof d.getDerivedStateFromProps=="function"||typeof E.getSnapshotBeforeUpdate=="function"||typeof E.UNSAFE_componentWillMount!="function"&&typeof E.componentWillMount!="function"||(Q=E.state,typeof E.componentWillMount=="function"&&E.componentWillMount(),typeof E.UNSAFE_componentWillMount=="function"&&E.UNSAFE_componentWillMount(),Q!==E.state&&gm.enqueueReplaceState(E,E.state,null),Yn(c,p,E,C),cn(),E.state=c.memoizedState),typeof E.componentDidMount=="function"&&(c.flags|=4194308),p=!0}else if(s===null){E=c.stateNode;var me=c.memoizedProps,Le=eh(d,me);E.props=Le;var nt=E.context,ft=d.contextType;Q=Oa,typeof ft=="object"&&ft!==null&&(Q=Fa(ft));var vt=d.getDerivedStateFromProps;ft=typeof vt=="function"||typeof E.getSnapshotBeforeUpdate=="function",me=c.pendingProps!==me,ft||typeof E.UNSAFE_componentWillReceiveProps!="function"&&typeof E.componentWillReceiveProps!="function"||(me||nt!==Q)&&By(c,E,p,Q),It=!1;var at=c.memoizedState;E.state=at,Yn(c,p,E,C),cn(),nt=c.memoizedState,me||at!==nt||It?(typeof vt=="function"&&(dm(c,d,vt,p),nt=c.memoizedState),(Le=It||Ry(c,d,Le,p,at,nt,Q))?(ft||typeof E.UNSAFE_componentWillMount!="function"&&typeof E.componentWillMount!="function"||(typeof E.componentWillMount=="function"&&E.componentWillMount(),typeof E.UNSAFE_componentWillMount=="function"&&E.UNSAFE_componentWillMount()),typeof E.componentDidMount=="function"&&(c.flags|=4194308)):(typeof E.componentDidMount=="function"&&(c.flags|=4194308),c.memoizedProps=p,c.memoizedState=nt),E.props=p,E.state=nt,E.context=Q,p=Le):(typeof E.componentDidMount=="function"&&(c.flags|=4194308),p=!1)}else{E=c.stateNode,kn(s,c),Q=c.memoizedProps,ft=eh(d,Q),E.props=ft,vt=c.pendingProps,at=E.context,nt=d.contextType,Le=Oa,typeof nt=="object"&&nt!==null&&(Le=Fa(nt)),me=d.getDerivedStateFromProps,(nt=typeof me=="function"||typeof E.getSnapshotBeforeUpdate=="function")||typeof E.UNSAFE_componentWillReceiveProps!="function"&&typeof E.componentWillReceiveProps!="function"||(Q!==vt||at!==Le)&&By(c,E,p,Le),It=!1,at=c.memoizedState,E.state=at,Yn(c,p,E,C),cn();var st=c.memoizedState;Q!==vt||at!==st||It||s!==null&&s.dependencies!==null&&Qh(s.dependencies)?(typeof me=="function"&&(dm(c,d,me,p),st=c.memoizedState),(ft=It||Ry(c,d,ft,p,at,st,Le)||s!==null&&s.dependencies!==null&&Qh(s.dependencies))?(nt||typeof E.UNSAFE_componentWillUpdate!="function"&&typeof E.componentWillUpdate!="function"||(typeof E.componentWillUpdate=="function"&&E.componentWillUpdate(p,st,Le),typeof E.UNSAFE_componentWillUpdate=="function"&&E.UNSAFE_componentWillUpdate(p,st,Le)),typeof E.componentDidUpdate=="function"&&(c.flags|=4),typeof E.getSnapshotBeforeUpdate=="function"&&(c.flags|=1024)):(typeof E.componentDidUpdate!="function"||Q===s.memoizedProps&&at===s.memoizedState||(c.flags|=4),typeof E.getSnapshotBeforeUpdate!="function"||Q===s.memoizedProps&&at===s.memoizedState||(c.flags|=1024),c.memoizedProps=p,c.memoizedState=st),E.props=p,E.state=st,E.context=Le,p=ft):(typeof E.componentDidUpdate!="function"||Q===s.memoizedProps&&at===s.memoizedState||(c.flags|=4),typeof E.getSnapshotBeforeUpdate!="function"||Q===s.memoizedProps&&at===s.memoizedState||(c.flags|=1024),p=!1)}return E=p,x1(s,c),p=(c.flags&128)!==0,E||p?(E=c.stateNode,d=p&&typeof d.getDerivedStateFromError!="function"?null:E.render(),c.flags|=1,s!==null&&p?(c.child=gn(c,s.child,null,C),c.child=gn(c,null,d,C)):ai(s,c,d,C),c.memoizedState=E.state,s=c.child):s=Ql(s,c,C),s}function Jy(s,c,d,p){return Xl(),c.flags|=256,ai(s,c,d,p),c.child}var vm={dehydrated:null,treeContext:null,retryLane:0,hydrationErrors:null};function ym(s){return{baseLanes:s,cachePool:Te()}}function bm(s,c,d){return s=s!==null?s.childLanes&~d:0,c&&(s|=Ts),s}function Qy(s,c,d){var p=c.pendingProps,C=!1,E=(c.flags&128)!==0,Q;if((Q=E)||(Q=s!==null&&s.memoizedState===null?!1:(Mr.current&2)!==0),Q&&(C=!0,c.flags&=-129),Q=(c.flags&32)!==0,c.flags&=-33,s===null){if(Cr){if(C?Hn(c):$n(),(s=dn)?(s=ob(s,Ln),s=s!==null&&s.data!=="&"?s:null,s!==null&&(c.memoizedState={dehydrated:s,treeContext:cl!==null?{id:Ji,overflow:Qi}:null,retryLane:536870912,hydrationErrors:null},d=Xh(s),d.return=c,c.child=d,Da=c,dn=null)):s=null,s===null)throw ul(c);return r2(s)?c.lanes=32:c.lanes=536870912,null}var me=p.children;return p=p.fallback,C?($n(),C=c.mode,me=v1({mode:"hidden",children:me},C),p=ll(p,C,d,null),me.return=c,p.return=c,me.sibling=p,c.child=me,p=c.child,p.memoizedState=ym(d),p.childLanes=bm(s,Q,d),c.memoizedState=vm,F0(null,p)):(Hn(c),wm(c,me))}var Le=s.memoizedState;if(Le!==null&&(me=Le.dehydrated,me!==null)){if(E)c.flags&256?(Hn(c),c.flags&=-257,c=_m(s,c,d)):c.memoizedState!==null?($n(),c.child=s.child,c.flags|=128,c=null):($n(),me=p.fallback,C=c.mode,p=v1({mode:"visible",children:p.children},C),me=ll(me,C,d,null),me.flags|=2,p.return=c,me.return=c,p.sibling=me,c.child=p,gn(c,s.child,null,d),p=c.child,p.memoizedState=ym(d),p.childLanes=bm(s,Q,d),c.memoizedState=vm,c=F0(null,p));else if(Hn(c),r2(me)){if(Q=me.nextSibling&&me.nextSibling.dataset,Q)var nt=Q.dgst;Q=nt,p=Error(n(419)),p.stack="",p.digest=Q,qc({value:p,source:null,stack:null}),c=_m(s,c,d)}else if(xa||dl(s,c,d,!1),Q=(d&s.childLanes)!==0,xa||Q){if(Q=pn,Q!==null&&(p=$a(Q,d),p!==0&&p!==Le.retryLane))throw Le.retryLane=p,Oo(s,p),ss(Q,s,p),mm;t2(me)||A1(),c=_m(s,c,d)}else t2(me)?(c.flags|=192,c.child=s.child,c=null):(s=Le.treeContext,dn=Zs(me.nextSibling),Da=c,Cr=!0,ri=null,Ln=!1,s!==null&&s1(c,s),c=wm(c,p.children),c.flags|=4096);return c}return C?($n(),me=p.fallback,C=c.mode,Le=s.child,nt=Le.sibling,p=Xi(Le,{mode:"hidden",children:p.children}),p.subtreeFlags=Le.subtreeFlags&65011712,nt!==null?me=Xi(nt,me):(me=ll(me,C,d,null),me.flags|=2),me.return=c,p.return=c,p.sibling=me,c.child=p,F0(null,p),p=c.child,me=s.child.memoizedState,me===null?me=ym(d):(C=me.cachePool,C!==null?(Le=zn._currentValue,C=C.parent!==Le?{parent:Le,pool:Le}:C):C=Te(),me={baseLanes:me.baseLanes|d,cachePool:C}),p.memoizedState=me,p.childLanes=bm(s,Q,d),c.memoizedState=vm,F0(s.child,p)):(Hn(c),d=s.child,s=d.sibling,d=Xi(d,{mode:"visible",children:p.children}),d.return=c,d.sibling=null,s!==null&&(Q=c.deletions,Q===null?(c.deletions=[s],c.flags|=16):Q.push(s)),c.child=d,c.memoizedState=null,d)}function wm(s,c){return c=v1({mode:"visible",children:c},s.mode),c.return=s,s.child=c}function v1(s,c){return s=qa(22,s,null,c),s.lanes=0,s}function _m(s,c,d){return gn(c,s.child,null,d),s=wm(c,c.pendingProps.children),s.flags|=2,c.memoizedState=null,s}function e5(s,c,d){s.lanes|=c;var p=s.alternate;p!==null&&(p.lanes|=c),Vc(s.return,c,d)}function Sm(s,c,d,p,C,E){var Q=s.memoizedState;Q===null?s.memoizedState={isBackwards:c,rendering:null,renderingStartTime:0,last:p,tail:d,tailMode:C,treeForkCount:E}:(Q.isBackwards=c,Q.rendering=null,Q.renderingStartTime=0,Q.last=p,Q.tail=d,Q.tailMode=C,Q.treeForkCount=E)}function t5(s,c,d){var p=c.pendingProps,C=p.revealOrder,E=p.tail;p=p.children;var Q=Mr.current,me=(Q&2)!==0;if(me?(Q=Q&1|2,c.flags|=128):Q&=1,L(Mr,Q),ai(s,c,p,d),p=Cr?Ku:0,!me&&s!==null&&(s.flags&128)!==0)e:for(s=c.child;s!==null;){if(s.tag===13)s.memoizedState!==null&&e5(s,d,c);else if(s.tag===19)e5(s,d,c);else if(s.child!==null){s.child.return=s,s=s.child;continue}if(s===c)break e;for(;s.sibling===null;){if(s.return===null||s.return===c)break e;s=s.return}s.sibling.return=s.return,s=s.sibling}switch(C){case"forwards":for(d=c.child,C=null;d!==null;)s=d.alternate,s!==null&&Ga(s)===null&&(C=d),d=d.sibling;d=C,d===null?(C=c.child,c.child=null):(C=d.sibling,d.sibling=null),Sm(c,!1,C,d,E,p);break;case"backwards":case"unstable_legacy-backwards":for(d=null,C=c.child,c.child=null;C!==null;){if(s=C.alternate,s!==null&&Ga(s)===null){c.child=C;break}s=C.sibling,C.sibling=d,d=C,C=s}Sm(c,!0,d,null,E,p);break;case"together":Sm(c,!1,null,null,void 0,p);break;default:c.memoizedState=null}return c.child}function Ql(s,c,d){if(s!==null&&(c.dependencies=s.dependencies),Jc|=c.lanes,(d&c.childLanes)===0)if(s!==null){if(dl(s,c,d,!1),(d&c.childLanes)===0)return null}else return null;if(s!==null&&c.child!==s.child)throw Error(n(153));if(c.child!==null){for(s=c.child,d=Xi(s,s.pendingProps),c.child=d,d.return=c;s.sibling!==null;)s=s.sibling,d=d.sibling=Xi(s,s.pendingProps),d.return=c;d.sibling=null}return c.child}function km(s,c){return(s.lanes&c)!==0?!0:(s=s.dependencies,!!(s!==null&&Qh(s)))}function kC(s,c,d){switch(c.tag){case 3:xe(c,c.stateNode.containerInfo),fl(c,zn,s.memoizedState.cache),Xl();break;case 27:case 5:ce(c);break;case 4:xe(c,c.stateNode.containerInfo);break;case 10:fl(c,c.type,c.memoizedProps.value);break;case 31:if(c.memoizedState!==null)return c.flags|=128,$r(c),null;break;case 13:var p=c.memoizedState;if(p!==null)return p.dehydrated!==null?(Hn(c),c.flags|=128,null):(d&c.child.childLanes)!==0?Qy(s,c,d):(Hn(c),s=Ql(s,c,d),s!==null?s.sibling:null);Hn(c);break;case 19:var C=(s.flags&128)!==0;if(p=(d&c.childLanes)!==0,p||(dl(s,c,d,!1),p=(d&c.childLanes)!==0),C){if(p)return t5(s,c,d);c.flags|=128}if(C=c.memoizedState,C!==null&&(C.rendering=null,C.tail=null,C.lastEffect=null),L(Mr,Mr.current),p)break;return null;case 22:return c.lanes=0,Yy(s,c,d,c.pendingProps);case 24:fl(c,zn,s.memoizedState.cache)}return Ql(s,c,d)}function r5(s,c,d){if(s!==null)if(s.memoizedProps!==c.pendingProps)xa=!0;else{if(!km(s,d)&&(c.flags&128)===0)return xa=!1,kC(s,c,d);xa=(s.flags&131072)!==0}else xa=!1,Cr&&(c.flags&1048576)!==0&&i1(c,Ku,c.index);switch(c.lanes=0,c.tag){case 16:e:{var p=c.pendingProps;if(s=Ke(c.elementType),c.type=s,typeof s=="function")Yh(s)?(p=eh(s,p),c.tag=1,c=Zy(null,c,s,p,d)):(c.tag=0,c=xm(null,c,s,p,d));else{if(s!=null){var C=s.$$typeof;if(C===j){c.tag=11,c=Vy(null,c,s,p,d);break e}else if(C===z){c.tag=14,c=Gy(null,c,s,p,d);break e}}throw c=F(s)||s,Error(n(306,c,""))}}return c;case 0:return xm(s,c,c.type,c.pendingProps,d);case 1:return p=c.type,C=eh(p,c.pendingProps),Zy(s,c,p,C,d);case 3:e:{if(xe(c,c.stateNode.containerInfo),s===null)throw Error(n(387));p=c.pendingProps;var E=c.memoizedState;C=E.element,kn(s,c),Yn(c,p,null,d);var Q=c.memoizedState;if(p=Q.cache,fl(c,zn,p),p!==E.cache&&Kl(c,[zn],d,!0),cn(),p=Q.element,E.isDehydrated)if(E={element:p,isDehydrated:!1,cache:Q.cache},c.updateQueue.baseState=E,c.memoizedState=E,c.flags&256){c=Jy(s,c,p,d);break e}else if(p!==C){C=Ki(Error(n(424)),c),qc(C),c=Jy(s,c,p,d);break e}else{switch(s=c.stateNode.containerInfo,s.nodeType){case 9:s=s.body;break;default:s=s.nodeName==="HTML"?s.ownerDocument.body:s}for(dn=Zs(s.firstChild),Da=c,Cr=!0,ri=null,Ln=!0,d=gr(c,null,p,d),c.child=d;d;)d.flags=d.flags&-3|4096,d=d.sibling}else{if(Xl(),p===C){c=Ql(s,c,d);break e}ai(s,c,p,d)}c=c.child}return c;case 26:return x1(s,c),s===null?(d=db(c.type,null,c.pendingProps,null))?c.memoizedState=d:Cr||(d=c.type,s=c.pendingProps,p=M1(ie.current).createElement(d),p[we]=c,p[Se]=s,ii(p,d,s),Ht(p),c.stateNode=p):c.memoizedState=db(c.type,s.memoizedProps,c.pendingProps,s.memoizedState),null;case 27:return ce(c),s===null&&Cr&&(p=c.stateNode=ub(c.type,c.pendingProps,ie.current),Da=c,Ln=!0,C=dn,nu(c.type)?(n2=C,dn=Zs(p.firstChild)):dn=C),ai(s,c,c.pendingProps.children,d),x1(s,c),s===null&&(c.flags|=4194304),c.child;case 5:return s===null&&Cr&&((C=p=dn)&&(p=eT(p,c.type,c.pendingProps,Ln),p!==null?(c.stateNode=p,Da=c,dn=Zs(p.firstChild),Ln=!1,C=!0):C=!1),C||ul(c)),ce(c),C=c.type,E=c.pendingProps,Q=s!==null?s.memoizedProps:null,p=E.children,Jm(C,E)?p=null:Q!==null&&Jm(C,Q)&&(c.flags|=32),c.memoizedState!==null&&(C=k0(s,c,im,null,null,d),X0._currentValue=C),x1(s,c),ai(s,c,p,d),c.child;case 6:return s===null&&Cr&&((s=d=dn)&&(d=tT(d,c.pendingProps,Ln),d!==null?(c.stateNode=d,Da=c,dn=null,s=!0):s=!1),s||ul(c)),null;case 13:return Qy(s,c,d);case 4:return xe(c,c.stateNode.containerInfo),p=c.pendingProps,s===null?c.child=gn(c,null,p,d):ai(s,c,p,d),c.child;case 11:return Vy(s,c,c.type,c.pendingProps,d);case 7:return ai(s,c,c.pendingProps,d),c.child;case 8:return ai(s,c,c.pendingProps.children,d),c.child;case 12:return ai(s,c,c.pendingProps.children,d),c.child;case 10:return p=c.pendingProps,fl(c,c.type,p.value),ai(s,c,p.children,d),c.child;case 9:return C=c.type._context,p=c.pendingProps.children,gl(c),C=Fa(C),p=p(C),c.flags|=1,ai(s,c,p,d),c.child;case 14:return Gy(s,c,c.type,c.pendingProps,d);case 15:return Wy(s,c,c.type,c.pendingProps,d);case 19:return t5(s,c,d);case 31:return SC(s,c,d);case 22:return Yy(s,c,d,c.pendingProps);case 24:return gl(c),p=Fa(zn),s===null?(C=ye(),C===null&&(C=pn,E=Gc(),C.pooledCache=E,E.refCount++,E!==null&&(C.pooledCacheLanes|=d),C=E),c.memoizedState={parent:p,cache:C},Dt(c),fl(c,zn,C)):((s.lanes&d)!==0&&(kn(s,c),Yn(c,null,null,d),cn()),C=s.memoizedState,E=c.memoizedState,C.parent!==p?(C={parent:p,cache:p},c.memoizedState=C,c.lanes===0&&(c.memoizedState=c.updateQueue.baseState=C),fl(c,zn,p)):(p=E.cache,fl(c,zn,p),p!==C.cache&&Kl(c,[zn],d,!0))),ai(s,c,c.pendingProps.children,d),c.child;case 29:throw c.pendingProps}throw Error(n(156,c.tag))}function ec(s){s.flags|=4}function Cm(s,c,d,p,C){if((c=(s.mode&32)!==0)&&(c=!1),c){if(s.flags|=16777216,(C&335544128)===C)if(s.stateNode.complete)s.flags|=8192;else if(N5())s.flags|=8192;else throw lt=Ue,Qe}else s.flags&=-16777217}function n5(s,c){if(c.type!=="stylesheet"||(c.state.loading&4)!==0)s.flags&=-16777217;else if(s.flags|=16777216,!vb(c))if(N5())s.flags|=8192;else throw lt=Ue,Qe}function y1(s,c){c!==null&&(s.flags|=4),s.flags&16384&&(c=s.tag!==22?bn():536870912,s.lanes|=c,pf|=c)}function M0(s,c){if(!Cr)switch(s.tailMode){case"hidden":c=s.tail;for(var d=null;c!==null;)c.alternate!==null&&(d=c),c=c.sibling;d===null?s.tail=null:d.sibling=null;break;case"collapsed":d=s.tail;for(var p=null;d!==null;)d.alternate!==null&&(p=d),d=d.sibling;p===null?c||s.tail===null?s.tail=null:s.tail.sibling=null:p.sibling=null}}function An(s){var c=s.alternate!==null&&s.alternate.child===s.child,d=0,p=0;if(c)for(var C=s.child;C!==null;)d|=C.lanes|C.childLanes,p|=C.subtreeFlags&65011712,p|=C.flags&65011712,C.return=s,C=C.sibling;else for(C=s.child;C!==null;)d|=C.lanes|C.childLanes,p|=C.subtreeFlags,p|=C.flags,C.return=s,C=C.sibling;return s.subtreeFlags|=p,s.childLanes=d,c}function CC(s,c,d){var p=c.pendingProps;switch(Zh(c),c.tag){case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return An(c),null;case 1:return An(c),null;case 3:return d=c.stateNode,p=null,s!==null&&(p=s.memoizedState.cache),c.memoizedState.cache!==p&&(c.flags|=2048),es(zn),ve(),d.pendingContext&&(d.context=d.pendingContext,d.pendingContext=null),(s===null||s.child===null)&&(La(c)?ec(c):s===null||s.memoizedState.isDehydrated&&(c.flags&256)===0||(c.flags|=1024,_0())),An(c),null;case 26:var C=c.type,E=c.memoizedState;return s===null?(ec(c),E!==null?(An(c),n5(c,E)):(An(c),Cm(c,C,null,p,d))):E?E!==s.memoizedState?(ec(c),An(c),n5(c,E)):(An(c),c.flags&=-16777217):(s=s.memoizedProps,s!==p&&ec(c),An(c),Cm(c,C,s,p,d)),null;case 27:if(De(c),d=ie.current,C=c.type,s!==null&&c.stateNode!=null)s.memoizedProps!==p&&ec(c);else{if(!p){if(c.stateNode===null)throw Error(n(166));return An(c),null}s=P.current,La(c)?w0(c):(s=ub(C,p,d),c.stateNode=s,ec(c))}return An(c),null;case 5:if(De(c),C=c.type,s!==null&&c.stateNode!=null)s.memoizedProps!==p&&ec(c);else{if(!p){if(c.stateNode===null)throw Error(n(166));return An(c),null}if(E=P.current,La(c))w0(c);else{var Q=M1(ie.current);switch(E){case 1:E=Q.createElementNS("http://www.w3.org/2000/svg",C);break;case 2:E=Q.createElementNS("http://www.w3.org/1998/Math/MathML",C);break;default:switch(C){case"svg":E=Q.createElementNS("http://www.w3.org/2000/svg",C);break;case"math":E=Q.createElementNS("http://www.w3.org/1998/Math/MathML",C);break;case"script":E=Q.createElement("div"),E.innerHTML="<script><\/script>",E=E.removeChild(E.firstChild);break;case"select":E=typeof p.is=="string"?Q.createElement("select",{is:p.is}):Q.createElement("select"),p.multiple?E.multiple=!0:p.size&&(E.size=p.size);break;default:E=typeof p.is=="string"?Q.createElement(C,{is:p.is}):Q.createElement(C)}}E[we]=c,E[Se]=p;e:for(Q=c.child;Q!==null;){if(Q.tag===5||Q.tag===6)E.appendChild(Q.stateNode);else if(Q.tag!==4&&Q.tag!==27&&Q.child!==null){Q.child.return=Q,Q=Q.child;continue}if(Q===c)break e;for(;Q.sibling===null;){if(Q.return===null||Q.return===c)break e;Q=Q.return}Q.sibling.return=Q.return,Q=Q.sibling}c.stateNode=E;e:switch(ii(E,C,p),C){case"button":case"input":case"select":case"textarea":p=!!p.autoFocus;break e;case"img":p=!0;break e;default:p=!1}p&&ec(c)}}return An(c),Cm(c,c.type,s===null?null:s.memoizedProps,c.pendingProps,d),null;case 6:if(s&&c.stateNode!=null)s.memoizedProps!==p&&ec(c);else{if(typeof p!="string"&&c.stateNode===null)throw Error(n(166));if(s=ie.current,La(c)){if(s=c.stateNode,d=c.memoizedProps,p=null,C=Da,C!==null)switch(C.tag){case 27:case 5:p=C.memoizedProps}s[we]=c,s=!!(s.nodeValue===d||p!==null&&p.suppressHydrationWarning===!0||Q5(s.nodeValue,d)),s||ul(c,!0)}else s=M1(s).createTextNode(p),s[we]=c,c.stateNode=s}return An(c),null;case 31:if(d=c.memoizedState,s===null||s.memoizedState!==null){if(p=La(c),d!==null){if(s===null){if(!p)throw Error(n(318));if(s=c.memoizedState,s=s!==null?s.dehydrated:null,!s)throw Error(n(557));s[we]=c}else Xl(),(c.flags&128)===0&&(c.memoizedState=null),c.flags|=4;An(c),s=!1}else d=_0(),s!==null&&s.memoizedState!==null&&(s.memoizedState.hydrationErrors=d),s=!0;if(!s)return c.flags&256?(tn(c),c):(tn(c),null);if((c.flags&128)!==0)throw Error(n(558))}return An(c),null;case 13:if(p=c.memoizedState,s===null||s.memoizedState!==null&&s.memoizedState.dehydrated!==null){if(C=La(c),p!==null&&p.dehydrated!==null){if(s===null){if(!C)throw Error(n(318));if(C=c.memoizedState,C=C!==null?C.dehydrated:null,!C)throw Error(n(317));C[we]=c}else Xl(),(c.flags&128)===0&&(c.memoizedState=null),c.flags|=4;An(c),C=!1}else C=_0(),s!==null&&s.memoizedState!==null&&(s.memoizedState.hydrationErrors=C),C=!0;if(!C)return c.flags&256?(tn(c),c):(tn(c),null)}return tn(c),(c.flags&128)!==0?(c.lanes=d,c):(d=p!==null,s=s!==null&&s.memoizedState!==null,d&&(p=c.child,C=null,p.alternate!==null&&p.alternate.memoizedState!==null&&p.alternate.memoizedState.cachePool!==null&&(C=p.alternate.memoizedState.cachePool.pool),E=null,p.memoizedState!==null&&p.memoizedState.cachePool!==null&&(E=p.memoizedState.cachePool.pool),E!==C&&(p.flags|=2048)),d!==s&&d&&(c.child.flags|=8192),y1(c,c.updateQueue),An(c),null);case 4:return ve(),s===null&&Ym(c.stateNode.containerInfo),An(c),null;case 10:return es(c.type),An(c),null;case 19:if(w(Mr),p=c.memoizedState,p===null)return An(c),null;if(C=(c.flags&128)!==0,E=p.rendering,E===null)if(C)M0(p,!1);else{if(Jn!==0||s!==null&&(s.flags&128)!==0)for(s=c.child;s!==null;){if(E=Ga(s),E!==null){for(c.flags|=128,M0(p,!1),s=E.updateQueue,c.updateQueue=s,y1(c,s),c.subtreeFlags=0,s=d,d=c.child;d!==null;)Yu(d,s),d=d.sibling;return L(Mr,Mr.current&1|2),Cr&&ji(c,p.treeForkCount),c.child}s=s.sibling}p.tail!==null&&$e()>k1&&(c.flags|=128,C=!0,M0(p,!1),c.lanes=4194304)}else{if(!C)if(s=Ga(E),s!==null){if(c.flags|=128,C=!0,s=s.updateQueue,c.updateQueue=s,y1(c,s),M0(p,!0),p.tail===null&&p.tailMode==="hidden"&&!E.alternate&&!Cr)return An(c),null}else 2*$e()-p.renderingStartTime>k1&&d!==536870912&&(c.flags|=128,C=!0,M0(p,!1),c.lanes=4194304);p.isBackwards?(E.sibling=c.child,c.child=E):(s=p.last,s!==null?s.sibling=E:c.child=E,p.last=E)}return p.tail!==null?(s=p.tail,p.rendering=s,p.tail=s.sibling,p.renderingStartTime=$e(),s.sibling=null,d=Mr.current,L(Mr,C?d&1|2:d&1),Cr&&ji(c,p.treeForkCount),s):(An(c),null);case 22:case 23:return tn(c),ia(),p=c.memoizedState!==null,s!==null?s.memoizedState!==null!==p&&(c.flags|=8192):p&&(c.flags|=8192),p?(d&536870912)!==0&&(c.flags&128)===0&&(An(c),c.subtreeFlags&6&&(c.flags|=8192)):An(c),d=c.updateQueue,d!==null&&y1(c,d.retryQueue),d=null,s!==null&&s.memoizedState!==null&&s.memoizedState.cachePool!==null&&(d=s.memoizedState.cachePool.pool),p=null,c.memoizedState!==null&&c.memoizedState.cachePool!==null&&(p=c.memoizedState.cachePool.pool),p!==d&&(c.flags|=2048),s!==null&&w(pe),null;case 24:return d=null,s!==null&&(d=s.memoizedState.cache),c.memoizedState.cache!==d&&(c.flags|=2048),es(zn),An(c),null;case 25:return null;case 30:return null}throw Error(n(156,c.tag))}function TC(s,c){switch(Zh(c),c.tag){case 1:return s=c.flags,s&65536?(c.flags=s&-65537|128,c):null;case 3:return es(zn),ve(),s=c.flags,(s&65536)!==0&&(s&128)===0?(c.flags=s&-65537|128,c):null;case 26:case 27:case 5:return De(c),null;case 31:if(c.memoizedState!==null){if(tn(c),c.alternate===null)throw Error(n(340));Xl()}return s=c.flags,s&65536?(c.flags=s&-65537|128,c):null;case 13:if(tn(c),s=c.memoizedState,s!==null&&s.dehydrated!==null){if(c.alternate===null)throw Error(n(340));Xl()}return s=c.flags,s&65536?(c.flags=s&-65537|128,c):null;case 19:return w(Mr),null;case 4:return ve(),null;case 10:return es(c.type),null;case 22:case 23:return tn(c),ia(),s!==null&&w(pe),s=c.flags,s&65536?(c.flags=s&-65537|128,c):null;case 24:return es(zn),null;case 25:return null;default:return null}}function a5(s,c){switch(Zh(c),c.tag){case 3:es(zn),ve();break;case 26:case 27:case 5:De(c);break;case 4:ve();break;case 31:c.memoizedState!==null&&tn(c);break;case 13:tn(c);break;case 19:w(Mr);break;case 10:es(c.type);break;case 22:case 23:tn(c),ia(),s!==null&&w(pe);break;case 24:es(zn)}}function j0(s,c){try{var d=c.updateQueue,p=d!==null?d.lastEffect:null;if(p!==null){var C=p.next;d=C;do{if((d.tag&s)===s){p=void 0;var E=d.create,Q=d.inst;p=E(),Q.destroy=p}d=d.next}while(d!==C)}}catch(me){nn(c,c.return,me)}}function $c(s,c,d){try{var p=c.updateQueue,C=p!==null?p.lastEffect:null;if(C!==null){var E=C.next;p=E;do{if((p.tag&s)===s){var Q=p.inst,me=Q.destroy;if(me!==void 0){Q.destroy=void 0,C=c;var Le=d,nt=me;try{nt()}catch(ft){nn(C,Le,ft)}}}p=p.next}while(p!==E)}}catch(ft){nn(c,c.return,ft)}}function i5(s){var c=s.updateQueue;if(c!==null){var d=s.stateNode;try{Xn(c,d)}catch(p){nn(s,s.return,p)}}}function s5(s,c,d){d.props=eh(s.type,s.memoizedProps),d.state=s.memoizedState;try{d.componentWillUnmount()}catch(p){nn(s,c,p)}}function R0(s,c){try{var d=s.ref;if(d!==null){switch(s.tag){case 26:case 27:case 5:var p=s.stateNode;break;case 30:p=s.stateNode;break;default:p=s.stateNode}typeof d=="function"?s.refCleanup=d(p):d.current=p}}catch(C){nn(s,c,C)}}function yl(s,c){var d=s.ref,p=s.refCleanup;if(d!==null)if(typeof p=="function")try{p()}catch(C){nn(s,c,C)}finally{s.refCleanup=null,s=s.alternate,s!=null&&(s.refCleanup=null)}else if(typeof d=="function")try{d(null)}catch(C){nn(s,c,C)}else d.current=null}function o5(s){var c=s.type,d=s.memoizedProps,p=s.stateNode;try{e:switch(c){case"button":case"input":case"select":case"textarea":d.autoFocus&&p.focus();break e;case"img":d.src?p.src=d.src:d.srcSet&&(p.srcset=d.srcSet)}}catch(C){nn(s,s.return,C)}}function Tm(s,c,d){try{var p=s.stateNode;XC(p,s.type,d,c),p[Se]=c}catch(C){nn(s,s.return,C)}}function l5(s){return s.tag===5||s.tag===3||s.tag===26||s.tag===27&&nu(s.type)||s.tag===4}function Am(s){e:for(;;){for(;s.sibling===null;){if(s.return===null||l5(s.return))return null;s=s.return}for(s.sibling.return=s.return,s=s.sibling;s.tag!==5&&s.tag!==6&&s.tag!==18;){if(s.tag===27&&nu(s.type)||s.flags&2||s.child===null||s.tag===4)continue e;s.child.return=s,s=s.child}if(!(s.flags&2))return s.stateNode}}function Em(s,c,d){var p=s.tag;if(p===5||p===6)s=s.stateNode,c?(d.nodeType===9?d.body:d.nodeName==="HTML"?d.ownerDocument.body:d).insertBefore(s,c):(c=d.nodeType===9?d.body:d.nodeName==="HTML"?d.ownerDocument.body:d,c.appendChild(s),d=d._reactRootContainer,d!=null||c.onclick!==null||(c.onclick=vs));else if(p!==4&&(p===27&&nu(s.type)&&(d=s.stateNode,c=null),s=s.child,s!==null))for(Em(s,c,d),s=s.sibling;s!==null;)Em(s,c,d),s=s.sibling}function b1(s,c,d){var p=s.tag;if(p===5||p===6)s=s.stateNode,c?d.insertBefore(s,c):d.appendChild(s);else if(p!==4&&(p===27&&nu(s.type)&&(d=s.stateNode),s=s.child,s!==null))for(b1(s,c,d),s=s.sibling;s!==null;)b1(s,c,d),s=s.sibling}function c5(s){var c=s.stateNode,d=s.memoizedProps;try{for(var p=s.type,C=c.attributes;C.length;)c.removeAttributeNode(C[0]);ii(c,p,d),c[we]=s,c[Se]=d}catch(E){nn(s,s.return,E)}}var tc=!1,va=!1,Nm=!1,u5=typeof WeakSet=="function"?WeakSet:Set,Wa=null;function AC(s,c){if(s=s.containerInfo,$m=z1,s=Eo(s),Ws(s)){if("selectionStart"in s)var d={start:s.selectionStart,end:s.selectionEnd};else e:{d=(d=s.ownerDocument)&&d.defaultView||window;var p=d.getSelection&&d.getSelection();if(p&&p.rangeCount!==0){d=p.anchorNode;var C=p.anchorOffset,E=p.focusNode;p=p.focusOffset;try{d.nodeType,E.nodeType}catch{d=null;break e}var Q=0,me=-1,Le=-1,nt=0,ft=0,vt=s,at=null;t:for(;;){for(var st;vt!==d||C!==0&&vt.nodeType!==3||(me=Q+C),vt!==E||p!==0&&vt.nodeType!==3||(Le=Q+p),vt.nodeType===3&&(Q+=vt.nodeValue.length),(st=vt.firstChild)!==null;)at=vt,vt=st;for(;;){if(vt===s)break t;if(at===d&&++nt===C&&(me=Q),at===E&&++ft===p&&(Le=Q),(st=vt.nextSibling)!==null)break;vt=at,at=vt.parentNode}vt=st}d=me===-1||Le===-1?null:{start:me,end:Le}}else d=null}d=d||{start:0,end:0}}else d=null;for(Zm={focusedElem:s,selectionRange:d},z1=!1,Wa=c;Wa!==null;)if(c=Wa,s=c.child,(c.subtreeFlags&1028)!==0&&s!==null)s.return=c,Wa=s;else for(;Wa!==null;){switch(c=Wa,E=c.alternate,s=c.flags,c.tag){case 0:if((s&4)!==0&&(s=c.updateQueue,s=s!==null?s.events:null,s!==null))for(d=0;d<s.length;d++)C=s[d],C.ref.impl=C.nextImpl;break;case 11:case 15:break;case 1:if((s&1024)!==0&&E!==null){s=void 0,d=c,C=E.memoizedProps,E=E.memoizedState,p=d.stateNode;try{var Wt=eh(d.type,C);s=p.getSnapshotBeforeUpdate(Wt,E),p.__reactInternalSnapshotBeforeUpdate=s}catch(sr){nn(d,d.return,sr)}}break;case 3:if((s&1024)!==0){if(s=c.stateNode.containerInfo,d=s.nodeType,d===9)e2(s);else if(d===1)switch(s.nodeName){case"HEAD":case"HTML":case"BODY":e2(s);break;default:s.textContent=""}}break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if((s&1024)!==0)throw Error(n(163))}if(s=c.sibling,s!==null){s.return=c.return,Wa=s;break}Wa=c.return}}function h5(s,c,d){var p=d.flags;switch(d.tag){case 0:case 11:case 15:nc(s,d),p&4&&j0(5,d);break;case 1:if(nc(s,d),p&4)if(s=d.stateNode,c===null)try{s.componentDidMount()}catch(Q){nn(d,d.return,Q)}else{var C=eh(d.type,c.memoizedProps);c=c.memoizedState;try{s.componentDidUpdate(C,c,s.__reactInternalSnapshotBeforeUpdate)}catch(Q){nn(d,d.return,Q)}}p&64&&i5(d),p&512&&R0(d,d.return);break;case 3:if(nc(s,d),p&64&&(s=d.updateQueue,s!==null)){if(c=null,d.child!==null)switch(d.child.tag){case 27:case 5:c=d.child.stateNode;break;case 1:c=d.child.stateNode}try{Xn(s,c)}catch(Q){nn(d,d.return,Q)}}break;case 27:c===null&&p&4&&c5(d);case 26:case 5:nc(s,d),c===null&&p&4&&o5(d),p&512&&R0(d,d.return);break;case 12:nc(s,d);break;case 31:nc(s,d),p&4&&g5(s,d);break;case 13:nc(s,d),p&4&&p5(s,d),p&64&&(s=d.memoizedState,s!==null&&(s=s.dehydrated,s!==null&&(d=RC.bind(null,d),rT(s,d))));break;case 22:if(p=d.memoizedState!==null||tc,!p){c=c!==null&&c.memoizedState!==null||va,C=tc;var E=va;tc=p,(va=c)&&!E?ac(s,d,(d.subtreeFlags&8772)!==0):nc(s,d),tc=C,va=E}break;case 30:break;default:nc(s,d)}}function f5(s){var c=s.alternate;c!==null&&(s.alternate=null,f5(c)),s.child=null,s.deletions=null,s.sibling=null,s.tag===5&&(c=s.stateNode,c!==null&&_t(c)),s.stateNode=null,s.return=null,s.dependencies=null,s.memoizedProps=null,s.memoizedState=null,s.pendingProps=null,s.stateNode=null,s.updateQueue=null}var jn=null,rs=!1;function rc(s,c,d){for(d=d.child;d!==null;)d5(s,c,d),d=d.sibling}function d5(s,c,d){if(Rt&&typeof Rt.onCommitFiberUnmount=="function")try{Rt.onCommitFiberUnmount(Et,d)}catch{}switch(d.tag){case 26:va||yl(d,c),rc(s,c,d),d.memoizedState?d.memoizedState.count--:d.stateNode&&(d=d.stateNode,d.parentNode.removeChild(d));break;case 27:va||yl(d,c);var p=jn,C=rs;nu(d.type)&&(jn=d.stateNode,rs=!1),rc(s,c,d),G0(d.stateNode),jn=p,rs=C;break;case 5:va||yl(d,c);case 6:if(p=jn,C=rs,jn=null,rc(s,c,d),jn=p,rs=C,jn!==null)if(rs)try{(jn.nodeType===9?jn.body:jn.nodeName==="HTML"?jn.ownerDocument.body:jn).removeChild(d.stateNode)}catch(E){nn(d,c,E)}else try{jn.removeChild(d.stateNode)}catch(E){nn(d,c,E)}break;case 18:jn!==null&&(rs?(s=jn,ib(s.nodeType===9?s.body:s.nodeName==="HTML"?s.ownerDocument.body:s,d.stateNode),Sf(s)):ib(jn,d.stateNode));break;case 4:p=jn,C=rs,jn=d.stateNode.containerInfo,rs=!0,rc(s,c,d),jn=p,rs=C;break;case 0:case 11:case 14:case 15:$c(2,d,c),va||$c(4,d,c),rc(s,c,d);break;case 1:va||(yl(d,c),p=d.stateNode,typeof p.componentWillUnmount=="function"&&s5(d,c,p)),rc(s,c,d);break;case 21:rc(s,c,d);break;case 22:va=(p=va)||d.memoizedState!==null,rc(s,c,d),va=p;break;default:rc(s,c,d)}}function g5(s,c){if(c.memoizedState===null&&(s=c.alternate,s!==null&&(s=s.memoizedState,s!==null))){s=s.dehydrated;try{Sf(s)}catch(d){nn(c,c.return,d)}}}function p5(s,c){if(c.memoizedState===null&&(s=c.alternate,s!==null&&(s=s.memoizedState,s!==null&&(s=s.dehydrated,s!==null))))try{Sf(s)}catch(d){nn(c,c.return,d)}}function EC(s){switch(s.tag){case 31:case 13:case 19:var c=s.stateNode;return c===null&&(c=s.stateNode=new u5),c;case 22:return s=s.stateNode,c=s._retryCache,c===null&&(c=s._retryCache=new u5),c;default:throw Error(n(435,s.tag))}}function w1(s,c){var d=EC(s);c.forEach(function(p){if(!d.has(p)){d.add(p);var C=BC.bind(null,s,p);p.then(C,C)}})}function ns(s,c){var d=c.deletions;if(d!==null)for(var p=0;p<d.length;p++){var C=d[p],E=s,Q=c,me=Q;e:for(;me!==null;){switch(me.tag){case 27:if(nu(me.type)){jn=me.stateNode,rs=!1;break e}break;case 5:jn=me.stateNode,rs=!1;break e;case 3:case 4:jn=me.stateNode.containerInfo,rs=!0;break e}me=me.return}if(jn===null)throw Error(n(160));d5(E,Q,C),jn=null,rs=!1,E=C.alternate,E!==null&&(E.return=null),C.return=null}if(c.subtreeFlags&13886)for(c=c.child;c!==null;)m5(c,s),c=c.sibling}var Ro=null;function m5(s,c){var d=s.alternate,p=s.flags;switch(s.tag){case 0:case 11:case 14:case 15:ns(c,s),as(s),p&4&&($c(3,s,s.return),j0(3,s),$c(5,s,s.return));break;case 1:ns(c,s),as(s),p&512&&(va||d===null||yl(d,d.return)),p&64&&tc&&(s=s.updateQueue,s!==null&&(p=s.callbacks,p!==null&&(d=s.shared.hiddenCallbacks,s.shared.hiddenCallbacks=d===null?p:d.concat(p))));break;case 26:var C=Ro;if(ns(c,s),as(s),p&512&&(va||d===null||yl(d,d.return)),p&4){var E=d!==null?d.memoizedState:null;if(p=s.memoizedState,d===null)if(p===null)if(s.stateNode===null){e:{p=s.type,d=s.memoizedProps,C=C.ownerDocument||C;t:switch(p){case"title":E=C.getElementsByTagName("title")[0],(!E||E[et]||E[we]||E.namespaceURI==="http://www.w3.org/2000/svg"||E.hasAttribute("itemprop"))&&(E=C.createElement(p),C.head.insertBefore(E,C.querySelector("head > title"))),ii(E,p,d),E[we]=s,Ht(E),p=E;break e;case"link":var Q=mb("link","href",C).get(p+(d.href||""));if(Q){for(var me=0;me<Q.length;me++)if(E=Q[me],E.getAttribute("href")===(d.href==null||d.href===""?null:d.href)&&E.getAttribute("rel")===(d.rel==null?null:d.rel)&&E.getAttribute("title")===(d.title==null?null:d.title)&&E.getAttribute("crossorigin")===(d.crossOrigin==null?null:d.crossOrigin)){Q.splice(me,1);break t}}E=C.createElement(p),ii(E,p,d),C.head.appendChild(E);break;case"meta":if(Q=mb("meta","content",C).get(p+(d.content||""))){for(me=0;me<Q.length;me++)if(E=Q[me],E.getAttribute("content")===(d.content==null?null:""+d.content)&&E.getAttribute("name")===(d.name==null?null:d.name)&&E.getAttribute("property")===(d.property==null?null:d.property)&&E.getAttribute("http-equiv")===(d.httpEquiv==null?null:d.httpEquiv)&&E.getAttribute("charset")===(d.charSet==null?null:d.charSet)){Q.splice(me,1);break t}}E=C.createElement(p),ii(E,p,d),C.head.appendChild(E);break;default:throw Error(n(468,p))}E[we]=s,Ht(E),p=E}s.stateNode=p}else xb(C,s.type,s.stateNode);else s.stateNode=pb(C,p,s.memoizedProps);else E!==p?(E===null?d.stateNode!==null&&(d=d.stateNode,d.parentNode.removeChild(d)):E.count--,p===null?xb(C,s.type,s.stateNode):pb(C,p,s.memoizedProps)):p===null&&s.stateNode!==null&&Tm(s,s.memoizedProps,d.memoizedProps)}break;case 27:ns(c,s),as(s),p&512&&(va||d===null||yl(d,d.return)),d!==null&&p&4&&Tm(s,s.memoizedProps,d.memoizedProps);break;case 5:if(ns(c,s),as(s),p&512&&(va||d===null||yl(d,d.return)),s.flags&32){C=s.stateNode;try{xs(C,"")}catch(Wt){nn(s,s.return,Wt)}}p&4&&s.stateNode!=null&&(C=s.memoizedProps,Tm(s,C,d!==null?d.memoizedProps:C)),p&1024&&(Nm=!0);break;case 6:if(ns(c,s),as(s),p&4){if(s.stateNode===null)throw Error(n(162));p=s.memoizedProps,d=s.stateNode;try{d.nodeValue=p}catch(Wt){nn(s,s.return,Wt)}}break;case 3:if(B1=null,C=Ro,Ro=j1(c.containerInfo),ns(c,s),Ro=C,as(s),p&4&&d!==null&&d.memoizedState.isDehydrated)try{Sf(c.containerInfo)}catch(Wt){nn(s,s.return,Wt)}Nm&&(Nm=!1,x5(s));break;case 4:p=Ro,Ro=j1(s.stateNode.containerInfo),ns(c,s),as(s),Ro=p;break;case 12:ns(c,s),as(s);break;case 31:ns(c,s),as(s),p&4&&(p=s.updateQueue,p!==null&&(s.updateQueue=null,w1(s,p)));break;case 13:ns(c,s),as(s),s.child.flags&8192&&s.memoizedState!==null!=(d!==null&&d.memoizedState!==null)&&(S1=$e()),p&4&&(p=s.updateQueue,p!==null&&(s.updateQueue=null,w1(s,p)));break;case 22:C=s.memoizedState!==null;var Le=d!==null&&d.memoizedState!==null,nt=tc,ft=va;if(tc=nt||C,va=ft||Le,ns(c,s),va=ft,tc=nt,as(s),p&8192)e:for(c=s.stateNode,c._visibility=C?c._visibility&-2:c._visibility|1,C&&(d===null||Le||tc||va||th(s)),d=null,c=s;;){if(c.tag===5||c.tag===26){if(d===null){Le=d=c;try{if(E=Le.stateNode,C)Q=E.style,typeof Q.setProperty=="function"?Q.setProperty("display","none","important"):Q.display="none";else{me=Le.stateNode;var vt=Le.memoizedProps.style,at=vt!=null&&vt.hasOwnProperty("display")?vt.display:null;me.style.display=at==null||typeof at=="boolean"?"":(""+at).trim()}}catch(Wt){nn(Le,Le.return,Wt)}}}else if(c.tag===6){if(d===null){Le=c;try{Le.stateNode.nodeValue=C?"":Le.memoizedProps}catch(Wt){nn(Le,Le.return,Wt)}}}else if(c.tag===18){if(d===null){Le=c;try{var st=Le.stateNode;C?sb(st,!0):sb(Le.stateNode,!1)}catch(Wt){nn(Le,Le.return,Wt)}}}else if((c.tag!==22&&c.tag!==23||c.memoizedState===null||c===s)&&c.child!==null){c.child.return=c,c=c.child;continue}if(c===s)break e;for(;c.sibling===null;){if(c.return===null||c.return===s)break e;d===c&&(d=null),c=c.return}d===c&&(d=null),c.sibling.return=c.return,c=c.sibling}p&4&&(p=s.updateQueue,p!==null&&(d=p.retryQueue,d!==null&&(p.retryQueue=null,w1(s,d))));break;case 19:ns(c,s),as(s),p&4&&(p=s.updateQueue,p!==null&&(s.updateQueue=null,w1(s,p)));break;case 30:break;case 21:break;default:ns(c,s),as(s)}}function as(s){var c=s.flags;if(c&2){try{for(var d,p=s.return;p!==null;){if(l5(p)){d=p;break}p=p.return}if(d==null)throw Error(n(160));switch(d.tag){case 27:var C=d.stateNode,E=Am(s);b1(s,E,C);break;case 5:var Q=d.stateNode;d.flags&32&&(xs(Q,""),d.flags&=-33);var me=Am(s);b1(s,me,Q);break;case 3:case 4:var Le=d.stateNode.containerInfo,nt=Am(s);Em(s,nt,Le);break;default:throw Error(n(161))}}catch(ft){nn(s,s.return,ft)}s.flags&=-3}c&4096&&(s.flags&=-4097)}function x5(s){if(s.subtreeFlags&1024)for(s=s.child;s!==null;){var c=s;x5(c),c.tag===5&&c.flags&1024&&c.stateNode.reset(),s=s.sibling}}function nc(s,c){if(c.subtreeFlags&8772)for(c=c.child;c!==null;)h5(s,c.alternate,c),c=c.sibling}function th(s){for(s=s.child;s!==null;){var c=s;switch(c.tag){case 0:case 11:case 14:case 15:$c(4,c,c.return),th(c);break;case 1:yl(c,c.return);var d=c.stateNode;typeof d.componentWillUnmount=="function"&&s5(c,c.return,d),th(c);break;case 27:G0(c.stateNode);case 26:case 5:yl(c,c.return),th(c);break;case 22:c.memoizedState===null&&th(c);break;case 30:th(c);break;default:th(c)}s=s.sibling}}function ac(s,c,d){for(d=d&&(c.subtreeFlags&8772)!==0,c=c.child;c!==null;){var p=c.alternate,C=s,E=c,Q=E.flags;switch(E.tag){case 0:case 11:case 15:ac(C,E,d),j0(4,E);break;case 1:if(ac(C,E,d),p=E,C=p.stateNode,typeof C.componentDidMount=="function")try{C.componentDidMount()}catch(nt){nn(p,p.return,nt)}if(p=E,C=p.updateQueue,C!==null){var me=p.stateNode;try{var Le=C.shared.hiddenCallbacks;if(Le!==null)for(C.shared.hiddenCallbacks=null,C=0;C<Le.length;C++)Va(Le[C],me)}catch(nt){nn(p,p.return,nt)}}d&&Q&64&&i5(E),R0(E,E.return);break;case 27:c5(E);case 26:case 5:ac(C,E,d),d&&p===null&&Q&4&&o5(E),R0(E,E.return);break;case 12:ac(C,E,d);break;case 31:ac(C,E,d),d&&Q&4&&g5(C,E);break;case 13:ac(C,E,d),d&&Q&4&&p5(C,E);break;case 22:E.memoizedState===null&&ac(C,E,d),R0(E,E.return);break;case 30:break;default:ac(C,E,d)}c=c.sibling}}function Om(s,c){var d=null;s!==null&&s.memoizedState!==null&&s.memoizedState.cachePool!==null&&(d=s.memoizedState.cachePool.pool),s=null,c.memoizedState!==null&&c.memoizedState.cachePool!==null&&(s=c.memoizedState.cachePool.pool),s!==d&&(s!=null&&s.refCount++,d!=null&&$u(d))}function Dm(s,c){s=null,c.alternate!==null&&(s=c.alternate.memoizedState.cache),c=c.memoizedState.cache,c!==s&&(c.refCount++,s!=null&&$u(s))}function Bo(s,c,d,p){if(c.subtreeFlags&10256)for(c=c.child;c!==null;)v5(s,c,d,p),c=c.sibling}function v5(s,c,d,p){var C=c.flags;switch(c.tag){case 0:case 11:case 15:Bo(s,c,d,p),C&2048&&j0(9,c);break;case 1:Bo(s,c,d,p);break;case 3:Bo(s,c,d,p),C&2048&&(s=null,c.alternate!==null&&(s=c.alternate.memoizedState.cache),c=c.memoizedState.cache,c!==s&&(c.refCount++,s!=null&&$u(s)));break;case 12:if(C&2048){Bo(s,c,d,p),s=c.stateNode;try{var E=c.memoizedProps,Q=E.id,me=E.onPostCommit;typeof me=="function"&&me(Q,c.alternate===null?"mount":"update",s.passiveEffectDuration,-0)}catch(Le){nn(c,c.return,Le)}}else Bo(s,c,d,p);break;case 31:Bo(s,c,d,p);break;case 13:Bo(s,c,d,p);break;case 23:break;case 22:E=c.stateNode,Q=c.alternate,c.memoizedState!==null?E._visibility&2?Bo(s,c,d,p):B0(s,c):E._visibility&2?Bo(s,c,d,p):(E._visibility|=2,ff(s,c,d,p,(c.subtreeFlags&10256)!==0||!1)),C&2048&&Om(Q,c);break;case 24:Bo(s,c,d,p),C&2048&&Dm(c.alternate,c);break;default:Bo(s,c,d,p)}}function ff(s,c,d,p,C){for(C=C&&((c.subtreeFlags&10256)!==0||!1),c=c.child;c!==null;){var E=s,Q=c,me=d,Le=p,nt=Q.flags;switch(Q.tag){case 0:case 11:case 15:ff(E,Q,me,Le,C),j0(8,Q);break;case 23:break;case 22:var ft=Q.stateNode;Q.memoizedState!==null?ft._visibility&2?ff(E,Q,me,Le,C):B0(E,Q):(ft._visibility|=2,ff(E,Q,me,Le,C)),C&&nt&2048&&Om(Q.alternate,Q);break;case 24:ff(E,Q,me,Le,C),C&&nt&2048&&Dm(Q.alternate,Q);break;default:ff(E,Q,me,Le,C)}c=c.sibling}}function B0(s,c){if(c.subtreeFlags&10256)for(c=c.child;c!==null;){var d=s,p=c,C=p.flags;switch(p.tag){case 22:B0(d,p),C&2048&&Om(p.alternate,p);break;case 24:B0(d,p),C&2048&&Dm(p.alternate,p);break;default:B0(d,p)}c=c.sibling}}var P0=8192;function df(s,c,d){if(s.subtreeFlags&P0)for(s=s.child;s!==null;)y5(s,c,d),s=s.sibling}function y5(s,c,d){switch(s.tag){case 26:df(s,c,d),s.flags&P0&&s.memoizedState!==null&&gT(d,Ro,s.memoizedState,s.memoizedProps);break;case 5:df(s,c,d);break;case 3:case 4:var p=Ro;Ro=j1(s.stateNode.containerInfo),df(s,c,d),Ro=p;break;case 22:s.memoizedState===null&&(p=s.alternate,p!==null&&p.memoizedState!==null?(p=P0,P0=16777216,df(s,c,d),P0=p):df(s,c,d));break;default:df(s,c,d)}}function b5(s){var c=s.alternate;if(c!==null&&(s=c.child,s!==null)){c.child=null;do c=s.sibling,s.sibling=null,s=c;while(s!==null)}}function I0(s){var c=s.deletions;if((s.flags&16)!==0){if(c!==null)for(var d=0;d<c.length;d++){var p=c[d];Wa=p,_5(p,s)}b5(s)}if(s.subtreeFlags&10256)for(s=s.child;s!==null;)w5(s),s=s.sibling}function w5(s){switch(s.tag){case 0:case 11:case 15:I0(s),s.flags&2048&&$c(9,s,s.return);break;case 3:I0(s);break;case 12:I0(s);break;case 22:var c=s.stateNode;s.memoizedState!==null&&c._visibility&2&&(s.return===null||s.return.tag!==13)?(c._visibility&=-3,_1(s)):I0(s);break;default:I0(s)}}function _1(s){var c=s.deletions;if((s.flags&16)!==0){if(c!==null)for(var d=0;d<c.length;d++){var p=c[d];Wa=p,_5(p,s)}b5(s)}for(s=s.child;s!==null;){switch(c=s,c.tag){case 0:case 11:case 15:$c(8,c,c.return),_1(c);break;case 22:d=c.stateNode,d._visibility&2&&(d._visibility&=-3,_1(c));break;default:_1(c)}s=s.sibling}}function _5(s,c){for(;Wa!==null;){var d=Wa;switch(d.tag){case 0:case 11:case 15:$c(8,d,c);break;case 23:case 22:if(d.memoizedState!==null&&d.memoizedState.cachePool!==null){var p=d.memoizedState.cachePool.pool;p!=null&&p.refCount++}break;case 24:$u(d.memoizedState.cache)}if(p=d.child,p!==null)p.return=d,Wa=p;else e:for(d=s;Wa!==null;){p=Wa;var C=p.sibling,E=p.return;if(f5(p),p===d){Wa=null;break e}if(C!==null){C.return=E,Wa=C;break e}Wa=E}}}var NC={getCacheForType:function(s){var c=Fa(zn),d=c.data.get(s);return d===void 0&&(d=s(),c.data.set(s,d)),d},cacheSignal:function(){return Fa(zn).controller.signal}},OC=typeof WeakMap=="function"?WeakMap:Map,Zr=0,pn=null,Tr=null,Er=0,rn=0,Cs=null,Zc=!1,gf=!1,Lm=!1,ic=0,Jn=0,Jc=0,rh=0,Fm=0,Ts=0,pf=0,U0=null,is=null,Mm=!1,S1=0,S5=0,k1=1/0,C1=null,Qc=null,ja=0,eu=null,mf=null,sc=0,jm=0,Rm=null,k5=null,z0=0,Bm=null;function As(){return(Zr&2)!==0&&Er!==0?Er&-Er:ae.T!==null?qm():he()}function C5(){if(Ts===0)if((Er&536870912)===0||Cr){var s=St;St<<=1,(St&3932160)===0&&(St=262144),Ts=s}else Ts=536870912;return s=Tn.current,s!==null&&(s.flags|=32),Ts}function ss(s,c,d){(s===pn&&(rn===2||rn===9)||s.cancelPendingCommit!==null)&&(xf(s,0),tu(s,Er,Ts,!1)),jt(s,d),((Zr&2)===0||s!==pn)&&(s===pn&&((Zr&2)===0&&(rh|=d),Jn===4&&tu(s,Er,Ts,!1)),bl(s))}function T5(s,c,d){if((Zr&6)!==0)throw Error(n(327));var p=!d&&(c&127)===0&&(c&s.expiredLanes)===0||Jr(s,c),C=p?FC(s,c):Im(s,c,!0),E=p;do{if(C===0){gf&&!p&&tu(s,c,0,!1);break}else{if(d=s.current.alternate,E&&!DC(d)){C=Im(s,c,!1),E=!1;continue}if(C===2){if(E=c,s.errorRecoveryDisabledLanes&E)var Q=0;else Q=s.pendingLanes&-536870913,Q=Q!==0?Q:Q&536870912?536870912:0;if(Q!==0){c=Q;e:{var me=s;C=U0;var Le=me.current.memoizedState.isDehydrated;if(Le&&(xf(me,Q).flags|=256),Q=Im(me,Q,!1),Q!==2){if(Lm&&!Le){me.errorRecoveryDisabledLanes|=E,rh|=E,C=4;break e}E=is,is=C,E!==null&&(is===null?is=E:is.push.apply(is,E))}C=Q}if(E=!1,C!==2)continue}}if(C===1){xf(s,0),tu(s,c,0,!0);break}e:{switch(p=s,E=C,E){case 0:case 1:throw Error(n(345));case 4:if((c&4194048)!==c)break;case 6:tu(p,c,Ts,!Zc);break e;case 2:is=null;break;case 3:case 5:break;default:throw Error(n(329))}if((c&62914560)===c&&(C=S1+300-$e(),10<C)){if(tu(p,c,Ts,!Zc),$t(p,0,!0)!==0)break e;sc=c,p.timeoutHandle=nb(A5.bind(null,p,d,is,C1,Mm,c,Ts,rh,pf,Zc,E,"Throttled",-0,0),C);break e}A5(p,d,is,C1,Mm,c,Ts,rh,pf,Zc,E,null,-0,0)}}break}while(!0);bl(s)}function A5(s,c,d,p,C,E,Q,me,Le,nt,ft,vt,at,st){if(s.timeoutHandle=-1,vt=c.subtreeFlags,vt&8192||(vt&16785408)===16785408){vt={stylesheets:null,count:0,imgCount:0,imgBytes:0,suspenseyImages:[],waitingForImages:!0,waitingForViewTransition:!1,unsuspend:vs},y5(c,E,vt);var Wt=(E&62914560)===E?S1-$e():(E&4194048)===E?S5-$e():0;if(Wt=pT(vt,Wt),Wt!==null){sc=E,s.cancelPendingCommit=Wt(j5.bind(null,s,c,E,d,p,C,Q,me,Le,ft,vt,null,at,st)),tu(s,E,Q,!nt);return}}j5(s,c,E,d,p,C,Q,me,Le)}function DC(s){for(var c=s;;){var d=c.tag;if((d===0||d===11||d===15)&&c.flags&16384&&(d=c.updateQueue,d!==null&&(d=d.stores,d!==null)))for(var p=0;p<d.length;p++){var C=d[p],E=C.getSnapshot;C=C.value;try{if(!Na(E(),C))return!1}catch{return!1}}if(d=c.child,c.subtreeFlags&16384&&d!==null)d.return=c,c=d;else{if(c===s)break;for(;c.sibling===null;){if(c.return===null||c.return===s)return!0;c=c.return}c.sibling.return=c.return,c=c.sibling}}return!0}function tu(s,c,d,p){c&=~Fm,c&=~rh,s.suspendedLanes|=c,s.pingedLanes&=~c,p&&(s.warmLanes|=c),p=s.expirationTimes;for(var C=c;0<C;){var E=31-zt(C),Q=1<<E;p[E]=-1,C&=~Q}d!==0&&da(s,d,c)}function T1(){return(Zr&6)===0?(H0(0),!1):!0}function Pm(){if(Tr!==null){if(rn===0)var s=Tr.return;else s=Tr,Xs=hl=null,af(s),yt=null,Yt=0,s=Tr;for(;s!==null;)a5(s.alternate,s),s=s.return;Tr=null}}function xf(s,c){var d=s.timeoutHandle;d!==-1&&(s.timeoutHandle=-1,ZC(d)),d=s.cancelPendingCommit,d!==null&&(s.cancelPendingCommit=null,d()),sc=0,Pm(),pn=s,Tr=d=Xi(s.current,null),Er=c,rn=0,Cs=null,Zc=!1,gf=Jr(s,c),Lm=!1,pf=Ts=Fm=rh=Jc=Jn=0,is=U0=null,Mm=!1,(c&8)!==0&&(c|=c&32);var p=s.entangledLanes;if(p!==0)for(s=s.entanglements,p&=c;0<p;){var C=31-zt(p),E=1<<C;c|=s[C],p&=~E}return ic=c,Vu(),d}function E5(s,c){tr=null,ae.H=L0,c===Be||c===Ce?(c=pt(),rn=3):c===Qe?(c=pt(),rn=4):rn=c===mm?8:c!==null&&typeof c=="object"&&typeof c.then=="function"?6:1,Cs=c,Tr===null&&(Jn=1,p1(s,Ki(c,s.current)))}function N5(){var s=Tn.current;return s===null?!0:(Er&4194048)===Er?Br===null:(Er&62914560)===Er||(Er&536870912)!==0?s===Br:!1}function O5(){var s=ae.H;return ae.H=L0,s===null?L0:s}function D5(){var s=ae.A;return ae.A=NC,s}function A1(){Jn=4,Zc||(Er&4194048)!==Er&&Tn.current!==null||(gf=!0),(Jc&134217727)===0&&(rh&134217727)===0||pn===null||tu(pn,Er,Ts,!1)}function Im(s,c,d){var p=Zr;Zr|=2;var C=O5(),E=D5();(pn!==s||Er!==c)&&(C1=null,xf(s,c)),c=!1;var Q=Jn;e:do try{if(rn!==0&&Tr!==null){var me=Tr,Le=Cs;switch(rn){case 8:Pm(),Q=6;break e;case 3:case 2:case 9:case 6:Tn.current===null&&(c=!0);var nt=rn;if(rn=0,Cs=null,vf(s,me,Le,nt),d&&gf){Q=0;break e}break;default:nt=rn,rn=0,Cs=null,vf(s,me,Le,nt)}}LC(),Q=Jn;break}catch(ft){E5(s,ft)}while(!0);return c&&s.shellSuspendCounter++,Xs=hl=null,Zr=p,ae.H=C,ae.A=E,Tr===null&&(pn=null,Er=0,Vu()),Q}function LC(){for(;Tr!==null;)L5(Tr)}function FC(s,c){var d=Zr;Zr|=2;var p=O5(),C=D5();pn!==s||Er!==c?(C1=null,k1=$e()+500,xf(s,c)):gf=Jr(s,c);e:do try{if(rn!==0&&Tr!==null){c=Tr;var E=Cs;t:switch(rn){case 1:rn=0,Cs=null,vf(s,c,E,1);break;case 2:case 9:if(We(E)){rn=0,Cs=null,F5(c);break}c=function(){rn!==2&&rn!==9||pn!==s||(rn=7),bl(s)},E.then(c,c);break e;case 3:rn=7;break e;case 4:rn=5;break e;case 7:We(E)?(rn=0,Cs=null,F5(c)):(rn=0,Cs=null,vf(s,c,E,7));break;case 5:var Q=null;switch(Tr.tag){case 26:Q=Tr.memoizedState;case 5:case 27:var me=Tr;if(Q?vb(Q):me.stateNode.complete){rn=0,Cs=null;var Le=me.sibling;if(Le!==null)Tr=Le;else{var nt=me.return;nt!==null?(Tr=nt,E1(nt)):Tr=null}break t}}rn=0,Cs=null,vf(s,c,E,5);break;case 6:rn=0,Cs=null,vf(s,c,E,6);break;case 8:Pm(),Jn=6;break e;default:throw Error(n(462))}}MC();break}catch(ft){E5(s,ft)}while(!0);return Xs=hl=null,ae.H=p,ae.A=C,Zr=d,Tr!==null?0:(pn=null,Er=0,Vu(),Jn)}function MC(){for(;Tr!==null&&!Oe();)L5(Tr)}function L5(s){var c=r5(s.alternate,s,ic);s.memoizedProps=s.pendingProps,c===null?E1(s):Tr=c}function F5(s){var c=s,d=c.alternate;switch(c.tag){case 15:case 0:c=$y(d,c,c.pendingProps,c.type,void 0,Er);break;case 11:c=$y(d,c,c.pendingProps,c.type.render,c.ref,Er);break;case 5:af(c);default:a5(d,c),c=Tr=Yu(c,ic),c=r5(d,c,ic)}s.memoizedProps=s.pendingProps,c===null?E1(s):Tr=c}function vf(s,c,d,p){Xs=hl=null,af(c),yt=null,Yt=0;var C=c.return;try{if(_C(s,C,c,d,Er)){Jn=1,p1(s,Ki(d,s.current)),Tr=null;return}}catch(E){if(C!==null)throw Tr=C,E;Jn=1,p1(s,Ki(d,s.current)),Tr=null;return}c.flags&32768?(Cr||p===1?s=!0:gf||(Er&536870912)!==0?s=!1:(Zc=s=!0,(p===2||p===9||p===3||p===6)&&(p=Tn.current,p!==null&&p.tag===13&&(p.flags|=16384))),M5(c,s)):E1(c)}function E1(s){var c=s;do{if((c.flags&32768)!==0){M5(c,Zc);return}s=c.return;var d=CC(c.alternate,c,ic);if(d!==null){Tr=d;return}if(c=c.sibling,c!==null){Tr=c;return}Tr=c=s}while(c!==null);Jn===0&&(Jn=5)}function M5(s,c){do{var d=TC(s.alternate,s);if(d!==null){d.flags&=32767,Tr=d;return}if(d=s.return,d!==null&&(d.flags|=32768,d.subtreeFlags=0,d.deletions=null),!c&&(s=s.sibling,s!==null)){Tr=s;return}Tr=s=d}while(s!==null);Jn=6,Tr=null}function j5(s,c,d,p,C,E,Q,me,Le){s.cancelPendingCommit=null;do N1();while(ja!==0);if((Zr&6)!==0)throw Error(n(327));if(c!==null){if(c===s.current)throw Error(n(177));if(E=c.lanes|c.childLanes,E|=Vh,Vn(s,d,E,Q,me,Le),s===pn&&(Tr=pn=null,Er=0),mf=c,eu=s,sc=d,jm=E,Rm=C,k5=p,(c.subtreeFlags&10256)!==0||(c.flags&10256)!==0?(s.callbackNode=null,s.callbackPriority=0,PC(dt,function(){return U5(),null})):(s.callbackNode=null,s.callbackPriority=0),p=(c.flags&13878)!==0,(c.subtreeFlags&13878)!==0||p){p=ae.T,ae.T=null,C=J.p,J.p=2,Q=Zr,Zr|=4;try{AC(s,c,d)}finally{Zr=Q,J.p=C,ae.T=p}}ja=1,R5(),B5(),P5()}}function R5(){if(ja===1){ja=0;var s=eu,c=mf,d=(c.flags&13878)!==0;if((c.subtreeFlags&13878)!==0||d){d=ae.T,ae.T=null;var p=J.p;J.p=2;var C=Zr;Zr|=4;try{m5(c,s);var E=Zm,Q=Eo(s.containerInfo),me=E.focusedElem,Le=E.selectionRange;if(Q!==me&&me&&me.ownerDocument&&Ao(me.ownerDocument.documentElement,me)){if(Le!==null&&Ws(me)){var nt=Le.start,ft=Le.end;if(ft===void 0&&(ft=nt),"selectionStart"in me)me.selectionStart=nt,me.selectionEnd=Math.min(ft,me.value.length);else{var vt=me.ownerDocument||document,at=vt&&vt.defaultView||window;if(at.getSelection){var st=at.getSelection(),Wt=me.textContent.length,sr=Math.min(Le.start,Wt),fn=Le.end===void 0?sr:Math.min(Le.end,Wt);!st.extend&&sr>fn&&(Q=fn,fn=sr,sr=Q);var Ve=Ic(me,sr),Pe=Ic(me,fn);if(Ve&&Pe&&(st.rangeCount!==1||st.anchorNode!==Ve.node||st.anchorOffset!==Ve.offset||st.focusNode!==Pe.node||st.focusOffset!==Pe.offset)){var tt=vt.createRange();tt.setStart(Ve.node,Ve.offset),st.removeAllRanges(),sr>fn?(st.addRange(tt),st.extend(Pe.node,Pe.offset)):(tt.setEnd(Pe.node,Pe.offset),st.addRange(tt))}}}}for(vt=[],st=me;st=st.parentNode;)st.nodeType===1&&vt.push({element:st,left:st.scrollLeft,top:st.scrollTop});for(typeof me.focus=="function"&&me.focus(),me=0;me<vt.length;me++){var mt=vt[me];mt.element.scrollLeft=mt.left,mt.element.scrollTop=mt.top}}z1=!!$m,Zm=$m=null}finally{Zr=C,J.p=p,ae.T=d}}s.current=c,ja=2}}function B5(){if(ja===2){ja=0;var s=eu,c=mf,d=(c.flags&8772)!==0;if((c.subtreeFlags&8772)!==0||d){d=ae.T,ae.T=null;var p=J.p;J.p=2;var C=Zr;Zr|=4;try{h5(s,c.alternate,c)}finally{Zr=C,J.p=p,ae.T=d}}ja=3}}function P5(){if(ja===4||ja===3){ja=0,Ge();var s=eu,c=mf,d=sc,p=k5;(c.subtreeFlags&10256)!==0||(c.flags&10256)!==0?ja=5:(ja=0,mf=eu=null,I5(s,s.pendingLanes));var C=s.pendingLanes;if(C===0&&(Qc=null),Dn(d),c=c.stateNode,Rt&&typeof Rt.onCommitFiberRoot=="function")try{Rt.onCommitFiberRoot(Et,c,void 0,(c.current.flags&128)===128)}catch{}if(p!==null){c=ae.T,C=J.p,J.p=2,ae.T=null;try{for(var E=s.onRecoverableError,Q=0;Q<p.length;Q++){var me=p[Q];E(me.value,{componentStack:me.stack})}}finally{ae.T=c,J.p=C}}(sc&3)!==0&&N1(),bl(s),C=s.pendingLanes,(d&261930)!==0&&(C&42)!==0?s===Bm?z0++:(z0=0,Bm=s):z0=0,H0(0)}}function I5(s,c){(s.pooledCacheLanes&=c)===0&&(c=s.pooledCache,c!=null&&(s.pooledCache=null,$u(c)))}function N1(){return R5(),B5(),P5(),U5()}function U5(){if(ja!==5)return!1;var s=eu,c=jm;jm=0;var d=Dn(sc),p=ae.T,C=J.p;try{J.p=32>d?32:d,ae.T=null,d=Rm,Rm=null;var E=eu,Q=sc;if(ja=0,mf=eu=null,sc=0,(Zr&6)!==0)throw Error(n(331));var me=Zr;if(Zr|=4,w5(E.current),v5(E,E.current,Q,d),Zr=me,H0(0,!1),Rt&&typeof Rt.onPostCommitFiberRoot=="function")try{Rt.onPostCommitFiberRoot(Et,E)}catch{}return!0}finally{J.p=C,ae.T=p,I5(s,c)}}function z5(s,c,d){c=Ki(d,c),c=pm(s.stateNode,c,2),s=vr(s,c,2),s!==null&&(jt(s,2),bl(s))}function nn(s,c,d){if(s.tag===3)z5(s,s,d);else for(;c!==null;){if(c.tag===3){z5(c,s,d);break}else if(c.tag===1){var p=c.stateNode;if(typeof c.type.getDerivedStateFromError=="function"||typeof p.componentDidCatch=="function"&&(Qc===null||!Qc.has(p))){s=Ki(d,s),d=Hy(2),p=vr(c,d,2),p!==null&&(qy(d,p,c,s),jt(p,2),bl(p));break}}c=c.return}}function Um(s,c,d){var p=s.pingCache;if(p===null){p=s.pingCache=new OC;var C=new Set;p.set(c,C)}else C=p.get(c),C===void 0&&(C=new Set,p.set(c,C));C.has(d)||(Lm=!0,C.add(d),s=jC.bind(null,s,c,d),c.then(s,s))}function jC(s,c,d){var p=s.pingCache;p!==null&&p.delete(c),s.pingedLanes|=s.suspendedLanes&d,s.warmLanes&=~d,pn===s&&(Er&d)===d&&(Jn===4||Jn===3&&(Er&62914560)===Er&&300>$e()-S1?(Zr&2)===0&&xf(s,0):Fm|=d,pf===Er&&(pf=0)),bl(s)}function H5(s,c){c===0&&(c=bn()),s=Oo(s,c),s!==null&&(jt(s,c),bl(s))}function RC(s){var c=s.memoizedState,d=0;c!==null&&(d=c.retryLane),H5(s,d)}function BC(s,c){var d=0;switch(s.tag){case 31:case 13:var p=s.stateNode,C=s.memoizedState;C!==null&&(d=C.retryLane);break;case 19:p=s.stateNode;break;case 22:p=s.stateNode._retryCache;break;default:throw Error(n(314))}p!==null&&p.delete(c),H5(s,d)}function PC(s,c){return Fe(s,c)}var O1=null,yf=null,zm=!1,D1=!1,Hm=!1,ru=0;function bl(s){s!==yf&&s.next===null&&(yf===null?O1=yf=s:yf=yf.next=s),D1=!0,zm||(zm=!0,UC())}function H0(s,c){if(!Hm&&D1){Hm=!0;do for(var d=!1,p=O1;p!==null;){if(s!==0){var C=p.pendingLanes;if(C===0)var E=0;else{var Q=p.suspendedLanes,me=p.pingedLanes;E=(1<<31-zt(42|s)+1)-1,E&=C&~(Q&~me),E=E&201326741?E&201326741|1:E?E|2:0}E!==0&&(d=!0,W5(p,E))}else E=Er,E=$t(p,p===pn?E:0,p.cancelPendingCommit!==null||p.timeoutHandle!==-1),(E&3)===0||Jr(p,E)||(d=!0,W5(p,E));p=p.next}while(d);Hm=!1}}function IC(){q5()}function q5(){D1=zm=!1;var s=0;ru!==0&&$C()&&(s=ru);for(var c=$e(),d=null,p=O1;p!==null;){var C=p.next,E=V5(p,c);E===0?(p.next=null,d===null?O1=C:d.next=C,C===null&&(yf=d)):(d=p,(s!==0||(E&3)!==0)&&(D1=!0)),p=C}ja!==0&&ja!==5||H0(s),ru!==0&&(ru=0)}function V5(s,c){for(var d=s.suspendedLanes,p=s.pingedLanes,C=s.expirationTimes,E=s.pendingLanes&-62914561;0<E;){var Q=31-zt(E),me=1<<Q,Le=C[Q];Le===-1?((me&d)===0||(me&p)!==0)&&(C[Q]=Dr(me,c)):Le<=c&&(s.expiredLanes|=me),E&=~me}if(c=pn,d=Er,d=$t(s,s===c?d:0,s.cancelPendingCommit!==null||s.timeoutHandle!==-1),p=s.callbackNode,d===0||s===c&&(rn===2||rn===9)||s.cancelPendingCommit!==null)return p!==null&&p!==null&&je(p),s.callbackNode=null,s.callbackPriority=0;if((d&3)===0||Jr(s,d)){if(c=d&-d,c===s.callbackPriority)return c;switch(p!==null&&je(p),Dn(d)){case 2:case 8:d=Tt;break;case 32:d=dt;break;case 268435456:d=xt;break;default:d=dt}return p=G5.bind(null,s),d=Fe(d,p),s.callbackPriority=c,s.callbackNode=d,c}return p!==null&&p!==null&&je(p),s.callbackPriority=2,s.callbackNode=null,2}function G5(s,c){if(ja!==0&&ja!==5)return s.callbackNode=null,s.callbackPriority=0,null;var d=s.callbackNode;if(N1()&&s.callbackNode!==d)return null;var p=Er;return p=$t(s,s===pn?p:0,s.cancelPendingCommit!==null||s.timeoutHandle!==-1),p===0?null:(T5(s,p,c),V5(s,$e()),s.callbackNode!=null&&s.callbackNode===d?G5.bind(null,s):null)}function W5(s,c){if(N1())return null;T5(s,c,!0)}function UC(){JC(function(){(Zr&6)!==0?Fe(it,IC):q5()})}function qm(){if(ru===0){var s=b;s===0&&(s=Kt,Kt<<=1,(Kt&261888)===0&&(Kt=256)),ru=s}return ru}function Y5(s){return s==null||typeof s=="symbol"||typeof s=="boolean"?null:typeof s=="function"?s:hi(""+s)}function X5(s,c){var d=c.ownerDocument.createElement("input");return d.name=c.name,d.value=c.value,s.id&&d.setAttribute("form",s.id),c.parentNode.insertBefore(d,c),s=new FormData(s),d.parentNode.removeChild(d),s}function zC(s,c,d,p,C){if(c==="submit"&&d&&d.stateNode===C){var E=Y5((C[Se]||null).action),Q=p.submitter;Q&&(c=(c=Q[Se]||null)?Y5(c.formAction):Q.getAttribute("formAction"),c!==null&&(E=c,Q=null));var me=new Gi("action","action",null,p,C);s.push({event:me,listeners:[{instance:null,listener:function(){if(p.defaultPrevented){if(ru!==0){var Le=Q?X5(C,Q):new FormData(C);cm(d,{pending:!0,data:Le,method:C.method,action:E},null,Le)}}else typeof E=="function"&&(me.preventDefault(),Le=Q?X5(C,Q):new FormData(C),cm(d,{pending:!0,data:Le,method:C.method,action:E},E,Le))},currentTarget:C}]})}}for(var Vm=0;Vm<Gl.length;Vm++){var Gm=Gl[Vm],HC=Gm.toLowerCase(),qC=Gm[0].toUpperCase()+Gm.slice(1);Yi(HC,"on"+qC)}Yi(Vl,"onAnimationEnd"),Yi(Hu,"onAnimationIteration"),Yi(x0,"onAnimationStart"),Yi("dblclick","onDoubleClick"),Yi("focusin","onFocus"),Yi("focusout","onBlur"),Yi(r1,"onTransitionRun"),Yi(n1,"onTransitionStart"),Yi(a1,"onTransitionCancel"),Yi(v0,"onTransitionEnd"),Za("onMouseEnter",["mouseout","mouseover"]),Za("onMouseLeave",["mouseout","mouseover"]),Za("onPointerEnter",["pointerout","pointerover"]),Za("onPointerLeave",["pointerout","pointerover"]),Qr("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),Qr("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),Qr("onBeforeInput",["compositionend","keypress","textInput","paste"]),Qr("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),Qr("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),Qr("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var q0="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),VC=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(q0));function K5(s,c){c=(c&4)!==0;for(var d=0;d<s.length;d++){var p=s[d],C=p.event;p=p.listeners;e:{var E=void 0;if(c)for(var Q=p.length-1;0<=Q;Q--){var me=p[Q],Le=me.instance,nt=me.currentTarget;if(me=me.listener,Le!==E&&C.isPropagationStopped())break e;E=me,C.currentTarget=nt;try{E(C)}catch(ft){qu(ft)}C.currentTarget=null,E=Le}else for(Q=0;Q<p.length;Q++){if(me=p[Q],Le=me.instance,nt=me.currentTarget,me=me.listener,Le!==E&&C.isPropagationStopped())break e;E=me,C.currentTarget=nt;try{E(C)}catch(ft){qu(ft)}C.currentTarget=null,E=Le}}}}function Ar(s,c){var d=c[Xe];d===void 0&&(d=c[Xe]=new Set);var p=s+"__bubble";d.has(p)||($5(c,s,2,!1),d.add(p))}function Wm(s,c,d){var p=0;c&&(p|=4),$5(d,s,p,c)}var L1="_reactListening"+Math.random().toString(36).slice(2);function Ym(s){if(!s[L1]){s[L1]=!0,Xr.forEach(function(d){d!=="selectionchange"&&(VC.has(d)||Wm(d,!1,s),Wm(d,!0,s))});var c=s.nodeType===9?s:s.ownerDocument;c===null||c[L1]||(c[L1]=!0,Wm("selectionchange",!1,c))}}function $5(s,c,d,p){switch(Cb(c)){case 2:var C=vT;break;case 8:C=yT;break;default:C=l2}d=C.bind(null,c,d,s),C=void 0,!Bu||c!=="touchstart"&&c!=="touchmove"&&c!=="wheel"||(C=!0),p?C!==void 0?s.addEventListener(c,d,{capture:!0,passive:C}):s.addEventListener(c,d,!0):C!==void 0?s.addEventListener(c,d,{passive:C}):s.addEventListener(c,d,!1)}function Xm(s,c,d,p,C){var E=p;if((c&1)===0&&(c&2)===0&&p!==null)e:for(;;){if(p===null)return;var Q=p.tag;if(Q===3||Q===4){var me=p.stateNode.containerInfo;if(me===C)break;if(Q===4)for(Q=p.return;Q!==null;){var Le=Q.tag;if((Le===3||Le===4)&&Q.stateNode.containerInfo===C)return;Q=Q.return}for(;me!==null;){if(Q=Nt(me),Q===null)return;if(Le=Q.tag,Le===5||Le===6||Le===26||Le===27){p=E=Q;continue e}me=me.parentNode}}p=p.return}Ih(function(){var nt=E,ft=Bl(d),vt=[];e:{var at=y0.get(s);if(at!==void 0){var st=Gi,Wt=s;switch(s){case"keypress":if(Vi(d)===0)break e;case"keydown":case"keyup":st=Lr;break;case"focusin":Wt="focus",st=yo;break;case"focusout":Wt="blur",st=yo;break;case"beforeblur":case"afterblur":st=yo;break;case"click":if(d.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":st=Pu;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":st=vo;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":st=na;break;case Vl:case Hu:case x0:st=M;break;case v0:st=Ea;break;case"scroll":case"scrollend":st=Lc;break;case"wheel":st=ys;break;case"copy":case"cut":case"paste":st=Ee;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":st=Pn;break;case"toggle":case"beforetoggle":st=Iu}var sr=(c&4)!==0,fn=!sr&&(s==="scroll"||s==="scrollend"),Ve=sr?at!==null?at+"Capture":null:at;sr=[];for(var Pe=nt,tt;Pe!==null;){var mt=Pe;if(tt=mt.stateNode,mt=mt.tag,mt!==5&&mt!==26&&mt!==27||tt===null||Ve===null||(mt=Oi(Pe,Ve),mt!=null&&sr.push(V0(Pe,mt,tt))),fn)break;Pe=Pe.return}0<sr.length&&(at=new st(at,Wt,null,d,ft),vt.push({event:at,listeners:sr}))}}if((c&7)===0){e:{if(at=s==="mouseover"||s==="pointerover",st=s==="mouseout"||s==="pointerout",at&&d!==fo&&(Wt=d.relatedTarget||d.fromElement)&&(Nt(Wt)||Wt[Ne]))break e;if((st||at)&&(at=ft.window===ft?ft:(at=ft.ownerDocument)?at.defaultView||at.parentWindow:window,st?(Wt=d.relatedTarget||d.toElement,st=nt,Wt=Wt?Nt(Wt):null,Wt!==null&&(fn=i(Wt),sr=Wt.tag,Wt!==fn||sr!==5&&sr!==27&&sr!==6)&&(Wt=null)):(st=null,Wt=nt),st!==Wt)){if(sr=Pu,mt="onMouseLeave",Ve="onMouseEnter",Pe="mouse",(s==="pointerout"||s==="pointerover")&&(sr=Pn,mt="onPointerLeave",Ve="onPointerEnter",Pe="pointer"),fn=st==null?at:At(st),tt=Wt==null?at:At(Wt),at=new sr(mt,Pe+"leave",st,d,ft),at.target=fn,at.relatedTarget=tt,mt=null,Nt(ft)===nt&&(sr=new sr(Ve,Pe+"enter",Wt,d,ft),sr.target=tt,sr.relatedTarget=fn,mt=sr),fn=mt,st&&Wt)t:{for(sr=GC,Ve=st,Pe=Wt,tt=0,mt=Ve;mt;mt=sr(mt))tt++;mt=0;for(var nr=Pe;nr;nr=sr(nr))mt++;for(;0<tt-mt;)Ve=sr(Ve),tt--;for(;0<mt-tt;)Pe=sr(Pe),mt--;for(;tt--;){if(Ve===Pe||Pe!==null&&Ve===Pe.alternate){sr=Ve;break t}Ve=sr(Ve),Pe=sr(Pe)}sr=null}else sr=null;st!==null&&Z5(vt,at,st,sr,!1),Wt!==null&&fn!==null&&Z5(vt,fn,Wt,sr,!0)}}e:{if(at=nt?At(nt):window,st=at.nodeName&&at.nodeName.toLowerCase(),st==="select"||st==="input"&&at.type==="file")var Wr=ol;else if(Uu(at))if(fi)Wr=Vs;else{Wr=In;var Jt=Bc}else st=at.nodeName,!st||st.toLowerCase()!=="input"||at.type!=="checkbox"&&at.type!=="radio"?nt&&Mu(nt.elementType)&&(Wr=ol):Wr=qh;if(Wr&&(Wr=Wr(s,nt))){Li(vt,Wr,d,ft);break e}Jt&&Jt(s,at,nt),s==="focusout"&&nt&&at.type==="number"&&nt.memoizedProps.value!=null&&Du(at,"number",at.value)}switch(Jt=nt?At(nt):window,s){case"focusin":(Uu(Jt)||Jt.contentEditable==="true")&&(Fi=Jt,No=nt,za=null);break;case"focusout":za=No=Fi=null;break;case"mousedown":Wi=!0;break;case"contextmenu":case"mouseup":case"dragend":Wi=!1,Hr(vt,d,ft);break;case"selectionchange":if(ql)break;case"keydown":case"keyup":Hr(vt,d,ft)}var br;if(Us)e:{switch(s){case"compositionstart":var Nr="onCompositionStart";break e;case"compositionend":Nr="onCompositionEnd";break e;case"compositionupdate":Nr="onCompositionUpdate";break e}Nr=void 0}else zs?sl(s,d)&&(Nr="onCompositionEnd"):s==="keydown"&&d.keyCode===229&&(Nr="onCompositionStart");Nr&&(_o&&d.locale!=="ko"&&(zs||Nr!=="onCompositionStart"?Nr==="onCompositionEnd"&&zs&&(br=Uh()):(Di=ft,Il="value"in Di?Di.value:Di.textContent,zs=!0)),Jt=F1(nt,Nr),0<Jt.length&&(Nr=new qe(Nr,s,null,d,ft),vt.push({event:Nr,listeners:Jt}),br?Nr.data=br:(br=Mc(d),br!==null&&(Nr.data=br)))),(br=Hl?ei(s,d):So(s,d))&&(Nr=F1(nt,"onBeforeInput"),0<Nr.length&&(Jt=new qe("onBeforeInput","beforeinput",null,d,ft),vt.push({event:Jt,listeners:Nr}),Jt.data=br)),zC(vt,s,nt,d,ft)}K5(vt,c)})}function V0(s,c,d){return{instance:s,listener:c,currentTarget:d}}function F1(s,c){for(var d=c+"Capture",p=[];s!==null;){var C=s,E=C.stateNode;if(C=C.tag,C!==5&&C!==26&&C!==27||E===null||(C=Oi(s,d),C!=null&&p.unshift(V0(s,C,E)),C=Oi(s,c),C!=null&&p.push(V0(s,C,E))),s.tag===3)return p;s=s.return}return[]}function GC(s){if(s===null)return null;do s=s.return;while(s&&s.tag!==5&&s.tag!==27);return s||null}function Z5(s,c,d,p,C){for(var E=c._reactName,Q=[];d!==null&&d!==p;){var me=d,Le=me.alternate,nt=me.stateNode;if(me=me.tag,Le!==null&&Le===p)break;me!==5&&me!==26&&me!==27||nt===null||(Le=nt,C?(nt=Oi(d,E),nt!=null&&Q.unshift(V0(d,nt,Le))):C||(nt=Oi(d,E),nt!=null&&Q.push(V0(d,nt,Le)))),d=d.return}Q.length!==0&&s.push({event:c,listeners:Q})}var WC=/\r\n?/g,YC=/\u0000|\uFFFD/g;function J5(s){return(typeof s=="string"?s:""+s).replace(WC,`
`).replace(YC,"")}function Q5(s,c){return c=J5(c),J5(s)===c}function hn(s,c,d,p,C,E){switch(d){case"children":typeof p=="string"?c==="body"||c==="textarea"&&p===""||xs(s,p):(typeof p=="number"||typeof p=="bigint")&&c!=="body"&&xs(s,""+p);break;case"className":ho(s,"class",p);break;case"tabIndex":ho(s,"tabindex",p);break;case"dir":case"role":case"viewBox":case"width":case"height":ho(s,d,p);break;case"style":Rh(s,p,E);break;case"data":if(c!=="object"){ho(s,"data",p);break}case"src":case"href":if(p===""&&(c!=="a"||d!=="href")){s.removeAttribute(d);break}if(p==null||typeof p=="function"||typeof p=="symbol"||typeof p=="boolean"){s.removeAttribute(d);break}p=hi(""+p),s.setAttribute(d,p);break;case"action":case"formAction":if(typeof p=="function"){s.setAttribute(d,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}else typeof E=="function"&&(d==="formAction"?(c!=="input"&&hn(s,c,"name",C.name,C,null),hn(s,c,"formEncType",C.formEncType,C,null),hn(s,c,"formMethod",C.formMethod,C,null),hn(s,c,"formTarget",C.formTarget,C,null)):(hn(s,c,"encType",C.encType,C,null),hn(s,c,"method",C.method,C,null),hn(s,c,"target",C.target,C,null)));if(p==null||typeof p=="symbol"||typeof p=="boolean"){s.removeAttribute(d);break}p=hi(""+p),s.setAttribute(d,p);break;case"onClick":p!=null&&(s.onclick=vs);break;case"onScroll":p!=null&&Ar("scroll",s);break;case"onScrollEnd":p!=null&&Ar("scrollend",s);break;case"dangerouslySetInnerHTML":if(p!=null){if(typeof p!="object"||!("__html"in p))throw Error(n(61));if(d=p.__html,d!=null){if(C.children!=null)throw Error(n(60));s.innerHTML=d}}break;case"multiple":s.multiple=p&&typeof p!="function"&&typeof p!="symbol";break;case"muted":s.muted=p&&typeof p!="function"&&typeof p!="symbol";break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":break;case"autoFocus":break;case"xlinkHref":if(p==null||typeof p=="function"||typeof p=="boolean"||typeof p=="symbol"){s.removeAttribute("xlink:href");break}d=hi(""+p),s.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",d);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":p!=null&&typeof p!="function"&&typeof p!="symbol"?s.setAttribute(d,""+p):s.removeAttribute(d);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":p&&typeof p!="function"&&typeof p!="symbol"?s.setAttribute(d,""):s.removeAttribute(d);break;case"capture":case"download":p===!0?s.setAttribute(d,""):p!==!1&&p!=null&&typeof p!="function"&&typeof p!="symbol"?s.setAttribute(d,p):s.removeAttribute(d);break;case"cols":case"rows":case"size":case"span":p!=null&&typeof p!="function"&&typeof p!="symbol"&&!isNaN(p)&&1<=p?s.setAttribute(d,p):s.removeAttribute(d);break;case"rowSpan":case"start":p==null||typeof p=="function"||typeof p=="symbol"||isNaN(p)?s.removeAttribute(d):s.setAttribute(d,p);break;case"popover":Ar("beforetoggle",s),Ar("toggle",s),_n(s,"popover",p);break;case"xlinkActuate":ms(s,"http://www.w3.org/1999/xlink","xlink:actuate",p);break;case"xlinkArcrole":ms(s,"http://www.w3.org/1999/xlink","xlink:arcrole",p);break;case"xlinkRole":ms(s,"http://www.w3.org/1999/xlink","xlink:role",p);break;case"xlinkShow":ms(s,"http://www.w3.org/1999/xlink","xlink:show",p);break;case"xlinkTitle":ms(s,"http://www.w3.org/1999/xlink","xlink:title",p);break;case"xlinkType":ms(s,"http://www.w3.org/1999/xlink","xlink:type",p);break;case"xmlBase":ms(s,"http://www.w3.org/XML/1998/namespace","xml:base",p);break;case"xmlLang":ms(s,"http://www.w3.org/XML/1998/namespace","xml:lang",p);break;case"xmlSpace":ms(s,"http://www.w3.org/XML/1998/namespace","xml:space",p);break;case"is":_n(s,"is",p);break;case"innerText":case"textContent":break;default:(!(2<d.length)||d[0]!=="o"&&d[0]!=="O"||d[1]!=="n"&&d[1]!=="N")&&(d=ju.get(d)||d,_n(s,d,p))}}function Km(s,c,d,p,C,E){switch(d){case"style":Rh(s,p,E);break;case"dangerouslySetInnerHTML":if(p!=null){if(typeof p!="object"||!("__html"in p))throw Error(n(61));if(d=p.__html,d!=null){if(C.children!=null)throw Error(n(60));s.innerHTML=d}}break;case"children":typeof p=="string"?xs(s,p):(typeof p=="number"||typeof p=="bigint")&&xs(s,""+p);break;case"onScroll":p!=null&&Ar("scroll",s);break;case"onScrollEnd":p!=null&&Ar("scrollend",s);break;case"onClick":p!=null&&(s.onclick=vs);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":break;case"innerText":case"textContent":break;default:if(!_r.hasOwnProperty(d))e:{if(d[0]==="o"&&d[1]==="n"&&(C=d.endsWith("Capture"),c=d.slice(2,C?d.length-7:void 0),E=s[Se]||null,E=E!=null?E[d]:null,typeof E=="function"&&s.removeEventListener(c,E,C),typeof p=="function")){typeof E!="function"&&E!==null&&(d in s?s[d]=null:s.hasAttribute(d)&&s.removeAttribute(d)),s.addEventListener(c,p,C);break e}d in s?s[d]=p:p===!0?s.setAttribute(d,""):_n(s,d,p)}}}function ii(s,c,d){switch(c){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":Ar("error",s),Ar("load",s);var p=!1,C=!1,E;for(E in d)if(d.hasOwnProperty(E)){var Q=d[E];if(Q!=null)switch(E){case"src":p=!0;break;case"srcSet":C=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(n(137,c));default:hn(s,c,E,Q,d,null)}}C&&hn(s,c,"srcSet",d.srcSet,d,null),p&&hn(s,c,"src",d.src,d,null);return;case"input":Ar("invalid",s);var me=E=Q=C=null,Le=null,nt=null;for(p in d)if(d.hasOwnProperty(p)){var ft=d[p];if(ft!=null)switch(p){case"name":C=ft;break;case"type":Q=ft;break;case"checked":Le=ft;break;case"defaultChecked":nt=ft;break;case"value":E=ft;break;case"defaultValue":me=ft;break;case"children":case"dangerouslySetInnerHTML":if(ft!=null)throw Error(n(137,c));break;default:hn(s,c,p,ft,d,null)}}Mh(s,E,me,Le,nt,Q,C,!1);return;case"select":Ar("invalid",s),p=Q=E=null;for(C in d)if(d.hasOwnProperty(C)&&(me=d[C],me!=null))switch(C){case"value":E=me;break;case"defaultValue":Q=me;break;case"multiple":p=me;default:hn(s,c,C,me,d,null)}c=E,d=Q,s.multiple=!!p,c!=null?Qa(s,!!p,c,!1):d!=null&&Qa(s,!!p,d,!0);return;case"textarea":Ar("invalid",s),E=C=p=null;for(Q in d)if(d.hasOwnProperty(Q)&&(me=d[Q],me!=null))switch(Q){case"value":p=me;break;case"defaultValue":C=me;break;case"children":E=me;break;case"dangerouslySetInnerHTML":if(me!=null)throw Error(n(91));break;default:hn(s,c,Q,me,d,null)}Fu(s,p,C,E);return;case"option":for(Le in d)if(d.hasOwnProperty(Le)&&(p=d[Le],p!=null))switch(Le){case"selected":s.selected=p&&typeof p!="function"&&typeof p!="symbol";break;default:hn(s,c,Le,p,d,null)}return;case"dialog":Ar("beforetoggle",s),Ar("toggle",s),Ar("cancel",s),Ar("close",s);break;case"iframe":case"object":Ar("load",s);break;case"video":case"audio":for(p=0;p<q0.length;p++)Ar(q0[p],s);break;case"image":Ar("error",s),Ar("load",s);break;case"details":Ar("toggle",s);break;case"embed":case"source":case"link":Ar("error",s),Ar("load",s);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(nt in d)if(d.hasOwnProperty(nt)&&(p=d[nt],p!=null))switch(nt){case"children":case"dangerouslySetInnerHTML":throw Error(n(137,c));default:hn(s,c,nt,p,d,null)}return;default:if(Mu(c)){for(ft in d)d.hasOwnProperty(ft)&&(p=d[ft],p!==void 0&&Km(s,c,ft,p,d,void 0));return}}for(me in d)d.hasOwnProperty(me)&&(p=d[me],p!=null&&hn(s,c,me,p,d,null))}function XC(s,c,d,p){switch(c){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var C=null,E=null,Q=null,me=null,Le=null,nt=null,ft=null;for(st in d){var vt=d[st];if(d.hasOwnProperty(st)&&vt!=null)switch(st){case"checked":break;case"value":break;case"defaultValue":Le=vt;default:p.hasOwnProperty(st)||hn(s,c,st,null,p,vt)}}for(var at in p){var st=p[at];if(vt=d[at],p.hasOwnProperty(at)&&(st!=null||vt!=null))switch(at){case"type":E=st;break;case"name":C=st;break;case"checked":nt=st;break;case"defaultChecked":ft=st;break;case"value":Q=st;break;case"defaultValue":me=st;break;case"children":case"dangerouslySetInnerHTML":if(st!=null)throw Error(n(137,c));break;default:st!==vt&&hn(s,c,at,st,p,vt)}}Nc(s,Q,me,Le,nt,ft,E,C);return;case"select":st=Q=me=at=null;for(E in d)if(Le=d[E],d.hasOwnProperty(E)&&Le!=null)switch(E){case"value":break;case"multiple":st=Le;default:p.hasOwnProperty(E)||hn(s,c,E,null,p,Le)}for(C in p)if(E=p[C],Le=d[C],p.hasOwnProperty(C)&&(E!=null||Le!=null))switch(C){case"value":at=E;break;case"defaultValue":me=E;break;case"multiple":Q=E;default:E!==Le&&hn(s,c,C,E,p,Le)}c=me,d=Q,p=st,at!=null?Qa(s,!!d,at,!1):!!p!=!!d&&(c!=null?Qa(s,!!d,c,!0):Qa(s,!!d,d?[]:"",!1));return;case"textarea":st=at=null;for(me in d)if(C=d[me],d.hasOwnProperty(me)&&C!=null&&!p.hasOwnProperty(me))switch(me){case"value":break;case"children":break;default:hn(s,c,me,null,p,C)}for(Q in p)if(C=p[Q],E=d[Q],p.hasOwnProperty(Q)&&(C!=null||E!=null))switch(Q){case"value":at=C;break;case"defaultValue":st=C;break;case"children":break;case"dangerouslySetInnerHTML":if(C!=null)throw Error(n(91));break;default:C!==E&&hn(s,c,Q,C,p,E)}Lu(s,at,st);return;case"option":for(var Wt in d)if(at=d[Wt],d.hasOwnProperty(Wt)&&at!=null&&!p.hasOwnProperty(Wt))switch(Wt){case"selected":s.selected=!1;break;default:hn(s,c,Wt,null,p,at)}for(Le in p)if(at=p[Le],st=d[Le],p.hasOwnProperty(Le)&&at!==st&&(at!=null||st!=null))switch(Le){case"selected":s.selected=at&&typeof at!="function"&&typeof at!="symbol";break;default:hn(s,c,Le,at,p,st)}return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var sr in d)at=d[sr],d.hasOwnProperty(sr)&&at!=null&&!p.hasOwnProperty(sr)&&hn(s,c,sr,null,p,at);for(nt in p)if(at=p[nt],st=d[nt],p.hasOwnProperty(nt)&&at!==st&&(at!=null||st!=null))switch(nt){case"children":case"dangerouslySetInnerHTML":if(at!=null)throw Error(n(137,c));break;default:hn(s,c,nt,at,p,st)}return;default:if(Mu(c)){for(var fn in d)at=d[fn],d.hasOwnProperty(fn)&&at!==void 0&&!p.hasOwnProperty(fn)&&Km(s,c,fn,void 0,p,at);for(ft in p)at=p[ft],st=d[ft],!p.hasOwnProperty(ft)||at===st||at===void 0&&st===void 0||Km(s,c,ft,at,p,st);return}}for(var Ve in d)at=d[Ve],d.hasOwnProperty(Ve)&&at!=null&&!p.hasOwnProperty(Ve)&&hn(s,c,Ve,null,p,at);for(vt in p)at=p[vt],st=d[vt],!p.hasOwnProperty(vt)||at===st||at==null&&st==null||hn(s,c,vt,at,p,st)}function eb(s){switch(s){case"css":case"script":case"font":case"img":case"image":case"input":case"link":return!0;default:return!1}}function KC(){if(typeof performance.getEntriesByType=="function"){for(var s=0,c=0,d=performance.getEntriesByType("resource"),p=0;p<d.length;p++){var C=d[p],E=C.transferSize,Q=C.initiatorType,me=C.duration;if(E&&me&&eb(Q)){for(Q=0,me=C.responseEnd,p+=1;p<d.length;p++){var Le=d[p],nt=Le.startTime;if(nt>me)break;var ft=Le.transferSize,vt=Le.initiatorType;ft&&eb(vt)&&(Le=Le.responseEnd,Q+=ft*(Le<me?1:(me-nt)/(Le-nt)))}if(--p,c+=8*(E+Q)/(C.duration/1e3),s++,10<s)break}}if(0<s)return c/s/1e6}return navigator.connection&&(s=navigator.connection.downlink,typeof s=="number")?s:5}var $m=null,Zm=null;function M1(s){return s.nodeType===9?s:s.ownerDocument}function tb(s){switch(s){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function rb(s,c){if(s===0)switch(c){case"svg":return 1;case"math":return 2;default:return 0}return s===1&&c==="foreignObject"?0:s}function Jm(s,c){return s==="textarea"||s==="noscript"||typeof c.children=="string"||typeof c.children=="number"||typeof c.children=="bigint"||typeof c.dangerouslySetInnerHTML=="object"&&c.dangerouslySetInnerHTML!==null&&c.dangerouslySetInnerHTML.__html!=null}var Qm=null;function $C(){var s=window.event;return s&&s.type==="popstate"?s===Qm?!1:(Qm=s,!0):(Qm=null,!1)}var nb=typeof setTimeout=="function"?setTimeout:void 0,ZC=typeof clearTimeout=="function"?clearTimeout:void 0,ab=typeof Promise=="function"?Promise:void 0,JC=typeof queueMicrotask=="function"?queueMicrotask:typeof ab<"u"?function(s){return ab.resolve(null).then(s).catch(QC)}:nb;function QC(s){setTimeout(function(){throw s})}function nu(s){return s==="head"}function ib(s,c){var d=c,p=0;do{var C=d.nextSibling;if(s.removeChild(d),C&&C.nodeType===8)if(d=C.data,d==="/$"||d==="/&"){if(p===0){s.removeChild(C),Sf(c);return}p--}else if(d==="$"||d==="$?"||d==="$~"||d==="$!"||d==="&")p++;else if(d==="html")G0(s.ownerDocument.documentElement);else if(d==="head"){d=s.ownerDocument.head,G0(d);for(var E=d.firstChild;E;){var Q=E.nextSibling,me=E.nodeName;E[et]||me==="SCRIPT"||me==="STYLE"||me==="LINK"&&E.rel.toLowerCase()==="stylesheet"||d.removeChild(E),E=Q}}else d==="body"&&G0(s.ownerDocument.body);d=C}while(d);Sf(c)}function sb(s,c){var d=s;s=0;do{var p=d.nextSibling;if(d.nodeType===1?c?(d._stashedDisplay=d.style.display,d.style.display="none"):(d.style.display=d._stashedDisplay||"",d.getAttribute("style")===""&&d.removeAttribute("style")):d.nodeType===3&&(c?(d._stashedText=d.nodeValue,d.nodeValue=""):d.nodeValue=d._stashedText||""),p&&p.nodeType===8)if(d=p.data,d==="/$"){if(s===0)break;s--}else d!=="$"&&d!=="$?"&&d!=="$~"&&d!=="$!"||s++;d=p}while(d)}function e2(s){var c=s.firstChild;for(c&&c.nodeType===10&&(c=c.nextSibling);c;){var d=c;switch(c=c.nextSibling,d.nodeName){case"HTML":case"HEAD":case"BODY":e2(d),_t(d);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if(d.rel.toLowerCase()==="stylesheet")continue}s.removeChild(d)}}function eT(s,c,d,p){for(;s.nodeType===1;){var C=d;if(s.nodeName.toLowerCase()!==c.toLowerCase()){if(!p&&(s.nodeName!=="INPUT"||s.type!=="hidden"))break}else if(p){if(!s[et])switch(c){case"meta":if(!s.hasAttribute("itemprop"))break;return s;case"link":if(E=s.getAttribute("rel"),E==="stylesheet"&&s.hasAttribute("data-precedence"))break;if(E!==C.rel||s.getAttribute("href")!==(C.href==null||C.href===""?null:C.href)||s.getAttribute("crossorigin")!==(C.crossOrigin==null?null:C.crossOrigin)||s.getAttribute("title")!==(C.title==null?null:C.title))break;return s;case"style":if(s.hasAttribute("data-precedence"))break;return s;case"script":if(E=s.getAttribute("src"),(E!==(C.src==null?null:C.src)||s.getAttribute("type")!==(C.type==null?null:C.type)||s.getAttribute("crossorigin")!==(C.crossOrigin==null?null:C.crossOrigin))&&E&&s.hasAttribute("async")&&!s.hasAttribute("itemprop"))break;return s;default:return s}}else if(c==="input"&&s.type==="hidden"){var E=C.name==null?null:""+C.name;if(C.type==="hidden"&&s.getAttribute("name")===E)return s}else return s;if(s=Zs(s.nextSibling),s===null)break}return null}function tT(s,c,d){if(c==="")return null;for(;s.nodeType!==3;)if((s.nodeType!==1||s.nodeName!=="INPUT"||s.type!=="hidden")&&!d||(s=Zs(s.nextSibling),s===null))return null;return s}function ob(s,c){for(;s.nodeType!==8;)if((s.nodeType!==1||s.nodeName!=="INPUT"||s.type!=="hidden")&&!c||(s=Zs(s.nextSibling),s===null))return null;return s}function t2(s){return s.data==="$?"||s.data==="$~"}function r2(s){return s.data==="$!"||s.data==="$?"&&s.ownerDocument.readyState!=="loading"}function rT(s,c){var d=s.ownerDocument;if(s.data==="$~")s._reactRetry=c;else if(s.data!=="$?"||d.readyState!=="loading")c();else{var p=function(){c(),d.removeEventListener("DOMContentLoaded",p)};d.addEventListener("DOMContentLoaded",p),s._reactRetry=p}}function Zs(s){for(;s!=null;s=s.nextSibling){var c=s.nodeType;if(c===1||c===3)break;if(c===8){if(c=s.data,c==="$"||c==="$!"||c==="$?"||c==="$~"||c==="&"||c==="F!"||c==="F")break;if(c==="/$"||c==="/&")return null}}return s}var n2=null;function lb(s){s=s.nextSibling;for(var c=0;s;){if(s.nodeType===8){var d=s.data;if(d==="/$"||d==="/&"){if(c===0)return Zs(s.nextSibling);c--}else d!=="$"&&d!=="$!"&&d!=="$?"&&d!=="$~"&&d!=="&"||c++}s=s.nextSibling}return null}function cb(s){s=s.previousSibling;for(var c=0;s;){if(s.nodeType===8){var d=s.data;if(d==="$"||d==="$!"||d==="$?"||d==="$~"||d==="&"){if(c===0)return s;c--}else d!=="/$"&&d!=="/&"||c++}s=s.previousSibling}return null}function ub(s,c,d){switch(c=M1(d),s){case"html":if(s=c.documentElement,!s)throw Error(n(452));return s;case"head":if(s=c.head,!s)throw Error(n(453));return s;case"body":if(s=c.body,!s)throw Error(n(454));return s;default:throw Error(n(451))}}function G0(s){for(var c=s.attributes;c.length;)s.removeAttributeNode(c[0]);_t(s)}var Js=new Map,hb=new Set;function j1(s){return typeof s.getRootNode=="function"?s.getRootNode():s.nodeType===9?s:s.ownerDocument}var oc=J.d;J.d={f:nT,r:aT,D:iT,C:sT,L:oT,m:lT,X:uT,S:cT,M:hT};function nT(){var s=oc.f(),c=T1();return s||c}function aT(s){var c=Ft(s);c!==null&&c.tag===5&&c.type==="form"?Ey(c):oc.r(s)}var bf=typeof document>"u"?null:document;function fb(s,c,d){var p=bf;if(p&&typeof c=="string"&&c){var C=Gn(c);C='link[rel="'+s+'"][href="'+C+'"]',typeof d=="string"&&(C+='[crossorigin="'+d+'"]'),hb.has(C)||(hb.add(C),s={rel:s,crossOrigin:d,href:c},p.querySelector(C)===null&&(c=p.createElement("link"),ii(c,"link",s),Ht(c),p.head.appendChild(c)))}}function iT(s){oc.D(s),fb("dns-prefetch",s,null)}function sT(s,c){oc.C(s,c),fb("preconnect",s,c)}function oT(s,c,d){oc.L(s,c,d);var p=bf;if(p&&s&&c){var C='link[rel="preload"][as="'+Gn(c)+'"]';c==="image"&&d&&d.imageSrcSet?(C+='[imagesrcset="'+Gn(d.imageSrcSet)+'"]',typeof d.imageSizes=="string"&&(C+='[imagesizes="'+Gn(d.imageSizes)+'"]')):C+='[href="'+Gn(s)+'"]';var E=C;switch(c){case"style":E=wf(s);break;case"script":E=_f(s)}Js.has(E)||(s=m({rel:"preload",href:c==="image"&&d&&d.imageSrcSet?void 0:s,as:c},d),Js.set(E,s),p.querySelector(C)!==null||c==="style"&&p.querySelector(W0(E))||c==="script"&&p.querySelector(Y0(E))||(c=p.createElement("link"),ii(c,"link",s),Ht(c),p.head.appendChild(c)))}}function lT(s,c){oc.m(s,c);var d=bf;if(d&&s){var p=c&&typeof c.as=="string"?c.as:"script",C='link[rel="modulepreload"][as="'+Gn(p)+'"][href="'+Gn(s)+'"]',E=C;switch(p){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":E=_f(s)}if(!Js.has(E)&&(s=m({rel:"modulepreload",href:s},c),Js.set(E,s),d.querySelector(C)===null)){switch(p){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(d.querySelector(Y0(E)))return}p=d.createElement("link"),ii(p,"link",s),Ht(p),d.head.appendChild(p)}}}function cT(s,c,d){oc.S(s,c,d);var p=bf;if(p&&s){var C=Ot(p).hoistableStyles,E=wf(s);c=c||"default";var Q=C.get(E);if(!Q){var me={loading:0,preload:null};if(Q=p.querySelector(W0(E)))me.loading=5;else{s=m({rel:"stylesheet",href:s,"data-precedence":c},d),(d=Js.get(E))&&a2(s,d);var Le=Q=p.createElement("link");Ht(Le),ii(Le,"link",s),Le._p=new Promise(function(nt,ft){Le.onload=nt,Le.onerror=ft}),Le.addEventListener("load",function(){me.loading|=1}),Le.addEventListener("error",function(){me.loading|=2}),me.loading|=4,R1(Q,c,p)}Q={type:"stylesheet",instance:Q,count:1,state:me},C.set(E,Q)}}}function uT(s,c){oc.X(s,c);var d=bf;if(d&&s){var p=Ot(d).hoistableScripts,C=_f(s),E=p.get(C);E||(E=d.querySelector(Y0(C)),E||(s=m({src:s,async:!0},c),(c=Js.get(C))&&i2(s,c),E=d.createElement("script"),Ht(E),ii(E,"link",s),d.head.appendChild(E)),E={type:"script",instance:E,count:1,state:null},p.set(C,E))}}function hT(s,c){oc.M(s,c);var d=bf;if(d&&s){var p=Ot(d).hoistableScripts,C=_f(s),E=p.get(C);E||(E=d.querySelector(Y0(C)),E||(s=m({src:s,async:!0,type:"module"},c),(c=Js.get(C))&&i2(s,c),E=d.createElement("script"),Ht(E),ii(E,"link",s),d.head.appendChild(E)),E={type:"script",instance:E,count:1,state:null},p.set(C,E))}}function db(s,c,d,p){var C=(C=ie.current)?j1(C):null;if(!C)throw Error(n(446));switch(s){case"meta":case"title":return null;case"style":return typeof d.precedence=="string"&&typeof d.href=="string"?(c=wf(d.href),d=Ot(C).hoistableStyles,p=d.get(c),p||(p={type:"style",instance:null,count:0,state:null},d.set(c,p)),p):{type:"void",instance:null,count:0,state:null};case"link":if(d.rel==="stylesheet"&&typeof d.href=="string"&&typeof d.precedence=="string"){s=wf(d.href);var E=Ot(C).hoistableStyles,Q=E.get(s);if(Q||(C=C.ownerDocument||C,Q={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},E.set(s,Q),(E=C.querySelector(W0(s)))&&!E._p&&(Q.instance=E,Q.state.loading=5),Js.has(s)||(d={rel:"preload",as:"style",href:d.href,crossOrigin:d.crossOrigin,integrity:d.integrity,media:d.media,hrefLang:d.hrefLang,referrerPolicy:d.referrerPolicy},Js.set(s,d),E||fT(C,s,d,Q.state))),c&&p===null)throw Error(n(528,""));return Q}if(c&&p!==null)throw Error(n(529,""));return null;case"script":return c=d.async,d=d.src,typeof d=="string"&&c&&typeof c!="function"&&typeof c!="symbol"?(c=_f(d),d=Ot(C).hoistableScripts,p=d.get(c),p||(p={type:"script",instance:null,count:0,state:null},d.set(c,p)),p):{type:"void",instance:null,count:0,state:null};default:throw Error(n(444,s))}}function wf(s){return'href="'+Gn(s)+'"'}function W0(s){return'link[rel="stylesheet"]['+s+"]"}function gb(s){return m({},s,{"data-precedence":s.precedence,precedence:null})}function fT(s,c,d,p){s.querySelector('link[rel="preload"][as="style"]['+c+"]")?p.loading=1:(c=s.createElement("link"),p.preload=c,c.addEventListener("load",function(){return p.loading|=1}),c.addEventListener("error",function(){return p.loading|=2}),ii(c,"link",d),Ht(c),s.head.appendChild(c))}function _f(s){return'[src="'+Gn(s)+'"]'}function Y0(s){return"script[async]"+s}function pb(s,c,d){if(c.count++,c.instance===null)switch(c.type){case"style":var p=s.querySelector('style[data-href~="'+Gn(d.href)+'"]');if(p)return c.instance=p,Ht(p),p;var C=m({},d,{"data-href":d.href,"data-precedence":d.precedence,href:null,precedence:null});return p=(s.ownerDocument||s).createElement("style"),Ht(p),ii(p,"style",C),R1(p,d.precedence,s),c.instance=p;case"stylesheet":C=wf(d.href);var E=s.querySelector(W0(C));if(E)return c.state.loading|=4,c.instance=E,Ht(E),E;p=gb(d),(C=Js.get(C))&&a2(p,C),E=(s.ownerDocument||s).createElement("link"),Ht(E);var Q=E;return Q._p=new Promise(function(me,Le){Q.onload=me,Q.onerror=Le}),ii(E,"link",p),c.state.loading|=4,R1(E,d.precedence,s),c.instance=E;case"script":return E=_f(d.src),(C=s.querySelector(Y0(E)))?(c.instance=C,Ht(C),C):(p=d,(C=Js.get(E))&&(p=m({},d),i2(p,C)),s=s.ownerDocument||s,C=s.createElement("script"),Ht(C),ii(C,"link",p),s.head.appendChild(C),c.instance=C);case"void":return null;default:throw Error(n(443,c.type))}else c.type==="stylesheet"&&(c.state.loading&4)===0&&(p=c.instance,c.state.loading|=4,R1(p,d.precedence,s));return c.instance}function R1(s,c,d){for(var p=d.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),C=p.length?p[p.length-1]:null,E=C,Q=0;Q<p.length;Q++){var me=p[Q];if(me.dataset.precedence===c)E=me;else if(E!==C)break}E?E.parentNode.insertBefore(s,E.nextSibling):(c=d.nodeType===9?d.head:d,c.insertBefore(s,c.firstChild))}function a2(s,c){s.crossOrigin==null&&(s.crossOrigin=c.crossOrigin),s.referrerPolicy==null&&(s.referrerPolicy=c.referrerPolicy),s.title==null&&(s.title=c.title)}function i2(s,c){s.crossOrigin==null&&(s.crossOrigin=c.crossOrigin),s.referrerPolicy==null&&(s.referrerPolicy=c.referrerPolicy),s.integrity==null&&(s.integrity=c.integrity)}var B1=null;function mb(s,c,d){if(B1===null){var p=new Map,C=B1=new Map;C.set(d,p)}else C=B1,p=C.get(d),p||(p=new Map,C.set(d,p));if(p.has(s))return p;for(p.set(s,null),d=d.getElementsByTagName(s),C=0;C<d.length;C++){var E=d[C];if(!(E[et]||E[we]||s==="link"&&E.getAttribute("rel")==="stylesheet")&&E.namespaceURI!=="http://www.w3.org/2000/svg"){var Q=E.getAttribute(c)||"";Q=s+Q;var me=p.get(Q);me?me.push(E):p.set(Q,[E])}}return p}function xb(s,c,d){s=s.ownerDocument||s,s.head.insertBefore(d,c==="title"?s.querySelector("head > title"):null)}function dT(s,c,d){if(d===1||c.itemProp!=null)return!1;switch(s){case"meta":case"title":return!0;case"style":if(typeof c.precedence!="string"||typeof c.href!="string"||c.href==="")break;return!0;case"link":if(typeof c.rel!="string"||typeof c.href!="string"||c.href===""||c.onLoad||c.onError)break;switch(c.rel){case"stylesheet":return s=c.disabled,typeof c.precedence=="string"&&s==null;default:return!0}case"script":if(c.async&&typeof c.async!="function"&&typeof c.async!="symbol"&&!c.onLoad&&!c.onError&&c.src&&typeof c.src=="string")return!0}return!1}function vb(s){return!(s.type==="stylesheet"&&(s.state.loading&3)===0)}function gT(s,c,d,p){if(d.type==="stylesheet"&&(typeof p.media!="string"||matchMedia(p.media).matches!==!1)&&(d.state.loading&4)===0){if(d.instance===null){var C=wf(p.href),E=c.querySelector(W0(C));if(E){c=E._p,c!==null&&typeof c=="object"&&typeof c.then=="function"&&(s.count++,s=P1.bind(s),c.then(s,s)),d.state.loading|=4,d.instance=E,Ht(E);return}E=c.ownerDocument||c,p=gb(p),(C=Js.get(C))&&a2(p,C),E=E.createElement("link"),Ht(E);var Q=E;Q._p=new Promise(function(me,Le){Q.onload=me,Q.onerror=Le}),ii(E,"link",p),d.instance=E}s.stylesheets===null&&(s.stylesheets=new Map),s.stylesheets.set(d,c),(c=d.state.preload)&&(d.state.loading&3)===0&&(s.count++,d=P1.bind(s),c.addEventListener("load",d),c.addEventListener("error",d))}}var s2=0;function pT(s,c){return s.stylesheets&&s.count===0&&U1(s,s.stylesheets),0<s.count||0<s.imgCount?function(d){var p=setTimeout(function(){if(s.stylesheets&&U1(s,s.stylesheets),s.unsuspend){var E=s.unsuspend;s.unsuspend=null,E()}},6e4+c);0<s.imgBytes&&s2===0&&(s2=62500*KC());var C=setTimeout(function(){if(s.waitingForImages=!1,s.count===0&&(s.stylesheets&&U1(s,s.stylesheets),s.unsuspend)){var E=s.unsuspend;s.unsuspend=null,E()}},(s.imgBytes>s2?50:800)+c);return s.unsuspend=d,function(){s.unsuspend=null,clearTimeout(p),clearTimeout(C)}}:null}function P1(){if(this.count--,this.count===0&&(this.imgCount===0||!this.waitingForImages)){if(this.stylesheets)U1(this,this.stylesheets);else if(this.unsuspend){var s=this.unsuspend;this.unsuspend=null,s()}}}var I1=null;function U1(s,c){s.stylesheets=null,s.unsuspend!==null&&(s.count++,I1=new Map,c.forEach(mT,s),I1=null,P1.call(s))}function mT(s,c){if(!(c.state.loading&4)){var d=I1.get(s);if(d)var p=d.get(null);else{d=new Map,I1.set(s,d);for(var C=s.querySelectorAll("link[data-precedence],style[data-precedence]"),E=0;E<C.length;E++){var Q=C[E];(Q.nodeName==="LINK"||Q.getAttribute("media")!=="not all")&&(d.set(Q.dataset.precedence,Q),p=Q)}p&&d.set(null,p)}C=c.instance,Q=C.getAttribute("data-precedence"),E=d.get(Q)||p,E===p&&d.set(null,C),d.set(Q,C),this.count++,p=P1.bind(this),C.addEventListener("load",p),C.addEventListener("error",p),E?E.parentNode.insertBefore(C,E.nextSibling):(s=s.nodeType===9?s.head:s,s.insertBefore(C,s.firstChild)),c.state.loading|=4}}var X0={$$typeof:N,Provider:null,Consumer:null,_currentValue:ge,_currentValue2:ge,_threadCount:0};function xT(s,c,d,p,C,E,Q,me,Le){this.tag=1,this.containerInfo=s,this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=wn(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=wn(0),this.hiddenUpdates=wn(null),this.identifierPrefix=p,this.onUncaughtError=C,this.onCaughtError=E,this.onRecoverableError=Q,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=Le,this.incompleteTransitions=new Map}function yb(s,c,d,p,C,E,Q,me,Le,nt,ft,vt){return s=new xT(s,c,d,Q,Le,nt,ft,vt,me),c=1,E===!0&&(c|=24),E=qa(3,null,null,c),s.current=E,E.stateNode=s,c=Gc(),c.refCount++,s.pooledCache=c,c.refCount++,E.memoizedState={element:p,isDehydrated:d,cache:c},Dt(E),s}function bb(s){return s?(s=Oa,s):Oa}function wb(s,c,d,p,C,E){C=bb(C),p.context===null?p.context=C:p.pendingContext=C,p=ir(c),p.payload={element:d},E=E===void 0?null:E,E!==null&&(p.callback=E),d=vr(s,p,c),d!==null&&(ss(d,s,c),Kr(d,s,c))}function _b(s,c){if(s=s.memoizedState,s!==null&&s.dehydrated!==null){var d=s.retryLane;s.retryLane=d!==0&&d<c?d:c}}function o2(s,c){_b(s,c),(s=s.alternate)&&_b(s,c)}function Sb(s){if(s.tag===13||s.tag===31){var c=Oo(s,67108864);c!==null&&ss(c,s,67108864),o2(s,67108864)}}function kb(s){if(s.tag===13||s.tag===31){var c=As();c=sn(c);var d=Oo(s,c);d!==null&&ss(d,s,c),o2(s,c)}}var z1=!0;function vT(s,c,d,p){var C=ae.T;ae.T=null;var E=J.p;try{J.p=2,l2(s,c,d,p)}finally{J.p=E,ae.T=C}}function yT(s,c,d,p){var C=ae.T;ae.T=null;var E=J.p;try{J.p=8,l2(s,c,d,p)}finally{J.p=E,ae.T=C}}function l2(s,c,d,p){if(z1){var C=c2(p);if(C===null)Xm(s,c,p,H1,d),Tb(s,p);else if(wT(C,s,c,d,p))p.stopPropagation();else if(Tb(s,p),c&4&&-1<bT.indexOf(s)){for(;C!==null;){var E=Ft(C);if(E!==null)switch(E.tag){case 3:if(E=E.stateNode,E.current.memoizedState.isDehydrated){var Q=ht(E.pendingLanes);if(Q!==0){var me=E;for(me.pendingLanes|=2,me.entangledLanes|=2;Q;){var Le=1<<31-zt(Q);me.entanglements[1]|=Le,Q&=~Le}bl(E),(Zr&6)===0&&(k1=$e()+500,H0(0))}}break;case 31:case 13:me=Oo(E,2),me!==null&&ss(me,E,2),T1(),o2(E,2)}if(E=c2(p),E===null&&Xm(s,c,p,H1,d),E===C)break;C=E}C!==null&&p.stopPropagation()}else Xm(s,c,p,null,d)}}function c2(s){return s=Bl(s),u2(s)}var H1=null;function u2(s){if(H1=null,s=Nt(s),s!==null){var c=i(s);if(c===null)s=null;else{var d=c.tag;if(d===13){if(s=o(c),s!==null)return s;s=null}else if(d===31){if(s=l(c),s!==null)return s;s=null}else if(d===3){if(c.stateNode.current.memoizedState.isDehydrated)return c.tag===3?c.stateNode.containerInfo:null;s=null}else c!==s&&(s=null)}}return H1=s,null}function Cb(s){switch(s){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(rt()){case it:return 2;case Tt:return 8;case dt:case He:return 32;case xt:return 268435456;default:return 32}default:return 32}}var h2=!1,au=null,iu=null,su=null,K0=new Map,$0=new Map,ou=[],bT="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function Tb(s,c){switch(s){case"focusin":case"focusout":au=null;break;case"dragenter":case"dragleave":iu=null;break;case"mouseover":case"mouseout":su=null;break;case"pointerover":case"pointerout":K0.delete(c.pointerId);break;case"gotpointercapture":case"lostpointercapture":$0.delete(c.pointerId)}}function Z0(s,c,d,p,C,E){return s===null||s.nativeEvent!==E?(s={blockedOn:c,domEventName:d,eventSystemFlags:p,nativeEvent:E,targetContainers:[C]},c!==null&&(c=Ft(c),c!==null&&Sb(c)),s):(s.eventSystemFlags|=p,c=s.targetContainers,C!==null&&c.indexOf(C)===-1&&c.push(C),s)}function wT(s,c,d,p,C){switch(c){case"focusin":return au=Z0(au,s,c,d,p,C),!0;case"dragenter":return iu=Z0(iu,s,c,d,p,C),!0;case"mouseover":return su=Z0(su,s,c,d,p,C),!0;case"pointerover":var E=C.pointerId;return K0.set(E,Z0(K0.get(E)||null,s,c,d,p,C)),!0;case"gotpointercapture":return E=C.pointerId,$0.set(E,Z0($0.get(E)||null,s,c,d,p,C)),!0}return!1}function Ab(s){var c=Nt(s.target);if(c!==null){var d=i(c);if(d!==null){if(c=d.tag,c===13){if(c=o(d),c!==null){s.blockedOn=c,Ae(s.priority,function(){kb(d)});return}}else if(c===31){if(c=l(d),c!==null){s.blockedOn=c,Ae(s.priority,function(){kb(d)});return}}else if(c===3&&d.stateNode.current.memoizedState.isDehydrated){s.blockedOn=d.tag===3?d.stateNode.containerInfo:null;return}}}s.blockedOn=null}function q1(s){if(s.blockedOn!==null)return!1;for(var c=s.targetContainers;0<c.length;){var d=c2(s.nativeEvent);if(d===null){d=s.nativeEvent;var p=new d.constructor(d.type,d);fo=p,d.target.dispatchEvent(p),fo=null}else return c=Ft(d),c!==null&&Sb(c),s.blockedOn=d,!1;c.shift()}return!0}function Eb(s,c,d){q1(s)&&d.delete(c)}function _T(){h2=!1,au!==null&&q1(au)&&(au=null),iu!==null&&q1(iu)&&(iu=null),su!==null&&q1(su)&&(su=null),K0.forEach(Eb),$0.forEach(Eb)}function V1(s,c){s.blockedOn===c&&(s.blockedOn=null,h2||(h2=!0,r.unstable_scheduleCallback(r.unstable_NormalPriority,_T)))}var G1=null;function Nb(s){G1!==s&&(G1=s,r.unstable_scheduleCallback(r.unstable_NormalPriority,function(){G1===s&&(G1=null);for(var c=0;c<s.length;c+=3){var d=s[c],p=s[c+1],C=s[c+2];if(typeof p!="function"){if(u2(p||d)===null)continue;break}var E=Ft(d);E!==null&&(s.splice(c,3),c-=3,cm(E,{pending:!0,data:C,method:d.method,action:p},p,C))}}))}function Sf(s){function c(Le){return V1(Le,s)}au!==null&&V1(au,s),iu!==null&&V1(iu,s),su!==null&&V1(su,s),K0.forEach(c),$0.forEach(c);for(var d=0;d<ou.length;d++){var p=ou[d];p.blockedOn===s&&(p.blockedOn=null)}for(;0<ou.length&&(d=ou[0],d.blockedOn===null);)Ab(d),d.blockedOn===null&&ou.shift();if(d=(s.ownerDocument||s).$$reactFormReplay,d!=null)for(p=0;p<d.length;p+=3){var C=d[p],E=d[p+1],Q=C[Se]||null;if(typeof E=="function")Q||Nb(d);else if(Q){var me=null;if(E&&E.hasAttribute("formAction")){if(C=E,Q=E[Se]||null)me=Q.formAction;else if(u2(C)!==null)continue}else me=Q.action;typeof me=="function"?d[p+1]=me:(d.splice(p,3),p-=3),Nb(d)}}}function Ob(){function s(E){E.canIntercept&&E.info==="react-transition"&&E.intercept({handler:function(){return new Promise(function(Q){return C=Q})},focusReset:"manual",scroll:"manual"})}function c(){C!==null&&(C(),C=null),p||setTimeout(d,20)}function d(){if(!p&&!navigation.transition){var E=navigation.currentEntry;E&&E.url!=null&&navigation.navigate(E.url,{state:E.getState(),info:"react-transition",history:"replace"})}}if(typeof navigation=="object"){var p=!1,C=null;return navigation.addEventListener("navigate",s),navigation.addEventListener("navigatesuccess",c),navigation.addEventListener("navigateerror",c),setTimeout(d,100),function(){p=!0,navigation.removeEventListener("navigate",s),navigation.removeEventListener("navigatesuccess",c),navigation.removeEventListener("navigateerror",c),C!==null&&(C(),C=null)}}}function f2(s){this._internalRoot=s}W1.prototype.render=f2.prototype.render=function(s){var c=this._internalRoot;if(c===null)throw Error(n(409));var d=c.current,p=As();wb(d,p,s,c,null,null)},W1.prototype.unmount=f2.prototype.unmount=function(){var s=this._internalRoot;if(s!==null){this._internalRoot=null;var c=s.containerInfo;wb(s.current,2,null,s,null,null),T1(),c[Ne]=null}};function W1(s){this._internalRoot=s}W1.prototype.unstable_scheduleHydration=function(s){if(s){var c=he();s={blockedOn:null,target:s,priority:c};for(var d=0;d<ou.length&&c!==0&&c<ou[d].priority;d++);ou.splice(d,0,s),d===0&&Ab(s)}};var Db=e.version;if(Db!=="19.2.4")throw Error(n(527,Db,"19.2.4"));J.findDOMNode=function(s){var c=s._reactInternals;if(c===void 0)throw typeof s.render=="function"?Error(n(188)):(s=Object.keys(s).join(","),Error(n(268,s)));return s=h(c),s=s!==null?f(s):null,s=s===null?null:s.stateNode,s};var ST={bundleType:0,version:"19.2.4",rendererPackageName:"react-dom",currentDispatcherRef:ae,reconcilerVersion:"19.2.4"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var Y1=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Y1.isDisabled&&Y1.supportsFiber)try{Et=Y1.inject(ST),Rt=Y1}catch{}}return Q0.createRoot=function(s,c){if(!a(s))throw Error(n(299));var d=!1,p="",C=Py,E=Iy,Q=Uy;return c!=null&&(c.unstable_strictMode===!0&&(d=!0),c.identifierPrefix!==void 0&&(p=c.identifierPrefix),c.onUncaughtError!==void 0&&(C=c.onUncaughtError),c.onCaughtError!==void 0&&(E=c.onCaughtError),c.onRecoverableError!==void 0&&(Q=c.onRecoverableError)),c=yb(s,1,!1,null,null,d,p,null,C,E,Q,Ob),s[Ne]=c.current,Ym(s),new f2(c)},Q0.hydrateRoot=function(s,c,d){if(!a(s))throw Error(n(299));var p=!1,C="",E=Py,Q=Iy,me=Uy,Le=null;return d!=null&&(d.unstable_strictMode===!0&&(p=!0),d.identifierPrefix!==void 0&&(C=d.identifierPrefix),d.onUncaughtError!==void 0&&(E=d.onUncaughtError),d.onCaughtError!==void 0&&(Q=d.onCaughtError),d.onRecoverableError!==void 0&&(me=d.onRecoverableError),d.formState!==void 0&&(Le=d.formState)),c=yb(s,1,!0,c,d??null,p,C,Le,E,Q,me,Ob),c.context=bb(null),d=c.current,p=As(),p=sn(p),C=ir(p),C.callback=null,vr(d,C,p),d=p,c.current.lanes=d,jt(c,d),bl(c),s[Ne]=c.current,Ym(s),new W1(c)},Q0.version="19.2.4",Q0}var zb;function jT(){if(zb)return p2.exports;zb=1;function r(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(r)}catch(e){console.error(e)}}return r(),p2.exports=MT(),p2.exports}var RT=jT();/**
 * @license lucide-react v0.511.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const BT=r=>r.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase(),PT=r=>r.replace(/^([A-Z])|[\s-_]+(\w)/g,(e,t,n)=>n?n.toUpperCase():t.toLowerCase()),Hb=r=>{const e=PT(r);return e.charAt(0).toUpperCase()+e.slice(1)},S3=(...r)=>r.filter((e,t,n)=>!!e&&e.trim()!==""&&n.indexOf(e)===t).join(" ").trim(),IT=r=>{for(const e in r)if(e.startsWith("aria-")||e==="role"||e==="title")return!0};/**
 * @license lucide-react v0.511.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */var UT={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};/**
 * @license lucide-react v0.511.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const zT=Me.forwardRef(({color:r="currentColor",size:e=24,strokeWidth:t=2,absoluteStrokeWidth:n,className:a="",children:i,iconNode:o,...l},u)=>Me.createElement("svg",{ref:u,...UT,width:e,height:e,stroke:r,strokeWidth:n?Number(t)*24/Number(e):t,className:S3("lucide",a),...!i&&!IT(l)&&{"aria-hidden":"true"},...l},[...o.map(([h,f])=>Me.createElement(h,f)),...Array.isArray(i)?i:[i]]));/**
 * @license lucide-react v0.511.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Bt=(r,e)=>{const t=Me.forwardRef(({className:n,...a},i)=>Me.createElement(zT,{ref:i,iconNode:e,className:S3(`lucide-${BT(Hb(r))}`,`lucide-${r}`,n),...a}));return t.displayName=Hb(r),t};/**
 * @license lucide-react v0.511.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const HT=[["path",{d:"M17 12H7",key:"16if0g"}],["path",{d:"M19 18H5",key:"18s9l3"}],["path",{d:"M21 6H3",key:"1jwq7v"}]],vx=Bt("align-center",HT);/**
 * @license lucide-react v0.511.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const qT=[["path",{d:"M15 12H3",key:"6jk70r"}],["path",{d:"M17 18H3",key:"1amg6g"}],["path",{d:"M21 6H3",key:"1jwq7v"}]],yx=Bt("align-left",qT);/**
 * @license lucide-react v0.511.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const VT=[["path",{d:"M21 12H9",key:"dn1m92"}],["path",{d:"M21 18H7",key:"1ygte8"}],["path",{d:"M21 6H3",key:"1jwq7v"}]],bx=Bt("align-right",VT);/**
 * @license lucide-react v0.511.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const GT=[["path",{d:"M12 17V3",key:"1cwfxf"}],["path",{d:"m6 11 6 6 6-6",key:"12ii2o"}],["path",{d:"M19 21H5",key:"150jfl"}]],WT=Bt("arrow-down-to-line",GT);/**
 * @license lucide-react v0.511.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const YT=[["path",{d:"m12 19-7-7 7-7",key:"1l729n"}],["path",{d:"M19 12H5",key:"x3x0zl"}]],Qf=Bt("arrow-left",YT);/**
 * @license lucide-react v0.511.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const XT=[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"m12 5 7 7-7 7",key:"xquz4c"}]],cd=Bt("arrow-right",XT);/**
 * @license lucide-react v0.511.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const KT=[["path",{d:"M5 3h14",key:"7usisc"}],["path",{d:"m18 13-6-6-6 6",key:"1kf1n9"}],["path",{d:"M12 7v14",key:"1akyts"}]],$T=Bt("arrow-up-to-line",KT);/**
 * @license lucide-react v0.511.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ZT=[["path",{d:"M3.85 8.62a4 4 0 0 1 4.78-4.77 4 4 0 0 1 6.74 0 4 4 0 0 1 4.78 4.78 4 4 0 0 1 0 6.74 4 4 0 0 1-4.77 4.78 4 4 0 0 1-6.75 0 4 4 0 0 1-4.78-4.77 4 4 0 0 1 0-6.76Z",key:"3c2336"}],["path",{d:"m9 12 2 2 4-4",key:"dzmm74"}]],JT=Bt("badge-check",ZT);/**
 * @license lucide-react v0.511.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const QT=[["path",{d:"M6 12h9a4 4 0 0 1 0 8H7a1 1 0 0 1-1-1V5a1 1 0 0 1 1-1h7a4 4 0 0 1 0 8",key:"mg9rjx"}]],wx=Bt("bold",QT);/**
 * @license lucide-react v0.511.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const eA=[["path",{d:"M3 3v16a2 2 0 0 0 2 2h16",key:"c24i48"}],["path",{d:"M18 17V9",key:"2bz60n"}],["path",{d:"M13 17V5",key:"1frdt8"}],["path",{d:"M8 17v-3",key:"17ska0"}]],tA=Bt("chart-column",eA);/**
 * @license lucide-react v0.511.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const rA=[["path",{d:"M20 6 9 17l-5-5",key:"1gmf2c"}]],np=Bt("check",rA);/**
 * @license lucide-react v0.511.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const nA=[["path",{d:"m6 9 6 6 6-6",key:"qrunsl"}]],e0=Bt("chevron-down",nA);/**
 * @license lucide-react v0.511.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const aA=[["path",{d:"m15 18-6-6 6-6",key:"1wnfg3"}]],qb=Bt("chevron-left",aA);/**
 * @license lucide-react v0.511.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const iA=[["path",{d:"m9 18 6-6-6-6",key:"mthhwq"}]],ap=Bt("chevron-right",iA);/**
 * @license lucide-react v0.511.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const sA=[["path",{d:"m18 15-6-6-6 6",key:"153udz"}]],k3=Bt("chevron-up",sA);/**
 * @license lucide-react v0.511.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const oA=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["line",{x1:"12",x2:"12",y1:"8",y2:"12",key:"1pkeuh"}],["line",{x1:"12",x2:"12.01",y1:"16",y2:"16",key:"4dfq90"}]],t0=Bt("circle-alert",oA);/**
 * @license lucide-react v0.511.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const lA=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m9 12 2 2 4-4",key:"dzmm74"}]],cA=Bt("circle-check",lA);/**
 * @license lucide-react v0.511.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const uA=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m15 9-6 6",key:"1uzhvr"}],["path",{d:"m9 9 6 6",key:"z0biqf"}]],Vb=Bt("circle-x",uA);/**
 * @license lucide-react v0.511.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const hA=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}]],Gb=Bt("circle",hA);/**
 * @license lucide-react v0.511.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const fA=[["rect",{width:"8",height:"4",x:"8",y:"2",rx:"1",ry:"1",key:"tgr4d6"}],["path",{d:"M16 4h2a2 2 0 0 1 2 2v14a2 2 0 0 1-2 2H6a2 2 0 0 1-2-2V6a2 2 0 0 1 2-2h2",key:"116196"}]],dA=Bt("clipboard",fA);/**
 * @license lucide-react v0.511.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const gA=[["rect",{width:"14",height:"14",x:"8",y:"8",rx:"2",ry:"2",key:"17jyea"}],["path",{d:"M4 16c-1.1 0-2-.9-2-2V4c0-1.1.9-2 2-2h10c1.1 0 2 .9 2 2",key:"zix9uf"}]],ip=Bt("copy",gA);/**
 * @license lucide-react v0.511.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const pA=[["path",{d:"M6 2v14a2 2 0 0 0 2 2h14",key:"ron5a4"}],["path",{d:"M18 22V8a2 2 0 0 0-2-2H2",key:"7s9ehn"}]],_x=Bt("crop",pA);/**
 * @license lucide-react v0.511.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const mA=[["path",{d:"M12 15V3",key:"m9g1x1"}],["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}],["path",{d:"m7 10 5 5 5-5",key:"brsn70"}]],lh=Bt("download",mA);/**
 * @license lucide-react v0.511.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const xA=[["path",{d:"M2.062 12.348a1 1 0 0 1 0-.696 10.75 10.75 0 0 1 19.876 0 1 1 0 0 1 0 .696 10.75 10.75 0 0 1-19.876 0",key:"1nclc0"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]],vv=Bt("eye",xA);/**
 * @license lucide-react v0.511.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const vA=[["path",{d:"M15 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7Z",key:"1rqfz7"}],["path",{d:"M14 2v4a2 2 0 0 0 2 2h4",key:"tnqrlb"}],["path",{d:"M10 12a1 1 0 0 0-1 1v1a1 1 0 0 1-1 1 1 1 0 0 1 1 1v1a1 1 0 0 0 1 1",key:"1oajmo"}],["path",{d:"M14 18a1 1 0 0 0 1-1v-1a1 1 0 0 1 1-1 1 1 0 0 1-1-1v-1a1 1 0 0 0-1-1",key:"mpwhp6"}]],yA=Bt("file-json",vA);/**
 * @license lucide-react v0.511.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const bA=[["path",{d:"M15 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7Z",key:"1rqfz7"}],["path",{d:"M14 2v4a2 2 0 0 0 2 2h4",key:"tnqrlb"}],["path",{d:"M10 9H8",key:"b1mrlr"}],["path",{d:"M16 13H8",key:"t4e002"}],["path",{d:"M16 17H8",key:"z1uh3a"}]],C3=Bt("file-text",bA);/**
 * @license lucide-react v0.511.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const wA=[["path",{d:"M15 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7Z",key:"1rqfz7"}],["path",{d:"M14 2v4a2 2 0 0 0 2 2h4",key:"tnqrlb"}],["path",{d:"M9 13v-1h6v1",key:"1bb014"}],["path",{d:"M12 12v6",key:"3ahymv"}],["path",{d:"M11 18h2",key:"12mj7e"}]],Wb=Bt("file-type",wA);/**
 * @license lucide-react v0.511.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const _A=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M12 2a14.5 14.5 0 0 0 0 20 14.5 14.5 0 0 0 0-20",key:"13o1zl"}],["path",{d:"M2 12h20",key:"9i4pu4"}]],T3=Bt("globe",_A);/**
 * @license lucide-react v0.511.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const SA=[["path",{d:"M21.42 10.922a1 1 0 0 0-.019-1.838L12.83 5.18a2 2 0 0 0-1.66 0L2.6 9.08a1 1 0 0 0 0 1.832l8.57 3.908a2 2 0 0 0 1.66 0z",key:"j76jl0"}],["path",{d:"M22 10v6",key:"1lu8f3"}],["path",{d:"M6 12.5V16a6 3 0 0 0 12 0v-3.5",key:"1r8lef"}]],kA=Bt("graduation-cap",SA);/**
 * @license lucide-react v0.511.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const CA=[["circle",{cx:"9",cy:"12",r:"1",key:"1vctgf"}],["circle",{cx:"9",cy:"5",r:"1",key:"hp0tcf"}],["circle",{cx:"9",cy:"19",r:"1",key:"fkjjf6"}],["circle",{cx:"15",cy:"12",r:"1",key:"1tmaij"}],["circle",{cx:"15",cy:"5",r:"1",key:"19l28e"}],["circle",{cx:"15",cy:"19",r:"1",key:"f4zoj3"}]],TA=Bt("grip-vertical",CA);/**
 * @license lucide-react v0.511.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const AA=[["path",{d:"m15 12-8.373 8.373a1 1 0 1 1-3-3L12 9",key:"eefl8a"}],["path",{d:"m18 15 4-4",key:"16gjal"}],["path",{d:"m21.5 11.5-1.914-1.914A2 2 0 0 1 19 8.172V7l-2.26-2.26a6 6 0 0 0-4.202-1.756L9 2.96l.92.82A6.18 6.18 0 0 1 12 8.4V10l2 2h1.172a2 2 0 0 1 1.414.586L18.5 14.5",key:"b7pghm"}]],EA=Bt("hammer",AA);/**
 * @license lucide-react v0.511.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const NA=[["line",{x1:"4",x2:"20",y1:"9",y2:"9",key:"4lhtct"}],["line",{x1:"4",x2:"20",y1:"15",y2:"15",key:"vyu0kd"}],["line",{x1:"10",x2:"8",y1:"3",y2:"21",key:"1ggp8o"}],["line",{x1:"16",x2:"14",y1:"3",y2:"21",key:"weycgp"}]],OA=Bt("hash",NA);/**
 * @license lucide-react v0.511.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const DA=[["path",{d:"M16 5h6",key:"1vod17"}],["path",{d:"M19 2v6",key:"4bpg5p"}],["path",{d:"M21 11.5V19a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h7.5",key:"1ue2ih"}],["path",{d:"m21 15-3.086-3.086a2 2 0 0 0-2.828 0L6 21",key:"1xmnt7"}],["circle",{cx:"9",cy:"9",r:"2",key:"af1f0g"}]],Yb=Bt("image-plus",DA);/**
 * @license lucide-react v0.511.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const LA=[["rect",{width:"18",height:"18",x:"3",y:"3",rx:"2",ry:"2",key:"1m3agn"}],["circle",{cx:"9",cy:"9",r:"2",key:"af1f0g"}],["path",{d:"m21 15-3.086-3.086a2 2 0 0 0-2.828 0L6 21",key:"1xmnt7"}]],Nl=Bt("image",LA);/**
 * @license lucide-react v0.511.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const FA=[["line",{x1:"19",x2:"10",y1:"4",y2:"4",key:"15jd3p"}],["line",{x1:"14",x2:"5",y1:"20",y2:"20",key:"bu0au3"}],["line",{x1:"15",x2:"9",y1:"4",y2:"20",key:"uljnxc"}]],Sx=Bt("italic",FA);/**
 * @license lucide-react v0.511.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const MA=[["path",{d:"M12.83 2.18a2 2 0 0 0-1.66 0L2.6 6.08a1 1 0 0 0 0 1.83l8.58 3.91a2 2 0 0 0 1.66 0l8.58-3.9a1 1 0 0 0 0-1.83z",key:"zw3jo"}],["path",{d:"M2 12a1 1 0 0 0 .58.91l8.6 3.91a2 2 0 0 0 1.65 0l8.58-3.9A1 1 0 0 0 22 12",key:"1wduqc"}],["path",{d:"M2 17a1 1 0 0 0 .58.91l8.6 3.91a2 2 0 0 0 1.65 0l8.58-3.9A1 1 0 0 0 22 17",key:"kqbvx6"}]],sp=Bt("layers",MA);/**
 * @license lucide-react v0.511.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const jA=[["path",{d:"M10 13a5 5 0 0 0 7.54.54l3-3a5 5 0 0 0-7.07-7.07l-1.72 1.71",key:"1cjeqo"}],["path",{d:"M14 11a5 5 0 0 0-7.54-.54l-3 3a5 5 0 0 0 7.07 7.07l1.71-1.71",key:"19qd67"}]],RA=Bt("link",jA);/**
 * @license lucide-react v0.511.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const BA=[["path",{d:"M21 12a9 9 0 1 1-6.219-8.56",key:"13zald"}]],Rp=Bt("loader-circle",BA);/**
 * @license lucide-react v0.511.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const PA=[["path",{d:"m22 7-8.991 5.727a2 2 0 0 1-2.009 0L2 7",key:"132q7q"}],["rect",{x:"2",y:"4",width:"20",height:"16",rx:"2",key:"izxlao"}]],IA=Bt("mail",PA);/**
 * @license lucide-react v0.511.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const UA=[["path",{d:"M15 3h6v6",key:"1q9fwt"}],["path",{d:"m21 3-7 7",key:"1l2asr"}],["path",{d:"m3 21 7-7",key:"tjx5ai"}],["path",{d:"M9 21H3v-6",key:"wtvkvv"}]],A3=Bt("maximize-2",UA);/**
 * @license lucide-react v0.511.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const zA=[["path",{d:"M8 3H5a2 2 0 0 0-2 2v3",key:"1dcmit"}],["path",{d:"M21 8V5a2 2 0 0 0-2-2h-3",key:"1e4gt3"}],["path",{d:"M3 16v3a2 2 0 0 0 2 2h3",key:"wsl5sc"}],["path",{d:"M16 21h3a2 2 0 0 0 2-2v-3",key:"18trek"}]],HA=Bt("maximize",zA);/**
 * @license lucide-react v0.511.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const qA=[["path",{d:"m3 11 18-5v12L3 14v-3z",key:"n962bs"}],["path",{d:"M11.6 16.8a3 3 0 1 1-5.8-1.6",key:"1yl0tm"}]],VA=Bt("megaphone",qA);/**
 * @license lucide-react v0.511.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const GA=[["path",{d:"M7.9 20A9 9 0 1 0 4 16.1L2 22Z",key:"vv11sd"}]],WA=Bt("message-circle",GA);/**
 * @license lucide-react v0.511.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const YA=[["path",{d:"M4.037 4.688a.495.495 0 0 1 .651-.651l16 6.5a.5.5 0 0 1-.063.947l-6.124 1.58a2 2 0 0 0-1.438 1.435l-1.579 6.126a.5.5 0 0 1-.947.063z",key:"edeuup"}]],XA=Bt("mouse-pointer-2",YA);/**
 * @license lucide-react v0.511.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const KA=[["path",{d:"M12 2v20",key:"t6zp3m"}],["path",{d:"m15 19-3 3-3-3",key:"11eu04"}],["path",{d:"m19 9 3 3-3 3",key:"1mg7y2"}],["path",{d:"M2 12h20",key:"9i4pu4"}],["path",{d:"m5 9-3 3 3 3",key:"j64kie"}],["path",{d:"m9 5 3-3 3 3",key:"l8vdw6"}]],$A=Bt("move",KA);/**
 * @license lucide-react v0.511.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ZA=[["path",{d:"m14.622 17.897-10.68-2.913",key:"vj2p1u"}],["path",{d:"M18.376 2.622a1 1 0 1 1 3.002 3.002L17.36 9.643a.5.5 0 0 0 0 .707l.944.944a2.41 2.41 0 0 1 0 3.408l-.944.944a.5.5 0 0 1-.707 0L8.354 7.348a.5.5 0 0 1 0-.707l.944-.944a2.41 2.41 0 0 1 3.408 0l.944.944a.5.5 0 0 0 .707 0z",key:"18tc5c"}],["path",{d:"M9 8c-1.804 2.71-3.97 3.46-6.583 3.948a.507.507 0 0 0-.302.819l7.32 8.883a1 1 0 0 0 1.185.204C12.735 20.405 16 16.792 16 15",key:"ytzfxy"}]],op=Bt("paintbrush",ZA);/**
 * @license lucide-react v0.511.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const JA=[["path",{d:"M12 22a1 1 0 0 1 0-20 10 9 0 0 1 10 9 5 5 0 0 1-5 5h-2.25a1.75 1.75 0 0 0-1.4 2.8l.3.4a1.75 1.75 0 0 1-1.4 2.8z",key:"e79jfc"}],["circle",{cx:"13.5",cy:"6.5",r:".5",fill:"currentColor",key:"1okk4w"}],["circle",{cx:"17.5",cy:"10.5",r:".5",fill:"currentColor",key:"f64h9f"}],["circle",{cx:"6.5",cy:"12.5",r:".5",fill:"currentColor",key:"qy21gx"}],["circle",{cx:"8.5",cy:"7.5",r:".5",fill:"currentColor",key:"fotxhn"}]],ch=Bt("palette",JA);/**
 * @license lucide-react v0.511.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const QA=[["rect",{width:"18",height:"18",x:"3",y:"3",rx:"2",key:"afitv7"}],["path",{d:"M9 3v18",key:"fh3hqa"}],["path",{d:"m16 15-3-3 3-3",key:"14y99z"}]],eE=Bt("panel-left-close",QA);/**
 * @license lucide-react v0.511.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const tE=[["rect",{width:"18",height:"18",x:"3",y:"3",rx:"2",key:"afitv7"}],["path",{d:"M9 3v18",key:"fh3hqa"}],["path",{d:"m14 9 3 3-3 3",key:"8010ee"}]],rE=Bt("panel-left-open",tE);/**
 * @license lucide-react v0.511.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const nE=[["rect",{width:"18",height:"18",x:"3",y:"3",rx:"2",key:"afitv7"}],["path",{d:"M15 3v18",key:"14nvp0"}],["path",{d:"m8 9 3 3-3 3",key:"12hl5m"}]],aE=Bt("panel-right-close",nE);/**
 * @license lucide-react v0.511.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const iE=[["rect",{width:"18",height:"18",x:"3",y:"3",rx:"2",key:"afitv7"}],["path",{d:"M15 3v18",key:"14nvp0"}],["path",{d:"m10 15-3-3 3-3",key:"1pgupc"}]],sE=Bt("panel-right-open",iE);/**
 * @license lucide-react v0.511.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const oE=[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"M12 5v14",key:"s699le"}]],kx=Bt("plus",oE);/**
 * @license lucide-react v0.511.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const lE=[["path",{d:"m15 14 5-5-5-5",key:"12vg1m"}],["path",{d:"M20 9H9.5A5.5 5.5 0 0 0 4 14.5A5.5 5.5 0 0 0 9.5 20H13",key:"6uklza"}]],cE=Bt("redo-2",lE);/**
 * @license lucide-react v0.511.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const uE=[["path",{d:"M3 12a9 9 0 1 0 9-9 9.75 9.75 0 0 0-6.74 2.74L3 8",key:"1357e3"}],["path",{d:"M3 3v5h5",key:"1xhq8a"}]],hE=Bt("rotate-ccw",uE);/**
 * @license lucide-react v0.511.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const fE=[["path",{d:"M21 12a9 9 0 1 1-9-9c2.52 0 4.93 1 6.74 2.74L21 8",key:"1p45f6"}],["path",{d:"M21 3v5h-5",key:"1q7to0"}]],Xb=Bt("rotate-cw",fE);/**
 * @license lucide-react v0.511.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const dE=[["path",{d:"m21 21-4.34-4.34",key:"14j7rj"}],["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}]],E3=Bt("search",dE);/**
 * @license lucide-react v0.511.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const gE=[["path",{d:"M20 7h-9",key:"3s1dr2"}],["path",{d:"M14 17H5",key:"gfn3mx"}],["circle",{cx:"17",cy:"17",r:"3",key:"18b49y"}],["circle",{cx:"7",cy:"7",r:"3",key:"dfmy0x"}]],Kb=Bt("settings-2",gE);/**
 * @license lucide-react v0.511.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const pE=[["path",{d:"M8.3 10a.7.7 0 0 1-.626-1.079L11.4 3a.7.7 0 0 1 1.198-.043L16.3 8.9a.7.7 0 0 1-.572 1.1Z",key:"1bo67w"}],["rect",{x:"3",y:"14",width:"7",height:"7",rx:"1",key:"1bkyp8"}],["circle",{cx:"17.5",cy:"17.5",r:"3.5",key:"w3z12y"}]],mE=Bt("shapes",pE);/**
 * @license lucide-react v0.511.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const xE=[["circle",{cx:"18",cy:"5",r:"3",key:"gq8acd"}],["circle",{cx:"6",cy:"12",r:"3",key:"w7nqdw"}],["circle",{cx:"18",cy:"19",r:"3",key:"1xt0gg"}],["line",{x1:"8.59",x2:"15.42",y1:"13.51",y2:"17.49",key:"47mynk"}],["line",{x1:"15.41",x2:"8.59",y1:"6.51",y2:"10.49",key:"1n3mei"}]],Ff=Bt("share-2",xE);/**
 * @license lucide-react v0.511.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const vE=[["path",{d:"M20 13c0 5-3.5 7.5-7.66 8.95a1 1 0 0 1-.67-.01C7.5 20.5 4 18 4 13V6a1 1 0 0 1 1-1c2 0 4.5-1.2 6.24-2.72a1.17 1.17 0 0 1 1.52 0C14.51 3.81 17 5 19 5a1 1 0 0 1 1 1z",key:"oel41y"}],["path",{d:"m9 12 2 2 4-4",key:"dzmm74"}]],y2=Bt("shield-check",vE);/**
 * @license lucide-react v0.511.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const yE=[["path",{d:"M9.937 15.5A2 2 0 0 0 8.5 14.063l-6.135-1.582a.5.5 0 0 1 0-.962L8.5 9.936A2 2 0 0 0 9.937 8.5l1.582-6.135a.5.5 0 0 1 .963 0L14.063 8.5A2 2 0 0 0 15.5 9.937l6.135 1.581a.5.5 0 0 1 0 .964L15.5 14.063a2 2 0 0 0-1.437 1.437l-1.582 6.135a.5.5 0 0 1-.963 0z",key:"4pj2yx"}],["path",{d:"M20 3v4",key:"1olli1"}],["path",{d:"M22 5h-4",key:"1gvqau"}],["path",{d:"M4 17v2",key:"vumght"}],["path",{d:"M5 18H3",key:"zchphs"}]],bE=Bt("sparkles",yE);/**
 * @license lucide-react v0.511.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const wE=[["path",{d:"M12.586 2.586A2 2 0 0 0 11.172 2H4a2 2 0 0 0-2 2v7.172a2 2 0 0 0 .586 1.414l8.704 8.704a2.426 2.426 0 0 0 3.42 0l6.58-6.58a2.426 2.426 0 0 0 0-3.42z",key:"vktsd0"}],["circle",{cx:"7.5",cy:"7.5",r:".5",fill:"currentColor",key:"kqv944"}]],_E=Bt("tag",wE);/**
 * @license lucide-react v0.511.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const SE=[["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M19 6v14c0 1-1 2-2 2H7c-1 0-2-1-2-2V6",key:"4alrt4"}],["path",{d:"M8 6V4c0-1 1-2 2-2h4c1 0 2 1 2 2v2",key:"v07s0e"}],["line",{x1:"10",x2:"10",y1:"11",y2:"17",key:"1uufr5"}],["line",{x1:"14",x2:"14",y1:"11",y2:"17",key:"xtxkd"}]],lp=Bt("trash-2",SE);/**
 * @license lucide-react v0.511.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const kE=[["path",{d:"M12 4v16",key:"1654pz"}],["path",{d:"M4 7V5a1 1 0 0 1 1-1h14a1 1 0 0 1 1 1v2",key:"e0r10z"}],["path",{d:"M9 20h6",key:"s66wpe"}]],xh=Bt("type",kE);/**
 * @license lucide-react v0.511.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const CE=[["path",{d:"M6 4v6a6 6 0 0 0 12 0V4",key:"9kb039"}],["line",{x1:"4",x2:"20",y1:"20",y2:"20",key:"nun2al"}]],Cx=Bt("underline",CE);/**
 * @license lucide-react v0.511.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const TE=[["path",{d:"M9 14 4 9l5-5",key:"102s5s"}],["path",{d:"M4 9h10.5a5.5 5.5 0 0 1 5.5 5.5a5.5 5.5 0 0 1-5.5 5.5H11",key:"f3b9sd"}]],AE=Bt("undo-2",TE);/**
 * @license lucide-react v0.511.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const EE=[["path",{d:"M12 3v12",key:"1x0j5s"}],["path",{d:"m17 8-5-5-5 5",key:"7q97r8"}],["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}]],Wd=Bt("upload",EE);/**
 * @license lucide-react v0.511.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const NE=[["path",{d:"m21.64 3.64-1.28-1.28a1.21 1.21 0 0 0-1.72 0L2.36 18.64a1.21 1.21 0 0 0 0 1.72l1.28 1.28a1.2 1.2 0 0 0 1.72 0L21.64 5.36a1.2 1.2 0 0 0 0-1.72",key:"ul74o6"}],["path",{d:"m14 7 3 3",key:"1r5n42"}],["path",{d:"M5 6v4",key:"ilb8ba"}],["path",{d:"M19 14v4",key:"blhpug"}],["path",{d:"M10 2v2",key:"7u0qdc"}],["path",{d:"M7 8H3",key:"zfb6yr"}],["path",{d:"M21 16h-4",key:"1cnmox"}],["path",{d:"M11 3H9",key:"1obp7u"}]],OE=Bt("wand-sparkles",NE);/**
 * @license lucide-react v0.511.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const DE=[["path",{d:"M12 20h.01",key:"zekei9"}],["path",{d:"M8.5 16.429a5 5 0 0 1 7 0",key:"1bycff"}],["path",{d:"M5 12.859a10 10 0 0 1 5.17-2.69",key:"1dl1wf"}],["path",{d:"M19 12.859a10 10 0 0 0-2.007-1.523",key:"4k23kn"}],["path",{d:"M2 8.82a15 15 0 0 1 4.177-2.643",key:"1grhjp"}],["path",{d:"M22 8.82a15 15 0 0 0-11.288-3.764",key:"z3jwby"}],["path",{d:"m2 2 20 20",key:"1ooewy"}]],LE=Bt("wifi-off",DE);/**
 * @license lucide-react v0.511.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const FE=[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]],N3=Bt("x",FE);/**
 * @license lucide-react v0.511.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ME=[["path",{d:"M4 14a1 1 0 0 1-.78-1.63l9.9-10.2a.5.5 0 0 1 .86.46l-1.92 6.02A1 1 0 0 0 13 10h7a1 1 0 0 1 .78 1.63l-9.9 10.2a.5.5 0 0 1-.86-.46l1.92-6.02A1 1 0 0 0 11 14z",key:"1xq2db"}]],$b=Bt("zap",ME);/**
 * @license lucide-react v0.511.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const jE=[["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}],["line",{x1:"21",x2:"16.65",y1:"21",y2:"16.65",key:"13gj7c"}],["line",{x1:"11",x2:"11",y1:"8",y2:"14",key:"1vmskp"}],["line",{x1:"8",x2:"14",y1:"11",y2:"11",key:"durymu"}]],RE=Bt("zoom-in",jE);/**
 * @license lucide-react v0.511.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const BE=[["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}],["line",{x1:"21",x2:"16.65",y1:"21",y2:"16.65",key:"13gj7c"}],["line",{x1:"8",x2:"14",y1:"11",y2:"11",key:"durymu"}]],PE=Bt("zoom-out",BE),Zb=r=>{let e;const t=new Set,n=(h,f)=>{const m=typeof h=="function"?h(e):h;if(!Object.is(m,e)){const x=e;e=f??(typeof m!="object"||m===null)?m:Object.assign({},e,m),t.forEach(g=>g(e,x))}},a=()=>e,l={setState:n,getState:a,getInitialState:()=>u,subscribe:h=>(t.add(h),()=>t.delete(h))},u=e=r(n,a,l);return l},IE=(r=>r?Zb(r):Zb),UE=r=>r;function zE(r,e=UE){const t=Ca.useSyncExternalStore(r.subscribe,Ca.useCallback(()=>e(r.getState()),[r,e]),Ca.useCallback(()=>e(r.getInitialState()),[r,e]));return Ca.useDebugValue(t),t}const Jb=r=>{const e=IE(r),t=n=>zE(e,n);return Object.assign(t,e),t},O3=(r=>r?Jb(r):Jb),HE={width:1080,height:1080,background:{type:"solid",color:"#ffffff"},elements:[]},qE={format:"png",quality:90,filenamePattern:"image_{index}"},fr=O3(r=>({showLanding:!0,currentStep:"upload",csvData:null,templateConfig:HE,previewRowIndex:0,buildOptions:qE,buildProgress:{status:"idle",completed:0,total:0},uploadedImages:[],shareText:"",generatedImages:[],setShowLanding:e=>r({showLanding:e}),setCsvData:(e,t)=>r({csvData:{headers:e.headers,rows:e.rows,fileName:t},showLanding:!1}),setCurrentStep:e=>r({currentStep:e,showLanding:!1}),setTemplateConfig:e=>r({templateConfig:e}),setPreviewRowIndex:e=>r({previewRowIndex:e}),setBuildOptions:e=>r(t=>({buildOptions:{...t.buildOptions,...e}})),setBuildProgress:e=>r(t=>({buildProgress:{...t.buildProgress,...e}})),toggleColumnType:e=>r(t=>t.csvData?{csvData:{...t.csvData,headers:t.csvData.headers.map(n=>n.name===e?{...n,type:n.type==="image"?"text":"image"}:n)}}:{}),addUploadedImage:e=>r(t=>({uploadedImages:t.uploadedImages.includes(e)?t.uploadedImages:[...t.uploadedImages,e]})),removeUploadedImage:e=>r(t=>({uploadedImages:t.uploadedImages.filter(n=>n!==e)})),setShareText:e=>r({shareText:e}),setGeneratedImages:e=>r({generatedImages:e}),clearGeneratedImages:()=>r(e=>(e.generatedImages.forEach(t=>URL.revokeObjectURL(t.url)),{generatedImages:[]}))}));function Cl({text:r,children:e}){return _.jsxs("div",{className:"relative group/tooltip inline-flex",children:[e,_.jsxs("div",{role:"tooltip",className:"absolute top-full left-1/2 -translate-x-1/2 mt-1.5 px-2 py-1 text-[11px] font-medium text-white bg-gray-800 rounded-md whitespace-nowrap opacity-0 pointer-events-none group-hover/tooltip:opacity-100 transition-opacity duration-150 z-50",children:[r,_.jsx("div",{className:"absolute bottom-full left-1/2 -translate-x-1/2 border-4 border-transparent border-b-gray-800"})]})]})}const r0={en:{code:"en",name:"English",nativeName:"English",dir:"ltr"},ar:{code:"ar",name:"Arabic",nativeName:"",dir:"rtl"}},VE={app:{title:"Data Image Generator"},nav:{upload:"Upload",design:"Design",preview:"Preview",build:"Build"},steps:{upload:"Upload your data file",editor:"Design your image template",preview:"Preview with live data",build:"Generate and download images"},upload:{dragDrop:"Drag and drop your CSV or Excel file here",or:"or",browseFiles:"Browse Files",supports:"Supports .csv, .xlsx, and .xls files up to 10 MB",parsing:"Parsing file",failed:"Upload failed",tryAgain:"Try again",csvError:"Please upload a CSV or Excel file (.csv, .xlsx, .xls).",replaceFile:"Replace file",columnTypes:"Column Types",columnHint:"By default, all columns are treated as text. If a column contains image URLs, click on it below to switch it to <b>image</b> type so the actual image is displayed instead of the raw URL.",dataPreview:"Data Preview",first:"first",rows:"rows",row:"row",columns:"columns",column:"column"},editor:{assets:"Assets",canvas:"Canvas",properties:"Properties",collapsePanel:"Collapse panel",showAssetsPanel:"Show Assets panel",showPropertiesPanel:"Show Properties panel",import:"Import",export:"Export",importTitle:"Import template from JSON file",exportTitle:"Export template as JSON file",invalidTemplate:"Invalid template file. Missing required fields.",invalidJson:"Failed to read template file. Make sure it's a valid JSON template."},assetPanel:{csvColumns:"CSV Columns",noCsvLoaded:"No CSV loaded yet.",addElements:"Add Elements",addText:"Add a static or placeholder text element",addTextBtn:"Add Text",elements:"Elements",imageLibrary:"Image Library",uploadImages:"Upload Images",pasteImageUrl:"Paste image URL...",add:"Add",couldNotLoad:"Could not load image from URL",noImagesYet:"No images uploaded yet.",removeFromLibrary:"Remove from library",canvasSize:"Canvas Size",width:"Width",height:"Height",background:"Background",solid:"Solid",gradient:"Gradient",image:"Image",horizontal:"Horizontal",vertical:"Vertical",diagonal:"Diagonal",color1:"Color 1",color2:"Color 2",replaceBackgroundImage:"Replace Background Image",uploadBackgroundImage:"Upload Background Image",bgImageHint:"Click the image on canvas to move or resize it. Drag corners to scale.",removeBackgroundImage:"Remove background image"},elementsBrowser:{icons:"Icons",stickers:"Stickers",illustrations:"Illustrations",searchIcons:"Search icons...",searchStickers:"Search stickers & emoji...",searchIllustrations:"Search illustrations...",noResults:"No elements found. Try a different search.",iconsFooter:"200,000+ free icons. Search or pick a category.",stickersFooter:"Colorful emoji & stickers from Noto, Twemoji & more.",illustrationsFooter:"Free illustrations from unDraw. Search for people, scenes & more.",arrows:"Arrows",social:"Social",business:"Business",people:"People",nature:"Nature",food:"Food",travel:"Travel",weather:"Weather",shapes:"Shapes",stars:"Stars",hearts:"Hearts",music:"Music",sports:"Sports",tech:"Tech",finance:"Finance",medical:"Medical",faces:"Faces",cats:"Cats",objects:"Objects",hands:"Hands",flags:"Flags",technology:"Technology",education:"Education",creative:"Creative",health:"Health",shopping:"Shopping",communication:"Communication"},canvasEditor:{undo:"Undo (Ctrl+Z)",redo:"Redo (Ctrl+Shift+Z)",duplicate:"Duplicate (Ctrl+D)",paste:"Paste (Ctrl+V)",zoomOut:"Zoom out",zoomIn:"Zoom in",fitToView:"Fit to view"},properties:{selectElement:"Select an element on the canvas to edit its properties.",elementsSelected:"elements selected",position:"Position",size:"Size",rotation:"Rotation",font:"Font",style:"Style",alignment:"Alignment",textBackground:"Text Background",opacity:"Opacity",radius:"Radius",color:"Color",borderRadius:"Border Radius",layer:"Layer",front:"Front",back:"Back",bringToFront:"Bring to Front",sendToBack:"Send to Back",moveToTop:"Move element to the top layer",moveToBottom:"Move element to the bottom layer",conditions:"Conditions",addCondition:"Add Condition",addConditionToAll:"Add Condition to All",duplicateOpposite:"Duplicate with opposite condition",duplicateAllOpposite:"Duplicate all with opposite condition",conditionTip:"Tip: Duplicate elements and set opposing conditions for different layouts.",deleteElement:"Delete Element",deleteElements:"Delete {count} Elements",sharp:"Sharp",rounded:"Rounded",circle:"Circle",crop:"Crop",cropImage:"Crop Image",adjustCrop:"Adjust Crop",resetCrop:"Reset Crop",toggleBold:"Toggle bold",toggleItalic:"Toggle italic",toggleUnderline:"Toggle underline",mixed:"Mixed",mixedAngles:"Mixed angles",mixedFonts:"Mixed fonts",mixedSizes:"Mixed sizes",mixedColors:"Mixed colors",mixedBgColors:"Mixed bg colors",mixedOpacities:"Mixed opacities",mixedRadii:"Mixed radii",notSet:"Not set",someIndividual:"Some elements have additional individual conditions not shown here.",selfColumnHint:`"Element's own column" uses each element's bound column (for placeholders) or the first {column} in the text.`},styleOverrides:{title:"Style Overrides",fillColor:"Fill Color",fontFamily:"Font Family",reset:"Reset",bgOpacity:"Bg Opacity",bgRadius:"Bg Radius"},conditionEditor:{if:"If",then:"Then",and:"AND",or:"OR",check:"Check",addCheck:"Add check",removeCheck:"Remove check",deleteCondition:"Delete condition",compareTo:"Compare to:",value:"Value",comparisonValue:"Comparison value",selfColumn:" Element's own column",isEmpty:"Is empty",isNotEmpty:"Is not empty",equals:"Equals",notEquals:"Not equals",contains:"Contains",notContains:"Does not contain",showElement:"Show element",hideElement:"Hide element",changeStyle:"Change style"},cropOverlay:{title:"Crop Image",reset:"Reset",cancel:"Cancel",apply:"Apply"},fontPicker:{searchFonts:"Search fonts",noFonts:"No fonts found"},preview:{title:"Preview",rowData:"Row Data",previous:"Previous",next:"Next",row:"Row",of:"of",empty:"empty",rendering:"Rendering",noPreview:"No preview available",noData:"No data loaded",noDataHint:"Upload a CSV or Excel file first to preview your template with real data.",goToUpload:"Go to Upload",noElements:"No template elements",noElementsHint:"Add some elements to your template to see a preview.",goToEditor:"Go to Editor"},build:{exportOptions:"Export Options",outputMode:"Output Mode",downloadZip:"Download ZIP",downloadPdf:"Download PDF",downloadZipPdf:"ZIP + PDF",shareOnly:"Share Only",both:"Both",imageFormat:"Image Format",quality:"Quality",smallest:"1 (smallest)",best:"100 (best)",filenamePattern:"Filename Pattern",showTokens:"Show available column tokens",hideTokens:"Hide available column tokens",filenameHint:"Use {column_name} to insert data values. Example: {name}_badge",shareText:"Share Text",shareTextHint:"Write a message template to share alongside each image. Use column tokens to personalise per row.",shareTextPlaceholder:"e.g. Check out {name}'s certificate! ",cardLabel:"Card Label",cardLabelHint:"Pick a column to identify each image card below. Helps you tell rows apart at a glance.",autoFirstColumn:"Auto (first column)",summary:"{count} images will be generated as {format}",summaryQuality:"at {quality}% quality",generating:"Generating images",complete:"Generation complete!",cancelled:"Generation cancelled",failed:"Generation failed",allGenerated:"All {count} images generated",andDownloaded:"and downloaded",scrollToShare:". Scroll down to share them",cancelledAfter:"Generation was cancelled after {completed} of {total} images.",cancel:"Cancel",buildAgain:"Build Again",buildImages:"Build {count} Images",generatingBtn:"Generating",shareImages:"Share Images ({count})",shareImagesHint:"Share each image with its personalised text via your preferred platform.",share:"Share",whatsapp:"WhatsApp",copyText:"Copy Text",copied:"Copied",download:"Download",textCopied:"Text copied to clipboard  paste it in the app if needed",noData:"No data loaded",noDataHint:"Upload a CSV or Excel file first before building images.",goToUpload:"Go to Upload",noElements:"No template elements",noElementsHint:"Design your template before generating images.",goToEditor:"Go to Editor"},common:{image:"image",text:"text",column:"Column",clickToToggleType:"Click to toggle type"},landing:{heroTitle:"Turn Your Data Into Stunning Images",heroSubtitle:"Upload a CSV or Excel spreadsheet, design a template with dynamic placeholders and conditional logic, then batch-generate hundreds of personalized images in seconds. Certificates, badges, social posts, invitations  all automated. Your data never leaves your browser.",getStarted:"Get Started  It's Free",learnMore:"Learn More",previewUpload:"Upload",previewDesign:"Design",previewPreview:"Preview",previewBuild:"Build",howItWorksTitle:"How It Works",howItWorksSubtitle:"Four simple steps from spreadsheet to finished images",step1Title:"Upload Your Data",step1Desc:"Drag and drop your CSV or Excel file. Columns are auto-detected  mark any column as an image URL with one click.",step2Title:"Design Your Template",step2Desc:"Use the drag-and-drop editor to place text, images, icons, and stickers. Bind data columns as dynamic placeholders and set up conditional logic to show, hide, or restyle elements based on your data.",step3Title:"Preview Live Data",step3Desc:"See your template rendered with real data. Navigate through rows to verify every variation looks perfect.",step4Title:"Build & Share",step4Desc:"Batch-generate all images as PNG or JPEG. Download as ZIP, export as PDF, or share directly to social media with personalized messages.",featuresTitle:"Packed With Features",featuresSubtitle:"Everything you need to create professional personalized images at scale",feature1Title:"Dynamic Placeholders",feature1Desc:"Bind any data column to text or image elements using {column_name} tokens. Each row generates a unique image with its own data  names, photos, dates, anything.",feature2Title:"Conditional Logic",feature2Desc:"Show, hide, or restyle elements based on your data. Combine multiple conditions with AND/OR logic. Compare columns, check for empty values, and create different layouts from the same template.",feature3Title:"Drag-and-Drop Editor",feature3Desc:"A visual canvas where you drag, resize, rotate, and style elements with precision. Undo/redo, keyboard shortcuts, zoom controls, and layer management  all built in.",feature4Title:"Privacy First",feature4Desc:"Your data never leaves your browser. All processing happens locally  no uploads, no servers, no tracking. Your spreadsheets stay yours.",feature5Title:"200,000+ Free Assets",feature5Desc:"Browse icons, emoji stickers, and illustrations from top open-source libraries. Search by category or keyword and drop them onto your canvas.",feature6Title:"Batch Generation",feature6Desc:"Generate hundreds of images in one click. Export as PNG or JPEG with adjustable quality. Download as ZIP, export all as a PDF, or get a ZIP with the PDF included.",feature7Title:"Social Media Sharing",feature7Desc:"Write personalized share text with column tokens. Share each image to any social media platform or copy text to clipboard  all from the build screen.",feature8Title:"Image Backgrounds",feature8Desc:"Solid colors, linear gradients (horizontal, vertical, diagonal), or custom background images. Position and scale backgrounds right on the canvas.",feature9Title:"Text Styling",feature9Desc:"Custom fonts, bold, italic, underline, text alignment, color picker, and text backgrounds with opacity and border radius controls.",feature10Title:"Image Editing",feature10Desc:"Crop images interactively, apply border radius from sharp to circular, and load images from URLs with automatic CORS handling.",feature11Title:"Template Import/Export",feature11Desc:"Save your designs as JSON templates and reload them anytime. Share templates with your team for consistent branding.",feature12Title:"Bilingual Interface",feature12Desc:"Full English and Arabic support with right-to-left layout. Switch languages instantly  the entire UI adapts seamlessly.",feature13Title:"Works Offline (PWA)",feature13Desc:"Install Post Factory as a Progressive Web App. Works offline, launches from your home screen, and runs entirely in your browser  no server uploads.",feature14Title:"Custom Filenames",feature14Desc:"Define filename patterns using data column tokens. Each generated image gets a meaningful, unique name automatically.",feature15Title:"SVG Icon Recoloring",feature15Desc:"Change the color of any SVG icon directly on the canvas. Match your brand colors without editing source files.",feature16Title:"Responsive & Mobile-Ready",feature16Desc:"Designed for desktop and mobile. Touch-friendly controls, collapsible panels, and a compact mobile layout for designing on the go.",ctaTitle:"Ready to Automate Your Image Creation?",ctaSubtitle:"No sign-up required. No data leaves your browser. Just upload, design, and generate.",ctaButton:"Start Creating Now",footerTagline:"Batch image generation from CSV and Excel data.",footerPrivacy:"All processing happens in your browser. Your data never leaves your device.",useCasesTitle:"What Can You Create?",useCasesSubtitle:"Post Factory is perfect for any scenario where you need personalized images from data",useCase1Title:"Certificates & Diplomas",useCase1Desc:"Generate personalized certificates for courses, events, or achievements with names, dates, and custom details from your spreadsheet.",useCase2Title:"Social Media Posts",useCase2Desc:"Create branded social media content at scale. Product announcements, quotes, team spotlights  all personalized from your data.",useCase3Title:"Event Badges & Name Tags",useCase3Desc:"Design conference badges, name tags, or ID cards. Upload your attendee list and generate all badges in one batch.",useCase4Title:"Invitations & Cards",useCase4Desc:"Personalized wedding invitations, birthday cards, or thank-you notes. Each guest gets their own custom design.",useCase5Title:"Product Labels",useCase5Desc:"Generate product labels, price tags, or catalog images from your inventory spreadsheet.",useCase6Title:"Marketing Materials",useCase6Desc:"Personalized flyers, coupons, or promotional images. Target different audiences with conditional styling."}},GE={app:{title:"  "},nav:{upload:"",design:"",preview:"",build:""},steps:{upload:"  ",editor:"  ",preview:"   ",build:"  "},upload:{dragDrop:"   CSV  Excel ",or:"",browseFiles:" ",supports:"  .csv  .xlsx  .xls  10 ",parsing:"  ",failed:" ",tryAgain:" ",csvError:"   CSV  Excel ( .csv  .xlsx  .xls).",replaceFile:" ",columnTypes:" ",columnHint:"     .              <b></b>       .",dataPreview:" ",first:"",rows:"",row:"",columns:"",column:""},editor:{assets:"",canvas:"",properties:"",collapsePanel:" ",showAssetsPanel:"  ",showPropertiesPanel:"  ",import:"",export:"",importTitle:"    JSON",exportTitle:"   JSON",invalidTemplate:"   .   .",invalidJson:"    .     JSON ."},assetPanel:{csvColumns:" CSV",noCsvLoaded:"   CSV .",addElements:" ",addText:"     ",addTextBtn:" ",elements:"",imageLibrary:" ",uploadImages:" ",pasteImageUrl:"  ...",add:"",couldNotLoad:"    ",noImagesYet:"    .",removeFromLibrary:"  ",canvasSize:" ",width:"",height:"",background:"",solid:" ",gradient:"",image:"",horizontal:"",vertical:"",diagonal:"",color1:" 1",color2:" 2",replaceBackgroundImage:"  ",uploadBackgroundImage:"  ",bgImageHint:"        .   .",removeBackgroundImage:"  "},elementsBrowser:{icons:"",stickers:"",illustrations:" ",searchIcons:"  ...",searchStickers:"   ...",searchIllustrations:"   ...",noResults:"    .   .",iconsFooter:"  200,000  .    .",stickersFooter:"    Noto  Twemoji .",illustrationsFooter:"    unDraw.     .",arrows:"",social:"",business:"",people:"",nature:"",food:"",travel:"",weather:"",shapes:"",stars:"",hearts:"",music:"",sports:"",tech:"",finance:"",medical:"",faces:"",cats:"",objects:"",hands:"",flags:"",technology:"",education:"",creative:"",health:"",shopping:"",communication:""},canvasEditor:{undo:" (Ctrl+Z)",redo:" (Ctrl+Shift+Z)",duplicate:" (Ctrl+D)",paste:" (Ctrl+V)",zoomOut:"",zoomIn:"",fitToView:" "},properties:{selectElement:"     .",elementsSelected:" ",position:"",size:"",rotation:"",font:"",style:"",alignment:"",textBackground:" ",opacity:"",radius:" ",color:"",borderRadius:"  ",layer:"",front:"",back:"",bringToFront:" ",sendToBack:" ",moveToTop:"    ",moveToBottom:"    ",conditions:"",addCondition:" ",addConditionToAll:"  ",duplicateOpposite:"  ",duplicateAllOpposite:"   ",conditionTip:":       .",deleteElement:" ",deleteElements:" {count} ",sharp:"",rounded:"",circle:"",crop:"",cropImage:" ",adjustCrop:" ",resetCrop:"  ",toggleBold:" ",toggleItalic:" ",toggleUnderline:" ",mixed:"",mixedAngles:" ",mixedFonts:" ",mixedSizes:" ",mixedColors:" ",mixedBgColors:"  ",mixedOpacities:" ",mixedRadii:"  ",notSet:" ",someIndividual:"        .",selfColumnHint:'"  "      ()   {column}  .'},styleOverrides:{title:" ",fillColor:" ",fontFamily:" ",reset:" ",bgOpacity:" ",bgRadius:"  "},conditionEditor:{if:"",then:"",and:"",or:"",check:"",addCheck:" ",removeCheck:" ",deleteCondition:" ",compareTo:" :",value:"",comparisonValue:" ",selfColumn:"   ",isEmpty:"",isNotEmpty:" ",equals:"",notEquals:" ",contains:"",notContains:" ",showElement:" ",hideElement:" ",changeStyle:" "},cropOverlay:{title:" ",reset:" ",cancel:"",apply:""},fontPicker:{searchFonts:"  ",noFonts:"    "},preview:{title:"",rowData:" ",previous:"",next:"",row:"",of:"",empty:"",rendering:" ",noPreview:"   ",noData:"   ",noDataHint:"  CSV  Excel      .",goToUpload:" ",noElements:"    ",noElementsHint:"      .",goToEditor:" "},build:{exportOptions:" ",outputMode:" ",downloadZip:" ZIP",downloadPdf:" PDF",downloadZipPdf:"ZIP + PDF",shareOnly:" ",both:"",imageFormat:" ",quality:"",smallest:"1 ()",best:"100 ()",filenamePattern:"  ",showTokens:"   ",hideTokens:"   ",filenameHint:" {column_name}   . : {name}_badge",shareText:" ",shareTextHint:"      .      .",shareTextPlaceholder:":   {name}! ",cardLabel:" ",cardLabelHint:"      .      .",autoFirstColumn:" ( )",summary:"  {count}   {format}",summaryQuality:" {quality}%",generating:"  ",complete:" !",cancelled:"  ",failed:" ",allGenerated:"    ({count})",andDownloaded:" ",scrollToShare:".   ",cancelledAfter:"    {completed}  {total} .",cancel:"",buildAgain:" ",buildImages:" {count} ",generatingBtn:" ",shareImages:"  ({count})",shareImagesHint:"         .",share:"",whatsapp:"",copyText:" ",copied:" ",download:"",textCopied:"           ",noData:"   ",noDataHint:"  CSV  Excel    .",goToUpload:" ",noElements:"    ",noElementsHint:"    .",goToEditor:" "},common:{image:"",text:"",column:"",clickToToggleType:"  "},landing:{heroTitle:"    ",heroSubtitle:"   CSV  Excel             .        .     .",getStarted:"   ",learnMore:" ",previewUpload:"",previewDesign:"",previewPreview:"",previewBuild:"",howItWorksTitle:" ",howItWorksSubtitle:"        ",step1Title:"  ",step1Desc:"   CSV  Excel.            .",step2Title:" ",step2Desc:"        .                  .",step3Title:"  ",step3Desc:"    .          .",step4Title:" ",step4Desc:"      PNG  JPEG.   ZIP   PDF         .",featuresTitle:" ",featuresSubtitle:"         ",feature1Title:" ",feature1Desc:"          {column_name}.             .",feature2Title:" ",feature2Desc:"         .     AND/OR.            .",feature3Title:"  ",feature3Desc:"         . /           .",feature4Title:" ",feature4Desc:"    .           .    .",feature5Title:"  200,000  ",feature5Desc:"         .        .",feature6Title:" ",feature6Desc:"    .   PNG  JPEG   .   ZIP    PDF    ZIP   PDF.",feature7Title:"   ",feature7Desc:"     .                 .",feature8Title:" ",feature8Desc:"    (  )    .       .",feature9Title:" ",feature9Desc:"                .",feature10Title:" ",feature10Desc:"                 CORS .",feature11Title:"/ ",feature11Desc:"   JSON     .       .",feature12Title:"  ",feature12Desc:"        .        .",feature13Title:"   (PWA)",feature13Desc:" Post Factory   .               .",feature14Title:"  ",feature14Desc:"       .         .",feature15Title:"   SVG",feature15Desc:"    SVG   .        .",feature16Title:"  ",feature16Desc:"   .            .",ctaTitle:"   ",ctaSubtitle:"  .    .    .",ctaButton:"  ",footerTagline:"     CSV  Excel.",footerPrivacy:"    .     .",useCasesTitle:"  ",useCasesSubtitle:"Post Factory         ",useCase1Title:" ",useCase1Desc:"              .",useCase2Title:"  ",useCase2Desc:"         .            .",useCase3Title:"  ",useCase3Desc:"        .        .",useCase4Title:" ",useCase4Desc:"        .      .",useCase5Title:" ",useCase5Desc:"            .",useCase6Title:" ",useCase6Desc:"     .     ."}},Qb={en:VE,ar:GE},D3="app-locale";function Tx(){try{const r=localStorage.getItem(D3);if(r&&r in r0)return r}catch{}return"en"}function L3(r){const e=r0[r];document.documentElement.lang=e.code,document.documentElement.dir=e.dir}L3(Tx());function ew(r){return(e,t)=>{const n=Qb[r],a=e.split(".");let i=n;for(const o of a)if(i&&typeof i=="object"&&o in i)i=i[o];else{let l=Qb.en;for(const u of a)if(l&&typeof l=="object"&&u in l)l=l[u];else return e;i=l;break}return typeof i!="string"?e:t?i.replace(/\{(\w+)\}/g,(o,l)=>l in t?String(t[l]):`{${l}}`):i}}const fa=O3(r=>({locale:Tx(),t:ew(Tx()),setLocale:e=>{localStorage.setItem(D3,e),L3(e),r({locale:e,t:ew(e)})}})),tw=[{key:"upload",labelKey:"nav.upload",descKey:"steps.upload",icon:Wd},{key:"editor",labelKey:"nav.design",descKey:"steps.editor",icon:op},{key:"preview",labelKey:"nav.preview",descKey:"steps.preview",icon:vv},{key:"build",labelKey:"nav.build",descKey:"steps.build",icon:EA}],Hg=["upload","editor","preview","build"];function X1(r){return Hg.indexOf(r)}const WE={upload:"nav.design",editor:"nav.preview",preview:"nav.build"},YE={editor:"nav.upload",preview:"nav.design",build:"nav.preview"};function rw({compact:r}){const e=fr(A=>A.currentStep),t=fr(A=>A.setCurrentStep),n=fr(A=>A.csvData),a=fr(A=>A.templateConfig),i=fa(A=>A.t),o=fa(A=>A.locale),l=r0[o].dir==="rtl",u=l?cd:Qf,h=l?Qf:cd,f=X1(e),m=A=>{X1(A)<=f&&t(A)},x=e==="upload"?!!n:e==="editor"||e==="preview"?a.elements.length>0:!1,g=f>0,y=f<Hg.length-1?Hg[f+1]:null,v=f>0?Hg[f-1]:null,S=WE[e],k=YE[e];return r?_.jsxs("div",{className:"flex items-center justify-between px-2 py-1.5",children:[g&&v?_.jsxs("button",{type:"button",onClick:()=>t(v),className:"inline-flex items-center gap-1 px-2 py-1.5 min-h-[36px] text-[11px] font-medium text-gray-600 bg-gray-100 rounded-lg hover:bg-gray-200 transition-colors",children:[_.jsx(u,{className:"w-3 h-3"}),k?i(k):""]}):_.jsx("div",{}),_.jsx("div",{className:"flex items-center gap-1",children:tw.map(A=>{const N=X1(A.key),j=A.key===e,W=N<f,ee=N<=f,z=A.icon;return _.jsx("button",{type:"button",onClick:()=>m(A.key),disabled:!ee,className:`flex items-center justify-center w-8 h-8 rounded-full transition-all ${j?"bg-indigo-600 text-white shadow-sm":W?"bg-indigo-100 text-indigo-600":"bg-gray-100 text-gray-400"} ${ee?"cursor-pointer":"cursor-not-allowed"}`,title:i(A.descKey),children:W?_.jsx(np,{className:"w-3.5 h-3.5"}):_.jsx(z,{className:"w-3.5 h-3.5"})},A.key)})}),x&&y?_.jsxs("button",{type:"button",onClick:()=>t(y),className:"inline-flex items-center gap-1 px-2 py-1.5 min-h-[36px] text-[11px] font-medium text-white bg-indigo-600 rounded-lg hover:bg-indigo-700 transition-colors shadow-sm",children:[S?i(S):"",_.jsx(h,{className:"w-3 h-3"})]}):_.jsx("div",{})]}):_.jsxs("div",{className:"flex items-center justify-between px-6 py-2",children:[g&&v?_.jsxs("button",{type:"button",onClick:()=>t(v),className:"inline-flex items-center gap-1.5 px-3 py-1.5 text-xs font-medium text-gray-600 bg-gray-100 rounded-lg hover:bg-gray-200 transition-colors",children:[_.jsx(u,{className:"w-3.5 h-3.5"}),k?i(k):""]}):_.jsx("div",{className:"w-24"}),_.jsx("div",{className:"flex items-center gap-1",children:tw.map((A,N)=>{const j=X1(A.key),W=A.key===e,ee=j<f,z=j<=f,B=A.icon;return _.jsxs("div",{className:"flex items-center",children:[N>0&&_.jsx("div",{className:`w-12 h-px mx-1 ${j<=f?"bg-indigo-300":"bg-gray-200"}`}),_.jsx(Cl,{text:i(A.descKey),children:_.jsxs("button",{type:"button",onClick:()=>m(A.key),disabled:!z,className:`flex items-center gap-2 px-3 py-1.5 rounded-lg text-xs font-medium transition-all ${W?"bg-indigo-600 text-white shadow-sm":ee?"bg-indigo-50 text-indigo-700 hover:bg-indigo-100":"text-gray-400"} ${z?"cursor-pointer":"cursor-not-allowed"}`,children:[ee?_.jsx(np,{className:"w-3.5 h-3.5"}):_.jsx(B,{className:"w-3.5 h-3.5"}),_.jsx("span",{children:i(A.labelKey)})]})})]},A.key)})}),x&&y?_.jsxs("button",{type:"button",onClick:()=>t(y),className:"inline-flex items-center gap-1.5 px-3 py-1.5 text-xs font-medium text-white bg-indigo-600 rounded-lg hover:bg-indigo-700 transition-colors shadow-sm",children:[S?i(S):"",_.jsx(h,{className:"w-3.5 h-3.5"})]}):_.jsx("div",{className:"w-24"})]})}function Ax(){const r=fa(o=>o.locale),e=fa(o=>o.setLocale),t=Object.keys(r0),n=t.indexOf(r),a=t[(n+1)%t.length],i=r0[a];return _.jsxs("button",{type:"button",onClick:()=>e(a),className:"inline-flex items-center gap-1.5 px-2 py-1 text-xs font-medium text-gray-600 bg-gray-100 rounded-md hover:bg-gray-200 transition-colors",title:i.nativeName,children:[_.jsx(T3,{className:"w-3.5 h-3.5"}),_.jsx("span",{children:i.nativeName})]})}function XE({children:r}){const e=fa(a=>a.t),t=fr(a=>a.setShowLanding),n=()=>{t(!0)};return _.jsxs("div",{className:"h-full flex flex-col overflow-hidden bg-gray-50",children:[_.jsx("header",{className:"lg:hidden bg-white border-b border-gray-200 shadow-sm shrink-0",children:_.jsxs("div",{className:"px-3 py-1.5 flex items-center gap-2",children:[_.jsxs("button",{onClick:n,className:"flex items-center gap-2 hover:opacity-80 transition-opacity",title:"Back to home",children:[_.jsx("div",{className:"flex items-center justify-center w-6 h-6 rounded-md bg-indigo-600 text-white shrink-0",children:_.jsx(Nl,{className:"w-3.5 h-3.5"})}),_.jsx("h1",{className:"text-sm font-semibold text-gray-900 tracking-tight truncate",children:e("app.title")})]}),_.jsx("div",{className:"flex-1"}),_.jsx(Ax,{})]})}),_.jsx("div",{className:"lg:hidden bg-white border-b border-gray-100 shrink-0",children:_.jsx(rw,{compact:!0})}),_.jsx("header",{className:"hidden lg:block bg-white border-b border-gray-200 shadow-sm shrink-0",children:_.jsxs("div",{className:"px-6 py-2 flex items-center gap-3",children:[_.jsxs("button",{onClick:n,className:"flex items-center gap-3 hover:opacity-80 transition-opacity",title:"Back to home",children:[_.jsx("div",{className:"flex items-center justify-center w-7 h-7 rounded-lg bg-indigo-600 text-white",children:_.jsx(Nl,{className:"w-4 h-4"})}),_.jsx("h1",{className:"text-base font-semibold text-gray-900 tracking-tight",children:e("app.title")})]}),_.jsx("div",{className:"flex-1"}),_.jsx(Ax,{})]})}),_.jsx("div",{className:"hidden lg:block bg-white border-b border-gray-100 relative z-10 shrink-0",children:_.jsx(rw,{})}),_.jsx("main",{className:"flex-1 min-h-0 overflow-y-auto overflow-x-hidden px-2 sm:px-3 py-2 sm:py-3",children:r})]})}var qg={exports:{}};/* @license
Papa Parse
v5.5.3
https://github.com/mholt/PapaParse
License: MIT
*/var KE=qg.exports,nw;function $E(){return nw||(nw=1,(function(r,e){((t,n)=>{r.exports=n()})(KE,function t(){var n=typeof self<"u"?self:typeof window<"u"?window:n!==void 0?n:{},a,i=!n.document&&!!n.postMessage,o=n.IS_PAPA_WORKER||!1,l={},u=0,h={};function f(B){this._handle=null,this._finished=!1,this._completed=!1,this._halted=!1,this._input=null,this._baseIndex=0,this._partialLine="",this._rowCount=0,this._start=0,this._nextChunk=null,this.isFirstChunk=!0,this._completeResults={data:[],errors:[],meta:{}},(function(D){var Z=W(D);Z.chunkSize=parseInt(Z.chunkSize),D.step||D.chunk||(Z.chunkSize=null),this._handle=new v(Z),(this._handle.streamer=this)._config=Z}).call(this,B),this.parseChunk=function(D,Z){var q=parseInt(this._config.skipFirstNLines)||0;if(this.isFirstChunk&&0<q){let V=this._config.newline;V||(O=this._config.quoteChar||'"',V=this._handle.guessLineEndings(D,O)),D=[...D.split(V).slice(q)].join(V)}this.isFirstChunk&&z(this._config.beforeFirstChunk)&&(O=this._config.beforeFirstChunk(D))!==void 0&&(D=O),this.isFirstChunk=!1,this._halted=!1;var q=this._partialLine+D,O=(this._partialLine="",this._handle.parse(q,this._baseIndex,!this._finished));if(!this._handle.paused()&&!this._handle.aborted()){if(D=O.meta.cursor,q=(this._finished||(this._partialLine=q.substring(D-this._baseIndex),this._baseIndex=D),O&&O.data&&(this._rowCount+=O.data.length),this._finished||this._config.preview&&this._rowCount>=this._config.preview),o)n.postMessage({results:O,workerId:h.WORKER_ID,finished:q});else if(z(this._config.chunk)&&!Z){if(this._config.chunk(O,this._handle),this._handle.paused()||this._handle.aborted())return void(this._halted=!0);this._completeResults=O=void 0}return this._config.step||this._config.chunk||(this._completeResults.data=this._completeResults.data.concat(O.data),this._completeResults.errors=this._completeResults.errors.concat(O.errors),this._completeResults.meta=O.meta),this._completed||!q||!z(this._config.complete)||O&&O.meta.aborted||(this._config.complete(this._completeResults,this._input),this._completed=!0),q||O&&O.meta.paused||this._nextChunk(),O}this._halted=!0},this._sendError=function(D){z(this._config.error)?this._config.error(D):o&&this._config.error&&n.postMessage({workerId:h.WORKER_ID,error:D,finished:!1})}}function m(B){var D;(B=B||{}).chunkSize||(B.chunkSize=h.RemoteChunkSize),f.call(this,B),this._nextChunk=i?function(){this._readChunk(),this._chunkLoaded()}:function(){this._readChunk()},this.stream=function(Z){this._input=Z,this._nextChunk()},this._readChunk=function(){if(this._finished)this._chunkLoaded();else{if(D=new XMLHttpRequest,this._config.withCredentials&&(D.withCredentials=this._config.withCredentials),i||(D.onload=ee(this._chunkLoaded,this),D.onerror=ee(this._chunkError,this)),D.open(this._config.downloadRequestBody?"POST":"GET",this._input,!i),this._config.downloadRequestHeaders){var Z,q=this._config.downloadRequestHeaders;for(Z in q)D.setRequestHeader(Z,q[Z])}var O;this._config.chunkSize&&(O=this._start+this._config.chunkSize-1,D.setRequestHeader("Range","bytes="+this._start+"-"+O));try{D.send(this._config.downloadRequestBody)}catch(V){this._chunkError(V.message)}i&&D.status===0&&this._chunkError()}},this._chunkLoaded=function(){D.readyState===4&&(D.status<200||400<=D.status?this._chunkError():(this._start+=this._config.chunkSize||D.responseText.length,this._finished=!this._config.chunkSize||this._start>=(Z=>(Z=Z.getResponseHeader("Content-Range"))!==null?parseInt(Z.substring(Z.lastIndexOf("/")+1)):-1)(D),this.parseChunk(D.responseText)))},this._chunkError=function(Z){Z=D.statusText||Z,this._sendError(new Error(Z))}}function x(B){(B=B||{}).chunkSize||(B.chunkSize=h.LocalChunkSize),f.call(this,B);var D,Z,q=typeof FileReader<"u";this.stream=function(O){this._input=O,Z=O.slice||O.webkitSlice||O.mozSlice,q?((D=new FileReader).onload=ee(this._chunkLoaded,this),D.onerror=ee(this._chunkError,this)):D=new FileReaderSync,this._nextChunk()},this._nextChunk=function(){this._finished||this._config.preview&&!(this._rowCount<this._config.preview)||this._readChunk()},this._readChunk=function(){var O=this._input,V=(this._config.chunkSize&&(V=Math.min(this._start+this._config.chunkSize,this._input.size),O=Z.call(O,this._start,V)),D.readAsText(O,this._config.encoding));q||this._chunkLoaded({target:{result:V}})},this._chunkLoaded=function(O){this._start+=this._config.chunkSize,this._finished=!this._config.chunkSize||this._start>=this._input.size,this.parseChunk(O.target.result)},this._chunkError=function(){this._sendError(D.error)}}function g(B){var D;f.call(this,B=B||{}),this.stream=function(Z){return D=Z,this._nextChunk()},this._nextChunk=function(){var Z,q;if(!this._finished)return Z=this._config.chunkSize,D=Z?(q=D.substring(0,Z),D.substring(Z)):(q=D,""),this._finished=!D,this.parseChunk(q)}}function y(B){f.call(this,B=B||{});var D=[],Z=!0,q=!1;this.pause=function(){f.prototype.pause.apply(this,arguments),this._input.pause()},this.resume=function(){f.prototype.resume.apply(this,arguments),this._input.resume()},this.stream=function(O){this._input=O,this._input.on("data",this._streamData),this._input.on("end",this._streamEnd),this._input.on("error",this._streamError)},this._checkIsFinished=function(){q&&D.length===1&&(this._finished=!0)},this._nextChunk=function(){this._checkIsFinished(),D.length?this.parseChunk(D.shift()):Z=!0},this._streamData=ee(function(O){try{D.push(typeof O=="string"?O:O.toString(this._config.encoding)),Z&&(Z=!1,this._checkIsFinished(),this.parseChunk(D.shift()))}catch(V){this._streamError(V)}},this),this._streamError=ee(function(O){this._streamCleanUp(),this._sendError(O)},this),this._streamEnd=ee(function(){this._streamCleanUp(),q=!0,this._streamData("")},this),this._streamCleanUp=ee(function(){this._input.removeListener("data",this._streamData),this._input.removeListener("end",this._streamEnd),this._input.removeListener("error",this._streamError)},this)}function v(B){var D,Z,q,O,V=Math.pow(2,53),F=-V,re=/^\s*-?(\d+\.?|\.\d+|\d+\.\d+)([eE][-+]?\d+)?\s*$/,ae=/^((\d{4}-[01]\d-[0-3]\dT[0-2]\d:[0-5]\d:[0-5]\d\.\d+([+-][0-2]\d:[0-5]\d|Z))|(\d{4}-[01]\d-[0-3]\dT[0-2]\d:[0-5]\d:[0-5]\d([+-][0-2]\d:[0-5]\d|Z))|(\d{4}-[01]\d-[0-3]\dT[0-2]\d:[0-5]\d([+-][0-2]\d:[0-5]\d|Z)))$/,J=this,ge=0,te=0,ke=!1,Y=!1,w=[],L={data:[],errors:[],meta:{}};function P(xe){return B.skipEmptyLines==="greedy"?xe.join("").trim()==="":xe.length===1&&xe[0].length===0}function U(){if(L&&q&&(fe("Delimiter","UndetectableDelimiter","Unable to auto-detect delimiting character; defaulted to '"+h.DefaultDelimiter+"'"),q=!1),B.skipEmptyLines&&(L.data=L.data.filter(function(De){return!P(De)})),ie()){let De=function(ue,Ye){z(B.transformHeader)&&(ue=B.transformHeader(ue,Ye)),w.push(ue)};if(L)if(Array.isArray(L.data[0])){for(var xe=0;ie()&&xe<L.data.length;xe++)L.data[xe].forEach(De);L.data.splice(0,1)}else L.data.forEach(De)}function ve(De,ue){for(var Ye=B.header?{}:[],R=0;R<De.length;R++){var H=R,ne=De[R],ne=((G,K)=>(le=>(B.dynamicTypingFunction&&B.dynamicTyping[le]===void 0&&(B.dynamicTyping[le]=B.dynamicTypingFunction(le)),(B.dynamicTyping[le]||B.dynamicTyping)===!0))(G)?K==="true"||K==="TRUE"||K!=="false"&&K!=="FALSE"&&((le=>{if(re.test(le)&&(le=parseFloat(le),F<le&&le<V))return 1})(K)?parseFloat(K):ae.test(K)?new Date(K):K===""?null:K):K)(H=B.header?R>=w.length?"__parsed_extra":w[R]:H,ne=B.transform?B.transform(ne,H):ne);H==="__parsed_extra"?(Ye[H]=Ye[H]||[],Ye[H].push(ne)):Ye[H]=ne}return B.header&&(R>w.length?fe("FieldMismatch","TooManyFields","Too many fields: expected "+w.length+" fields but parsed "+R,te+ue):R<w.length&&fe("FieldMismatch","TooFewFields","Too few fields: expected "+w.length+" fields but parsed "+R,te+ue)),Ye}var ce;L&&(B.header||B.dynamicTyping||B.transform)&&(ce=1,!L.data.length||Array.isArray(L.data[0])?(L.data=L.data.map(ve),ce=L.data.length):L.data=ve(L.data,0),B.header&&L.meta&&(L.meta.fields=w),te+=ce)}function ie(){return B.header&&w.length===0}function fe(xe,ve,ce,De){xe={type:xe,code:ve,message:ce},De!==void 0&&(xe.row=De),L.errors.push(xe)}z(B.step)&&(O=B.step,B.step=function(xe){L=xe,ie()?U():(U(),L.data.length!==0&&(ge+=xe.data.length,B.preview&&ge>B.preview?Z.abort():(L.data=L.data[0],O(L,J))))}),this.parse=function(xe,ve,ce){var De=B.quoteChar||'"',De=(B.newline||(B.newline=this.guessLineEndings(xe,De)),q=!1,B.delimiter?z(B.delimiter)&&(B.delimiter=B.delimiter(xe),L.meta.delimiter=B.delimiter):((De=((ue,Ye,R,H,ne)=>{var G,K,le,Fe;ne=ne||[",","	","|",";",h.RECORD_SEP,h.UNIT_SEP];for(var je=0;je<ne.length;je++){for(var Oe,Ge=ne[je],$e=0,rt=0,it=0,Tt=(le=void 0,new k({comments:H,delimiter:Ge,newline:Ye,preview:10}).parse(ue)),dt=0;dt<Tt.data.length;dt++)R&&P(Tt.data[dt])?it++:(Oe=Tt.data[dt].length,rt+=Oe,le===void 0?le=Oe:0<Oe&&($e+=Math.abs(Oe-le),le=Oe));0<Tt.data.length&&(rt/=Tt.data.length-it),(K===void 0||$e<=K)&&(Fe===void 0||Fe<rt)&&1.99<rt&&(K=$e,G=Ge,Fe=rt)}return{successful:!!(B.delimiter=G),bestDelimiter:G}})(xe,B.newline,B.skipEmptyLines,B.comments,B.delimitersToGuess)).successful?B.delimiter=De.bestDelimiter:(q=!0,B.delimiter=h.DefaultDelimiter),L.meta.delimiter=B.delimiter),W(B));return B.preview&&B.header&&De.preview++,D=xe,Z=new k(De),L=Z.parse(D,ve,ce),U(),ke?{meta:{paused:!0}}:L||{meta:{paused:!1}}},this.paused=function(){return ke},this.pause=function(){ke=!0,Z.abort(),D=z(B.chunk)?"":D.substring(Z.getCharIndex())},this.resume=function(){J.streamer._halted?(ke=!1,J.streamer.parseChunk(D,!0)):setTimeout(J.resume,3)},this.aborted=function(){return Y},this.abort=function(){Y=!0,Z.abort(),L.meta.aborted=!0,z(B.complete)&&B.complete(L),D=""},this.guessLineEndings=function(ue,De){ue=ue.substring(0,1048576);var De=new RegExp(S(De)+"([^]*?)"+S(De),"gm"),ce=(ue=ue.replace(De,"")).split("\r"),De=ue.split(`
`),ue=1<De.length&&De[0].length<ce[0].length;if(ce.length===1||ue)return`
`;for(var Ye=0,R=0;R<ce.length;R++)ce[R][0]===`
`&&Ye++;return Ye>=ce.length/2?`\r
`:"\r"}}function S(B){return B.replace(/[.*+?^${}()|[\]\\]/g,"\\$&")}function k(B){var D=(B=B||{}).delimiter,Z=B.newline,q=B.comments,O=B.step,V=B.preview,F=B.fastMode,re=null,ae=!1,J=B.quoteChar==null?'"':B.quoteChar,ge=J;if(B.escapeChar!==void 0&&(ge=B.escapeChar),(typeof D!="string"||-1<h.BAD_DELIMITERS.indexOf(D))&&(D=","),q===D)throw new Error("Comment character same as delimiter");q===!0?q="#":(typeof q!="string"||-1<h.BAD_DELIMITERS.indexOf(q))&&(q=!1),Z!==`
`&&Z!=="\r"&&Z!==`\r
`&&(Z=`
`);var te=0,ke=!1;this.parse=function(Y,w,L){if(typeof Y!="string")throw new Error("Input must be a string");var P=Y.length,U=D.length,ie=Z.length,fe=q.length,xe=z(O),ve=[],ce=[],De=[],ue=te=0;if(!Y)return $e();if(F||F!==!1&&Y.indexOf(J)===-1){for(var Ye=Y.split(Z),R=0;R<Ye.length;R++){if(De=Ye[R],te+=De.length,R!==Ye.length-1)te+=Z.length;else if(L)return $e();if(!q||De.substring(0,fe)!==q){if(xe){if(ve=[],Fe(De.split(D)),rt(),ke)return $e()}else Fe(De.split(D));if(V&&V<=R)return ve=ve.slice(0,V),$e(!0)}}return $e()}for(var H=Y.indexOf(D,te),ne=Y.indexOf(Z,te),G=new RegExp(S(ge)+S(J),"g"),K=Y.indexOf(J,te);;)if(Y[te]===J)for(K=te,te++;;){if((K=Y.indexOf(J,K+1))===-1)return L||ce.push({type:"Quotes",code:"MissingQuotes",message:"Quoted field unterminated",row:ve.length,index:te}),Oe();if(K===P-1)return Oe(Y.substring(te,K).replace(G,J));if(J===ge&&Y[K+1]===ge)K++;else if(J===ge||K===0||Y[K-1]!==ge){H!==-1&&H<K+1&&(H=Y.indexOf(D,K+1));var le=je((ne=ne!==-1&&ne<K+1?Y.indexOf(Z,K+1):ne)===-1?H:Math.min(H,ne));if(Y.substr(K+1+le,U)===D){De.push(Y.substring(te,K).replace(G,J)),Y[te=K+1+le+U]!==J&&(K=Y.indexOf(J,te)),H=Y.indexOf(D,te),ne=Y.indexOf(Z,te);break}if(le=je(ne),Y.substring(K+1+le,K+1+le+ie)===Z){if(De.push(Y.substring(te,K).replace(G,J)),Ge(K+1+le+ie),H=Y.indexOf(D,te),K=Y.indexOf(J,te),xe&&(rt(),ke))return $e();if(V&&ve.length>=V)return $e(!0);break}ce.push({type:"Quotes",code:"InvalidQuotes",message:"Trailing quote on quoted field is malformed",row:ve.length,index:te}),K++}}else if(q&&De.length===0&&Y.substring(te,te+fe)===q){if(ne===-1)return $e();te=ne+ie,ne=Y.indexOf(Z,te),H=Y.indexOf(D,te)}else if(H!==-1&&(H<ne||ne===-1))De.push(Y.substring(te,H)),te=H+U,H=Y.indexOf(D,te);else{if(ne===-1)break;if(De.push(Y.substring(te,ne)),Ge(ne+ie),xe&&(rt(),ke))return $e();if(V&&ve.length>=V)return $e(!0)}return Oe();function Fe(it){ve.push(it),ue=te}function je(it){var Tt=0;return Tt=it!==-1&&(it=Y.substring(K+1,it))&&it.trim()===""?it.length:Tt}function Oe(it){return L||(it===void 0&&(it=Y.substring(te)),De.push(it),te=P,Fe(De),xe&&rt()),$e()}function Ge(it){te=it,Fe(De),De=[],ne=Y.indexOf(Z,te)}function $e(it){if(B.header&&!w&&ve.length&&!ae){var Tt=ve[0],dt=Object.create(null),He=new Set(Tt);let xt=!1;for(let bt=0;bt<Tt.length;bt++){let Qt=Tt[bt];if(dt[Qt=z(B.transformHeader)?B.transformHeader(Qt,bt):Qt]){let Et,Rt=dt[Qt];for(;Et=Qt+"_"+Rt,Rt++,He.has(Et););He.add(Et),Tt[bt]=Et,dt[Qt]++,xt=!0,(re=re===null?{}:re)[Et]=Qt}else dt[Qt]=1,Tt[bt]=Qt;He.add(Qt)}xt&&console.warn("Duplicate headers found and renamed."),ae=!0}return{data:ve,errors:ce,meta:{delimiter:D,linebreak:Z,aborted:ke,truncated:!!it,cursor:ue+(w||0),renamedHeaders:re}}}function rt(){O($e()),ve=[],ce=[]}},this.abort=function(){ke=!0},this.getCharIndex=function(){return te}}function A(B){var D=B.data,Z=l[D.workerId],q=!1;if(D.error)Z.userError(D.error,D.file);else if(D.results&&D.results.data){var O={abort:function(){q=!0,N(D.workerId,{data:[],errors:[],meta:{aborted:!0}})},pause:j,resume:j};if(z(Z.userStep)){for(var V=0;V<D.results.data.length&&(Z.userStep({data:D.results.data[V],errors:D.results.errors,meta:D.results.meta},O),!q);V++);delete D.results}else z(Z.userChunk)&&(Z.userChunk(D.results,O,D.file),delete D.results)}D.finished&&!q&&N(D.workerId,D.results)}function N(B,D){var Z=l[B];z(Z.userComplete)&&Z.userComplete(D),Z.terminate(),delete l[B]}function j(){throw new Error("Not implemented.")}function W(B){if(typeof B!="object"||B===null)return B;var D,Z=Array.isArray(B)?[]:{};for(D in B)Z[D]=W(B[D]);return Z}function ee(B,D){return function(){B.apply(D,arguments)}}function z(B){return typeof B=="function"}return h.parse=function(B,D){var Z=(D=D||{}).dynamicTyping||!1;if(z(Z)&&(D.dynamicTypingFunction=Z,Z={}),D.dynamicTyping=Z,D.transform=!!z(D.transform)&&D.transform,!D.worker||!h.WORKERS_SUPPORTED)return Z=null,h.NODE_STREAM_INPUT,typeof B=="string"?(B=(q=>q.charCodeAt(0)!==65279?q:q.slice(1))(B),Z=new(D.download?m:g)(D)):B.readable===!0&&z(B.read)&&z(B.on)?Z=new y(D):(n.File&&B instanceof File||B instanceof Object)&&(Z=new x(D)),Z.stream(B);(Z=(()=>{var q;return!!h.WORKERS_SUPPORTED&&(q=(()=>{var O=n.URL||n.webkitURL||null,V=t.toString();return h.BLOB_URL||(h.BLOB_URL=O.createObjectURL(new Blob(["var global = (function() { if (typeof self !== 'undefined') { return self; } if (typeof window !== 'undefined') { return window; } if (typeof global !== 'undefined') { return global; } return {}; })(); global.IS_PAPA_WORKER=true; ","(",V,")();"],{type:"text/javascript"})))})(),(q=new n.Worker(q)).onmessage=A,q.id=u++,l[q.id]=q)})()).userStep=D.step,Z.userChunk=D.chunk,Z.userComplete=D.complete,Z.userError=D.error,D.step=z(D.step),D.chunk=z(D.chunk),D.complete=z(D.complete),D.error=z(D.error),delete D.worker,Z.postMessage({input:B,config:D,workerId:Z.id})},h.unparse=function(B,D){var Z=!1,q=!0,O=",",V=`\r
`,F='"',re=F+F,ae=!1,J=null,ge=!1,te=((()=>{if(typeof D=="object"){if(typeof D.delimiter!="string"||h.BAD_DELIMITERS.filter(function(w){return D.delimiter.indexOf(w)!==-1}).length||(O=D.delimiter),typeof D.quotes!="boolean"&&typeof D.quotes!="function"&&!Array.isArray(D.quotes)||(Z=D.quotes),typeof D.skipEmptyLines!="boolean"&&typeof D.skipEmptyLines!="string"||(ae=D.skipEmptyLines),typeof D.newline=="string"&&(V=D.newline),typeof D.quoteChar=="string"&&(F=D.quoteChar),typeof D.header=="boolean"&&(q=D.header),Array.isArray(D.columns)){if(D.columns.length===0)throw new Error("Option columns is empty");J=D.columns}D.escapeChar!==void 0&&(re=D.escapeChar+F),D.escapeFormulae instanceof RegExp?ge=D.escapeFormulae:typeof D.escapeFormulae=="boolean"&&D.escapeFormulae&&(ge=/^[=+\-@\t\r].*$/)}})(),new RegExp(S(F),"g"));if(typeof B=="string"&&(B=JSON.parse(B)),Array.isArray(B)){if(!B.length||Array.isArray(B[0]))return ke(null,B,ae);if(typeof B[0]=="object")return ke(J||Object.keys(B[0]),B,ae)}else if(typeof B=="object")return typeof B.data=="string"&&(B.data=JSON.parse(B.data)),Array.isArray(B.data)&&(B.fields||(B.fields=B.meta&&B.meta.fields||J),B.fields||(B.fields=Array.isArray(B.data[0])?B.fields:typeof B.data[0]=="object"?Object.keys(B.data[0]):[]),Array.isArray(B.data[0])||typeof B.data[0]=="object"||(B.data=[B.data])),ke(B.fields||[],B.data||[],ae);throw new Error("Unable to serialize unrecognized input");function ke(w,L,P){var U="",ie=(typeof w=="string"&&(w=JSON.parse(w)),typeof L=="string"&&(L=JSON.parse(L)),Array.isArray(w)&&0<w.length),fe=!Array.isArray(L[0]);if(ie&&q){for(var xe=0;xe<w.length;xe++)0<xe&&(U+=O),U+=Y(w[xe],xe);0<L.length&&(U+=V)}for(var ve=0;ve<L.length;ve++){var ce=(ie?w:L[ve]).length,De=!1,ue=ie?Object.keys(L[ve]).length===0:L[ve].length===0;if(P&&!ie&&(De=P==="greedy"?L[ve].join("").trim()==="":L[ve].length===1&&L[ve][0].length===0),P==="greedy"&&ie){for(var Ye=[],R=0;R<ce;R++){var H=fe?w[R]:R;Ye.push(L[ve][H])}De=Ye.join("").trim()===""}if(!De){for(var ne=0;ne<ce;ne++){0<ne&&!ue&&(U+=O);var G=ie&&fe?w[ne]:ne;U+=Y(L[ve][G],ne)}ve<L.length-1&&(!P||0<ce&&!ue)&&(U+=V)}}return U}function Y(w,L){var P,U;return w==null?"":w.constructor===Date?JSON.stringify(w).slice(1,25):(U=!1,ge&&typeof w=="string"&&ge.test(w)&&(w="'"+w,U=!0),P=w.toString().replace(te,re),(U=U||Z===!0||typeof Z=="function"&&Z(w,L)||Array.isArray(Z)&&Z[L]||((ie,fe)=>{for(var xe=0;xe<fe.length;xe++)if(-1<ie.indexOf(fe[xe]))return!0;return!1})(P,h.BAD_DELIMITERS)||-1<P.indexOf(O)||P.charAt(0)===" "||P.charAt(P.length-1)===" ")?F+P+F:P)}},h.RECORD_SEP="",h.UNIT_SEP="",h.BYTE_ORDER_MARK="\uFEFF",h.BAD_DELIMITERS=["\r",`
`,'"',h.BYTE_ORDER_MARK],h.WORKERS_SUPPORTED=!i&&!!n.Worker,h.NODE_STREAM_INPUT=1,h.LocalChunkSize=10485760,h.RemoteChunkSize=5242880,h.DefaultDelimiter=",",h.Parser=k,h.ParserHandle=v,h.NetworkStreamer=m,h.FileStreamer=x,h.StringStreamer=g,h.ReadableStreamStreamer=y,n.jQuery&&((a=n.jQuery).fn.parse=function(B){var D=B.config||{},Z=[];return this.each(function(V){if(!(a(this).prop("tagName").toUpperCase()==="INPUT"&&a(this).attr("type").toLowerCase()==="file"&&n.FileReader)||!this.files||this.files.length===0)return!0;for(var F=0;F<this.files.length;F++)Z.push({file:this.files[F],inputElem:this,instanceConfig:a.extend({},D)})}),q(),this;function q(){if(Z.length===0)z(B.complete)&&B.complete();else{var V,F,re,ae,J=Z[0];if(z(B.before)){var ge=B.before(J.file,J.inputElem);if(typeof ge=="object"){if(ge.action==="abort")return V="AbortError",F=J.file,re=J.inputElem,ae=ge.reason,void(z(B.error)&&B.error({name:V},F,re,ae));if(ge.action==="skip")return void O();typeof ge.config=="object"&&(J.instanceConfig=a.extend(J.instanceConfig,ge.config))}else if(ge==="skip")return void O()}var te=J.instanceConfig.complete;J.instanceConfig.complete=function(ke){z(te)&&te(ke,J.file,J.inputElem),O()},h.parse(J.file,J.instanceConfig)}}function O(){Z.splice(0,1),q()}}),o&&(n.onmessage=function(B){B=B.data,h.WORKER_ID===void 0&&B&&(h.WORKER_ID=B.workerId),typeof B.input=="string"?n.postMessage({workerId:h.WORKER_ID,results:h.parse(B.input,B.config),finished:!0}):(n.File&&B.input instanceof File||B.input instanceof Object)&&(B=h.parse(B.input,B.config))&&n.postMessage({workerId:h.WORKER_ID,results:B,finished:!0})}),(m.prototype=Object.create(f.prototype)).constructor=m,(x.prototype=Object.create(f.prototype)).constructor=x,(g.prototype=Object.create(g.prototype)).constructor=g,(y.prototype=Object.create(f.prototype)).constructor=y,h})})(qg)),qg.exports}var ZE=$E();const JE=mv(ZE);/*! xlsx.js (C) 2013-present SheetJS -- http://sheetjs.com */var F3=1252,QE=[874,932,936,949,950,1250,1251,1252,1253,1254,1255,1256,1257,1258,1e4],yv={0:1252,1:65001,2:65001,77:1e4,128:932,129:949,130:1361,134:936,136:950,161:1253,162:1254,163:1258,177:1255,178:1256,186:1257,204:1251,222:874,238:1250,255:1252,69:6969},bv=function(r){QE.indexOf(r)!=-1&&(F3=yv[0]=r)};function e8(){bv(1252)}var Wo=function(r){bv(r)};function M3(){Wo(1200),e8()}function aw(r){for(var e=[],t=0,n=r.length;t<n;++t)e[t]=r.charCodeAt(t);return e}function t8(r){for(var e=[],t=0;t<r.length>>1;++t)e[t]=String.fromCharCode(r.charCodeAt(2*t)+(r.charCodeAt(2*t+1)<<8));return e.join("")}function j3(r){for(var e=[],t=0;t<r.length>>1;++t)e[t]=String.fromCharCode(r.charCodeAt(2*t+1)+(r.charCodeAt(2*t)<<8));return e.join("")}var ad=function(r){var e=r.charCodeAt(0),t=r.charCodeAt(1);return e==255&&t==254?t8(r.slice(2)):e==254&&t==255?j3(r.slice(2)):e==65279?r.slice(1):r},K1=function(e){return String.fromCharCode(e)},iw=function(e){return String.fromCharCode(e)},Td,xu="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=";function sw(r){for(var e="",t=0,n=0,a=0,i=0,o=0,l=0,u=0,h=0;h<r.length;)t=r.charCodeAt(h++),i=t>>2,n=r.charCodeAt(h++),o=(t&3)<<4|n>>4,a=r.charCodeAt(h++),l=(n&15)<<2|a>>6,u=a&63,isNaN(n)?l=u=64:isNaN(a)&&(u=64),e+=xu.charAt(i)+xu.charAt(o)+xu.charAt(l)+xu.charAt(u);return e}function js(r){var e="",t=0,n=0,a=0,i=0,o=0,l=0,u=0;r=r.replace(/[^\w\+\/\=]/g,"");for(var h=0;h<r.length;)i=xu.indexOf(r.charAt(h++)),o=xu.indexOf(r.charAt(h++)),t=i<<2|o>>4,e+=String.fromCharCode(t),l=xu.indexOf(r.charAt(h++)),n=(o&15)<<4|l>>2,l!==64&&(e+=String.fromCharCode(n)),u=xu.indexOf(r.charAt(h++)),a=(l&3)<<6|u,u!==64&&(e+=String.fromCharCode(a));return e}var jr=(function(){return typeof Buffer<"u"&&typeof process<"u"&&typeof process.versions<"u"&&!!process.versions.node})(),Ch=(function(){if(typeof Buffer<"u"){var r=!Buffer.from;if(!r)try{Buffer.from("foo","utf8")}catch{r=!0}return r?function(e,t){return t?new Buffer(e,t):new Buffer(e)}:Buffer.from.bind(Buffer)}return function(){}})();function _u(r){return jr?Buffer.alloc?Buffer.alloc(r):new Buffer(r):typeof Uint8Array<"u"?new Uint8Array(r):new Array(r)}function ow(r){return jr?Buffer.allocUnsafe?Buffer.allocUnsafe(r):new Buffer(r):typeof Uint8Array<"u"?new Uint8Array(r):new Array(r)}var Vo=function(e){return jr?Ch(e,"binary"):e.split("").map(function(t){return t.charCodeAt(0)&255})};function Th(r){if(Array.isArray(r))return r.map(function(n){return String.fromCharCode(n)}).join("");for(var e=[],t=0;t<r.length;++t)e[t]=String.fromCharCode(r[t]);return e.join("")}function wv(r){if(typeof ArrayBuffer>"u")throw new Error("Unsupported");if(r instanceof ArrayBuffer)return wv(new Uint8Array(r));for(var e=new Array(r.length),t=0;t<r.length;++t)e[t]=r[t];return e}var pu=jr?function(r){return Buffer.concat(r.map(function(e){return Buffer.isBuffer(e)?e:Ch(e)}))}:function(r){if(typeof Uint8Array<"u"){var e=0,t=0;for(e=0;e<r.length;++e)t+=r[e].length;var n=new Uint8Array(t),a=0;for(e=0,t=0;e<r.length;t+=a,++e)if(a=r[e].length,r[e]instanceof Uint8Array)n.set(r[e],t);else{if(typeof r[e]=="string")throw"wtf";n.set(new Uint8Array(r[e]),t)}return n}return[].concat.apply([],r.map(function(i){return Array.isArray(i)?i:[].slice.call(i)}))};function r8(r){for(var e=[],t=0,n=r.length+250,a=_u(r.length+255),i=0;i<r.length;++i){var o=r.charCodeAt(i);if(o<128)a[t++]=o;else if(o<2048)a[t++]=192|o>>6&31,a[t++]=128|o&63;else if(o>=55296&&o<57344){o=(o&1023)+64;var l=r.charCodeAt(++i)&1023;a[t++]=240|o>>8&7,a[t++]=128|o>>2&63,a[t++]=128|l>>6&15|(o&3)<<4,a[t++]=128|l&63}else a[t++]=224|o>>12&15,a[t++]=128|o>>6&63,a[t++]=128|o&63;t>n&&(e.push(a.slice(0,t)),t=0,a=_u(65535),n=65530)}return e.push(a.slice(0,t)),pu(e)}var zi=/\u0000/g,id=/[\u0001-\u0006]/g;function qf(r){for(var e="",t=r.length-1;t>=0;)e+=r.charAt(t--);return e}function Yo(r,e){var t=""+r;return t.length>=e?t:ea("0",e-t.length)+t}function _v(r,e){var t=""+r;return t.length>=e?t:ea(" ",e-t.length)+t}function cp(r,e){var t=""+r;return t.length>=e?t:t+ea(" ",e-t.length)}function n8(r,e){var t=""+Math.round(r);return t.length>=e?t:ea("0",e-t.length)+t}function a8(r,e){var t=""+r;return t.length>=e?t:ea("0",e-t.length)+t}var lw=Math.pow(2,32);function kf(r,e){if(r>lw||r<-lw)return n8(r,e);var t=Math.round(r);return a8(t,e)}function up(r,e){return e=e||0,r.length>=7+e&&(r.charCodeAt(e)|32)===103&&(r.charCodeAt(e+1)|32)===101&&(r.charCodeAt(e+2)|32)===110&&(r.charCodeAt(e+3)|32)===101&&(r.charCodeAt(e+4)|32)===114&&(r.charCodeAt(e+5)|32)===97&&(r.charCodeAt(e+6)|32)===108}var cw=[["Sun","Sunday"],["Mon","Monday"],["Tue","Tuesday"],["Wed","Wednesday"],["Thu","Thursday"],["Fri","Friday"],["Sat","Saturday"]],b2=[["J","Jan","January"],["F","Feb","February"],["M","Mar","March"],["A","Apr","April"],["M","May","May"],["J","Jun","June"],["J","Jul","July"],["A","Aug","August"],["S","Sep","September"],["O","Oct","October"],["N","Nov","November"],["D","Dec","December"]];function i8(r){return r||(r={}),r[0]="General",r[1]="0",r[2]="0.00",r[3]="#,##0",r[4]="#,##0.00",r[9]="0%",r[10]="0.00%",r[11]="0.00E+00",r[12]="# ?/?",r[13]="# ??/??",r[14]="m/d/yy",r[15]="d-mmm-yy",r[16]="d-mmm",r[17]="mmm-yy",r[18]="h:mm AM/PM",r[19]="h:mm:ss AM/PM",r[20]="h:mm",r[21]="h:mm:ss",r[22]="m/d/yy h:mm",r[37]="#,##0 ;(#,##0)",r[38]="#,##0 ;[Red](#,##0)",r[39]="#,##0.00;(#,##0.00)",r[40]="#,##0.00;[Red](#,##0.00)",r[45]="mm:ss",r[46]="[h]:mm:ss",r[47]="mmss.0",r[48]="##0.0E+0",r[49]="@",r[56]='"/ "hh""mm""ss" "',r}var yr={0:"General",1:"0",2:"0.00",3:"#,##0",4:"#,##0.00",9:"0%",10:"0.00%",11:"0.00E+00",12:"# ?/?",13:"# ??/??",14:"m/d/yy",15:"d-mmm-yy",16:"d-mmm",17:"mmm-yy",18:"h:mm AM/PM",19:"h:mm:ss AM/PM",20:"h:mm",21:"h:mm:ss",22:"m/d/yy h:mm",37:"#,##0 ;(#,##0)",38:"#,##0 ;[Red](#,##0)",39:"#,##0.00;(#,##0.00)",40:"#,##0.00;[Red](#,##0.00)",45:"mm:ss",46:"[h]:mm:ss",47:"mmss.0",48:"##0.0E+0",49:"@",56:'"/ "hh""mm""ss" "'},uw={5:37,6:38,7:39,8:40,23:0,24:0,25:0,26:0,27:14,28:14,29:14,30:14,31:14,50:14,51:14,52:14,53:14,54:14,55:14,56:14,57:14,58:14,59:1,60:2,61:3,62:4,67:9,68:10,69:12,70:13,71:14,72:14,73:15,74:16,75:17,76:20,77:21,78:22,79:45,80:46,81:47,82:0},s8={5:'"$"#,##0_);\\("$"#,##0\\)',63:'"$"#,##0_);\\("$"#,##0\\)',6:'"$"#,##0_);[Red]\\("$"#,##0\\)',64:'"$"#,##0_);[Red]\\("$"#,##0\\)',7:'"$"#,##0.00_);\\("$"#,##0.00\\)',65:'"$"#,##0.00_);\\("$"#,##0.00\\)',8:'"$"#,##0.00_);[Red]\\("$"#,##0.00\\)',66:'"$"#,##0.00_);[Red]\\("$"#,##0.00\\)',41:'_(* #,##0_);_(* \\(#,##0\\);_(* "-"_);_(@_)',42:'_("$"* #,##0_);_("$"* \\(#,##0\\);_("$"* "-"_);_(@_)',43:'_(* #,##0.00_);_(* \\(#,##0.00\\);_(* "-"??_);_(@_)',44:'_("$"* #,##0.00_);_("$"* \\(#,##0.00\\);_("$"* "-"??_);_(@_)'};function hp(r,e,t){for(var n=r<0?-1:1,a=r*n,i=0,o=1,l=0,u=1,h=0,f=0,m=Math.floor(a);h<e&&(m=Math.floor(a),l=m*o+i,f=m*h+u,!(a-m<5e-8));)a=1/(a-m),i=o,o=l,u=h,h=f;if(f>e&&(h>e?(f=u,l=i):(f=h,l=o)),!t)return[0,n*l,f];var x=Math.floor(n*l/f);return[x,n*l-x*f,f]}function uh(r,e,t){if(r>2958465||r<0)return null;var n=r|0,a=Math.floor(86400*(r-n)),i=0,o=[],l={D:n,T:a,u:86400*(r-n)-a,y:0,m:0,d:0,H:0,M:0,S:0,q:0};if(Math.abs(l.u)<1e-6&&(l.u=0),e&&e.date1904&&(n+=1462),l.u>.9999&&(l.u=0,++a==86400&&(l.T=a=0,++n,++l.D)),n===60)o=t?[1317,10,29]:[1900,2,29],i=3;else if(n===0)o=t?[1317,8,29]:[1900,1,0],i=6;else{n>60&&--n;var u=new Date(1900,0,1);u.setDate(u.getDate()+n-1),o=[u.getFullYear(),u.getMonth()+1,u.getDate()],i=u.getDay(),n<60&&(i=(i+6)%7),t&&(i=f8(u,o))}return l.y=o[0],l.m=o[1],l.d=o[2],l.S=a%60,a=Math.floor(a/60),l.M=a%60,a=Math.floor(a/60),l.H=a,l.q=i,l}var R3=new Date(1899,11,31,0,0,0),o8=R3.getTime(),l8=new Date(1900,2,1,0,0,0);function B3(r,e){var t=r.getTime();return e?t-=1461*24*60*60*1e3:r>=l8&&(t+=1440*60*1e3),(t-(o8+(r.getTimezoneOffset()-R3.getTimezoneOffset())*6e4))/(1440*60*1e3)}function Sv(r){return r.indexOf(".")==-1?r:r.replace(/(?:\.0*|(\.\d*[1-9])0+)$/,"$1")}function c8(r){return r.indexOf("E")==-1?r:r.replace(/(?:\.0*|(\.\d*[1-9])0+)[Ee]/,"$1E").replace(/(E[+-])(\d)$/,"$10$2")}function u8(r){var e=r<0?12:11,t=Sv(r.toFixed(12));return t.length<=e||(t=r.toPrecision(10),t.length<=e)?t:r.toExponential(5)}function h8(r){var e=Sv(r.toFixed(11));return e.length>(r<0?12:11)||e==="0"||e==="-0"?r.toPrecision(6):e}function Ad(r){var e=Math.floor(Math.log(Math.abs(r))*Math.LOG10E),t;return e>=-4&&e<=-1?t=r.toPrecision(10+e):Math.abs(e)<=9?t=u8(r):e===10?t=r.toFixed(10).substr(0,12):t=h8(r),Sv(c8(t.toUpperCase()))}function vh(r,e){switch(typeof r){case"string":return r;case"boolean":return r?"TRUE":"FALSE";case"number":return(r|0)===r?r.toString(10):Ad(r);case"undefined":return"";case"object":if(r==null)return"";if(r instanceof Date)return so(14,B3(r,e&&e.date1904),e)}throw new Error("unsupported value in General format: "+r)}function f8(r,e){e[0]-=581;var t=r.getDay();return r<60&&(t=(t+6)%7),t}function d8(r,e,t,n){var a="",i=0,o=0,l=t.y,u,h=0;switch(r){case 98:l=t.y+543;case 121:switch(e.length){case 1:case 2:u=l%100,h=2;break;default:u=l%1e4,h=4;break}break;case 109:switch(e.length){case 1:case 2:u=t.m,h=e.length;break;case 3:return b2[t.m-1][1];case 5:return b2[t.m-1][0];default:return b2[t.m-1][2]}break;case 100:switch(e.length){case 1:case 2:u=t.d,h=e.length;break;case 3:return cw[t.q][0];default:return cw[t.q][1]}break;case 104:switch(e.length){case 1:case 2:u=1+(t.H+11)%12,h=e.length;break;default:throw"bad hour format: "+e}break;case 72:switch(e.length){case 1:case 2:u=t.H,h=e.length;break;default:throw"bad hour format: "+e}break;case 77:switch(e.length){case 1:case 2:u=t.M,h=e.length;break;default:throw"bad minute format: "+e}break;case 115:if(e!="s"&&e!="ss"&&e!=".0"&&e!=".00"&&e!=".000")throw"bad second format: "+e;return t.u===0&&(e=="s"||e=="ss")?Yo(t.S,e.length):(n>=2?o=n===3?1e3:100:o=n===1?10:1,i=Math.round(o*(t.S+t.u)),i>=60*o&&(i=0),e==="s"?i===0?"0":""+i/o:(a=Yo(i,2+n),e==="ss"?a.substr(0,2):"."+a.substr(2,e.length-1)));case 90:switch(e){case"[h]":case"[hh]":u=t.D*24+t.H;break;case"[m]":case"[mm]":u=(t.D*24+t.H)*60+t.M;break;case"[s]":case"[ss]":u=((t.D*24+t.H)*60+t.M)*60+Math.round(t.S+t.u);break;default:throw"bad abstime format: "+e}h=e.length===3?1:2;break;case 101:u=l,h=1;break}var f=h>0?Yo(u,h):"";return f}function vu(r){var e=3;if(r.length<=e)return r;for(var t=r.length%e,n=r.substr(0,t);t!=r.length;t+=e)n+=(n.length>0?",":"")+r.substr(t,e);return n}var P3=/%/g;function g8(r,e,t){var n=e.replace(P3,""),a=e.length-n.length;return xc(r,n,t*Math.pow(10,2*a))+ea("%",a)}function p8(r,e,t){for(var n=e.length-1;e.charCodeAt(n-1)===44;)--n;return xc(r,e.substr(0,n),t/Math.pow(10,3*(e.length-n)))}function I3(r,e){var t,n=r.indexOf("E")-r.indexOf(".")-1;if(r.match(/^#+0.0E\+0$/)){if(e==0)return"0.0E+0";if(e<0)return"-"+I3(r,-e);var a=r.indexOf(".");a===-1&&(a=r.indexOf("E"));var i=Math.floor(Math.log(e)*Math.LOG10E)%a;if(i<0&&(i+=a),t=(e/Math.pow(10,i)).toPrecision(n+1+(a+i)%a),t.indexOf("e")===-1){var o=Math.floor(Math.log(e)*Math.LOG10E);for(t.indexOf(".")===-1?t=t.charAt(0)+"."+t.substr(1)+"E+"+(o-t.length+i):t+="E+"+(o-i);t.substr(0,2)==="0.";)t=t.charAt(0)+t.substr(2,a)+"."+t.substr(2+a),t=t.replace(/^0+([1-9])/,"$1").replace(/^0+\./,"0.");t=t.replace(/\+-/,"-")}t=t.replace(/^([+-]?)(\d*)\.(\d*)[Ee]/,function(l,u,h,f){return u+h+f.substr(0,(a+i)%a)+"."+f.substr(i)+"E"})}else t=e.toExponential(n);return r.match(/E\+00$/)&&t.match(/e[+-]\d$/)&&(t=t.substr(0,t.length-1)+"0"+t.charAt(t.length-1)),r.match(/E\-/)&&t.match(/e\+/)&&(t=t.replace(/e\+/,"e")),t.replace("e","E")}var U3=/# (\?+)( ?)\/( ?)(\d+)/;function m8(r,e,t){var n=parseInt(r[4],10),a=Math.round(e*n),i=Math.floor(a/n),o=a-i*n,l=n;return t+(i===0?"":""+i)+" "+(o===0?ea(" ",r[1].length+1+r[4].length):_v(o,r[1].length)+r[2]+"/"+r[3]+Yo(l,r[4].length))}function x8(r,e,t){return t+(e===0?"":""+e)+ea(" ",r[1].length+2+r[4].length)}var z3=/^#*0*\.([0#]+)/,H3=/\).*[0#]/,q3=/\(###\) ###\\?-####/;function Bi(r){for(var e="",t,n=0;n!=r.length;++n)switch(t=r.charCodeAt(n)){case 35:break;case 63:e+=" ";break;case 48:e+="0";break;default:e+=String.fromCharCode(t)}return e}function hw(r,e){var t=Math.pow(10,e);return""+Math.round(r*t)/t}function fw(r,e){var t=r-Math.floor(r),n=Math.pow(10,e);return e<(""+Math.round(t*n)).length?0:Math.round(t*n)}function v8(r,e){return e<(""+Math.round((r-Math.floor(r))*Math.pow(10,e))).length?1:0}function y8(r){return r<2147483647&&r>-2147483648?""+(r>=0?r|0:r-1|0):""+Math.floor(r)}function ro(r,e,t){if(r.charCodeAt(0)===40&&!e.match(H3)){var n=e.replace(/\( */,"").replace(/ \)/,"").replace(/\)/,"");return t>=0?ro("n",n,t):"("+ro("n",n,-t)+")"}if(e.charCodeAt(e.length-1)===44)return p8(r,e,t);if(e.indexOf("%")!==-1)return g8(r,e,t);if(e.indexOf("E")!==-1)return I3(e,t);if(e.charCodeAt(0)===36)return"$"+ro(r,e.substr(e.charAt(1)==" "?2:1),t);var a,i,o,l,u=Math.abs(t),h=t<0?"-":"";if(e.match(/^00+$/))return h+kf(u,e.length);if(e.match(/^[#?]+$/))return a=kf(t,0),a==="0"&&(a=""),a.length>e.length?a:Bi(e.substr(0,e.length-a.length))+a;if(i=e.match(U3))return m8(i,u,h);if(e.match(/^#+0+$/))return h+kf(u,e.length-e.indexOf("0"));if(i=e.match(z3))return a=hw(t,i[1].length).replace(/^([^\.]+)$/,"$1."+Bi(i[1])).replace(/\.$/,"."+Bi(i[1])).replace(/\.(\d*)$/,function(y,v){return"."+v+ea("0",Bi(i[1]).length-v.length)}),e.indexOf("0.")!==-1?a:a.replace(/^0\./,".");if(e=e.replace(/^#+([0.])/,"$1"),i=e.match(/^(0*)\.(#*)$/))return h+hw(u,i[2].length).replace(/\.(\d*[1-9])0*$/,".$1").replace(/^(-?\d*)$/,"$1.").replace(/^0\./,i[1].length?"0.":".");if(i=e.match(/^#{1,3},##0(\.?)$/))return h+vu(kf(u,0));if(i=e.match(/^#,##0\.([#0]*0)$/))return t<0?"-"+ro(r,e,-t):vu(""+(Math.floor(t)+v8(t,i[1].length)))+"."+Yo(fw(t,i[1].length),i[1].length);if(i=e.match(/^#,#*,#0/))return ro(r,e.replace(/^#,#*,/,""),t);if(i=e.match(/^([0#]+)(\\?-([0#]+))+$/))return a=qf(ro(r,e.replace(/[\\-]/g,""),t)),o=0,qf(qf(e.replace(/\\/g,"")).replace(/[0#]/g,function(y){return o<a.length?a.charAt(o++):y==="0"?"0":""}));if(e.match(q3))return a=ro(r,"##########",t),"("+a.substr(0,3)+") "+a.substr(3,3)+"-"+a.substr(6);var f="";if(i=e.match(/^([#0?]+)( ?)\/( ?)([#0?]+)/))return o=Math.min(i[4].length,7),l=hp(u,Math.pow(10,o)-1,!1),a=""+h,f=xc("n",i[1],l[1]),f.charAt(f.length-1)==" "&&(f=f.substr(0,f.length-1)+"0"),a+=f+i[2]+"/"+i[3],f=cp(l[2],o),f.length<i[4].length&&(f=Bi(i[4].substr(i[4].length-f.length))+f),a+=f,a;if(i=e.match(/^# ([#0?]+)( ?)\/( ?)([#0?]+)/))return o=Math.min(Math.max(i[1].length,i[4].length),7),l=hp(u,Math.pow(10,o)-1,!0),h+(l[0]||(l[1]?"":"0"))+" "+(l[1]?_v(l[1],o)+i[2]+"/"+i[3]+cp(l[2],o):ea(" ",2*o+1+i[2].length+i[3].length));if(i=e.match(/^[#0?]+$/))return a=kf(t,0),e.length<=a.length?a:Bi(e.substr(0,e.length-a.length))+a;if(i=e.match(/^([#0?]+)\.([#0]+)$/)){a=""+t.toFixed(Math.min(i[2].length,10)).replace(/([^0])0+$/,"$1"),o=a.indexOf(".");var m=e.indexOf(".")-o,x=e.length-a.length-m;return Bi(e.substr(0,m)+a+e.substr(e.length-x))}if(i=e.match(/^00,000\.([#0]*0)$/))return o=fw(t,i[1].length),t<0?"-"+ro(r,e,-t):vu(y8(t)).replace(/^\d,\d{3}$/,"0$&").replace(/^\d*$/,function(y){return"00,"+(y.length<3?Yo(0,3-y.length):"")+y})+"."+Yo(o,i[1].length);switch(e){case"###,##0.00":return ro(r,"#,##0.00",t);case"###,###":case"##,###":case"#,###":var g=vu(kf(u,0));return g!=="0"?h+g:"";case"###,###.00":return ro(r,"###,##0.00",t).replace(/^0\./,".");case"#,###.00":return ro(r,"#,##0.00",t).replace(/^0\./,".")}throw new Error("unsupported format |"+e+"|")}function b8(r,e,t){for(var n=e.length-1;e.charCodeAt(n-1)===44;)--n;return xc(r,e.substr(0,n),t/Math.pow(10,3*(e.length-n)))}function w8(r,e,t){var n=e.replace(P3,""),a=e.length-n.length;return xc(r,n,t*Math.pow(10,2*a))+ea("%",a)}function V3(r,e){var t,n=r.indexOf("E")-r.indexOf(".")-1;if(r.match(/^#+0.0E\+0$/)){if(e==0)return"0.0E+0";if(e<0)return"-"+V3(r,-e);var a=r.indexOf(".");a===-1&&(a=r.indexOf("E"));var i=Math.floor(Math.log(e)*Math.LOG10E)%a;if(i<0&&(i+=a),t=(e/Math.pow(10,i)).toPrecision(n+1+(a+i)%a),!t.match(/[Ee]/)){var o=Math.floor(Math.log(e)*Math.LOG10E);t.indexOf(".")===-1?t=t.charAt(0)+"."+t.substr(1)+"E+"+(o-t.length+i):t+="E+"+(o-i),t=t.replace(/\+-/,"-")}t=t.replace(/^([+-]?)(\d*)\.(\d*)[Ee]/,function(l,u,h,f){return u+h+f.substr(0,(a+i)%a)+"."+f.substr(i)+"E"})}else t=e.toExponential(n);return r.match(/E\+00$/)&&t.match(/e[+-]\d$/)&&(t=t.substr(0,t.length-1)+"0"+t.charAt(t.length-1)),r.match(/E\-/)&&t.match(/e\+/)&&(t=t.replace(/e\+/,"e")),t.replace("e","E")}function Sl(r,e,t){if(r.charCodeAt(0)===40&&!e.match(H3)){var n=e.replace(/\( */,"").replace(/ \)/,"").replace(/\)/,"");return t>=0?Sl("n",n,t):"("+Sl("n",n,-t)+")"}if(e.charCodeAt(e.length-1)===44)return b8(r,e,t);if(e.indexOf("%")!==-1)return w8(r,e,t);if(e.indexOf("E")!==-1)return V3(e,t);if(e.charCodeAt(0)===36)return"$"+Sl(r,e.substr(e.charAt(1)==" "?2:1),t);var a,i,o,l,u=Math.abs(t),h=t<0?"-":"";if(e.match(/^00+$/))return h+Yo(u,e.length);if(e.match(/^[#?]+$/))return a=""+t,t===0&&(a=""),a.length>e.length?a:Bi(e.substr(0,e.length-a.length))+a;if(i=e.match(U3))return x8(i,u,h);if(e.match(/^#+0+$/))return h+Yo(u,e.length-e.indexOf("0"));if(i=e.match(z3))return a=(""+t).replace(/^([^\.]+)$/,"$1."+Bi(i[1])).replace(/\.$/,"."+Bi(i[1])),a=a.replace(/\.(\d*)$/,function(y,v){return"."+v+ea("0",Bi(i[1]).length-v.length)}),e.indexOf("0.")!==-1?a:a.replace(/^0\./,".");if(e=e.replace(/^#+([0.])/,"$1"),i=e.match(/^(0*)\.(#*)$/))return h+(""+u).replace(/\.(\d*[1-9])0*$/,".$1").replace(/^(-?\d*)$/,"$1.").replace(/^0\./,i[1].length?"0.":".");if(i=e.match(/^#{1,3},##0(\.?)$/))return h+vu(""+u);if(i=e.match(/^#,##0\.([#0]*0)$/))return t<0?"-"+Sl(r,e,-t):vu(""+t)+"."+ea("0",i[1].length);if(i=e.match(/^#,#*,#0/))return Sl(r,e.replace(/^#,#*,/,""),t);if(i=e.match(/^([0#]+)(\\?-([0#]+))+$/))return a=qf(Sl(r,e.replace(/[\\-]/g,""),t)),o=0,qf(qf(e.replace(/\\/g,"")).replace(/[0#]/g,function(y){return o<a.length?a.charAt(o++):y==="0"?"0":""}));if(e.match(q3))return a=Sl(r,"##########",t),"("+a.substr(0,3)+") "+a.substr(3,3)+"-"+a.substr(6);var f="";if(i=e.match(/^([#0?]+)( ?)\/( ?)([#0?]+)/))return o=Math.min(i[4].length,7),l=hp(u,Math.pow(10,o)-1,!1),a=""+h,f=xc("n",i[1],l[1]),f.charAt(f.length-1)==" "&&(f=f.substr(0,f.length-1)+"0"),a+=f+i[2]+"/"+i[3],f=cp(l[2],o),f.length<i[4].length&&(f=Bi(i[4].substr(i[4].length-f.length))+f),a+=f,a;if(i=e.match(/^# ([#0?]+)( ?)\/( ?)([#0?]+)/))return o=Math.min(Math.max(i[1].length,i[4].length),7),l=hp(u,Math.pow(10,o)-1,!0),h+(l[0]||(l[1]?"":"0"))+" "+(l[1]?_v(l[1],o)+i[2]+"/"+i[3]+cp(l[2],o):ea(" ",2*o+1+i[2].length+i[3].length));if(i=e.match(/^[#0?]+$/))return a=""+t,e.length<=a.length?a:Bi(e.substr(0,e.length-a.length))+a;if(i=e.match(/^([#0]+)\.([#0]+)$/)){a=""+t.toFixed(Math.min(i[2].length,10)).replace(/([^0])0+$/,"$1"),o=a.indexOf(".");var m=e.indexOf(".")-o,x=e.length-a.length-m;return Bi(e.substr(0,m)+a+e.substr(e.length-x))}if(i=e.match(/^00,000\.([#0]*0)$/))return t<0?"-"+Sl(r,e,-t):vu(""+t).replace(/^\d,\d{3}$/,"0$&").replace(/^\d*$/,function(y){return"00,"+(y.length<3?Yo(0,3-y.length):"")+y})+"."+Yo(0,i[1].length);switch(e){case"###,###":case"##,###":case"#,###":var g=vu(""+u);return g!=="0"?h+g:"";default:if(e.match(/\.[0#?]*$/))return Sl(r,e.slice(0,e.lastIndexOf(".")),t)+Bi(e.slice(e.lastIndexOf(".")))}throw new Error("unsupported format |"+e+"|")}function xc(r,e,t){return(t|0)===t?Sl(r,e,t):ro(r,e,t)}function _8(r){for(var e=[],t=!1,n=0,a=0;n<r.length;++n)switch(r.charCodeAt(n)){case 34:t=!t;break;case 95:case 42:case 92:++n;break;case 59:e[e.length]=r.substr(a,n-a),a=n+1}if(e[e.length]=r.substr(a),t===!0)throw new Error("Format |"+r+"| unterminated string ");return e}var G3=/\[[HhMmSs\u0E0A\u0E19\u0E17]*\]/;function s0(r){for(var e=0,t="",n="";e<r.length;)switch(t=r.charAt(e)){case"G":up(r,e)&&(e+=6),e++;break;case'"':for(;r.charCodeAt(++e)!==34&&e<r.length;);++e;break;case"\\":e+=2;break;case"_":e+=2;break;case"@":++e;break;case"B":case"b":if(r.charAt(e+1)==="1"||r.charAt(e+1)==="2")return!0;case"M":case"D":case"Y":case"H":case"S":case"E":case"m":case"d":case"y":case"h":case"s":case"e":case"g":return!0;case"A":case"a":case"":if(r.substr(e,3).toUpperCase()==="A/P"||r.substr(e,5).toUpperCase()==="AM/PM"||r.substr(e,5).toUpperCase()==="/")return!0;++e;break;case"[":for(n=t;r.charAt(e++)!=="]"&&e<r.length;)n+=r.charAt(e);if(n.match(G3))return!0;break;case".":case"0":case"#":for(;e<r.length&&("0#?.,E+-%".indexOf(t=r.charAt(++e))>-1||t=="\\"&&r.charAt(e+1)=="-"&&"0#".indexOf(r.charAt(e+2))>-1););break;case"?":for(;r.charAt(++e)===t;);break;case"*":++e,(r.charAt(e)==" "||r.charAt(e)=="*")&&++e;break;case"(":case")":++e;break;case"1":case"2":case"3":case"4":case"5":case"6":case"7":case"8":case"9":for(;e<r.length&&"0123456789".indexOf(r.charAt(++e))>-1;);break;case" ":++e;break;default:++e;break}return!1}function S8(r,e,t,n){for(var a=[],i="",o=0,l="",u="t",h,f,m,x="H";o<r.length;)switch(l=r.charAt(o)){case"G":if(!up(r,o))throw new Error("unrecognized character "+l+" in "+r);a[a.length]={t:"G",v:"General"},o+=7;break;case'"':for(i="";(m=r.charCodeAt(++o))!==34&&o<r.length;)i+=String.fromCharCode(m);a[a.length]={t:"t",v:i},++o;break;case"\\":var g=r.charAt(++o),y=g==="("||g===")"?g:"t";a[a.length]={t:y,v:g},++o;break;case"_":a[a.length]={t:"t",v:" "},o+=2;break;case"@":a[a.length]={t:"T",v:e},++o;break;case"B":case"b":if(r.charAt(o+1)==="1"||r.charAt(o+1)==="2"){if(h==null&&(h=uh(e,t,r.charAt(o+1)==="2"),h==null))return"";a[a.length]={t:"X",v:r.substr(o,2)},u=l,o+=2;break}case"M":case"D":case"Y":case"H":case"S":case"E":l=l.toLowerCase();case"m":case"d":case"y":case"h":case"s":case"e":case"g":if(e<0||h==null&&(h=uh(e,t),h==null))return"";for(i=l;++o<r.length&&r.charAt(o).toLowerCase()===l;)i+=l;l==="m"&&u.toLowerCase()==="h"&&(l="M"),l==="h"&&(l=x),a[a.length]={t:l,v:i},u=l;break;case"A":case"a":case"":var v={t:l,v:l};if(h==null&&(h=uh(e,t)),r.substr(o,3).toUpperCase()==="A/P"?(h!=null&&(v.v=h.H>=12?"P":"A"),v.t="T",x="h",o+=3):r.substr(o,5).toUpperCase()==="AM/PM"?(h!=null&&(v.v=h.H>=12?"PM":"AM"),v.t="T",o+=5,x="h"):r.substr(o,5).toUpperCase()==="/"?(h!=null&&(v.v=h.H>=12?"":""),v.t="T",o+=5,x="h"):(v.t="t",++o),h==null&&v.t==="T")return"";a[a.length]=v,u=l;break;case"[":for(i=l;r.charAt(o++)!=="]"&&o<r.length;)i+=r.charAt(o);if(i.slice(-1)!=="]")throw'unterminated "[" block: |'+i+"|";if(i.match(G3)){if(h==null&&(h=uh(e,t),h==null))return"";a[a.length]={t:"Z",v:i.toLowerCase()},u=i.charAt(1)}else i.indexOf("$")>-1&&(i=(i.match(/\$([^-\[\]]*)/)||[])[1]||"$",s0(r)||(a[a.length]={t:"t",v:i}));break;case".":if(h!=null){for(i=l;++o<r.length&&(l=r.charAt(o))==="0";)i+=l;a[a.length]={t:"s",v:i};break}case"0":case"#":for(i=l;++o<r.length&&"0#?.,E+-%".indexOf(l=r.charAt(o))>-1;)i+=l;a[a.length]={t:"n",v:i};break;case"?":for(i=l;r.charAt(++o)===l;)i+=l;a[a.length]={t:l,v:i},u=l;break;case"*":++o,(r.charAt(o)==" "||r.charAt(o)=="*")&&++o;break;case"(":case")":a[a.length]={t:n===1?"t":l,v:l},++o;break;case"1":case"2":case"3":case"4":case"5":case"6":case"7":case"8":case"9":for(i=l;o<r.length&&"0123456789".indexOf(r.charAt(++o))>-1;)i+=r.charAt(o);a[a.length]={t:"D",v:i};break;case" ":a[a.length]={t:l,v:l},++o;break;case"$":a[a.length]={t:"t",v:"$"},++o;break;default:if(",$-+/():!^&'~{}<>=acfijklopqrtuvwxzP".indexOf(l)===-1)throw new Error("unrecognized character "+l+" in "+r);a[a.length]={t:"t",v:l},++o;break}var S=0,k=0,A;for(o=a.length-1,u="t";o>=0;--o)switch(a[o].t){case"h":case"H":a[o].t=x,u="h",S<1&&(S=1);break;case"s":(A=a[o].v.match(/\.0+$/))&&(k=Math.max(k,A[0].length-1)),S<3&&(S=3);case"d":case"y":case"M":case"e":u=a[o].t;break;case"m":u==="s"&&(a[o].t="M",S<2&&(S=2));break;case"X":break;case"Z":S<1&&a[o].v.match(/[Hh]/)&&(S=1),S<2&&a[o].v.match(/[Mm]/)&&(S=2),S<3&&a[o].v.match(/[Ss]/)&&(S=3)}switch(S){case 0:break;case 1:h.u>=.5&&(h.u=0,++h.S),h.S>=60&&(h.S=0,++h.M),h.M>=60&&(h.M=0,++h.H);break;case 2:h.u>=.5&&(h.u=0,++h.S),h.S>=60&&(h.S=0,++h.M);break}var N="",j;for(o=0;o<a.length;++o)switch(a[o].t){case"t":case"T":case" ":case"D":break;case"X":a[o].v="",a[o].t=";";break;case"d":case"m":case"y":case"h":case"H":case"M":case"s":case"e":case"b":case"Z":a[o].v=d8(a[o].t.charCodeAt(0),a[o].v,h,k),a[o].t="t";break;case"n":case"?":for(j=o+1;a[j]!=null&&((l=a[j].t)==="?"||l==="D"||(l===" "||l==="t")&&a[j+1]!=null&&(a[j+1].t==="?"||a[j+1].t==="t"&&a[j+1].v==="/")||a[o].t==="("&&(l===" "||l==="n"||l===")")||l==="t"&&(a[j].v==="/"||a[j].v===" "&&a[j+1]!=null&&a[j+1].t=="?"));)a[o].v+=a[j].v,a[j]={v:"",t:";"},++j;N+=a[o].v,o=j-1;break;case"G":a[o].t="t",a[o].v=vh(e,t);break}var W="",ee,z;if(N.length>0){N.charCodeAt(0)==40?(ee=e<0&&N.charCodeAt(0)===45?-e:e,z=xc("n",N,ee)):(ee=e<0&&n>1?-e:e,z=xc("n",N,ee),ee<0&&a[0]&&a[0].t=="t"&&(z=z.substr(1),a[0].v="-"+a[0].v)),j=z.length-1;var B=a.length;for(o=0;o<a.length;++o)if(a[o]!=null&&a[o].t!="t"&&a[o].v.indexOf(".")>-1){B=o;break}var D=a.length;if(B===a.length&&z.indexOf("E")===-1){for(o=a.length-1;o>=0;--o)a[o]==null||"n?".indexOf(a[o].t)===-1||(j>=a[o].v.length-1?(j-=a[o].v.length,a[o].v=z.substr(j+1,a[o].v.length)):j<0?a[o].v="":(a[o].v=z.substr(0,j+1),j=-1),a[o].t="t",D=o);j>=0&&D<a.length&&(a[D].v=z.substr(0,j+1)+a[D].v)}else if(B!==a.length&&z.indexOf("E")===-1){for(j=z.indexOf(".")-1,o=B;o>=0;--o)if(!(a[o]==null||"n?".indexOf(a[o].t)===-1)){for(f=a[o].v.indexOf(".")>-1&&o===B?a[o].v.indexOf(".")-1:a[o].v.length-1,W=a[o].v.substr(f+1);f>=0;--f)j>=0&&(a[o].v.charAt(f)==="0"||a[o].v.charAt(f)==="#")&&(W=z.charAt(j--)+W);a[o].v=W,a[o].t="t",D=o}for(j>=0&&D<a.length&&(a[D].v=z.substr(0,j+1)+a[D].v),j=z.indexOf(".")+1,o=B;o<a.length;++o)if(!(a[o]==null||"n?(".indexOf(a[o].t)===-1&&o!==B)){for(f=a[o].v.indexOf(".")>-1&&o===B?a[o].v.indexOf(".")+1:0,W=a[o].v.substr(0,f);f<a[o].v.length;++f)j<z.length&&(W+=z.charAt(j++));a[o].v=W,a[o].t="t",D=o}}}for(o=0;o<a.length;++o)a[o]!=null&&"n?".indexOf(a[o].t)>-1&&(ee=n>1&&e<0&&o>0&&a[o-1].v==="-"?-e:e,a[o].v=xc(a[o].t,a[o].v,ee),a[o].t="t");var Z="";for(o=0;o!==a.length;++o)a[o]!=null&&(Z+=a[o].v);return Z}var dw=/\[(=|>[=]?|<[>=]?)(-?\d+(?:\.\d*)?)\]/;function gw(r,e){if(e==null)return!1;var t=parseFloat(e[2]);switch(e[1]){case"=":if(r==t)return!0;break;case">":if(r>t)return!0;break;case"<":if(r<t)return!0;break;case"<>":if(r!=t)return!0;break;case">=":if(r>=t)return!0;break;case"<=":if(r<=t)return!0;break}return!1}function k8(r,e){var t=_8(r),n=t.length,a=t[n-1].indexOf("@");if(n<4&&a>-1&&--n,t.length>4)throw new Error("cannot find right format for |"+t.join("|")+"|");if(typeof e!="number")return[4,t.length===4||a>-1?t[t.length-1]:"@"];switch(t.length){case 1:t=a>-1?["General","General","General",t[0]]:[t[0],t[0],t[0],"@"];break;case 2:t=a>-1?[t[0],t[0],t[0],t[1]]:[t[0],t[1],t[0],"@"];break;case 3:t=a>-1?[t[0],t[1],t[0],t[2]]:[t[0],t[1],t[2],"@"];break}var i=e>0?t[0]:e<0?t[1]:t[2];if(t[0].indexOf("[")===-1&&t[1].indexOf("[")===-1)return[n,i];if(t[0].match(/\[[=<>]/)!=null||t[1].match(/\[[=<>]/)!=null){var o=t[0].match(dw),l=t[1].match(dw);return gw(e,o)?[n,t[0]]:gw(e,l)?[n,t[1]]:[n,t[o!=null&&l!=null?2:1]]}return[n,i]}function so(r,e,t){t==null&&(t={});var n="";switch(typeof r){case"string":r=="m/d/yy"&&t.dateNF?n=t.dateNF:n=r;break;case"number":r==14&&t.dateNF?n=t.dateNF:n=(t.table!=null?t.table:yr)[r],n==null&&(n=t.table&&t.table[uw[r]]||yr[uw[r]]),n==null&&(n=s8[r]||"General");break}if(up(n,0))return vh(e,t);e instanceof Date&&(e=B3(e,t.date1904));var a=k8(n,e);if(up(a[1]))return vh(e,t);if(e===!0)e="TRUE";else if(e===!1)e="FALSE";else if(e===""||e==null)return"";return S8(a[1],e,t,a[0])}function gh(r,e){if(typeof e!="number"){e=+e||-1;for(var t=0;t<392;++t){if(yr[t]==null){e<0&&(e=t);continue}if(yr[t]==r){e=t;break}}e<0&&(e=391)}return yr[e]=r,e}function W3(){yr=i8()}var C8={5:'"$"#,##0_);\\("$"#,##0\\)',6:'"$"#,##0_);[Red]\\("$"#,##0\\)',7:'"$"#,##0.00_);\\("$"#,##0.00\\)',8:'"$"#,##0.00_);[Red]\\("$"#,##0.00\\)',23:"General",24:"General",25:"General",26:"General",27:"m/d/yy",28:"m/d/yy",29:"m/d/yy",30:"m/d/yy",31:"m/d/yy",32:"h:mm:ss",33:"h:mm:ss",34:"h:mm:ss",35:"h:mm:ss",36:"m/d/yy",41:'_(* #,##0_);_(* (#,##0);_(* "-"_);_(@_)',42:'_("$"* #,##0_);_("$"* (#,##0);_("$"* "-"_);_(@_)',43:'_(* #,##0.00_);_(* (#,##0.00);_(* "-"??_);_(@_)',44:'_("$"* #,##0.00_);_("$"* (#,##0.00);_("$"* "-"??_);_(@_)',50:"m/d/yy",51:"m/d/yy",52:"m/d/yy",53:"m/d/yy",54:"m/d/yy",55:"m/d/yy",56:"m/d/yy",57:"m/d/yy",58:"m/d/yy",59:"0",60:"0.00",61:"#,##0",62:"#,##0.00",63:'"$"#,##0_);\\("$"#,##0\\)',64:'"$"#,##0_);[Red]\\("$"#,##0\\)',65:'"$"#,##0.00_);\\("$"#,##0.00\\)',66:'"$"#,##0.00_);[Red]\\("$"#,##0.00\\)',67:"0%",68:"0.00%",69:"# ?/?",70:"# ??/??",71:"m/d/yy",72:"m/d/yy",73:"d-mmm-yy",74:"d-mmm",75:"mmm-yy",76:"h:mm",77:"h:mm:ss",78:"m/d/yy h:mm",79:"mm:ss",80:"[h]:mm:ss",81:"mmss.0"},Y3=/[dD]+|[mM]+|[yYeE]+|[Hh]+|[Ss]+/g;function T8(r){var e=typeof r=="number"?yr[r]:r;return e=e.replace(Y3,"(\\d+)"),new RegExp("^"+e+"$")}function A8(r,e,t){var n=-1,a=-1,i=-1,o=-1,l=-1,u=-1;(e.match(Y3)||[]).forEach(function(m,x){var g=parseInt(t[x+1],10);switch(m.toLowerCase().charAt(0)){case"y":n=g;break;case"d":i=g;break;case"h":o=g;break;case"s":u=g;break;case"m":o>=0?l=g:a=g;break}}),u>=0&&l==-1&&a>=0&&(l=a,a=-1);var h=(""+(n>=0?n:new Date().getFullYear())).slice(-4)+"-"+("00"+(a>=1?a:1)).slice(-2)+"-"+("00"+(i>=1?i:1)).slice(-2);h.length==7&&(h="0"+h),h.length==8&&(h="20"+h);var f=("00"+(o>=0?o:0)).slice(-2)+":"+("00"+(l>=0?l:0)).slice(-2)+":"+("00"+(u>=0?u:0)).slice(-2);return o==-1&&l==-1&&u==-1?h:n==-1&&a==-1&&i==-1?f:h+"T"+f}var E8=(function(){var r={};r.version="1.2.0";function e(){for(var z=0,B=new Array(256),D=0;D!=256;++D)z=D,z=z&1?-306674912^z>>>1:z>>>1,z=z&1?-306674912^z>>>1:z>>>1,z=z&1?-306674912^z>>>1:z>>>1,z=z&1?-306674912^z>>>1:z>>>1,z=z&1?-306674912^z>>>1:z>>>1,z=z&1?-306674912^z>>>1:z>>>1,z=z&1?-306674912^z>>>1:z>>>1,z=z&1?-306674912^z>>>1:z>>>1,B[D]=z;return typeof Int32Array<"u"?new Int32Array(B):B}var t=e();function n(z){var B=0,D=0,Z=0,q=typeof Int32Array<"u"?new Int32Array(4096):new Array(4096);for(Z=0;Z!=256;++Z)q[Z]=z[Z];for(Z=0;Z!=256;++Z)for(D=z[Z],B=256+Z;B<4096;B+=256)D=q[B]=D>>>8^z[D&255];var O=[];for(Z=1;Z!=16;++Z)O[Z-1]=typeof Int32Array<"u"?q.subarray(Z*256,Z*256+256):q.slice(Z*256,Z*256+256);return O}var a=n(t),i=a[0],o=a[1],l=a[2],u=a[3],h=a[4],f=a[5],m=a[6],x=a[7],g=a[8],y=a[9],v=a[10],S=a[11],k=a[12],A=a[13],N=a[14];function j(z,B){for(var D=B^-1,Z=0,q=z.length;Z<q;)D=D>>>8^t[(D^z.charCodeAt(Z++))&255];return~D}function W(z,B){for(var D=B^-1,Z=z.length-15,q=0;q<Z;)D=N[z[q++]^D&255]^A[z[q++]^D>>8&255]^k[z[q++]^D>>16&255]^S[z[q++]^D>>>24]^v[z[q++]]^y[z[q++]]^g[z[q++]]^x[z[q++]]^m[z[q++]]^f[z[q++]]^h[z[q++]]^u[z[q++]]^l[z[q++]]^o[z[q++]]^i[z[q++]]^t[z[q++]];for(Z+=15;q<Z;)D=D>>>8^t[(D^z[q++])&255];return~D}function ee(z,B){for(var D=B^-1,Z=0,q=z.length,O=0,V=0;Z<q;)O=z.charCodeAt(Z++),O<128?D=D>>>8^t[(D^O)&255]:O<2048?(D=D>>>8^t[(D^(192|O>>6&31))&255],D=D>>>8^t[(D^(128|O&63))&255]):O>=55296&&O<57344?(O=(O&1023)+64,V=z.charCodeAt(Z++)&1023,D=D>>>8^t[(D^(240|O>>8&7))&255],D=D>>>8^t[(D^(128|O>>2&63))&255],D=D>>>8^t[(D^(128|V>>6&15|(O&3)<<4))&255],D=D>>>8^t[(D^(128|V&63))&255]):(D=D>>>8^t[(D^(224|O>>12&15))&255],D=D>>>8^t[(D^(128|O>>6&63))&255],D=D>>>8^t[(D^(128|O&63))&255]);return~D}return r.table=t,r.bstr=j,r.buf=W,r.str=ee,r})(),Ir=(function(){var e={};e.version="1.2.1";function t(he,Ae){for(var be=he.split("/"),we=Ae.split("/"),Se=0,Ne=0,Xe=Math.min(be.length,we.length);Se<Xe;++Se){if(Ne=be[Se].length-we[Se].length)return Ne;if(be[Se]!=we[Se])return be[Se]<we[Se]?-1:1}return be.length-we.length}function n(he){if(he.charAt(he.length-1)=="/")return he.slice(0,-1).indexOf("/")===-1?he:n(he.slice(0,-1));var Ae=he.lastIndexOf("/");return Ae===-1?he:he.slice(0,Ae+1)}function a(he){if(he.charAt(he.length-1)=="/")return a(he.slice(0,-1));var Ae=he.lastIndexOf("/");return Ae===-1?he:he.slice(Ae+1)}function i(he,Ae){typeof Ae=="string"&&(Ae=new Date(Ae));var be=Ae.getHours();be=be<<6|Ae.getMinutes(),be=be<<5|Ae.getSeconds()>>>1,he.write_shift(2,be);var we=Ae.getFullYear()-1980;we=we<<4|Ae.getMonth()+1,we=we<<5|Ae.getDate(),he.write_shift(2,we)}function o(he){var Ae=he.read_shift(2)&65535,be=he.read_shift(2)&65535,we=new Date,Se=be&31;be>>>=5;var Ne=be&15;be>>>=4,we.setMilliseconds(0),we.setFullYear(be+1980),we.setMonth(Ne-1),we.setDate(Se);var Xe=Ae&31;Ae>>>=5;var ot=Ae&63;return Ae>>>=6,we.setHours(Ae),we.setMinutes(ot),we.setSeconds(Xe<<1),we}function l(he){si(he,0);for(var Ae={},be=0;he.l<=he.length-4;){var we=he.read_shift(2),Se=he.read_shift(2),Ne=he.l+Se,Xe={};switch(we){case 21589:be=he.read_shift(1),be&1&&(Xe.mtime=he.read_shift(4)),Se>5&&(be&2&&(Xe.atime=he.read_shift(4)),be&4&&(Xe.ctime=he.read_shift(4))),Xe.mtime&&(Xe.mt=new Date(Xe.mtime*1e3));break}he.l=Ne,Ae[we]=Xe}return Ae}var u;function h(){return u||(u={})}function f(he,Ae){if(he[0]==80&&he[1]==75)return Kt(he,Ae);if((he[0]|32)==109&&(he[1]|32)==105)return jt(he,Ae);if(he.length<512)throw new Error("CFB file size "+he.length+" < 512");var be=3,we=512,Se=0,Ne=0,Xe=0,ot=0,Ze=0,Je=[],et=he.slice(0,512);si(et,0);var _t=m(et);switch(be=_t[0],be){case 3:we=512;break;case 4:we=4096;break;case 0:if(_t[1]==0)return Kt(he,Ae);default:throw new Error("Major Version: Expected 3 or 4 saw "+be)}we!==512&&(et=he.slice(0,we),si(et,28));var Nt=he.slice(0,we);x(et,be);var Ft=et.read_shift(4,"i");if(be===3&&Ft!==0)throw new Error("# Directory Sectors: Expected 0 saw "+Ft);et.l+=4,Xe=et.read_shift(4,"i"),et.l+=4,et.chk("00100000","Mini Stream Cutoff Size: "),ot=et.read_shift(4,"i"),Se=et.read_shift(4,"i"),Ze=et.read_shift(4,"i"),Ne=et.read_shift(4,"i");for(var At=-1,Ot=0;Ot<109&&(At=et.read_shift(4,"i"),!(At<0));++Ot)Je[Ot]=At;var Ht=g(he,we);S(Ze,Ne,Ht,we,Je);var Xr=A(Ht,Xe,Je,we);Xr[Xe].name="!Directory",Se>0&&ot!==V&&(Xr[ot].name="!MiniFAT"),Xr[Je[0]].name="!FAT",Xr.fat_addrs=Je,Xr.ssz=we;var _r={},Qr=[],Za=[],gs=[];N(Xe,Xr,Ht,Qr,Se,_r,Za,ot),y(Za,gs,Qr),Qr.shift();var ps={FileIndex:Za,FullPaths:gs};return Ae&&Ae.raw&&(ps.raw={header:Nt,sectors:Ht}),ps}function m(he){if(he[he.l]==80&&he[he.l+1]==75)return[0,0];he.chk(F,"Header Signature: "),he.l+=16;var Ae=he.read_shift(2,"u");return[he.read_shift(2,"u"),Ae]}function x(he,Ae){var be=9;switch(he.l+=2,be=he.read_shift(2)){case 9:if(Ae!=3)throw new Error("Sector Shift: Expected 9 saw "+be);break;case 12:if(Ae!=4)throw new Error("Sector Shift: Expected 12 saw "+be);break;default:throw new Error("Sector Shift: Expected 9 or 12 saw "+be)}he.chk("0600","Mini Sector Shift: "),he.chk("000000000000","Reserved: ")}function g(he,Ae){for(var be=Math.ceil(he.length/Ae)-1,we=[],Se=1;Se<be;++Se)we[Se-1]=he.slice(Se*Ae,(Se+1)*Ae);return we[be-1]=he.slice(be*Ae),we}function y(he,Ae,be){for(var we=0,Se=0,Ne=0,Xe=0,ot=0,Ze=be.length,Je=[],et=[];we<Ze;++we)Je[we]=et[we]=we,Ae[we]=be[we];for(;ot<et.length;++ot)we=et[ot],Se=he[we].L,Ne=he[we].R,Xe=he[we].C,Je[we]===we&&(Se!==-1&&Je[Se]!==Se&&(Je[we]=Je[Se]),Ne!==-1&&Je[Ne]!==Ne&&(Je[we]=Je[Ne])),Xe!==-1&&(Je[Xe]=we),Se!==-1&&we!=Je[we]&&(Je[Se]=Je[we],et.lastIndexOf(Se)<ot&&et.push(Se)),Ne!==-1&&we!=Je[we]&&(Je[Ne]=Je[we],et.lastIndexOf(Ne)<ot&&et.push(Ne));for(we=1;we<Ze;++we)Je[we]===we&&(Ne!==-1&&Je[Ne]!==Ne?Je[we]=Je[Ne]:Se!==-1&&Je[Se]!==Se&&(Je[we]=Je[Se]));for(we=1;we<Ze;++we)if(he[we].type!==0){if(ot=we,ot!=Je[ot])do ot=Je[ot],Ae[we]=Ae[ot]+"/"+Ae[we];while(ot!==0&&Je[ot]!==-1&&ot!=Je[ot]);Je[we]=-1}for(Ae[0]+="/",we=1;we<Ze;++we)he[we].type!==2&&(Ae[we]+="/")}function v(he,Ae,be){for(var we=he.start,Se=he.size,Ne=[],Xe=we;be&&Se>0&&Xe>=0;)Ne.push(Ae.slice(Xe*O,Xe*O+O)),Se-=O,Xe=ah(be,Xe*4);return Ne.length===0?Ra(0):pu(Ne).slice(0,he.size)}function S(he,Ae,be,we,Se){var Ne=V;if(he===V){if(Ae!==0)throw new Error("DIFAT chain shorter than expected")}else if(he!==-1){var Xe=be[he],ot=(we>>>2)-1;if(!Xe)return;for(var Ze=0;Ze<ot&&(Ne=ah(Xe,Ze*4))!==V;++Ze)Se.push(Ne);S(ah(Xe,we-4),Ae-1,be,we,Se)}}function k(he,Ae,be,we,Se){var Ne=[],Xe=[];Se||(Se=[]);var ot=we-1,Ze=0,Je=0;for(Ze=Ae;Ze>=0;){Se[Ze]=!0,Ne[Ne.length]=Ze,Xe.push(he[Ze]);var et=be[Math.floor(Ze*4/we)];if(Je=Ze*4&ot,we<4+Je)throw new Error("FAT boundary crossed: "+Ze+" 4 "+we);if(!he[et])break;Ze=ah(he[et],Je)}return{nodes:Ne,data:kw([Xe])}}function A(he,Ae,be,we){var Se=he.length,Ne=[],Xe=[],ot=[],Ze=[],Je=we-1,et=0,_t=0,Nt=0,Ft=0;for(et=0;et<Se;++et)if(ot=[],Nt=et+Ae,Nt>=Se&&(Nt-=Se),!Xe[Nt]){Ze=[];var At=[];for(_t=Nt;_t>=0;){At[_t]=!0,Xe[_t]=!0,ot[ot.length]=_t,Ze.push(he[_t]);var Ot=be[Math.floor(_t*4/we)];if(Ft=_t*4&Je,we<4+Ft)throw new Error("FAT boundary crossed: "+_t+" 4 "+we);if(!he[Ot]||(_t=ah(he[Ot],Ft),At[_t]))break}Ne[Nt]={nodes:ot,data:kw([Ze])}}return Ne}function N(he,Ae,be,we,Se,Ne,Xe,ot){for(var Ze=0,Je=we.length?2:0,et=Ae[he].data,_t=0,Nt=0,Ft;_t<et.length;_t+=128){var At=et.slice(_t,_t+128);si(At,64),Nt=At.read_shift(2),Ft=Ev(At,0,Nt-Je),we.push(Ft);var Ot={name:Ft,type:At.read_shift(1),color:At.read_shift(1),L:At.read_shift(4,"i"),R:At.read_shift(4,"i"),C:At.read_shift(4,"i"),clsid:At.read_shift(16),state:At.read_shift(4,"i"),start:0,size:0},Ht=At.read_shift(2)+At.read_shift(2)+At.read_shift(2)+At.read_shift(2);Ht!==0&&(Ot.ct=j(At,At.l-8));var Xr=At.read_shift(2)+At.read_shift(2)+At.read_shift(2)+At.read_shift(2);Xr!==0&&(Ot.mt=j(At,At.l-8)),Ot.start=At.read_shift(4,"i"),Ot.size=At.read_shift(4,"i"),Ot.size<0&&Ot.start<0&&(Ot.size=Ot.type=0,Ot.start=V,Ot.name=""),Ot.type===5?(Ze=Ot.start,Se>0&&Ze!==V&&(Ae[Ze].name="!StreamData")):Ot.size>=4096?(Ot.storage="fat",Ae[Ot.start]===void 0&&(Ae[Ot.start]=k(be,Ot.start,Ae.fat_addrs,Ae.ssz)),Ae[Ot.start].name=Ot.name,Ot.content=Ae[Ot.start].data.slice(0,Ot.size)):(Ot.storage="minifat",Ot.size<0?Ot.size=0:Ze!==V&&Ot.start!==V&&Ae[Ze]&&(Ot.content=v(Ot,Ae[Ze].data,(Ae[ot]||{}).data))),Ot.content&&si(Ot.content,0),Ne[Ft]=Ot,Xe.push(Ot)}}function j(he,Ae){return new Date((Ds(he,Ae+4)/1e7*Math.pow(2,32)+Ds(he,Ae)/1e7-11644473600)*1e3)}function W(he,Ae){return h(),f(u.readFileSync(he),Ae)}function ee(he,Ae){var be=Ae&&Ae.type;switch(be||jr&&Buffer.isBuffer(he)&&(be="buffer"),be||"base64"){case"file":return W(he,Ae);case"base64":return f(Vo(js(he)),Ae);case"binary":return f(Vo(he),Ae)}return f(he,Ae)}function z(he,Ae){var be=Ae||{},we=be.root||"Root Entry";if(he.FullPaths||(he.FullPaths=[]),he.FileIndex||(he.FileIndex=[]),he.FullPaths.length!==he.FileIndex.length)throw new Error("inconsistent CFB structure");he.FullPaths.length===0&&(he.FullPaths[0]=we+"/",he.FileIndex[0]={name:we,type:5}),be.CLSID&&(he.FileIndex[0].clsid=be.CLSID),B(he)}function B(he){var Ae="Sh33tJ5";if(!Ir.find(he,"/"+Ae)){var be=Ra(4);be[0]=55,be[1]=be[3]=50,be[2]=54,he.FileIndex.push({name:Ae,type:2,content:be,size:4,L:69,R:69,C:69}),he.FullPaths.push(he.FullPaths[0]+Ae),D(he)}}function D(he,Ae){z(he);for(var be=!1,we=!1,Se=he.FullPaths.length-1;Se>=0;--Se){var Ne=he.FileIndex[Se];switch(Ne.type){case 0:we?be=!0:(he.FileIndex.pop(),he.FullPaths.pop());break;case 1:case 2:case 5:we=!0,isNaN(Ne.R*Ne.L*Ne.C)&&(be=!0),Ne.R>-1&&Ne.L>-1&&Ne.R==Ne.L&&(be=!0);break;default:be=!0;break}}if(!(!be&&!Ae)){var Xe=new Date(1987,1,19),ot=0,Ze=Object.create?Object.create(null):{},Je=[];for(Se=0;Se<he.FullPaths.length;++Se)Ze[he.FullPaths[Se]]=!0,he.FileIndex[Se].type!==0&&Je.push([he.FullPaths[Se],he.FileIndex[Se]]);for(Se=0;Se<Je.length;++Se){var et=n(Je[Se][0]);we=Ze[et],we||(Je.push([et,{name:a(et).replace("/",""),type:1,clsid:ae,ct:Xe,mt:Xe,content:null}]),Ze[et]=!0)}for(Je.sort(function(Ft,At){return t(Ft[0],At[0])}),he.FullPaths=[],he.FileIndex=[],Se=0;Se<Je.length;++Se)he.FullPaths[Se]=Je[Se][0],he.FileIndex[Se]=Je[Se][1];for(Se=0;Se<Je.length;++Se){var _t=he.FileIndex[Se],Nt=he.FullPaths[Se];if(_t.name=a(Nt).replace("/",""),_t.L=_t.R=_t.C=-(_t.color=1),_t.size=_t.content?_t.content.length:0,_t.start=0,_t.clsid=_t.clsid||ae,Se===0)_t.C=Je.length>1?1:-1,_t.size=0,_t.type=5;else if(Nt.slice(-1)=="/"){for(ot=Se+1;ot<Je.length&&n(he.FullPaths[ot])!=Nt;++ot);for(_t.C=ot>=Je.length?-1:ot,ot=Se+1;ot<Je.length&&n(he.FullPaths[ot])!=n(Nt);++ot);_t.R=ot>=Je.length?-1:ot,_t.type=1}else n(he.FullPaths[Se+1]||"")==n(Nt)&&(_t.R=Se+1),_t.type=2}}}function Z(he,Ae){var be=Ae||{};if(be.fileType=="mad")return Vn(he,be);switch(D(he),be.fileType){case"zip":return kt(he,be)}var we=(function(Ft){for(var At=0,Ot=0,Ht=0;Ht<Ft.FileIndex.length;++Ht){var Xr=Ft.FileIndex[Ht];if(Xr.content){var _r=Xr.content.length;_r>0&&(_r<4096?At+=_r+63>>6:Ot+=_r+511>>9)}}for(var Qr=Ft.FullPaths.length+3>>2,Za=At+7>>3,gs=At+127>>7,ps=Za+Ot+Qr+gs,Ni=ps+127>>7,rl=Ni<=109?0:Math.ceil((Ni-109)/127);ps+Ni+rl+127>>7>Ni;)rl=++Ni<=109?0:Math.ceil((Ni-109)/127);var _n=[1,rl,Ni,gs,Qr,Ot,At,0];return Ft.FileIndex[0].size=At<<6,_n[7]=(Ft.FileIndex[0].start=_n[0]+_n[1]+_n[2]+_n[3]+_n[4]+_n[5])+(_n[6]+7>>3),_n})(he),Se=Ra(we[7]<<9),Ne=0,Xe=0;{for(Ne=0;Ne<8;++Ne)Se.write_shift(1,re[Ne]);for(Ne=0;Ne<8;++Ne)Se.write_shift(2,0);for(Se.write_shift(2,62),Se.write_shift(2,3),Se.write_shift(2,65534),Se.write_shift(2,9),Se.write_shift(2,6),Ne=0;Ne<3;++Ne)Se.write_shift(2,0);for(Se.write_shift(4,0),Se.write_shift(4,we[2]),Se.write_shift(4,we[0]+we[1]+we[2]+we[3]-1),Se.write_shift(4,0),Se.write_shift(4,4096),Se.write_shift(4,we[3]?we[0]+we[1]+we[2]-1:V),Se.write_shift(4,we[3]),Se.write_shift(-4,we[1]?we[0]-1:V),Se.write_shift(4,we[1]),Ne=0;Ne<109;++Ne)Se.write_shift(-4,Ne<we[2]?we[1]+Ne:-1)}if(we[1])for(Xe=0;Xe<we[1];++Xe){for(;Ne<236+Xe*127;++Ne)Se.write_shift(-4,Ne<we[2]?we[1]+Ne:-1);Se.write_shift(-4,Xe===we[1]-1?V:Xe+1)}var ot=function(Ft){for(Xe+=Ft;Ne<Xe-1;++Ne)Se.write_shift(-4,Ne+1);Ft&&(++Ne,Se.write_shift(-4,V))};for(Xe=Ne=0,Xe+=we[1];Ne<Xe;++Ne)Se.write_shift(-4,J.DIFSECT);for(Xe+=we[2];Ne<Xe;++Ne)Se.write_shift(-4,J.FATSECT);ot(we[3]),ot(we[4]);for(var Ze=0,Je=0,et=he.FileIndex[0];Ze<he.FileIndex.length;++Ze)et=he.FileIndex[Ze],et.content&&(Je=et.content.length,!(Je<4096)&&(et.start=Xe,ot(Je+511>>9)));for(ot(we[6]+7>>3);Se.l&511;)Se.write_shift(-4,J.ENDOFCHAIN);for(Xe=Ne=0,Ze=0;Ze<he.FileIndex.length;++Ze)et=he.FileIndex[Ze],et.content&&(Je=et.content.length,!(!Je||Je>=4096)&&(et.start=Xe,ot(Je+63>>6)));for(;Se.l&511;)Se.write_shift(-4,J.ENDOFCHAIN);for(Ne=0;Ne<we[4]<<2;++Ne){var _t=he.FullPaths[Ne];if(!_t||_t.length===0){for(Ze=0;Ze<17;++Ze)Se.write_shift(4,0);for(Ze=0;Ze<3;++Ze)Se.write_shift(4,-1);for(Ze=0;Ze<12;++Ze)Se.write_shift(4,0);continue}et=he.FileIndex[Ne],Ne===0&&(et.start=et.size?et.start-1:V);var Nt=Ne===0&&be.root||et.name;if(Je=2*(Nt.length+1),Se.write_shift(64,Nt,"utf16le"),Se.write_shift(2,Je),Se.write_shift(1,et.type),Se.write_shift(1,et.color),Se.write_shift(-4,et.L),Se.write_shift(-4,et.R),Se.write_shift(-4,et.C),et.clsid)Se.write_shift(16,et.clsid,"hex");else for(Ze=0;Ze<4;++Ze)Se.write_shift(4,0);Se.write_shift(4,et.state||0),Se.write_shift(4,0),Se.write_shift(4,0),Se.write_shift(4,0),Se.write_shift(4,0),Se.write_shift(4,et.start),Se.write_shift(4,et.size),Se.write_shift(4,0)}for(Ne=1;Ne<he.FileIndex.length;++Ne)if(et=he.FileIndex[Ne],et.size>=4096)if(Se.l=et.start+1<<9,jr&&Buffer.isBuffer(et.content))et.content.copy(Se,Se.l,0,et.size),Se.l+=et.size+511&-512;else{for(Ze=0;Ze<et.size;++Ze)Se.write_shift(1,et.content[Ze]);for(;Ze&511;++Ze)Se.write_shift(1,0)}for(Ne=1;Ne<he.FileIndex.length;++Ne)if(et=he.FileIndex[Ne],et.size>0&&et.size<4096)if(jr&&Buffer.isBuffer(et.content))et.content.copy(Se,Se.l,0,et.size),Se.l+=et.size+63&-64;else{for(Ze=0;Ze<et.size;++Ze)Se.write_shift(1,et.content[Ze]);for(;Ze&63;++Ze)Se.write_shift(1,0)}if(jr)Se.l=Se.length;else for(;Se.l<Se.length;)Se.write_shift(1,0);return Se}function q(he,Ae){var be=he.FullPaths.map(function(Ze){return Ze.toUpperCase()}),we=be.map(function(Ze){var Je=Ze.split("/");return Je[Je.length-(Ze.slice(-1)=="/"?2:1)]}),Se=!1;Ae.charCodeAt(0)===47?(Se=!0,Ae=be[0].slice(0,-1)+Ae):Se=Ae.indexOf("/")!==-1;var Ne=Ae.toUpperCase(),Xe=Se===!0?be.indexOf(Ne):we.indexOf(Ne);if(Xe!==-1)return he.FileIndex[Xe];var ot=!Ne.match(id);for(Ne=Ne.replace(zi,""),ot&&(Ne=Ne.replace(id,"!")),Xe=0;Xe<be.length;++Xe)if((ot?be[Xe].replace(id,"!"):be[Xe]).replace(zi,"")==Ne||(ot?we[Xe].replace(id,"!"):we[Xe]).replace(zi,"")==Ne)return he.FileIndex[Xe];return null}var O=64,V=-2,F="d0cf11e0a1b11ae1",re=[208,207,17,224,161,177,26,225],ae="00000000000000000000000000000000",J={MAXREGSECT:-6,DIFSECT:-4,FATSECT:-3,ENDOFCHAIN:V,FREESECT:-1,HEADER_SIGNATURE:F,HEADER_MINOR_VERSION:"3e00",MAXREGSID:-6,NOSTREAM:-1,HEADER_CLSID:ae,EntryTypes:["unknown","storage","stream","lockbytes","property","root"]};function ge(he,Ae,be){h();var we=Z(he,be);u.writeFileSync(Ae,we)}function te(he){for(var Ae=new Array(he.length),be=0;be<he.length;++be)Ae[be]=String.fromCharCode(he[be]);return Ae.join("")}function ke(he,Ae){var be=Z(he,Ae);switch(Ae&&Ae.type||"buffer"){case"file":return h(),u.writeFileSync(Ae.filename,be),be;case"binary":return typeof be=="string"?be:te(be);case"base64":return sw(typeof be=="string"?be:te(be));case"buffer":if(jr)return Buffer.isBuffer(be)?be:Ch(be);case"array":return typeof be=="string"?Vo(be):be}return be}var Y;function w(he){try{var Ae=he.InflateRaw,be=new Ae;if(be._processChunk(new Uint8Array([3,0]),be._finishFlushFlag),be.bytesRead)Y=he;else throw new Error("zlib does not expose bytesRead")}catch(we){console.error("cannot use native zlib: "+(we.message||we))}}function L(he,Ae){if(!Y)return hr(he,Ae);var be=Y.InflateRaw,we=new be,Se=we._processChunk(he.slice(he.l),we._finishFlushFlag);return he.l+=we.bytesRead,Se}function P(he){return Y?Y.deflateRawSync(he):xt(he)}var U=[16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15],ie=[3,4,5,6,7,8,9,10,11,13,15,17,19,23,27,31,35,43,51,59,67,83,99,115,131,163,195,227,258],fe=[1,2,3,4,5,7,9,13,17,25,33,49,65,97,129,193,257,385,513,769,1025,1537,2049,3073,4097,6145,8193,12289,16385,24577];function xe(he){var Ae=(he<<1|he<<11)&139536|(he<<5|he<<15)&558144;return(Ae>>16|Ae>>8|Ae)&255}for(var ve=typeof Uint8Array<"u",ce=ve?new Uint8Array(256):[],De=0;De<256;++De)ce[De]=xe(De);function ue(he,Ae){var be=ce[he&255];return Ae<=8?be>>>8-Ae:(be=be<<8|ce[he>>8&255],Ae<=16?be>>>16-Ae:(be=be<<8|ce[he>>16&255],be>>>24-Ae))}function Ye(he,Ae){var be=Ae&7,we=Ae>>>3;return(he[we]|(be<=6?0:he[we+1]<<8))>>>be&3}function R(he,Ae){var be=Ae&7,we=Ae>>>3;return(he[we]|(be<=5?0:he[we+1]<<8))>>>be&7}function H(he,Ae){var be=Ae&7,we=Ae>>>3;return(he[we]|(be<=4?0:he[we+1]<<8))>>>be&15}function ne(he,Ae){var be=Ae&7,we=Ae>>>3;return(he[we]|(be<=3?0:he[we+1]<<8))>>>be&31}function G(he,Ae){var be=Ae&7,we=Ae>>>3;return(he[we]|(be<=1?0:he[we+1]<<8))>>>be&127}function K(he,Ae,be){var we=Ae&7,Se=Ae>>>3,Ne=(1<<be)-1,Xe=he[Se]>>>we;return be<8-we||(Xe|=he[Se+1]<<8-we,be<16-we)||(Xe|=he[Se+2]<<16-we,be<24-we)||(Xe|=he[Se+3]<<24-we),Xe&Ne}function le(he,Ae,be){var we=Ae&7,Se=Ae>>>3;return we<=5?he[Se]|=(be&7)<<we:(he[Se]|=be<<we&255,he[Se+1]=(be&7)>>8-we),Ae+3}function Fe(he,Ae,be){var we=Ae&7,Se=Ae>>>3;return be=(be&1)<<we,he[Se]|=be,Ae+1}function je(he,Ae,be){var we=Ae&7,Se=Ae>>>3;return be<<=we,he[Se]|=be&255,be>>>=8,he[Se+1]=be,Ae+8}function Oe(he,Ae,be){var we=Ae&7,Se=Ae>>>3;return be<<=we,he[Se]|=be&255,be>>>=8,he[Se+1]=be&255,he[Se+2]=be>>>8,Ae+16}function Ge(he,Ae){var be=he.length,we=2*be>Ae?2*be:Ae+5,Se=0;if(be>=Ae)return he;if(jr){var Ne=ow(we);if(he.copy)he.copy(Ne);else for(;Se<he.length;++Se)Ne[Se]=he[Se];return Ne}else if(ve){var Xe=new Uint8Array(we);if(Xe.set)Xe.set(he);else for(;Se<be;++Se)Xe[Se]=he[Se];return Xe}return he.length=we,he}function $e(he){for(var Ae=new Array(he),be=0;be<he;++be)Ae[be]=0;return Ae}function rt(he,Ae,be){var we=1,Se=0,Ne=0,Xe=0,ot=0,Ze=he.length,Je=ve?new Uint16Array(32):$e(32);for(Ne=0;Ne<32;++Ne)Je[Ne]=0;for(Ne=Ze;Ne<be;++Ne)he[Ne]=0;Ze=he.length;var et=ve?new Uint16Array(Ze):$e(Ze);for(Ne=0;Ne<Ze;++Ne)Je[Se=he[Ne]]++,we<Se&&(we=Se),et[Ne]=0;for(Je[0]=0,Ne=1;Ne<=we;++Ne)Je[Ne+16]=ot=ot+Je[Ne-1]<<1;for(Ne=0;Ne<Ze;++Ne)ot=he[Ne],ot!=0&&(et[Ne]=Je[ot+16]++);var _t=0;for(Ne=0;Ne<Ze;++Ne)if(_t=he[Ne],_t!=0)for(ot=ue(et[Ne],we)>>we-_t,Xe=(1<<we+4-_t)-1;Xe>=0;--Xe)Ae[ot|Xe<<_t]=_t&15|Ne<<4;return we}var it=ve?new Uint16Array(512):$e(512),Tt=ve?new Uint16Array(32):$e(32);if(!ve){for(var dt=0;dt<512;++dt)it[dt]=0;for(dt=0;dt<32;++dt)Tt[dt]=0}(function(){for(var he=[],Ae=0;Ae<32;Ae++)he.push(5);rt(he,Tt,32);var be=[];for(Ae=0;Ae<=143;Ae++)be.push(8);for(;Ae<=255;Ae++)be.push(9);for(;Ae<=279;Ae++)be.push(7);for(;Ae<=287;Ae++)be.push(8);rt(be,it,288)})();var He=(function(){for(var Ae=ve?new Uint8Array(32768):[],be=0,we=0;be<fe.length-1;++be)for(;we<fe[be+1];++we)Ae[we]=be;for(;we<32768;++we)Ae[we]=29;var Se=ve?new Uint8Array(259):[];for(be=0,we=0;be<ie.length-1;++be)for(;we<ie[be+1];++we)Se[we]=be;function Ne(ot,Ze){for(var Je=0;Je<ot.length;){var et=Math.min(65535,ot.length-Je),_t=Je+et==ot.length;for(Ze.write_shift(1,+_t),Ze.write_shift(2,et),Ze.write_shift(2,~et&65535);et-- >0;)Ze[Ze.l++]=ot[Je++]}return Ze.l}function Xe(ot,Ze){for(var Je=0,et=0,_t=ve?new Uint16Array(32768):[];et<ot.length;){var Nt=Math.min(65535,ot.length-et);if(Nt<10){for(Je=le(Ze,Je,+(et+Nt==ot.length)),Je&7&&(Je+=8-(Je&7)),Ze.l=Je/8|0,Ze.write_shift(2,Nt),Ze.write_shift(2,~Nt&65535);Nt-- >0;)Ze[Ze.l++]=ot[et++];Je=Ze.l*8;continue}Je=le(Ze,Je,+(et+Nt==ot.length)+2);for(var Ft=0;Nt-- >0;){var At=ot[et];Ft=(Ft<<5^At)&32767;var Ot=-1,Ht=0;if((Ot=_t[Ft])&&(Ot|=et&-32768,Ot>et&&(Ot-=32768),Ot<et))for(;ot[Ot+Ht]==ot[et+Ht]&&Ht<250;)++Ht;if(Ht>2){At=Se[Ht],At<=22?Je=je(Ze,Je,ce[At+1]>>1)-1:(je(Ze,Je,3),Je+=5,je(Ze,Je,ce[At-23]>>5),Je+=3);var Xr=At<8?0:At-4>>2;Xr>0&&(Oe(Ze,Je,Ht-ie[At]),Je+=Xr),At=Ae[et-Ot],Je=je(Ze,Je,ce[At]>>3),Je-=3;var _r=At<4?0:At-2>>1;_r>0&&(Oe(Ze,Je,et-Ot-fe[At]),Je+=_r);for(var Qr=0;Qr<Ht;++Qr)_t[Ft]=et&32767,Ft=(Ft<<5^ot[et])&32767,++et;Nt-=Ht-1}else At<=143?At=At+48:Je=Fe(Ze,Je,1),Je=je(Ze,Je,ce[At]),_t[Ft]=et&32767,++et}Je=je(Ze,Je,0)-1}return Ze.l=(Je+7)/8|0,Ze.l}return function(Ze,Je){return Ze.length<8?Ne(Ze,Je):Xe(Ze,Je)}})();function xt(he){var Ae=Ra(50+Math.floor(he.length*1.1)),be=He(he,Ae);return Ae.slice(0,be)}var bt=ve?new Uint16Array(32768):$e(32768),Qt=ve?new Uint16Array(32768):$e(32768),Et=ve?new Uint16Array(128):$e(128),Rt=1,Lt=1;function zt(he,Ae){var be=ne(he,Ae)+257;Ae+=5;var we=ne(he,Ae)+1;Ae+=5;var Se=H(he,Ae)+4;Ae+=4;for(var Ne=0,Xe=ve?new Uint8Array(19):$e(19),ot=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0],Ze=1,Je=ve?new Uint8Array(8):$e(8),et=ve?new Uint8Array(8):$e(8),_t=Xe.length,Nt=0;Nt<Se;++Nt)Xe[U[Nt]]=Ne=R(he,Ae),Ze<Ne&&(Ze=Ne),Je[Ne]++,Ae+=3;var Ft=0;for(Je[0]=0,Nt=1;Nt<=Ze;++Nt)et[Nt]=Ft=Ft+Je[Nt-1]<<1;for(Nt=0;Nt<_t;++Nt)(Ft=Xe[Nt])!=0&&(ot[Nt]=et[Ft]++);var At=0;for(Nt=0;Nt<_t;++Nt)if(At=Xe[Nt],At!=0){Ft=ce[ot[Nt]]>>8-At;for(var Ot=(1<<7-At)-1;Ot>=0;--Ot)Et[Ft|Ot<<At]=At&7|Nt<<3}var Ht=[];for(Ze=1;Ht.length<be+we;)switch(Ft=Et[G(he,Ae)],Ae+=Ft&7,Ft>>>=3){case 16:for(Ne=3+Ye(he,Ae),Ae+=2,Ft=Ht[Ht.length-1];Ne-- >0;)Ht.push(Ft);break;case 17:for(Ne=3+R(he,Ae),Ae+=3;Ne-- >0;)Ht.push(0);break;case 18:for(Ne=11+G(he,Ae),Ae+=7;Ne-- >0;)Ht.push(0);break;default:Ht.push(Ft),Ze<Ft&&(Ze=Ft);break}var Xr=Ht.slice(0,be),_r=Ht.slice(be);for(Nt=be;Nt<286;++Nt)Xr[Nt]=0;for(Nt=we;Nt<30;++Nt)_r[Nt]=0;return Rt=rt(Xr,bt,286),Lt=rt(_r,Qt,30),Ae}function Mt(he,Ae){if(he[0]==3&&!(he[1]&3))return[_u(Ae),2];for(var be=0,we=0,Se=ow(Ae||1<<18),Ne=0,Xe=Se.length>>>0,ot=0,Ze=0;(we&1)==0;){if(we=R(he,be),be+=3,we>>>1)we>>1==1?(ot=9,Ze=5):(be=zt(he,be),ot=Rt,Ze=Lt);else{be&7&&(be+=8-(be&7));var Je=he[be>>>3]|he[(be>>>3)+1]<<8;if(be+=32,Je>0)for(!Ae&&Xe<Ne+Je&&(Se=Ge(Se,Ne+Je),Xe=Se.length);Je-- >0;)Se[Ne++]=he[be>>>3],be+=8;continue}for(;;){!Ae&&Xe<Ne+32767&&(Se=Ge(Se,Ne+32767),Xe=Se.length);var et=K(he,be,ot),_t=we>>>1==1?it[et]:bt[et];if(be+=_t&15,_t>>>=4,(_t>>>8&255)===0)Se[Ne++]=_t;else{if(_t==256)break;_t-=257;var Nt=_t<8?0:_t-4>>2;Nt>5&&(Nt=0);var Ft=Ne+ie[_t];Nt>0&&(Ft+=K(he,be,Nt),be+=Nt),et=K(he,be,Ze),_t=we>>>1==1?Tt[et]:Qt[et],be+=_t&15,_t>>>=4;var At=_t<4?0:_t-2>>1,Ot=fe[_t];for(At>0&&(Ot+=K(he,be,At),be+=At),!Ae&&Xe<Ft&&(Se=Ge(Se,Ft+100),Xe=Se.length);Ne<Ft;)Se[Ne]=Se[Ne-Ot],++Ne}}}return Ae?[Se,be+7>>>3]:[Se.slice(0,Ne),be+7>>>3]}function hr(he,Ae){var be=he.slice(he.l||0),we=Mt(be,Ae);return he.l+=we[1],we[0]}function Ut(he,Ae){if(he)typeof console<"u"&&console.error(Ae);else throw new Error(Ae)}function Kt(he,Ae){var be=he;si(be,0);var we=[],Se=[],Ne={FileIndex:we,FullPaths:Se};z(Ne,{root:Ae.root});for(var Xe=be.length-4;(be[Xe]!=80||be[Xe+1]!=75||be[Xe+2]!=5||be[Xe+3]!=6)&&Xe>=0;)--Xe;be.l=Xe+4,be.l+=4;var ot=be.read_shift(2);be.l+=6;var Ze=be.read_shift(4);for(be.l=Ze,Xe=0;Xe<ot;++Xe){be.l+=20;var Je=be.read_shift(4),et=be.read_shift(4),_t=be.read_shift(2),Nt=be.read_shift(2),Ft=be.read_shift(2);be.l+=8;var At=be.read_shift(4),Ot=l(be.slice(be.l+_t,be.l+_t+Nt));be.l+=_t+Nt+Ft;var Ht=be.l;be.l=At+4,St(be,Je,et,Ne,Ot),be.l=Ht}return Ne}function St(he,Ae,be,we,Se){he.l+=2;var Ne=he.read_shift(2),Xe=he.read_shift(2),ot=o(he);if(Ne&8257)throw new Error("Unsupported ZIP encryption");for(var Ze=he.read_shift(4),Je=he.read_shift(4),et=he.read_shift(4),_t=he.read_shift(2),Nt=he.read_shift(2),Ft="",At=0;At<_t;++At)Ft+=String.fromCharCode(he[he.l++]);if(Nt){var Ot=l(he.slice(he.l,he.l+Nt));(Ot[21589]||{}).mt&&(ot=Ot[21589].mt),((Se||{})[21589]||{}).mt&&(ot=Se[21589].mt)}he.l+=Nt;var Ht=he.slice(he.l,he.l+Je);switch(Xe){case 8:Ht=L(he,et);break;case 0:break;default:throw new Error("Unsupported ZIP Compression method "+Xe)}var Xr=!1;Ne&8&&(Ze=he.read_shift(4),Ze==134695760&&(Ze=he.read_shift(4),Xr=!0),Je=he.read_shift(4),et=he.read_shift(4)),Je!=Ae&&Ut(Xr,"Bad compressed size: "+Ae+" != "+Je),et!=be&&Ut(Xr,"Bad uncompressed size: "+be+" != "+et),Ta(we,Ft,Ht,{unsafe:!0,mt:ot})}function kt(he,Ae){var be=Ae||{},we=[],Se=[],Ne=Ra(1),Xe=be.compression?8:0,ot=0,Ze=0,Je=0,et=0,_t=0,Nt=he.FullPaths[0],Ft=Nt,At=he.FileIndex[0],Ot=[],Ht=0;for(Ze=1;Ze<he.FullPaths.length;++Ze)if(Ft=he.FullPaths[Ze].slice(Nt.length),At=he.FileIndex[Ze],!(!At.size||!At.content||Ft=="Sh33tJ5")){var Xr=et,_r=Ra(Ft.length);for(Je=0;Je<Ft.length;++Je)_r.write_shift(1,Ft.charCodeAt(Je)&127);_r=_r.slice(0,_r.l),Ot[_t]=E8.buf(At.content,0);var Qr=At.content;Xe==8&&(Qr=P(Qr)),Ne=Ra(30),Ne.write_shift(4,67324752),Ne.write_shift(2,20),Ne.write_shift(2,ot),Ne.write_shift(2,Xe),At.mt?i(Ne,At.mt):Ne.write_shift(4,0),Ne.write_shift(-4,Ot[_t]),Ne.write_shift(4,Qr.length),Ne.write_shift(4,At.content.length),Ne.write_shift(2,_r.length),Ne.write_shift(2,0),et+=Ne.length,we.push(Ne),et+=_r.length,we.push(_r),et+=Qr.length,we.push(Qr),Ne=Ra(46),Ne.write_shift(4,33639248),Ne.write_shift(2,0),Ne.write_shift(2,20),Ne.write_shift(2,ot),Ne.write_shift(2,Xe),Ne.write_shift(4,0),Ne.write_shift(-4,Ot[_t]),Ne.write_shift(4,Qr.length),Ne.write_shift(4,At.content.length),Ne.write_shift(2,_r.length),Ne.write_shift(2,0),Ne.write_shift(2,0),Ne.write_shift(2,0),Ne.write_shift(2,0),Ne.write_shift(4,0),Ne.write_shift(4,Xr),Ht+=Ne.l,Se.push(Ne),Ht+=_r.length,Se.push(_r),++_t}return Ne=Ra(22),Ne.write_shift(4,101010256),Ne.write_shift(2,0),Ne.write_shift(2,0),Ne.write_shift(2,_t),Ne.write_shift(2,_t),Ne.write_shift(4,Ht),Ne.write_shift(4,et),Ne.write_shift(2,0),pu([pu(we),pu(Se),Ne])}var ht={htm:"text/html",xml:"text/xml",gif:"image/gif",jpg:"image/jpeg",png:"image/png",mso:"application/x-mso",thmx:"application/vnd.ms-officetheme",sh33tj5:"application/octet-stream"};function $t(he,Ae){if(he.ctype)return he.ctype;var be=he.name||"",we=be.match(/\.([^\.]+)$/);return we&&ht[we[1]]||Ae&&(we=(be=Ae).match(/[\.\\]([^\.\\])+$/),we&&ht[we[1]])?ht[we[1]]:"application/octet-stream"}function Jr(he){for(var Ae=sw(he),be=[],we=0;we<Ae.length;we+=76)be.push(Ae.slice(we,we+76));return be.join(`\r
`)+`\r
`}function Dr(he){var Ae=he.replace(/[\x00-\x08\x0B\x0C\x0E-\x1F\x7E-\xFF=]/g,function(Je){var et=Je.charCodeAt(0).toString(16).toUpperCase();return"="+(et.length==1?"0"+et:et)});Ae=Ae.replace(/ $/mg,"=20").replace(/\t$/mg,"=09"),Ae.charAt(0)==`
`&&(Ae="=0D"+Ae.slice(1)),Ae=Ae.replace(/\r(?!\n)/mg,"=0D").replace(/\n\n/mg,`
=0A`).replace(/([^\r\n])\n/mg,"$1=0A");for(var be=[],we=Ae.split(`\r
`),Se=0;Se<we.length;++Se){var Ne=we[Se];if(Ne.length==0){be.push("");continue}for(var Xe=0;Xe<Ne.length;){var ot=76,Ze=Ne.slice(Xe,Xe+ot);Ze.charAt(ot-1)=="="?ot--:Ze.charAt(ot-2)=="="?ot-=2:Ze.charAt(ot-3)=="="&&(ot-=3),Ze=Ne.slice(Xe,Xe+ot),Xe+=ot,Xe<Ne.length&&(Ze+="="),be.push(Ze)}}return be.join(`\r
`)}function bn(he){for(var Ae=[],be=0;be<he.length;++be){for(var we=he[be];be<=he.length&&we.charAt(we.length-1)=="=";)we=we.slice(0,we.length-1)+he[++be];Ae.push(we)}for(var Se=0;Se<Ae.length;++Se)Ae[Se]=Ae[Se].replace(/[=][0-9A-Fa-f]{2}/g,function(Ne){return String.fromCharCode(parseInt(Ne.slice(1),16))});return Vo(Ae.join(`\r
`))}function wn(he,Ae,be){for(var we="",Se="",Ne="",Xe,ot=0;ot<10;++ot){var Ze=Ae[ot];if(!Ze||Ze.match(/^\s*$/))break;var Je=Ze.match(/^(.*?):\s*([^\s].*)$/);if(Je)switch(Je[1].toLowerCase()){case"content-location":we=Je[2].trim();break;case"content-type":Ne=Je[2].trim();break;case"content-transfer-encoding":Se=Je[2].trim();break}}switch(++ot,Se.toLowerCase()){case"base64":Xe=Vo(js(Ae.slice(ot).join("")));break;case"quoted-printable":Xe=bn(Ae.slice(ot));break;default:throw new Error("Unsupported Content-Transfer-Encoding "+Se)}var et=Ta(he,we.slice(be.length),Xe,{unsafe:!0});Ne&&(et.ctype=Ne)}function jt(he,Ae){if(te(he.slice(0,13)).toLowerCase()!="mime-version:")throw new Error("Unsupported MAD header");var be=Ae&&Ae.root||"",we=(jr&&Buffer.isBuffer(he)?he.toString("binary"):te(he)).split(`\r
`),Se=0,Ne="";for(Se=0;Se<we.length;++Se)if(Ne=we[Se],!!/^Content-Location:/i.test(Ne)&&(Ne=Ne.slice(Ne.indexOf("file")),be||(be=Ne.slice(0,Ne.lastIndexOf("/")+1)),Ne.slice(0,be.length)!=be))for(;be.length>0&&(be=be.slice(0,be.length-1),be=be.slice(0,be.lastIndexOf("/")+1),Ne.slice(0,be.length)!=be););var Xe=(we[1]||"").match(/boundary="(.*?)"/);if(!Xe)throw new Error("MAD cannot find boundary");var ot="--"+(Xe[1]||""),Ze=[],Je=[],et={FileIndex:Ze,FullPaths:Je};z(et);var _t,Nt=0;for(Se=0;Se<we.length;++Se){var Ft=we[Se];Ft!==ot&&Ft!==ot+"--"||(Nt++&&wn(et,we.slice(_t,Se),be),_t=Se)}return et}function Vn(he,Ae){var be=Ae||{},we=be.boundary||"SheetJS";we="------="+we;for(var Se=["MIME-Version: 1.0",'Content-Type: multipart/related; boundary="'+we.slice(2)+'"',"","",""],Ne=he.FullPaths[0],Xe=Ne,ot=he.FileIndex[0],Ze=1;Ze<he.FullPaths.length;++Ze)if(Xe=he.FullPaths[Ze].slice(Ne.length),ot=he.FileIndex[Ze],!(!ot.size||!ot.content||Xe=="Sh33tJ5")){Xe=Xe.replace(/[\x00-\x08\x0B\x0C\x0E-\x1F\x7E-\xFF]/g,function(Ht){return"_x"+Ht.charCodeAt(0).toString(16)+"_"}).replace(/[\u0080-\uFFFF]/g,function(Ht){return"_u"+Ht.charCodeAt(0).toString(16)+"_"});for(var Je=ot.content,et=jr&&Buffer.isBuffer(Je)?Je.toString("binary"):te(Je),_t=0,Nt=Math.min(1024,et.length),Ft=0,At=0;At<=Nt;++At)(Ft=et.charCodeAt(At))>=32&&Ft<128&&++_t;var Ot=_t>=Nt*4/5;Se.push(we),Se.push("Content-Location: "+(be.root||"file:///C:/SheetJS/")+Xe),Se.push("Content-Transfer-Encoding: "+(Ot?"quoted-printable":"base64")),Se.push("Content-Type: "+$t(ot,Xe)),Se.push(""),Se.push(Ot?Dr(et):Jr(et))}return Se.push(we+`--\r
`),Se.join(`\r
`)}function da(he){var Ae={};return z(Ae,he),Ae}function Ta(he,Ae,be,we){var Se=we&&we.unsafe;Se||z(he);var Ne=!Se&&Ir.find(he,Ae);if(!Ne){var Xe=he.FullPaths[0];Ae.slice(0,Xe.length)==Xe?Xe=Ae:(Xe.slice(-1)!="/"&&(Xe+="/"),Xe=(Xe+Ae).replace("//","/")),Ne={name:a(Ae),type:2},he.FileIndex.push(Ne),he.FullPaths.push(Xe),Se||Ir.utils.cfb_gc(he)}return Ne.content=be,Ne.size=be?be.length:0,we&&(we.CLSID&&(Ne.clsid=we.CLSID),we.mt&&(Ne.mt=we.mt),we.ct&&(Ne.ct=we.ct)),Ne}function $a(he,Ae){z(he);var be=Ir.find(he,Ae);if(be){for(var we=0;we<he.FileIndex.length;++we)if(he.FileIndex[we]==be)return he.FileIndex.splice(we,1),he.FullPaths.splice(we,1),!0}return!1}function sn(he,Ae,be){z(he);var we=Ir.find(he,Ae);if(we){for(var Se=0;Se<he.FileIndex.length;++Se)if(he.FileIndex[Se]==we)return he.FileIndex[Se].name=a(be),he.FullPaths[Se]=be,!0}return!1}function Dn(he){D(he,!0)}return e.find=q,e.read=ee,e.parse=f,e.write=ke,e.writeFile=ge,e.utils={cfb_new:da,cfb_add:Ta,cfb_del:$a,cfb_mov:sn,cfb_gc:Dn,ReadShift:ud,CheckField:pS,prep_blob:si,bconcat:pu,use_zlib:w,_deflateRaw:xt,_inflateRaw:hr,consts:J},e})();function N8(r){if(typeof Deno<"u")return Deno.readFileSync(r);if(typeof $<"u"&&typeof File<"u"&&typeof Folder<"u")try{var e=File(r);e.open("r"),e.encoding="binary";var t=e.read();return e.close(),t}catch(n){if(!n.message||!n.message.match(/onstruct/))throw n}throw new Error("Cannot access file "+r)}function Ol(r){for(var e=Object.keys(r),t=[],n=0;n<e.length;++n)Object.prototype.hasOwnProperty.call(r,e[n])&&t.push(e[n]);return t}function kv(r){for(var e=[],t=Ol(r),n=0;n!==t.length;++n)e[r[t[n]]]=t[n];return e}var fp=new Date(1899,11,30,0,0,0);function Hi(r,e){var t=r.getTime(),n=fp.getTime()+(r.getTimezoneOffset()-fp.getTimezoneOffset())*6e4;return(t-n)/(1440*60*1e3)}var X3=new Date,O8=fp.getTime()+(X3.getTimezoneOffset()-fp.getTimezoneOffset())*6e4,pw=X3.getTimezoneOffset();function Bp(r){var e=new Date;return e.setTime(r*24*60*60*1e3+O8),e.getTimezoneOffset()!==pw&&e.setTime(e.getTime()+(e.getTimezoneOffset()-pw)*6e4),e}function D8(r){var e=0,t=0,n=!1,a=r.match(/P([0-9\.]+Y)?([0-9\.]+M)?([0-9\.]+D)?T([0-9\.]+H)?([0-9\.]+M)?([0-9\.]+S)?/);if(!a)throw new Error("|"+r+"| is not an ISO8601 Duration");for(var i=1;i!=a.length;++i)if(a[i]){switch(t=1,i>3&&(n=!0),a[i].slice(a[i].length-1)){case"Y":throw new Error("Unsupported ISO Duration Field: "+a[i].slice(a[i].length-1));case"D":t*=24;case"H":t*=60;case"M":if(n)t*=60;else throw new Error("Unsupported ISO Duration Field: M")}e+=t*parseInt(a[i],10)}return e}var mw=new Date("2017-02-19T19:06:09.000Z"),K3=isNaN(mw.getFullYear())?new Date("2/19/17"):mw,L8=K3.getFullYear()==2017;function Ka(r,e){var t=new Date(r);if(L8)return e>0?t.setTime(t.getTime()+t.getTimezoneOffset()*60*1e3):e<0&&t.setTime(t.getTime()-t.getTimezoneOffset()*60*1e3),t;if(r instanceof Date)return r;if(K3.getFullYear()==1917&&!isNaN(t.getFullYear())){var n=t.getFullYear();return r.indexOf(""+n)>-1||t.setFullYear(t.getFullYear()+100),t}var a=r.match(/\d+/g)||["2017","2","19","0","0","0"],i=new Date(+a[0],+a[1]-1,+a[2],+a[3]||0,+a[4]||0,+a[5]||0);return r.indexOf("Z")>-1&&(i=new Date(i.getTime()-i.getTimezoneOffset()*60*1e3)),i}function yh(r,e){if(jr&&Buffer.isBuffer(r)){if(e){if(r[0]==255&&r[1]==254)return od(r.slice(2).toString("utf16le"));if(r[1]==254&&r[2]==255)return od(j3(r.slice(2).toString("binary")))}return r.toString("binary")}if(typeof TextDecoder<"u")try{if(e){if(r[0]==255&&r[1]==254)return od(new TextDecoder("utf-16le").decode(r.slice(2)));if(r[0]==254&&r[1]==255)return od(new TextDecoder("utf-16be").decode(r.slice(2)))}var t={"":"","":"",:"","":"","":"","":"","":"","":"","":"",:"","":"",:"",:"","":"","":"","":"","":"","":"","":"","":"","":"","":"",:"","":"",:"",:"",:""};return Array.isArray(r)&&(r=new Uint8Array(r)),new TextDecoder("latin1").decode(r).replace(/[]/g,function(i){return t[i]||i})}catch{}for(var n=[],a=0;a!=r.length;++a)n.push(String.fromCharCode(r[a]));return n.join("")}function ci(r){if(typeof JSON<"u"&&!Array.isArray(r))return JSON.parse(JSON.stringify(r));if(typeof r!="object"||r==null)return r;if(r instanceof Date)return new Date(r.getTime());var e={};for(var t in r)Object.prototype.hasOwnProperty.call(r,t)&&(e[t]=ci(r[t]));return e}function ea(r,e){for(var t="";t.length<e;)t+=r;return t}function Zo(r){var e=Number(r);if(!isNaN(e))return isFinite(e)?e:NaN;if(!/\d/.test(r))return e;var t=1,n=r.replace(/([\d]),([\d])/g,"$1$2").replace(/[$]/g,"").replace(/[%]/g,function(){return t*=100,""});return!isNaN(e=Number(n))||(n=n.replace(/[(](.*)[)]/,function(a,i){return t=-t,i}),!isNaN(e=Number(n)))?e/t:e}var F8=["january","february","march","april","may","june","july","august","september","october","november","december"];function n0(r){var e=new Date(r),t=new Date(NaN),n=e.getYear(),a=e.getMonth(),i=e.getDate();if(isNaN(i))return t;var o=r.toLowerCase();if(o.match(/jan|feb|mar|apr|may|jun|jul|aug|sep|oct|nov|dec/)){if(o=o.replace(/[^a-z]/g,"").replace(/([^a-z]|^)[ap]m?([^a-z]|$)/,""),o.length>3&&F8.indexOf(o)==-1)return t}else if(o.match(/[a-z]/))return t;return n<0||n>8099?t:(a>0||i>1)&&n!=101?e:r.match(/[^-0-9:,\/\\]/)?t:e}var M8=(function(){var r="abacaba".split(/(:?b)/i).length==5;return function(t,n,a){if(r||typeof n=="string")return t.split(n);for(var i=t.split(n),o=[i[0]],l=1;l<i.length;++l)o.push(a),o.push(i[l]);return o}})();function $3(r){return r?r.content&&r.type?yh(r.content,!0):r.data?ad(r.data):r.asNodeBuffer&&jr?ad(r.asNodeBuffer().toString("binary")):r.asBinary?ad(r.asBinary()):r._data&&r._data.getContent?ad(yh(Array.prototype.slice.call(r._data.getContent(),0))):null:null}function Z3(r){if(!r)return null;if(r.data)return aw(r.data);if(r.asNodeBuffer&&jr)return r.asNodeBuffer();if(r._data&&r._data.getContent){var e=r._data.getContent();return typeof e=="string"?aw(e):Array.prototype.slice.call(e)}return r.content&&r.type?r.content:null}function j8(r){return r&&r.name.slice(-4)===".bin"?Z3(r):$3(r)}function no(r,e){for(var t=r.FullPaths||Ol(r.files),n=e.toLowerCase().replace(/[\/]/g,"\\"),a=n.replace(/\\/g,"/"),i=0;i<t.length;++i){var o=t[i].replace(/^Root Entry[\/]/,"").toLowerCase();if(n==o||a==o)return r.files?r.files[t[i]]:r.FileIndex[i]}return null}function Cv(r,e){var t=no(r,e);if(t==null)throw new Error("Cannot find file "+e+" in zip");return t}function ba(r,e,t){if(!t)return j8(Cv(r,e));if(!e)return null;try{return ba(r,e)}catch{return null}}function Fs(r,e,t){if(!t)return $3(Cv(r,e));if(!e)return null;try{return Fs(r,e)}catch{return null}}function R8(r,e,t){return Z3(Cv(r,e))}function xw(r){for(var e=r.FullPaths||Ol(r.files),t=[],n=0;n<e.length;++n)e[n].slice(-1)!="/"&&t.push(e[n].replace(/^Root Entry[\/]/,""));return t.sort()}function B8(r,e,t){if(r.FullPaths){if(typeof t=="string"){var n;return jr?n=Ch(t):n=r8(t),Ir.utils.cfb_add(r,e,n)}Ir.utils.cfb_add(r,e,t)}else r.file(e,t)}function J3(r,e){switch(e.type){case"base64":return Ir.read(r,{type:"base64"});case"binary":return Ir.read(r,{type:"binary"});case"buffer":case"array":return Ir.read(r,{type:"buffer"})}throw new Error("Unrecognized type "+e.type)}function sd(r,e){if(r.charAt(0)=="/")return r.slice(1);var t=e.split("/");e.slice(-1)!="/"&&t.pop();for(var n=r.split("/");n.length!==0;){var a=n.shift();a===".."?t.pop():a!=="."&&t.push(a)}return t.join("/")}var Q3=`<?xml version="1.0" encoding="UTF-8" standalone="yes"?>\r
`,P8=/([^"\s?>\/]+)\s*=\s*((?:")([^"]*)(?:")|(?:')([^']*)(?:')|([^'">\s]+))/g,vw=/<[\/\?]?[a-zA-Z0-9:_-]+(?:\s+[^"\s?>\/]+\s*=\s*(?:"[^"]*"|'[^']*'|[^'">\s=]+))*\s*[\/\?]?>/mg,I8=/<[^>]*>/g,Ei=Q3.match(vw)?vw:I8,U8=/<\w*:/,z8=/<(\/?)\w+:/;function lr(r,e,t){for(var n={},a=0,i=0;a!==r.length&&!((i=r.charCodeAt(a))===32||i===10||i===13);++a);if(e||(n[0]=r.slice(0,a)),a===r.length)return n;var o=r.match(P8),l=0,u="",h=0,f="",m="",x=1;if(o)for(h=0;h!=o.length;++h){for(m=o[h],i=0;i!=m.length&&m.charCodeAt(i)!==61;++i);for(f=m.slice(0,i).trim();m.charCodeAt(i+1)==32;)++i;for(x=(a=m.charCodeAt(i+1))==34||a==39?1:0,u=m.slice(i+1+x,m.length-x),l=0;l!=f.length&&f.charCodeAt(l)!==58;++l);if(l===f.length)f.indexOf("_")>0&&(f=f.slice(0,f.indexOf("_"))),n[f]=u,n[f.toLowerCase()]=u;else{var g=(l===5&&f.slice(0,5)==="xmlns"?"xmlns":"")+f.slice(l+1);if(n[g]&&f.slice(l-3,l)=="ext")continue;n[g]=u,n[g.toLowerCase()]=u}}return n}function Ll(r){return r.replace(z8,"<$1")}var eS={"&quot;":'"',"&apos;":"'","&gt;":">","&lt;":"<","&amp;":"&"},H8=kv(eS),Vr=(function(){var r=/&(?:quot|apos|gt|lt|amp|#x?([\da-fA-F]+));/ig,e=/_x([\da-fA-F]{4})_/ig;return function t(n){var a=n+"",i=a.indexOf("<![CDATA[");if(i==-1)return a.replace(r,function(l,u){return eS[l]||String.fromCharCode(parseInt(u,l.indexOf("x")>-1?16:10))||l}).replace(e,function(l,u){return String.fromCharCode(parseInt(u,16))});var o=a.indexOf("]]>");return t(a.slice(0,i))+a.slice(i+9,o)+t(a.slice(o+3))}})(),q8=/[&<>'"]/g,V8=/[\u0000-\u001f]/g;function Tv(r){var e=r+"";return e.replace(q8,function(t){return H8[t]}).replace(/\n/g,"<br/>").replace(V8,function(t){return"&#x"+("000"+t.charCodeAt(0).toString(16)).slice(-4)+";"})}var yw=(function(){var r=/&#(\d+);/g;function e(t,n){return String.fromCharCode(parseInt(n,10))}return function(n){return n.replace(r,e)}})();function Bn(r){switch(r){case 1:case!0:case"1":case"true":case"TRUE":return!0;default:return!1}}function w2(r){for(var e="",t=0,n=0,a=0,i=0,o=0,l=0;t<r.length;){if(n=r.charCodeAt(t++),n<128){e+=String.fromCharCode(n);continue}if(a=r.charCodeAt(t++),n>191&&n<224){o=(n&31)<<6,o|=a&63,e+=String.fromCharCode(o);continue}if(i=r.charCodeAt(t++),n<240){e+=String.fromCharCode((n&15)<<12|(a&63)<<6|i&63);continue}o=r.charCodeAt(t++),l=((n&7)<<18|(a&63)<<12|(i&63)<<6|o&63)-65536,e+=String.fromCharCode(55296+(l>>>10&1023)),e+=String.fromCharCode(56320+(l&1023))}return e}function bw(r){var e=_u(2*r.length),t,n,a=1,i=0,o=0,l;for(n=0;n<r.length;n+=a)a=1,(l=r.charCodeAt(n))<128?t=l:l<224?(t=(l&31)*64+(r.charCodeAt(n+1)&63),a=2):l<240?(t=(l&15)*4096+(r.charCodeAt(n+1)&63)*64+(r.charCodeAt(n+2)&63),a=3):(a=4,t=(l&7)*262144+(r.charCodeAt(n+1)&63)*4096+(r.charCodeAt(n+2)&63)*64+(r.charCodeAt(n+3)&63),t-=65536,o=55296+(t>>>10&1023),t=56320+(t&1023)),o!==0&&(e[i++]=o&255,e[i++]=o>>>8,o=0),e[i++]=t%256,e[i++]=t>>>8;return e.slice(0,i).toString("ucs2")}function ww(r){return Ch(r,"binary").toString("utf8")}var $1="foo bar baz",yn=jr&&(ww($1)==w2($1)&&ww||bw($1)==w2($1)&&bw)||w2,od=jr?function(r){return Ch(r,"utf8").toString("binary")}:function(r){for(var e=[],t=0,n=0,a=0;t<r.length;)switch(n=r.charCodeAt(t++),!0){case n<128:e.push(String.fromCharCode(n));break;case n<2048:e.push(String.fromCharCode(192+(n>>6))),e.push(String.fromCharCode(128+(n&63)));break;case(n>=55296&&n<57344):n-=55296,a=r.charCodeAt(t++)-56320+(n<<10),e.push(String.fromCharCode(240+(a>>18&7))),e.push(String.fromCharCode(144+(a>>12&63))),e.push(String.fromCharCode(128+(a>>6&63))),e.push(String.fromCharCode(128+(a&63)));break;default:e.push(String.fromCharCode(224+(n>>12))),e.push(String.fromCharCode(128+(n>>6&63))),e.push(String.fromCharCode(128+(n&63)))}return e.join("")},Ed=(function(){var r={};return function(t,n){var a=t+"|"+(n||"");return r[a]?r[a]:r[a]=new RegExp("<(?:\\w+:)?"+t+'(?: xml:space="preserve")?(?:[^>]*)>([\\s\\S]*?)</(?:\\w+:)?'+t+">",n||"")}})(),tS=(function(){var r=[["nbsp"," "],["middot",""],["quot",'"'],["apos","'"],["gt",">"],["lt","<"],["amp","&"]].map(function(e){return[new RegExp("&"+e[0]+";","ig"),e[1]]});return function(t){for(var n=t.replace(/^[\t\n\r ]+/,"").replace(/[\t\n\r ]+$/,"").replace(/>\s+/g,">").replace(/\s+</g,"<").replace(/[\t\n\r ]+/g," ").replace(/<\s*[bB][rR]\s*\/?>/g,`
`).replace(/<[^>]*>/g,""),a=0;a<r.length;++a)n=n.replace(r[a][0],r[a][1]);return n}})(),G8=(function(){var r={};return function(t){return r[t]!==void 0?r[t]:r[t]=new RegExp("<(?:vt:)?"+t+">([\\s\\S]*?)</(?:vt:)?"+t+">","g")}})(),W8=/<\/?(?:vt:)?variant>/g,Y8=/<(?:vt:)([^>]*)>([\s\S]*)</;function _w(r,e){var t=lr(r),n=r.match(G8(t.baseType))||[],a=[];if(n.length!=t.size){if(e.WTF)throw new Error("unexpected vector length "+n.length+" != "+t.size);return a}return n.forEach(function(i){var o=i.replace(W8,"").match(Y8);o&&a.push({v:yn(o[2]),t:o[1]})}),a}var X8=/(^\s|\s$|\n)/;function K8(r){return Ol(r).map(function(e){return" "+e+'="'+r[e]+'"'}).join("")}function $8(r,e,t){return"<"+r+(t!=null?K8(t):"")+(e!=null?(e.match(X8)?' xml:space="preserve"':"")+">"+e+"</"+r:"/")+">"}function Av(r){if(jr&&Buffer.isBuffer(r))return r.toString("utf8");if(typeof r=="string")return r;if(typeof Uint8Array<"u"&&r instanceof Uint8Array)return yn(Th(wv(r)));throw new Error("Bad input format: expected Buffer or string")}var Nd=/<(\/?)([^\s?><!\/:]*:|)([^\s?<>:\/]+)(?:[\s?:\/][^>]*)?>/mg,Z8={CT:"http://schemas.openxmlformats.org/package/2006/content-types"},J8=["http://schemas.openxmlformats.org/spreadsheetml/2006/main","http://purl.oclc.org/ooxml/spreadsheetml/main","http://schemas.microsoft.com/office/excel/2006/main","http://schemas.microsoft.com/office/excel/2006/2"];function Q8(r,e){for(var t=1-2*(r[e+7]>>>7),n=((r[e+7]&127)<<4)+(r[e+6]>>>4&15),a=r[e+6]&15,i=5;i>=0;--i)a=a*256+r[e+i];return n==2047?a==0?t*(1/0):NaN:(n==0?n=-1022:(n-=1023,a+=Math.pow(2,52)),t*Math.pow(2,n-52)*a)}function eN(r,e,t){var n=(e<0||1/e==-1/0?1:0)<<7,a=0,i=0,o=n?-e:e;isFinite(o)?o==0?a=i=0:(a=Math.floor(Math.log(o)/Math.LN2),i=o*Math.pow(2,52-a),a<=-1023&&(!isFinite(i)||i<Math.pow(2,52))?a=-1022:(i-=Math.pow(2,52),a+=1023)):(a=2047,i=isNaN(e)?26985:0);for(var l=0;l<=5;++l,i/=256)r[t+l]=i&255;r[t+6]=(a&15)<<4|i&15,r[t+7]=a>>4|n}var Sw=function(r){for(var e=[],t=10240,n=0;n<r[0].length;++n)if(r[0][n])for(var a=0,i=r[0][n].length;a<i;a+=t)e.push.apply(e,r[0][n].slice(a,a+t));return e},kw=jr?function(r){return r[0].length>0&&Buffer.isBuffer(r[0][0])?Buffer.concat(r[0].map(function(e){return Buffer.isBuffer(e)?e:Ch(e)})):Sw(r)}:Sw,Cw=function(r,e,t){for(var n=[],a=e;a<t;a+=2)n.push(String.fromCharCode(gc(r,a)));return n.join("").replace(zi,"")},Ev=jr?function(r,e,t){return Buffer.isBuffer(r)?r.toString("utf16le",e,t).replace(zi,""):Cw(r,e,t)}:Cw,Tw=function(r,e,t){for(var n=[],a=e;a<e+t;++a)n.push(("0"+r[a].toString(16)).slice(-2));return n.join("")},rS=jr?function(r,e,t){return Buffer.isBuffer(r)?r.toString("hex",e,e+t):Tw(r,e,t)}:Tw,Aw=function(r,e,t){for(var n=[],a=e;a<t;a++)n.push(String.fromCharCode(Mf(r,a)));return n.join("")},Yd=jr?function(e,t,n){return Buffer.isBuffer(e)?e.toString("utf8",t,n):Aw(e,t,n)}:Aw,nS=function(r,e){var t=Ds(r,e);return t>0?Yd(r,e+4,e+4+t-1):""},aS=nS,iS=function(r,e){var t=Ds(r,e);return t>0?Yd(r,e+4,e+4+t-1):""},sS=iS,oS=function(r,e){var t=2*Ds(r,e);return t>0?Yd(r,e+4,e+4+t-1):""},lS=oS,cS=function(e,t){var n=Ds(e,t);return n>0?Ev(e,t+4,t+4+n):""},uS=cS,hS=function(r,e){var t=Ds(r,e);return t>0?Yd(r,e+4,e+4+t):""},fS=hS,dS=function(r,e){return Q8(r,e)},dp=dS,gS=function(e){return Array.isArray(e)||typeof Uint8Array<"u"&&e instanceof Uint8Array};jr&&(aS=function(e,t){if(!Buffer.isBuffer(e))return nS(e,t);var n=e.readUInt32LE(t);return n>0?e.toString("utf8",t+4,t+4+n-1):""},sS=function(e,t){if(!Buffer.isBuffer(e))return iS(e,t);var n=e.readUInt32LE(t);return n>0?e.toString("utf8",t+4,t+4+n-1):""},lS=function(e,t){if(!Buffer.isBuffer(e))return oS(e,t);var n=2*e.readUInt32LE(t);return e.toString("utf16le",t+4,t+4+n-1)},uS=function(e,t){if(!Buffer.isBuffer(e))return cS(e,t);var n=e.readUInt32LE(t);return e.toString("utf16le",t+4,t+4+n)},fS=function(e,t){if(!Buffer.isBuffer(e))return hS(e,t);var n=e.readUInt32LE(t);return e.toString("utf8",t+4,t+4+n)},dp=function(e,t){return Buffer.isBuffer(e)?e.readDoubleLE(t):dS(e,t)},gS=function(e){return Buffer.isBuffer(e)||Array.isArray(e)||typeof Uint8Array<"u"&&e instanceof Uint8Array});var Mf=function(r,e){return r[e]},gc=function(r,e){return r[e+1]*256+r[e]},tN=function(r,e){var t=r[e+1]*256+r[e];return t<32768?t:(65535-t+1)*-1},Ds=function(r,e){return r[e+3]*(1<<24)+(r[e+2]<<16)+(r[e+1]<<8)+r[e]},ah=function(r,e){return r[e+3]<<24|r[e+2]<<16|r[e+1]<<8|r[e]},rN=function(r,e){return r[e]<<24|r[e+1]<<16|r[e+2]<<8|r[e+3]};function ud(r,e){var t="",n,a,i=[],o,l,u,h;switch(e){case"dbcs":if(h=this.l,jr&&Buffer.isBuffer(this))t=this.slice(this.l,this.l+2*r).toString("utf16le");else for(u=0;u<r;++u)t+=String.fromCharCode(gc(this,h)),h+=2;r*=2;break;case"utf8":t=Yd(this,this.l,this.l+r);break;case"utf16le":r*=2,t=Ev(this,this.l,this.l+r);break;case"wstr":return ud.call(this,r,"dbcs");case"lpstr-ansi":t=aS(this,this.l),r=4+Ds(this,this.l);break;case"lpstr-cp":t=sS(this,this.l),r=4+Ds(this,this.l);break;case"lpwstr":t=lS(this,this.l),r=4+2*Ds(this,this.l);break;case"lpp4":r=4+Ds(this,this.l),t=uS(this,this.l),r&2&&(r+=2);break;case"8lpp4":r=4+Ds(this,this.l),t=fS(this,this.l),r&3&&(r+=4-(r&3));break;case"cstr":for(r=0,t="";(o=Mf(this,this.l+r++))!==0;)i.push(K1(o));t=i.join("");break;case"_wstr":for(r=0,t="";(o=gc(this,this.l+r))!==0;)i.push(K1(o)),r+=2;r+=2,t=i.join("");break;case"dbcs-cont":for(t="",h=this.l,u=0;u<r;++u){if(this.lens&&this.lens.indexOf(h)!==-1)return o=Mf(this,h),this.l=h+1,l=ud.call(this,r-u,o?"dbcs-cont":"sbcs-cont"),i.join("")+l;i.push(K1(gc(this,h))),h+=2}t=i.join(""),r*=2;break;case"cpstr":case"sbcs-cont":for(t="",h=this.l,u=0;u!=r;++u){if(this.lens&&this.lens.indexOf(h)!==-1)return o=Mf(this,h),this.l=h+1,l=ud.call(this,r-u,o?"dbcs-cont":"sbcs-cont"),i.join("")+l;i.push(K1(Mf(this,h))),h+=1}t=i.join("");break;default:switch(r){case 1:return n=Mf(this,this.l),this.l++,n;case 2:return n=(e==="i"?tN:gc)(this,this.l),this.l+=2,n;case 4:case-4:return e==="i"||(this[this.l+3]&128)===0?(n=(r>0?ah:rN)(this,this.l),this.l+=4,n):(a=Ds(this,this.l),this.l+=4,a);case 8:case-8:if(e==="f")return r==8?a=dp(this,this.l):a=dp([this[this.l+7],this[this.l+6],this[this.l+5],this[this.l+4],this[this.l+3],this[this.l+2],this[this.l+1],this[this.l+0]],0),this.l+=8,a;r=8;case 16:t=rS(this,this.l,r);break}}return this.l+=r,t}var nN=function(r,e,t){r[t]=e&255,r[t+1]=e>>>8&255,r[t+2]=e>>>16&255,r[t+3]=e>>>24&255},aN=function(r,e,t){r[t]=e&255,r[t+1]=e>>8&255,r[t+2]=e>>16&255,r[t+3]=e>>24&255},iN=function(r,e,t){r[t]=e&255,r[t+1]=e>>>8&255};function sN(r,e,t){var n=0,a=0;if(t==="dbcs"){for(a=0;a!=e.length;++a)iN(this,e.charCodeAt(a),this.l+2*a);n=2*e.length}else if(t==="sbcs"){for(e=e.replace(/[^\x00-\x7F]/g,"_"),a=0;a!=e.length;++a)this[this.l+a]=e.charCodeAt(a)&255;n=e.length}else if(t==="hex"){for(;a<r;++a)this[this.l++]=parseInt(e.slice(2*a,2*a+2),16)||0;return this}else if(t==="utf16le"){var i=Math.min(this.l+r,this.length);for(a=0;a<Math.min(e.length,r);++a){var o=e.charCodeAt(a);this[this.l++]=o&255,this[this.l++]=o>>8}for(;this.l<i;)this[this.l++]=0;return this}else switch(r){case 1:n=1,this[this.l]=e&255;break;case 2:n=2,this[this.l]=e&255,e>>>=8,this[this.l+1]=e&255;break;case 3:n=3,this[this.l]=e&255,e>>>=8,this[this.l+1]=e&255,e>>>=8,this[this.l+2]=e&255;break;case 4:n=4,nN(this,e,this.l);break;case 8:if(n=8,t==="f"){eN(this,e,this.l);break}case 16:break;case-4:n=4,aN(this,e,this.l);break}return this.l+=n,this}function pS(r,e){var t=rS(this,this.l,r.length>>1);if(t!==r)throw new Error(e+"Expected "+r+" saw "+t);this.l+=r.length>>1}function si(r,e){r.l=e,r.read_shift=ud,r.chk=pS,r.write_shift=sN}function Ai(r,e){r.l+=e}function Ra(r){var e=_u(r);return si(e,0),e}function Tc(r,e,t){if(r){var n,a,i;si(r,r.l||0);for(var o=r.length,l=0,u=0;r.l<o;){l=r.read_shift(1),l&128&&(l=(l&127)+((r.read_shift(1)&127)<<7));var h=yp[l]||yp[65535];for(n=r.read_shift(1),i=n&127,a=1;a<4&&n&128;++a)i+=((n=r.read_shift(1))&127)<<7*a;u=r.l+i;var f=h.f&&h.f(r,i,t);if(r.l=u,e(f,h,l))return}}}function Ex(){var r=[],e=jr?256:2048,t=function(h){var f=Ra(h);return si(f,0),f},n=t(e),a=function(){n&&(n.length>n.l&&(n=n.slice(0,n.l),n.l=n.length),n.length>0&&r.push(n),n=null)},i=function(h){return n&&h<n.length-n.l?n:(a(),n=t(Math.max(h+1,e)))},o=function(){return a(),pu(r)},l=function(h){a(),n=h,n.l==null&&(n.l=n.length),i(e)};return{next:i,push:l,end:o,_bufs:r}}function hd(r,e,t){var n=ci(r);if(e.s?(n.cRel&&(n.c+=e.s.c),n.rRel&&(n.r+=e.s.r)):(n.cRel&&(n.c+=e.c),n.rRel&&(n.r+=e.r)),!t||t.biff<12){for(;n.c>=256;)n.c-=256;for(;n.r>=65536;)n.r-=65536}return n}function Ew(r,e,t){var n=ci(r);return n.s=hd(n.s,e.s,t),n.e=hd(n.e,e.s,t),n}function fd(r,e){if(r.cRel&&r.c<0)for(r=ci(r);r.c<0;)r.c+=e>8?16384:256;if(r.rRel&&r.r<0)for(r=ci(r);r.r<0;)r.r+=e>8?1048576:e>5?65536:16384;var t=xr(r);return!r.cRel&&r.cRel!=null&&(t=cN(t)),!r.rRel&&r.rRel!=null&&(t=oN(t)),t}function _2(r,e){return r.s.r==0&&!r.s.rRel&&r.e.r==(e.biff>=12?1048575:e.biff>=8?65536:16384)&&!r.e.rRel?(r.s.cRel?"":"$")+Ba(r.s.c)+":"+(r.e.cRel?"":"$")+Ba(r.e.c):r.s.c==0&&!r.s.cRel&&r.e.c==(e.biff>=12?16383:255)&&!r.e.cRel?(r.s.rRel?"":"$")+ui(r.s.r)+":"+(r.e.rRel?"":"$")+ui(r.e.r):fd(r.s,e.biff)+":"+fd(r.e,e.biff)}function Nv(r){return parseInt(lN(r),10)-1}function ui(r){return""+(r+1)}function oN(r){return r.replace(/([A-Z]|^)(\d+)$/,"$1$$$2")}function lN(r){return r.replace(/\$(\d+)$/,"$1")}function Ov(r){for(var e=uN(r),t=0,n=0;n!==e.length;++n)t=26*t+e.charCodeAt(n)-64;return t-1}function Ba(r){if(r<0)throw new Error("invalid column "+r);var e="";for(++r;r;r=Math.floor((r-1)/26))e=String.fromCharCode((r-1)%26+65)+e;return e}function cN(r){return r.replace(/^([A-Z])/,"$$$1")}function uN(r){return r.replace(/^\$([A-Z])/,"$1")}function hN(r){return r.replace(/(\$?[A-Z]*)(\$?\d*)/,"$1,$2").split(",")}function Ui(r){for(var e=0,t=0,n=0;n<r.length;++n){var a=r.charCodeAt(n);a>=48&&a<=57?e=10*e+(a-48):a>=65&&a<=90&&(t=26*t+(a-64))}return{c:t-1,r:e-1}}function xr(r){for(var e=r.c+1,t="";e;e=(e-1)/26|0)t=String.fromCharCode((e-1)%26+65)+t;return t+(r.r+1)}function o0(r){var e=r.indexOf(":");return e==-1?{s:Ui(r),e:Ui(r)}:{s:Ui(r.slice(0,e)),e:Ui(r.slice(e+1))}}function Ur(r,e){return typeof e>"u"||typeof e=="number"?Ur(r.s,r.e):(typeof r!="string"&&(r=xr(r)),typeof e!="string"&&(e=xr(e)),r==e?r:r+":"+e)}function ta(r){var e={s:{c:0,r:0},e:{c:0,r:0}},t=0,n=0,a=0,i=r.length;for(t=0;n<i&&!((a=r.charCodeAt(n)-64)<1||a>26);++n)t=26*t+a;for(e.s.c=--t,t=0;n<i&&!((a=r.charCodeAt(n)-48)<0||a>9);++n)t=10*t+a;if(e.s.r=--t,n===i||a!=10)return e.e.c=e.s.c,e.e.r=e.s.r,e;for(++n,t=0;n!=i&&!((a=r.charCodeAt(n)-64)<1||a>26);++n)t=26*t+a;for(e.e.c=--t,t=0;n!=i&&!((a=r.charCodeAt(n)-48)<0||a>9);++n)t=10*t+a;return e.e.r=--t,e}function Nw(r,e){var t=r.t=="d"&&e instanceof Date;if(r.z!=null)try{return r.w=so(r.z,t?Hi(e):e)}catch{}try{return r.w=so((r.XF||{}).numFmtId||(t?14:0),t?Hi(e):e)}catch{return""+e}}function wc(r,e,t){return r==null||r.t==null||r.t=="z"?"":r.w!==void 0?r.w:(r.t=="d"&&!r.z&&t&&t.dateNF&&(r.z=t.dateNF),r.t=="e"?Nh[r.v]||r.v:e==null?Nw(r,r.v):Nw(r,e))}function Au(r,e){var t=e&&e.sheet?e.sheet:"Sheet1",n={};return n[t]=r,{SheetNames:[t],Sheets:n}}function mS(r,e,t){var n=t||{},a=r?Array.isArray(r):n.dense,i=r||(a?[]:{}),o=0,l=0;if(i&&n.origin!=null){if(typeof n.origin=="number")o=n.origin;else{var u=typeof n.origin=="string"?Ui(n.origin):n.origin;o=u.r,l=u.c}i["!ref"]||(i["!ref"]="A1:A1")}var h={s:{c:1e7,r:1e7},e:{c:0,r:0}};if(i["!ref"]){var f=ta(i["!ref"]);h.s.c=f.s.c,h.s.r=f.s.r,h.e.c=Math.max(h.e.c,f.e.c),h.e.r=Math.max(h.e.r,f.e.r),o==-1&&(h.e.r=o=f.e.r+1)}for(var m=0;m!=e.length;++m)if(e[m]){if(!Array.isArray(e[m]))throw new Error("aoa_to_sheet expects an array of arrays");for(var x=0;x!=e[m].length;++x)if(!(typeof e[m][x]>"u")){var g={v:e[m][x]},y=o+m,v=l+x;if(h.s.r>y&&(h.s.r=y),h.s.c>v&&(h.s.c=v),h.e.r<y&&(h.e.r=y),h.e.c<v&&(h.e.c=v),e[m][x]&&typeof e[m][x]=="object"&&!Array.isArray(e[m][x])&&!(e[m][x]instanceof Date))g=e[m][x];else if(Array.isArray(g.v)&&(g.f=e[m][x][1],g.v=g.v[0]),g.v===null)if(g.f)g.t="n";else if(n.nullError)g.t="e",g.v=0;else if(n.sheetStubs)g.t="z";else continue;else typeof g.v=="number"?g.t="n":typeof g.v=="boolean"?g.t="b":g.v instanceof Date?(g.z=n.dateNF||yr[14],n.cellDates?(g.t="d",g.w=so(g.z,Hi(g.v))):(g.t="n",g.v=Hi(g.v),g.w=so(g.z,g.v))):g.t="s";if(a)i[y]||(i[y]=[]),i[y][v]&&i[y][v].z&&(g.z=i[y][v].z),i[y][v]=g;else{var S=xr({c:v,r:y});i[S]&&i[S].z&&(g.z=i[S].z),i[S]=g}}}return h.s.c<1e7&&(i["!ref"]=Ur(h)),i}function l0(r,e){return mS(null,r,e)}function fN(r){return r.read_shift(4,"i")}function Ci(r){var e=r.read_shift(4);return e===0?"":r.read_shift(e,"dbcs")}function dN(r){return{ich:r.read_shift(2),ifnt:r.read_shift(2)}}function Dv(r,e){var t=r.l,n=r.read_shift(1),a=Ci(r),i=[],o={t:a,h:a};if((n&1)!==0){for(var l=r.read_shift(4),u=0;u!=l;++u)i.push(dN(r));o.r=i}else o.r=[{ich:0,ifnt:0}];return r.l=t+e,o}var gN=Dv;function uo(r){var e=r.read_shift(4),t=r.read_shift(2);return t+=r.read_shift(1)<<16,r.l++,{c:e,iStyleRef:t}}function Ah(r){var e=r.read_shift(2);return e+=r.read_shift(1)<<16,r.l++,{c:-1,iStyleRef:e}}var pN=Ci;function Lv(r){var e=r.read_shift(4);return e===0||e===4294967295?"":r.read_shift(e,"dbcs")}var mN=Ci,Nx=Lv;function Fv(r){var e=r.slice(r.l,r.l+4),t=e[0]&1,n=e[0]&2;r.l+=4;var a=n===0?dp([0,0,0,0,e[0]&252,e[1],e[2],e[3]],0):ah(e,0)>>2;return t?a/100:a}function xS(r){var e={s:{},e:{}};return e.s.r=r.read_shift(4),e.e.r=r.read_shift(4),e.s.c=r.read_shift(4),e.e.c=r.read_shift(4),e}var Eh=xS;function Si(r){if(r.length-r.l<8)throw"XLS Xnum Buffer underflow";return r.read_shift(8,"f")}function xN(r){var e={},t=r.read_shift(1),n=t>>>1,a=r.read_shift(1),i=r.read_shift(2,"i"),o=r.read_shift(1),l=r.read_shift(1),u=r.read_shift(1);switch(r.l++,n){case 0:e.auto=1;break;case 1:e.index=a;var h=ph[a];h&&(e.rgb=Dd(h));break;case 2:e.rgb=Dd([o,l,u]);break;case 3:e.theme=a;break}return i!=0&&(e.tint=i>0?i/32767:i/32768),e}function vN(r){var e=r.read_shift(1);r.l++;var t={fBold:e&1,fItalic:e&2,fUnderline:e&4,fStrikeout:e&8,fOutline:e&16,fShadow:e&32,fCondense:e&64,fExtend:e&128};return t}function vS(r,e){var t={2:"BITMAP",3:"METAFILEPICT",8:"DIB",14:"ENHMETAFILE"},n=r.read_shift(4);switch(n){case 0:return"";case 4294967295:case 4294967294:return t[r.read_shift(4)]||""}if(n>400)throw new Error("Unsupported Clipboard: "+n.toString(16));return r.l-=4,r.read_shift(0,e==1?"lpstr":"lpwstr")}function yN(r){return vS(r,1)}function bN(r){return vS(r,2)}var Mv=2,os=3,Z1=11,Ow=12,gp=19,J1=64,wN=65,_N=71,SN=4108,kN=4126,Ya=80,yS=81,CN=[Ya,yS],TN={1:{n:"CodePage",t:Mv},2:{n:"Category",t:Ya},3:{n:"PresentationFormat",t:Ya},4:{n:"ByteCount",t:os},5:{n:"LineCount",t:os},6:{n:"ParagraphCount",t:os},7:{n:"SlideCount",t:os},8:{n:"NoteCount",t:os},9:{n:"HiddenCount",t:os},10:{n:"MultimediaClipCount",t:os},11:{n:"ScaleCrop",t:Z1},12:{n:"HeadingPairs",t:SN},13:{n:"TitlesOfParts",t:kN},14:{n:"Manager",t:Ya},15:{n:"Company",t:Ya},16:{n:"LinksUpToDate",t:Z1},17:{n:"CharacterCount",t:os},19:{n:"SharedDoc",t:Z1},22:{n:"HyperlinksChanged",t:Z1},23:{n:"AppVersion",t:os,p:"version"},24:{n:"DigSig",t:wN},26:{n:"ContentType",t:Ya},27:{n:"ContentStatus",t:Ya},28:{n:"Language",t:Ya},29:{n:"Version",t:Ya},255:{},2147483648:{n:"Locale",t:gp},2147483651:{n:"Behavior",t:gp},1919054434:{}},AN={1:{n:"CodePage",t:Mv},2:{n:"Title",t:Ya},3:{n:"Subject",t:Ya},4:{n:"Author",t:Ya},5:{n:"Keywords",t:Ya},6:{n:"Comments",t:Ya},7:{n:"Template",t:Ya},8:{n:"LastAuthor",t:Ya},9:{n:"RevNumber",t:Ya},10:{n:"EditTime",t:J1},11:{n:"LastPrinted",t:J1},12:{n:"CreatedDate",t:J1},13:{n:"ModifiedDate",t:J1},14:{n:"PageCount",t:os},15:{n:"WordCount",t:os},16:{n:"CharCount",t:os},17:{n:"Thumbnail",t:_N},18:{n:"Application",t:Ya},19:{n:"DocSecurity",t:os},255:{},2147483648:{n:"Locale",t:gp},2147483651:{n:"Behavior",t:gp},1919054434:{}},Dw={1:"US",2:"CA",3:"",7:"RU",20:"EG",30:"GR",31:"NL",32:"BE",33:"FR",34:"ES",36:"HU",39:"IT",41:"CH",43:"AT",44:"GB",45:"DK",46:"SE",47:"NO",48:"PL",49:"DE",52:"MX",55:"BR",61:"AU",64:"NZ",66:"TH",81:"JP",82:"KR",84:"VN",86:"CN",90:"TR",105:"JS",213:"DZ",216:"MA",218:"LY",351:"PT",354:"IS",358:"FI",420:"CZ",886:"TW",961:"LB",962:"JO",963:"SY",964:"IQ",965:"KW",966:"SA",971:"AE",972:"IL",974:"QA",981:"IR",65535:"US"},EN=[null,"solid","mediumGray","darkGray","lightGray","darkHorizontal","darkVertical","darkDown","darkUp","darkGrid","darkTrellis","lightHorizontal","lightVertical","lightDown","lightUp","lightGrid","lightTrellis","gray125","gray0625"];function NN(r){return r.map(function(e){return[e>>16&255,e>>8&255,e&255]})}var ON=NN([0,16777215,16711680,65280,255,16776960,16711935,65535,0,16777215,16711680,65280,255,16776960,16711935,65535,8388608,32768,128,8421376,8388736,32896,12632256,8421504,10066431,10040166,16777164,13434879,6684774,16744576,26316,13421823,128,16711935,16776960,65535,8388736,8388608,32896,255,52479,13434879,13434828,16777113,10079487,16751052,13408767,16764057,3368703,3394764,10079232,16763904,16750848,16737792,6710937,9868950,13158,3381606,13056,3355392,10040064,10040166,3355545,3355443,16777215,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0]),ph=ci(ON),Nh={0:"#NULL!",7:"#DIV/0!",15:"#VALUE!",23:"#REF!",29:"#NAME?",36:"#NUM!",42:"#N/A",43:"#GETTING_DATA",255:"#WTF?"},bS={"#NULL!":0,"#DIV/0!":7,"#VALUE!":15,"#REF!":23,"#NAME?":29,"#NUM!":36,"#N/A":42,"#GETTING_DATA":43,"#WTF?":255},Lw={"application/vnd.openxmlformats-officedocument.spreadsheetml.sheet.main+xml":"workbooks","application/vnd.ms-excel.sheet.macroEnabled.main+xml":"workbooks","application/vnd.ms-excel.sheet.binary.macroEnabled.main":"workbooks","application/vnd.ms-excel.addin.macroEnabled.main+xml":"workbooks","application/vnd.openxmlformats-officedocument.spreadsheetml.template.main+xml":"workbooks","application/vnd.openxmlformats-officedocument.spreadsheetml.worksheet+xml":"sheets","application/vnd.ms-excel.worksheet":"sheets","application/vnd.ms-excel.binIndexWs":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.chartsheet+xml":"charts","application/vnd.ms-excel.chartsheet":"charts","application/vnd.ms-excel.macrosheet+xml":"macros","application/vnd.ms-excel.macrosheet":"macros","application/vnd.ms-excel.intlmacrosheet":"TODO","application/vnd.ms-excel.binIndexMs":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.dialogsheet+xml":"dialogs","application/vnd.ms-excel.dialogsheet":"dialogs","application/vnd.openxmlformats-officedocument.spreadsheetml.sharedStrings+xml":"strs","application/vnd.ms-excel.sharedStrings":"strs","application/vnd.openxmlformats-officedocument.spreadsheetml.styles+xml":"styles","application/vnd.ms-excel.styles":"styles","application/vnd.openxmlformats-package.core-properties+xml":"coreprops","application/vnd.openxmlformats-officedocument.custom-properties+xml":"custprops","application/vnd.openxmlformats-officedocument.extended-properties+xml":"extprops","application/vnd.openxmlformats-officedocument.customXmlProperties+xml":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.customProperty":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.comments+xml":"comments","application/vnd.ms-excel.comments":"comments","application/vnd.ms-excel.threadedcomments+xml":"threadedcomments","application/vnd.ms-excel.person+xml":"people","application/vnd.openxmlformats-officedocument.spreadsheetml.sheetMetadata+xml":"metadata","application/vnd.ms-excel.sheetMetadata":"metadata","application/vnd.ms-excel.pivotTable":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.pivotTable+xml":"TODO","application/vnd.openxmlformats-officedocument.drawingml.chart+xml":"TODO","application/vnd.ms-office.chartcolorstyle+xml":"TODO","application/vnd.ms-office.chartstyle+xml":"TODO","application/vnd.ms-office.chartex+xml":"TODO","application/vnd.ms-excel.calcChain":"calcchains","application/vnd.openxmlformats-officedocument.spreadsheetml.calcChain+xml":"calcchains","application/vnd.openxmlformats-officedocument.spreadsheetml.printerSettings":"TODO","application/vnd.ms-office.activeX":"TODO","application/vnd.ms-office.activeX+xml":"TODO","application/vnd.ms-excel.attachedToolbars":"TODO","application/vnd.ms-excel.connections":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.connections+xml":"TODO","application/vnd.ms-excel.externalLink":"links","application/vnd.openxmlformats-officedocument.spreadsheetml.externalLink+xml":"links","application/vnd.ms-excel.pivotCacheDefinition":"TODO","application/vnd.ms-excel.pivotCacheRecords":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.pivotCacheDefinition+xml":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.pivotCacheRecords+xml":"TODO","application/vnd.ms-excel.queryTable":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.queryTable+xml":"TODO","application/vnd.ms-excel.userNames":"TODO","application/vnd.ms-excel.revisionHeaders":"TODO","application/vnd.ms-excel.revisionLog":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.revisionHeaders+xml":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.revisionLog+xml":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.userNames+xml":"TODO","application/vnd.ms-excel.tableSingleCells":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.tableSingleCells+xml":"TODO","application/vnd.ms-excel.slicer":"TODO","application/vnd.ms-excel.slicerCache":"TODO","application/vnd.ms-excel.slicer+xml":"TODO","application/vnd.ms-excel.slicerCache+xml":"TODO","application/vnd.ms-excel.wsSortMap":"TODO","application/vnd.ms-excel.table":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.table+xml":"TODO","application/vnd.openxmlformats-officedocument.theme+xml":"themes","application/vnd.openxmlformats-officedocument.themeOverride+xml":"TODO","application/vnd.ms-excel.Timeline+xml":"TODO","application/vnd.ms-excel.TimelineCache+xml":"TODO","application/vnd.ms-office.vbaProject":"vba","application/vnd.ms-office.vbaProjectSignature":"TODO","application/vnd.ms-office.volatileDependencies":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.volatileDependencies+xml":"TODO","application/vnd.ms-excel.controlproperties+xml":"TODO","application/vnd.openxmlformats-officedocument.model+data":"TODO","application/vnd.ms-excel.Survey+xml":"TODO","application/vnd.openxmlformats-officedocument.drawing+xml":"drawings","application/vnd.openxmlformats-officedocument.drawingml.chartshapes+xml":"TODO","application/vnd.openxmlformats-officedocument.drawingml.diagramColors+xml":"TODO","application/vnd.openxmlformats-officedocument.drawingml.diagramData+xml":"TODO","application/vnd.openxmlformats-officedocument.drawingml.diagramLayout+xml":"TODO","application/vnd.openxmlformats-officedocument.drawingml.diagramStyle+xml":"TODO","application/vnd.openxmlformats-officedocument.vmlDrawing":"TODO","application/vnd.openxmlformats-package.relationships+xml":"rels","application/vnd.openxmlformats-officedocument.oleObject":"TODO","image/png":"TODO",sheet:"js"};function DN(){return{workbooks:[],sheets:[],charts:[],dialogs:[],macros:[],rels:[],strs:[],comments:[],threadedcomments:[],links:[],coreprops:[],extprops:[],custprops:[],themes:[],styles:[],calcchains:[],vba:[],drawings:[],metadata:[],people:[],TODO:[],xmlns:""}}function LN(r){var e=DN();if(!r||!r.match)return e;var t={};if((r.match(Ei)||[]).forEach(function(n){var a=lr(n);switch(a[0].replace(U8,"<")){case"<?xml":break;case"<Types":e.xmlns=a["xmlns"+(a[0].match(/<(\w+):/)||["",""])[1]];break;case"<Default":t[a.Extension]=a.ContentType;break;case"<Override":e[Lw[a.ContentType]]!==void 0&&e[Lw[a.ContentType]].push(a.PartName);break}}),e.xmlns!==Z8.CT)throw new Error("Unknown Namespace: "+e.xmlns);return e.calcchain=e.calcchains.length>0?e.calcchains[0]:"",e.sst=e.strs.length>0?e.strs[0]:"",e.style=e.styles.length>0?e.styles[0]:"",e.defaults=t,delete e.calcchains,e}var Pf={WB:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/officeDocument",SHEET:"http://sheetjs.openxmlformats.org/officeDocument/2006/relationships/officeDocument",HLINK:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/hyperlink",VML:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/vmlDrawing",XPATH:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/externalLinkPath",XMISS:"http://schemas.microsoft.com/office/2006/relationships/xlExternalLinkPath/xlPathMissing",XLINK:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/externalLink",CXML:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/customXml",CXMLP:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/customXmlProps",CMNT:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/comments",CORE_PROPS:"http://schemas.openxmlformats.org/package/2006/relationships/metadata/core-properties",EXT_PROPS:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/extended-properties",CUST_PROPS:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/custom-properties",SST:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/sharedStrings",STY:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/styles",THEME:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/theme",CHART:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/chart",CHARTEX:"http://schemas.microsoft.com/office/2014/relationships/chartEx",CS:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/chartsheet",WS:["http://schemas.openxmlformats.org/officeDocument/2006/relationships/worksheet","http://purl.oclc.org/ooxml/officeDocument/relationships/worksheet"],DS:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/dialogsheet",MS:"http://schemas.microsoft.com/office/2006/relationships/xlMacrosheet",IMG:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/image",DRAW:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/drawing",XLMETA:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/sheetMetadata",TCMNT:"http://schemas.microsoft.com/office/2017/10/relationships/threadedComment",PEOPLE:"http://schemas.microsoft.com/office/2017/10/relationships/person",VBA:"http://schemas.microsoft.com/office/2006/relationships/vbaProject"};function Ox(r){var e=r.lastIndexOf("/");return r.slice(0,e+1)+"_rels/"+r.slice(e+1)+".rels"}function dd(r,e){var t={"!id":{}};if(!r)return t;e.charAt(0)!=="/"&&(e="/"+e);var n={};return(r.match(Ei)||[]).forEach(function(a){var i=lr(a);if(i[0]==="<Relationship"){var o={};o.Type=i.Type,o.Target=i.Target,o.Id=i.Id,i.TargetMode&&(o.TargetMode=i.TargetMode);var l=i.TargetMode==="External"?i.Target:sd(i.Target,e);t[l]=o,n[i.Id]=o}}),t["!id"]=n,t}var FN="application/vnd.oasis.opendocument.spreadsheet";function MN(r,e){for(var t=Av(r),n,a;n=Nd.exec(t);)switch(n[3]){case"manifest":break;case"file-entry":if(a=lr(n[0],!1),a.path=="/"&&a.type!==FN)throw new Error("This OpenDocument is not a spreadsheet");break;case"encryption-data":case"algorithm":case"start-key-generation":case"key-derivation":throw new Error("Unsupported ODS Encryption");default:if(e&&e.WTF)throw n}}var gd=[["cp:category","Category"],["cp:contentStatus","ContentStatus"],["cp:keywords","Keywords"],["cp:lastModifiedBy","LastAuthor"],["cp:lastPrinted","LastPrinted"],["cp:revision","RevNumber"],["cp:version","Version"],["dc:creator","Author"],["dc:description","Comments"],["dc:identifier","Identifier"],["dc:language","Language"],["dc:subject","Subject"],["dc:title","Title"],["dcterms:created","CreatedDate","date"],["dcterms:modified","ModifiedDate","date"]],jN=(function(){for(var r=new Array(gd.length),e=0;e<gd.length;++e){var t=gd[e],n="(?:"+t[0].slice(0,t[0].indexOf(":"))+":)"+t[0].slice(t[0].indexOf(":")+1);r[e]=new RegExp("<"+n+"[^>]*>([\\s\\S]*?)</"+n+">")}return r})();function wS(r){var e={};r=yn(r);for(var t=0;t<gd.length;++t){var n=gd[t],a=r.match(jN[t]);a!=null&&a.length>0&&(e[n[1]]=Vr(a[1])),n[2]==="date"&&e[n[1]]&&(e[n[1]]=Ka(e[n[1]]))}return e}var RN=[["Application","Application","string"],["AppVersion","AppVersion","string"],["Company","Company","string"],["DocSecurity","DocSecurity","string"],["Manager","Manager","string"],["HyperlinksChanged","HyperlinksChanged","bool"],["SharedDoc","SharedDoc","bool"],["LinksUpToDate","LinksUpToDate","bool"],["ScaleCrop","ScaleCrop","bool"],["HeadingPairs","HeadingPairs","raw"],["TitlesOfParts","TitlesOfParts","raw"]];function _S(r,e,t,n){var a=[];if(typeof r=="string")a=_w(r,n);else for(var i=0;i<r.length;++i)a=a.concat(r[i].map(function(f){return{v:f}}));var o=typeof e=="string"?_w(e,n).map(function(f){return f.v}):e,l=0,u=0;if(o.length>0)for(var h=0;h!==a.length;h+=2){switch(u=+a[h+1].v,a[h].v){case"Worksheets":case"":case"":case" ":case"":case" ":case"Arbeitsbltter":case"alma Sayfalar":case"Feuilles de calcul":case"Fogli di lavoro":case"Folhas de clculo":case"Planilhas":case"Regneark":case"Hojas de clculo":case"Werkbladen":t.Worksheets=u,t.SheetNames=o.slice(l,l+u);break;case"Named Ranges":case"Rangos con nombre":case"":case"Benannte Bereiche":case"Navngivne omrder":t.NamedRanges=u,t.DefinedNames=o.slice(l,l+u);break;case"Charts":case"Diagramme":t.Chartsheets=u,t.ChartNames=o.slice(l,l+u);break}l+=u}}function BN(r,e,t){var n={};return e||(e={}),r=yn(r),RN.forEach(function(a){var i=(r.match(Ed(a[0]))||[])[1];switch(a[2]){case"string":i&&(e[a[1]]=Vr(i));break;case"bool":e[a[1]]=i==="true";break;case"raw":var o=r.match(new RegExp("<"+a[0]+"[^>]*>([\\s\\S]*?)</"+a[0]+">"));o&&o.length>0&&(n[a[1]]=o[1]);break}}),n.HeadingPairs&&n.TitlesOfParts&&_S(n.HeadingPairs,n.TitlesOfParts,e,t),e}var PN=/<[^>]+>[^<]*/g;function IN(r,e){var t={},n="",a=r.match(PN);if(a)for(var i=0;i!=a.length;++i){var o=a[i],l=lr(o);switch(l[0]){case"<?xml":break;case"<Properties":break;case"<property":n=Vr(l.name);break;case"</property>":n=null;break;default:if(o.indexOf("<vt:")===0){var u=o.split(">"),h=u[0].slice(4),f=u[1];switch(h){case"lpstr":case"bstr":case"lpwstr":t[n]=Vr(f);break;case"bool":t[n]=Bn(f);break;case"i1":case"i2":case"i4":case"i8":case"int":case"uint":t[n]=parseInt(f,10);break;case"r4":case"r8":case"decimal":t[n]=parseFloat(f);break;case"filetime":case"date":t[n]=Ka(f);break;case"cy":case"error":t[n]=Vr(f);break;default:if(h.slice(-1)=="/")break;e.WTF&&typeof console<"u"&&console.warn("Unexpected",o,h,u)}}else if(o.slice(0,2)!=="</"){if(e.WTF)throw new Error(o)}}}return t}var UN={Title:"Title",Subject:"Subject",Author:"Author",Keywords:"Keywords",Comments:"Description",LastAuthor:"LastAuthor",RevNumber:"Revision",Application:"AppName",LastPrinted:"LastPrinted",CreatedDate:"Created",ModifiedDate:"LastSaved",Category:"Category",Manager:"Manager",Company:"Company",AppVersion:"Version",ContentStatus:"ContentStatus",Identifier:"Identifier",Language:"Language"},S2;function zN(r,e,t){S2||(S2=kv(UN)),e=S2[e]||e,r[e]=t}function jv(r){var e=r.read_shift(4),t=r.read_shift(4);return new Date((t/1e7*Math.pow(2,32)+e/1e7-11644473600)*1e3).toISOString().replace(/\.000/,"")}function SS(r,e,t){var n=r.l,a=r.read_shift(0,"lpstr-cp");if(t)for(;r.l-n&3;)++r.l;return a}function kS(r,e,t){var n=r.read_shift(0,"lpwstr");return n}function CS(r,e,t){return e===31?kS(r):SS(r,e,t)}function Dx(r,e,t){return CS(r,e,t===!1?0:4)}function HN(r,e){if(!e)throw new Error("VtUnalignedString must have positive length");return CS(r,e,0)}function qN(r){for(var e=r.read_shift(4),t=[],n=0;n!=e;++n){var a=r.l;t[n]=r.read_shift(0,"lpwstr").replace(zi,""),r.l-a&2&&(r.l+=2)}return t}function VN(r){for(var e=r.read_shift(4),t=[],n=0;n!=e;++n)t[n]=r.read_shift(0,"lpstr-cp").replace(zi,"");return t}function GN(r){var e=r.l,t=pp(r,yS);r[r.l]==0&&r[r.l+1]==0&&r.l-e&2&&(r.l+=2);var n=pp(r,os);return[t,n]}function WN(r){for(var e=r.read_shift(4),t=[],n=0;n<e/2;++n)t.push(GN(r));return t}function Fw(r,e){for(var t=r.read_shift(4),n={},a=0;a!=t;++a){var i=r.read_shift(4),o=r.read_shift(4);n[i]=r.read_shift(o,e===1200?"utf16le":"utf8").replace(zi,"").replace(id,"!"),e===1200&&o%2&&(r.l+=2)}return r.l&3&&(r.l=r.l>>3<<2),n}function TS(r){var e=r.read_shift(4),t=r.slice(r.l,r.l+e);return r.l+=e,(e&3)>0&&(r.l+=4-(e&3)&3),t}function YN(r){var e={};return e.Size=r.read_shift(4),r.l+=e.Size+3-(e.Size-1)%4,e}function pp(r,e,t){var n=r.read_shift(2),a,i=t||{};if(r.l+=2,e!==Ow&&n!==e&&CN.indexOf(e)===-1&&!((e&65534)==4126&&(n&65534)==4126))throw new Error("Expected type "+e+" saw "+n);switch(e===Ow?n:e){case 2:return a=r.read_shift(2,"i"),i.raw||(r.l+=2),a;case 3:return a=r.read_shift(4,"i"),a;case 11:return r.read_shift(4)!==0;case 19:return a=r.read_shift(4),a;case 30:return SS(r,n,4).replace(zi,"");case 31:return kS(r);case 64:return jv(r);case 65:return TS(r);case 71:return YN(r);case 80:return Dx(r,n,!i.raw).replace(zi,"");case 81:return HN(r,n).replace(zi,"");case 4108:return WN(r);case 4126:case 4127:return n==4127?qN(r):VN(r);default:throw new Error("TypedPropertyValue unrecognized type "+e+" "+n)}}function Mw(r,e){var t=r.l,n=r.read_shift(4),a=r.read_shift(4),i=[],o=0,l=0,u=-1,h={};for(o=0;o!=a;++o){var f=r.read_shift(4),m=r.read_shift(4);i[o]=[f,m+t]}i.sort(function(A,N){return A[1]-N[1]});var x={};for(o=0;o!=a;++o){if(r.l!==i[o][1]){var g=!0;if(o>0&&e)switch(e[i[o-1][0]].t){case 2:r.l+2===i[o][1]&&(r.l+=2,g=!1);break;case 80:r.l<=i[o][1]&&(r.l=i[o][1],g=!1);break;case 4108:r.l<=i[o][1]&&(r.l=i[o][1],g=!1);break}if((!e||o==0)&&r.l<=i[o][1]&&(g=!1,r.l=i[o][1]),g)throw new Error("Read Error: Expected address "+i[o][1]+" at "+r.l+" :"+o)}if(e){var y=e[i[o][0]];if(x[y.n]=pp(r,y.t,{raw:!0}),y.p==="version"&&(x[y.n]=String(x[y.n]>>16)+"."+("0000"+String(x[y.n]&65535)).slice(-4)),y.n=="CodePage")switch(x[y.n]){case 0:x[y.n]=1252;case 874:case 932:case 936:case 949:case 950:case 1250:case 1251:case 1253:case 1254:case 1255:case 1256:case 1257:case 1258:case 1e4:case 1200:case 1201:case 1252:case 65e3:case-536:case 65001:case-535:Wo(l=x[y.n]>>>0&65535);break;default:throw new Error("Unsupported CodePage: "+x[y.n])}}else if(i[o][0]===1){if(l=x.CodePage=pp(r,Mv),Wo(l),u!==-1){var v=r.l;r.l=i[u][1],h=Fw(r,l),r.l=v}}else if(i[o][0]===0){if(l===0){u=o,r.l=i[o+1][1];continue}h=Fw(r,l)}else{var S=h[i[o][0]],k;switch(r[r.l]){case 65:r.l+=4,k=TS(r);break;case 30:r.l+=4,k=Dx(r,r[r.l-4]).replace(/\u0000+$/,"");break;case 31:r.l+=4,k=Dx(r,r[r.l-4]).replace(/\u0000+$/,"");break;case 3:r.l+=4,k=r.read_shift(4,"i");break;case 19:r.l+=4,k=r.read_shift(4);break;case 5:r.l+=4,k=r.read_shift(8,"f");break;case 11:r.l+=4,k=sa(r,4);break;case 64:r.l+=4,k=Ka(jv(r));break;default:throw new Error("unparsed value: "+r[r.l])}x[S]=k}}return r.l=t+n,x}function jw(r,e,t){var n=r.content;if(!n)return{};si(n,0);var a,i,o,l,u=0;n.chk("feff","Byte Order: "),n.read_shift(2);var h=n.read_shift(4),f=n.read_shift(16);if(f!==Ir.utils.consts.HEADER_CLSID&&f!==t)throw new Error("Bad PropertySet CLSID "+f);if(a=n.read_shift(4),a!==1&&a!==2)throw new Error("Unrecognized #Sets: "+a);if(i=n.read_shift(16),l=n.read_shift(4),a===1&&l!==n.l)throw new Error("Length mismatch: "+l+" !== "+n.l);a===2&&(o=n.read_shift(16),u=n.read_shift(4));var m=Mw(n,e),x={SystemIdentifier:h};for(var g in m)x[g]=m[g];if(x.FMTID=i,a===1)return x;if(u-n.l==2&&(n.l+=2),n.l!==u)throw new Error("Length mismatch 2: "+n.l+" !== "+u);var y;try{y=Mw(n,null)}catch{}for(g in y)x[g]=y[g];return x.FMTID=[i,o],x}function cu(r,e){return r.read_shift(e),null}function XN(r,e,t){for(var n=[],a=r.l+e;r.l<a;)n.push(t(r,a-r.l));if(a!==r.l)throw new Error("Slurp error");return n}function sa(r,e){return r.read_shift(e)===1}function wa(r){return r.read_shift(2,"u")}function AS(r,e){return XN(r,e,wa)}function KN(r){var e=r.read_shift(1),t=r.read_shift(1);return t===1?e:e===1}function Xd(r,e,t){var n=r.read_shift(t&&t.biff>=12?2:1),a="sbcs-cont";if(t&&t.biff>=8,!t||t.biff==8){var i=r.read_shift(1);i&&(a="dbcs-cont")}else t.biff==12&&(a="wstr");t.biff>=2&&t.biff<=5&&(a="cpstr");var o=n?r.read_shift(n,a):"";return o}function $N(r){var e=r.read_shift(2),t=r.read_shift(1),n=t&4,a=t&8,i=1+(t&1),o=0,l,u={};a&&(o=r.read_shift(2)),n&&(l=r.read_shift(4));var h=i==2?"dbcs-cont":"sbcs-cont",f=e===0?"":r.read_shift(e,h);return a&&(r.l+=4*o),n&&(r.l+=l),u.t=f,a||(u.raw="<t>"+u.t+"</t>",u.r=u.t),u}function bh(r,e,t){var n;if(t){if(t.biff>=2&&t.biff<=5)return r.read_shift(e,"cpstr");if(t.biff>=12)return r.read_shift(e,"dbcs-cont")}var a=r.read_shift(1);return a===0?n=r.read_shift(e,"sbcs-cont"):n=r.read_shift(e,"dbcs-cont"),n}function Kd(r,e,t){var n=r.read_shift(t&&t.biff==2?1:2);return n===0?(r.l++,""):bh(r,n,t)}function Oh(r,e,t){if(t.biff>5)return Kd(r,e,t);var n=r.read_shift(1);return n===0?(r.l++,""):r.read_shift(n,t.biff<=4||!r.lens?"cpstr":"sbcs-cont")}function ZN(r){var e=r.read_shift(1);r.l++;var t=r.read_shift(2);return r.l+=2,[e,t]}function JN(r){var e=r.read_shift(4),t=r.l,n=!1;e>24&&(r.l+=e-24,r.read_shift(16)==="795881f43b1d7f48af2c825dc4852763"&&(n=!0),r.l=t);var a=r.read_shift((n?e-24:e)>>1,"utf16le").replace(zi,"");return n&&(r.l+=24),a}function QN(r){for(var e=r.read_shift(2),t="";e-- >0;)t+="../";var n=r.read_shift(0,"lpstr-ansi");if(r.l+=2,r.read_shift(2)!=57005)throw new Error("Bad FileMoniker");var a=r.read_shift(4);if(a===0)return t+n.replace(/\\/g,"/");var i=r.read_shift(4);if(r.read_shift(2)!=3)throw new Error("Bad FileMoniker");var o=r.read_shift(i>>1,"utf16le").replace(zi,"");return t+o}function eO(r,e){var t=r.read_shift(16);switch(t){case"e0c9ea79f9bace118c8200aa004ba90b":return JN(r);case"0303000000000000c000000000000046":return QN(r);default:throw new Error("Unsupported Moniker "+t)}}function Q1(r){var e=r.read_shift(4),t=e>0?r.read_shift(e,"utf16le").replace(zi,""):"";return t}function tO(r,e){var t=r.l+e,n=r.read_shift(4);if(n!==2)throw new Error("Unrecognized streamVersion: "+n);var a=r.read_shift(2);r.l+=2;var i,o,l,u,h="",f,m;a&16&&(i=Q1(r,t-r.l)),a&128&&(o=Q1(r,t-r.l)),(a&257)===257&&(l=Q1(r,t-r.l)),(a&257)===1&&(u=eO(r,t-r.l)),a&8&&(h=Q1(r,t-r.l)),a&32&&(f=r.read_shift(16)),a&64&&(m=jv(r)),r.l=t;var x=o||l||u||"";x&&h&&(x+="#"+h),x||(x="#"+h),a&2&&x.charAt(0)=="/"&&x.charAt(1)!="/"&&(x="file://"+x);var g={Target:x};return f&&(g.guid=f),m&&(g.time=m),i&&(g.Tooltip=i),g}function ES(r){var e=r.read_shift(1),t=r.read_shift(1),n=r.read_shift(1),a=r.read_shift(1);return[e,t,n,a]}function NS(r,e){var t=ES(r);return t[3]=0,t}function Fl(r){var e=r.read_shift(2),t=r.read_shift(2),n=r.read_shift(2);return{r:e,c:t,ixfe:n}}function rO(r){var e=r.read_shift(2),t=r.read_shift(2);return r.l+=8,{type:e,flags:t}}function nO(r,e,t){return e===0?"":Oh(r,e,t)}function aO(r,e,t){var n=t.biff>8?4:2,a=r.read_shift(n),i=r.read_shift(n,"i"),o=r.read_shift(n,"i");return[a,i,o]}function OS(r){var e=r.read_shift(2),t=Fv(r);return[e,t]}function iO(r,e,t){r.l+=4,e-=4;var n=r.l+e,a=Xd(r,e,t),i=r.read_shift(2);if(n-=r.l,i!==n)throw new Error("Malformed AddinUdf: padding = "+n+" != "+i);return r.l+=i,a}function Pp(r){var e=r.read_shift(2),t=r.read_shift(2),n=r.read_shift(2),a=r.read_shift(2);return{s:{c:n,r:e},e:{c:a,r:t}}}function DS(r){var e=r.read_shift(2),t=r.read_shift(2),n=r.read_shift(1),a=r.read_shift(1);return{s:{c:n,r:e},e:{c:a,r:t}}}var sO=DS;function LS(r){r.l+=4;var e=r.read_shift(2),t=r.read_shift(2),n=r.read_shift(2);return r.l+=12,[t,e,n]}function oO(r){var e={};return r.l+=4,r.l+=16,e.fSharedNote=r.read_shift(2),r.l+=4,e}function lO(r){var e={};return r.l+=4,r.cf=r.read_shift(2),e}function pi(r){r.l+=2,r.l+=r.read_shift(2)}var cO={0:pi,4:pi,5:pi,6:pi,7:lO,8:pi,9:pi,10:pi,11:pi,12:pi,13:oO,14:pi,15:pi,16:pi,17:pi,18:pi,19:pi,20:pi,21:LS};function uO(r,e){for(var t=r.l+e,n=[];r.l<t;){var a=r.read_shift(2);r.l-=2;try{n.push(cO[a](r,t-r.l))}catch{return r.l=t,n}}return r.l!=t&&(r.l=t),n}function eg(r,e){var t={BIFFVer:0,dt:0};switch(t.BIFFVer=r.read_shift(2),e-=2,e>=2&&(t.dt=r.read_shift(2),r.l-=2),t.BIFFVer){case 1536:case 1280:case 1024:case 768:case 512:case 2:case 7:break;default:if(e>6)throw new Error("Unexpected BIFF Ver "+t.BIFFVer)}return r.read_shift(e),t}function hO(r,e){return e===0||r.read_shift(2),1200}function fO(r,e,t){if(t.enc)return r.l+=e,"";var n=r.l,a=Oh(r,0,t);return r.read_shift(e+n-r.l),a}function dO(r,e,t){var n=t&&t.biff==8||e==2?r.read_shift(2):(r.l+=e,0);return{fDialog:n&16,fBelow:n&64,fRight:n&128}}function gO(r,e,t){var n=r.read_shift(4),a=r.read_shift(1)&3,i=r.read_shift(1);switch(i){case 0:i="Worksheet";break;case 1:i="Macrosheet";break;case 2:i="Chartsheet";break;case 6:i="VBAModule";break}var o=Xd(r,0,t);return o.length===0&&(o="Sheet1"),{pos:n,hs:a,dt:i,name:o}}function pO(r,e){for(var t=r.l+e,n=r.read_shift(4),a=r.read_shift(4),i=[],o=0;o!=a&&r.l<t;++o)i.push($N(r));return i.Count=n,i.Unique=a,i}function mO(r,e){var t={};return t.dsst=r.read_shift(2),r.l+=e-2,t}function xO(r){var e={};e.r=r.read_shift(2),e.c=r.read_shift(2),e.cnt=r.read_shift(2)-e.c;var t=r.read_shift(2);r.l+=4;var n=r.read_shift(1);return r.l+=3,n&7&&(e.level=n&7),n&32&&(e.hidden=!0),n&64&&(e.hpt=t/20),e}function vO(r){var e=rO(r);if(e.type!=2211)throw new Error("Invalid Future Record "+e.type);var t=r.read_shift(4);return t!==0}function yO(r){return r.read_shift(2),r.read_shift(4)}function Rw(r,e,t){var n=0;t&&t.biff==2||(n=r.read_shift(2));var a=r.read_shift(2);t&&t.biff==2&&(n=1-(a>>15),a&=32767);var i={Unsynced:n&1,DyZero:(n&2)>>1,ExAsc:(n&4)>>2,ExDsc:(n&8)>>3};return[i,a]}function bO(r){var e=r.read_shift(2),t=r.read_shift(2),n=r.read_shift(2),a=r.read_shift(2),i=r.read_shift(2),o=r.read_shift(2),l=r.read_shift(2),u=r.read_shift(2),h=r.read_shift(2);return{Pos:[e,t],Dim:[n,a],Flags:i,CurTab:o,FirstTab:l,Selected:u,TabRatio:h}}function wO(r,e,t){if(t&&t.biff>=2&&t.biff<5)return{};var n=r.read_shift(2);return{RTL:n&64}}function _O(){}function SO(r,e,t){var n={dyHeight:r.read_shift(2),fl:r.read_shift(2)};switch(t&&t.biff||8){case 2:break;case 3:case 4:r.l+=2;break;default:r.l+=10;break}return n.name=Xd(r,0,t),n}function kO(r){var e=Fl(r);return e.isst=r.read_shift(4),e}function CO(r,e,t){t.biffguess&&t.biff==2&&(t.biff=5);var n=r.l+e,a=Fl(r);t.biff==2&&r.l++;var i=Kd(r,n-r.l,t);return a.val=i,a}function TO(r,e,t){var n=r.read_shift(2),a=Oh(r,0,t);return[n,a]}var AO=Oh;function Bw(r,e,t){var n=r.l+e,a=t.biff==8||!t.biff?4:2,i=r.read_shift(a),o=r.read_shift(a),l=r.read_shift(2),u=r.read_shift(2);return r.l=n,{s:{r:i,c:l},e:{r:o,c:u}}}function EO(r){var e=r.read_shift(2),t=r.read_shift(2),n=OS(r);return{r:e,c:t,ixfe:n[0],rknum:n[1]}}function NO(r,e){for(var t=r.l+e-2,n=r.read_shift(2),a=r.read_shift(2),i=[];r.l<t;)i.push(OS(r));if(r.l!==t)throw new Error("MulRK read error");var o=r.read_shift(2);if(i.length!=o-a+1)throw new Error("MulRK length mismatch");return{r:n,c:a,C:o,rkrec:i}}function OO(r,e){for(var t=r.l+e-2,n=r.read_shift(2),a=r.read_shift(2),i=[];r.l<t;)i.push(r.read_shift(2));if(r.l!==t)throw new Error("MulBlank read error");var o=r.read_shift(2);if(i.length!=o-a+1)throw new Error("MulBlank length mismatch");return{r:n,c:a,C:o,ixfe:i}}function DO(r,e,t,n){var a={},i=r.read_shift(4),o=r.read_shift(4),l=r.read_shift(4),u=r.read_shift(2);return a.patternType=EN[l>>26],n.cellStyles&&(a.alc=i&7,a.fWrap=i>>3&1,a.alcV=i>>4&7,a.fJustLast=i>>7&1,a.trot=i>>8&255,a.cIndent=i>>16&15,a.fShrinkToFit=i>>20&1,a.iReadOrder=i>>22&2,a.fAtrNum=i>>26&1,a.fAtrFnt=i>>27&1,a.fAtrAlc=i>>28&1,a.fAtrBdr=i>>29&1,a.fAtrPat=i>>30&1,a.fAtrProt=i>>31&1,a.dgLeft=o&15,a.dgRight=o>>4&15,a.dgTop=o>>8&15,a.dgBottom=o>>12&15,a.icvLeft=o>>16&127,a.icvRight=o>>23&127,a.grbitDiag=o>>30&3,a.icvTop=l&127,a.icvBottom=l>>7&127,a.icvDiag=l>>14&127,a.dgDiag=l>>21&15,a.icvFore=u&127,a.icvBack=u>>7&127,a.fsxButton=u>>14&1),a}function LO(r,e,t){var n={};return n.ifnt=r.read_shift(2),n.numFmtId=r.read_shift(2),n.flags=r.read_shift(2),n.fStyle=n.flags>>2&1,e-=6,n.data=DO(r,e,n.fStyle,t),n}function FO(r){r.l+=4;var e=[r.read_shift(2),r.read_shift(2)];if(e[0]!==0&&e[0]--,e[1]!==0&&e[1]--,e[0]>7||e[1]>7)throw new Error("Bad Gutters: "+e.join("|"));return e}function Pw(r,e,t){var n=Fl(r);(t.biff==2||e==9)&&++r.l;var a=KN(r);return n.val=a,n.t=a===!0||a===!1?"b":"e",n}function MO(r,e,t){t.biffguess&&t.biff==2&&(t.biff=5);var n=Fl(r),a=Si(r);return n.val=a,n}var Iw=nO;function jO(r,e,t){var n=r.l+e,a=r.read_shift(2),i=r.read_shift(2);if(t.sbcch=i,i==1025||i==14849)return[i,a];if(i<1||i>255)throw new Error("Unexpected SupBook type: "+i);for(var o=bh(r,i),l=[];n>r.l;)l.push(Kd(r));return[i,a,o,l]}function Uw(r,e,t){var n=r.read_shift(2),a,i={fBuiltIn:n&1,fWantAdvise:n>>>1&1,fWantPict:n>>>2&1,fOle:n>>>3&1,fOleLink:n>>>4&1,cf:n>>>5&1023,fIcon:n>>>15&1};return t.sbcch===14849&&(a=iO(r,e-2,t)),i.body=a||r.read_shift(e-2),typeof a=="string"&&(i.Name=a),i}var RO=["_xlnm.Consolidate_Area","_xlnm.Auto_Open","_xlnm.Auto_Close","_xlnm.Extract","_xlnm.Database","_xlnm.Criteria","_xlnm.Print_Area","_xlnm.Print_Titles","_xlnm.Recorder","_xlnm.Data_Form","_xlnm.Auto_Activate","_xlnm.Auto_Deactivate","_xlnm.Sheet_Title","_xlnm._FilterDatabase"];function zw(r,e,t){var n=r.l+e,a=r.read_shift(2),i=r.read_shift(1),o=r.read_shift(1),l=r.read_shift(t&&t.biff==2?1:2),u=0;(!t||t.biff>=5)&&(t.biff!=5&&(r.l+=2),u=r.read_shift(2),t.biff==5&&(r.l+=2),r.l+=4);var h=bh(r,o,t);a&32&&(h=RO[h.charCodeAt(0)]);var f=n-r.l;t&&t.biff==2&&--f;var m=n==r.l||l===0||!(f>0)?[]:xF(r,f,t,l);return{chKey:i,Name:h,itab:u,rgce:m}}function FS(r,e,t){if(t.biff<8)return BO(r,e,t);for(var n=[],a=r.l+e,i=r.read_shift(t.biff>8?4:2);i--!==0;)n.push(aO(r,t.biff>8?12:6,t));if(r.l!=a)throw new Error("Bad ExternSheet: "+r.l+" != "+a);return n}function BO(r,e,t){r[r.l+1]==3&&r[r.l]++;var n=Xd(r,e,t);return n.charCodeAt(0)==3?n.slice(1):n}function PO(r,e,t){if(t.biff<8){r.l+=e;return}var n=r.read_shift(2),a=r.read_shift(2),i=bh(r,n,t),o=bh(r,a,t);return[i,o]}function IO(r,e,t){var n=DS(r);r.l++;var a=r.read_shift(1);return e-=8,[vF(r,e,t),a,n]}function Hw(r,e,t){var n=sO(r);switch(t.biff){case 2:r.l++,e-=7;break;case 3:case 4:r.l+=2,e-=8;break;default:r.l+=6,e-=12}return[n,pF(r,e,t)]}function UO(r){var e=r.read_shift(4)!==0,t=r.read_shift(4)!==0,n=r.read_shift(4);return[e,t,n]}function zO(r,e,t){if(!(t.biff<8)){var n=r.read_shift(2),a=r.read_shift(2),i=r.read_shift(2),o=r.read_shift(2),l=Oh(r,0,t);return t.biff<8&&r.read_shift(1),[{r:n,c:a},l,o,i]}}function HO(r,e,t){return zO(r,e,t)}function qO(r,e){for(var t=[],n=r.read_shift(2);n--;)t.push(Pp(r));return t}function VO(r,e,t){if(t&&t.biff<8)return WO(r,e,t);var n=LS(r),a=uO(r,e-22,n[1]);return{cmo:n,ft:a}}var GO={8:function(r,e){var t=r.l+e;r.l+=10;var n=r.read_shift(2);r.l+=4,r.l+=2,r.l+=2,r.l+=2,r.l+=4;var a=r.read_shift(1);return r.l+=a,r.l=t,{fmt:n}}};function WO(r,e,t){r.l+=4;var n=r.read_shift(2),a=r.read_shift(2),i=r.read_shift(2);r.l+=2,r.l+=2,r.l+=2,r.l+=2,r.l+=2,r.l+=2,r.l+=2,r.l+=2,r.l+=2,r.l+=6,e-=36;var o=[];return o.push((GO[n]||Ai)(r,e,t)),{cmo:[a,n,i],ft:o}}function YO(r,e,t){var n=r.l,a="";try{r.l+=4;var i=(t.lastobj||{cmo:[0,0]}).cmo[1],o;[0,5,7,11,12,14].indexOf(i)==-1?r.l+=6:o=ZN(r,6,t);var l=r.read_shift(2);r.read_shift(2),wa(r,2);var u=r.read_shift(2);r.l+=u;for(var h=1;h<r.lens.length-1;++h){if(r.l-n!=r.lens[h])throw new Error("TxO: bad continue record");var f=r[r.l],m=bh(r,r.lens[h+1]-r.lens[h]-1);if(a+=m,a.length>=(f?l:2*l))break}if(a.length!==l&&a.length!==l*2)throw new Error("cchText: "+l+" != "+a.length);return r.l=n+e,{t:a}}catch{return r.l=n+e,{t:a}}}function XO(r,e){var t=Pp(r);r.l+=16;var n=tO(r,e-24);return[t,n]}function KO(r,e){r.read_shift(2);var t=Pp(r),n=r.read_shift((e-10)/2,"dbcs-cont");return n=n.replace(zi,""),[t,n]}function $O(r){var e=[0,0],t;return t=r.read_shift(2),e[0]=Dw[t]||t,t=r.read_shift(2),e[1]=Dw[t]||t,e}function ZO(r){for(var e=r.read_shift(2),t=[];e-- >0;)t.push(NS(r));return t}function JO(r){for(var e=r.read_shift(2),t=[];e-- >0;)t.push(NS(r));return t}function QO(r){r.l+=2;var e={cxfs:0,crc:0};return e.cxfs=r.read_shift(2),e.crc=r.read_shift(4),e}function MS(r,e,t){if(!t.cellStyles)return Ai(r,e);var n=t&&t.biff>=12?4:2,a=r.read_shift(n),i=r.read_shift(n),o=r.read_shift(n),l=r.read_shift(n),u=r.read_shift(2);n==2&&(r.l+=2);var h={s:a,e:i,w:o,ixfe:l,flags:u};return(t.biff>=5||!t.biff)&&(h.level=u>>8&7),h}function e7(r,e){var t={};return e<32||(r.l+=16,t.header=Si(r),t.footer=Si(r),r.l+=2),t}function t7(r,e,t){var n={area:!1};if(t.biff!=5)return r.l+=e,n;var a=r.read_shift(1);return r.l+=3,a&16&&(n.area=!0),n}var r7=Fl,n7=AS,a7=Kd;function i7(r){var e=r.read_shift(2),t=r.read_shift(2),n=r.read_shift(4),a={fmt:e,env:t,len:n,data:r.slice(r.l,r.l+n)};return r.l+=n,a}function s7(r,e,t){t.biffguess&&t.biff==5&&(t.biff=2);var n=Fl(r);++r.l;var a=Oh(r,e-7,t);return n.t="str",n.val=a,n}function o7(r){var e=Fl(r);++r.l;var t=Si(r);return e.t="n",e.val=t,e}function l7(r){var e=Fl(r);++r.l;var t=r.read_shift(2);return e.t="n",e.val=t,e}function c7(r){var e=r.read_shift(1);return e===0?(r.l++,""):r.read_shift(e,"sbcs-cont")}function u7(r,e){r.l+=6,r.l+=2,r.l+=1,r.l+=3,r.l+=1,r.l+=e-13}function h7(r,e,t){var n=r.l+e,a=Fl(r),i=r.read_shift(2),o=bh(r,i,t);return r.l=n,a.t="str",a.val=o,a}var f7=[2,3,48,49,131,139,140,245],qw=(function(){var r={1:437,2:850,3:1252,4:1e4,100:852,101:866,102:865,103:861,104:895,105:620,106:737,107:857,120:950,121:949,122:936,123:932,124:874,125:1255,126:1256,150:10007,151:10029,152:10006,200:1250,201:1251,202:1254,203:1253,0:20127,8:865,9:437,10:850,11:437,13:437,14:850,15:437,16:850,17:437,18:850,19:932,20:850,21:437,22:850,23:865,24:437,25:437,26:850,27:437,28:863,29:850,31:852,34:852,35:852,36:860,37:850,38:866,55:850,64:852,77:936,78:949,79:950,80:874,87:1252,88:1252,89:1252,108:863,134:737,135:852,136:857,204:1257,255:16969},e=kv({1:437,2:850,3:1252,4:1e4,100:852,101:866,102:865,103:861,104:895,105:620,106:737,107:857,120:950,121:949,122:936,123:932,124:874,125:1255,126:1256,150:10007,151:10029,152:10006,200:1250,201:1251,202:1254,203:1253,0:20127});function t(l,u){var h=[],f=_u(1);switch(u.type){case"base64":f=Vo(js(l));break;case"binary":f=Vo(l);break;case"buffer":case"array":f=l;break}si(f,0);var m=f.read_shift(1),x=!!(m&136),g=!1,y=!1;switch(m){case 2:break;case 3:break;case 48:g=!0,x=!0;break;case 49:g=!0,x=!0;break;case 131:break;case 139:break;case 140:y=!0;break;case 245:break;default:throw new Error("DBF Unsupported Version: "+m.toString(16))}var v=0,S=521;m==2&&(v=f.read_shift(2)),f.l+=3,m!=2&&(v=f.read_shift(4)),v>1048576&&(v=1e6),m!=2&&(S=f.read_shift(2));var k=f.read_shift(2),A=u.codepage||1252;m!=2&&(f.l+=16,f.read_shift(1),f[f.l]!==0&&(A=r[f[f.l]]),f.l+=1,f.l+=2),y&&(f.l+=36);for(var N=[],j={},W=Math.min(f.length,m==2?521:S-10-(g?264:0)),ee=y?32:11;f.l<W&&f[f.l]!=13;)switch(j={},j.name=Td.utils.decode(A,f.slice(f.l,f.l+ee)).replace(/[\u0000\r\n].*$/g,""),f.l+=ee,j.type=String.fromCharCode(f.read_shift(1)),m!=2&&!y&&(j.offset=f.read_shift(4)),j.len=f.read_shift(1),m==2&&(j.offset=f.read_shift(2)),j.dec=f.read_shift(1),j.name.length&&N.push(j),m!=2&&(f.l+=y?13:14),j.type){case"B":(!g||j.len!=8)&&u.WTF&&console.log("Skipping "+j.name+":"+j.type);break;case"G":case"P":u.WTF&&console.log("Skipping "+j.name+":"+j.type);break;case"+":case"0":case"@":case"C":case"D":case"F":case"I":case"L":case"M":case"N":case"O":case"T":case"Y":break;default:throw new Error("Unknown Field Type: "+j.type)}if(f[f.l]!==13&&(f.l=S-1),f.read_shift(1)!==13)throw new Error("DBF Terminator not found "+f.l+" "+f[f.l]);f.l=S;var z=0,B=0;for(h[0]=[],B=0;B!=N.length;++B)h[0][B]=N[B].name;for(;v-- >0;){if(f[f.l]===42){f.l+=k;continue}for(++f.l,h[++z]=[],B=0,B=0;B!=N.length;++B){var D=f.slice(f.l,f.l+N[B].len);f.l+=N[B].len,si(D,0);var Z=Td.utils.decode(A,D);switch(N[B].type){case"C":Z.trim().length&&(h[z][B]=Z.replace(/\s+$/,""));break;case"D":Z.length===8?h[z][B]=new Date(+Z.slice(0,4),+Z.slice(4,6)-1,+Z.slice(6,8)):h[z][B]=Z;break;case"F":h[z][B]=parseFloat(Z.trim());break;case"+":case"I":h[z][B]=y?D.read_shift(-4,"i")^2147483648:D.read_shift(4,"i");break;case"L":switch(Z.trim().toUpperCase()){case"Y":case"T":h[z][B]=!0;break;case"N":case"F":h[z][B]=!1;break;case"":case"?":break;default:throw new Error("DBF Unrecognized L:|"+Z+"|")}break;case"M":if(!x)throw new Error("DBF Unexpected MEMO for type "+m.toString(16));h[z][B]="##MEMO##"+(y?parseInt(Z.trim(),10):D.read_shift(4));break;case"N":Z=Z.replace(/\u0000/g,"").trim(),Z&&Z!="."&&(h[z][B]=+Z||0);break;case"@":h[z][B]=new Date(D.read_shift(-8,"f")-621356832e5);break;case"T":h[z][B]=new Date((D.read_shift(4)-2440588)*864e5+D.read_shift(4));break;case"Y":h[z][B]=D.read_shift(4,"i")/1e4+D.read_shift(4,"i")/1e4*Math.pow(2,32);break;case"O":h[z][B]=-D.read_shift(-8,"f");break;case"B":if(g&&N[B].len==8){h[z][B]=D.read_shift(8,"f");break}case"G":case"P":D.l+=N[B].len;break;case"0":if(N[B].name==="_NullFlags")break;default:throw new Error("DBF Unsupported data type "+N[B].type)}}}if(m!=2&&f.l<f.length&&f[f.l++]!=26)throw new Error("DBF EOF Marker missing "+(f.l-1)+" of "+f.length+" "+f[f.l-1].toString(16));return u&&u.sheetRows&&(h=h.slice(0,u.sheetRows)),u.DBF=N,h}function n(l,u){var h=u||{};h.dateNF||(h.dateNF="yyyymmdd");var f=l0(t(l,h),h);return f["!cols"]=h.DBF.map(function(m){return{wch:m.len,DBF:m}}),delete h.DBF,f}function a(l,u){try{return Au(n(l,u),u)}catch(h){if(u&&u.WTF)throw h}return{SheetNames:[],Sheets:{}}}var i={B:8,C:250,L:1,D:8,"?":0,"":0};function o(l,u){var h=u||{};if(+h.codepage>=0&&Wo(+h.codepage),h.type=="string")throw new Error("Cannot write DBF to JS string");var f=Ex(),m=Px(l,{header:1,raw:!0,cellDates:!0}),x=m[0],g=m.slice(1),y=l["!cols"]||[],v=0,S=0,k=0,A=1;for(v=0;v<x.length;++v){if(((y[v]||{}).DBF||{}).name){x[v]=y[v].DBF.name,++k;continue}if(x[v]!=null){if(++k,typeof x[v]=="number"&&(x[v]=x[v].toString(10)),typeof x[v]!="string")throw new Error("DBF Invalid column name "+x[v]+" |"+typeof x[v]+"|");if(x.indexOf(x[v])!==v){for(S=0;S<1024;++S)if(x.indexOf(x[v]+"_"+S)==-1){x[v]+="_"+S;break}}}}var N=ta(l["!ref"]),j=[],W=[],ee=[];for(v=0;v<=N.e.c-N.s.c;++v){var z="",B="",D=0,Z=[];for(S=0;S<g.length;++S)g[S][v]!=null&&Z.push(g[S][v]);if(Z.length==0||x[v]==null){j[v]="?";continue}for(S=0;S<Z.length;++S){switch(typeof Z[S]){case"number":B="B";break;case"string":B="C";break;case"boolean":B="L";break;case"object":B=Z[S]instanceof Date?"D":"C";break;default:B="C"}D=Math.max(D,String(Z[S]).length),z=z&&z!=B?"C":B}D>250&&(D=250),B=((y[v]||{}).DBF||{}).type,B=="C"&&y[v].DBF.len>D&&(D=y[v].DBF.len),z=="B"&&B=="N"&&(z="N",ee[v]=y[v].DBF.dec,D=y[v].DBF.len),W[v]=z=="C"||B=="N"?D:i[z]||0,A+=W[v],j[v]=z}var q=f.next(32);for(q.write_shift(4,318902576),q.write_shift(4,g.length),q.write_shift(2,296+32*k),q.write_shift(2,A),v=0;v<4;++v)q.write_shift(4,0);for(q.write_shift(4,0|(+e[F3]||3)<<8),v=0,S=0;v<x.length;++v)if(x[v]!=null){var O=f.next(32),V=(x[v].slice(-10)+"\0\0\0\0\0\0\0\0\0\0\0").slice(0,11);O.write_shift(1,V,"sbcs"),O.write_shift(1,j[v]=="?"?"C":j[v],"sbcs"),O.write_shift(4,S),O.write_shift(1,W[v]||i[j[v]]||0),O.write_shift(1,ee[v]||0),O.write_shift(1,2),O.write_shift(4,0),O.write_shift(1,0),O.write_shift(4,0),O.write_shift(4,0),S+=W[v]||i[j[v]]||0}var F=f.next(264);for(F.write_shift(4,13),v=0;v<65;++v)F.write_shift(4,0);for(v=0;v<g.length;++v){var re=f.next(A);for(re.write_shift(1,0),S=0;S<x.length;++S)if(x[S]!=null)switch(j[S]){case"L":re.write_shift(1,g[v][S]==null?63:g[v][S]?84:70);break;case"B":re.write_shift(8,g[v][S]||0,"f");break;case"N":var ae="0";for(typeof g[v][S]=="number"&&(ae=g[v][S].toFixed(ee[S]||0)),k=0;k<W[S]-ae.length;++k)re.write_shift(1,32);re.write_shift(1,ae,"sbcs");break;case"D":g[v][S]?(re.write_shift(4,("0000"+g[v][S].getFullYear()).slice(-4),"sbcs"),re.write_shift(2,("00"+(g[v][S].getMonth()+1)).slice(-2),"sbcs"),re.write_shift(2,("00"+g[v][S].getDate()).slice(-2),"sbcs")):re.write_shift(8,"00000000","sbcs");break;case"C":var J=String(g[v][S]!=null?g[v][S]:"").slice(0,W[S]);for(re.write_shift(1,J,"sbcs"),k=0;k<W[S]-J.length;++k)re.write_shift(1,32);break}}return f.next(1).write_shift(1,26),f.end()}return{to_workbook:a,to_sheet:n,from_sheet:o}})(),d7=(function(){var r={AA:"",BA:"",CA:"",DA:195,HA:"",JA:197,AE:"",BE:"",CE:"",HE:"",AI:"",BI:"",CI:"",HI:"",AO:"",BO:"",CO:"",DO:213,HO:"",AU:"",BU:"",CU:"",HU:"",Aa:"",Ba:"",Ca:"",Da:227,Ha:"",Ja:229,Ae:"",Be:"",Ce:"",He:"",Ai:"",Bi:"",Ci:"",Hi:"",Ao:"",Bo:"",Co:"",Do:245,Ho:"",Au:"",Bu:"",Cu:"",Hu:"",KC:"",Kc:"",q:"",z:"",a:"",j:"",DN:209,Dn:241,Hy:255,S:169,c:170,R:174,"B ":180,0:176,1:177,2:178,3:179,5:181,6:182,7:183,Q:185,k:186,b:208,i:216,l:222,s:240,y:248,"!":161,'"':162,"#":163,"(":164,"%":165,"'":167,"H ":168,"+":171,";":187,"<":188,"=":189,">":190,"?":191,"{":223},e=new RegExp("\x1BN("+Ol(r).join("|").replace(/\|\|\|/,"|\\||").replace(/([?()+])/g,"\\$1")+"|\\|)","gm"),t=function(x,g){var y=r[g];return typeof y=="number"?iw(y):y},n=function(x,g,y){var v=g.charCodeAt(0)-32<<4|y.charCodeAt(0)-48;return v==59?x:iw(v)};r["|"]=254;function a(x,g){switch(g.type){case"base64":return i(js(x),g);case"binary":return i(x,g);case"buffer":return i(jr&&Buffer.isBuffer(x)?x.toString("binary"):Th(x),g);case"array":return i(yh(x),g)}throw new Error("Unrecognized type "+g.type)}function i(x,g){var y=x.split(/[\n\r]+/),v=-1,S=-1,k=0,A=0,N=[],j=[],W=null,ee={},z=[],B=[],D=[],Z=0,q;for(+g.codepage>=0&&Wo(+g.codepage);k!==y.length;++k){Z=0;var O=y[k].trim().replace(/\x1B([\x20-\x2F])([\x30-\x3F])/g,n).replace(e,t),V=O.replace(/;;/g,"\0").split(";").map(function(U){return U.replace(/\u0000/g,";")}),F=V[0],re;if(O.length>0)switch(F){case"ID":break;case"E":break;case"B":break;case"O":break;case"W":break;case"P":V[1].charAt(0)=="P"&&j.push(O.slice(3).replace(/;;/g,";"));break;case"C":var ae=!1,J=!1,ge=!1,te=!1,ke=-1,Y=-1;for(A=1;A<V.length;++A)switch(V[A].charAt(0)){case"A":break;case"X":S=parseInt(V[A].slice(1))-1,J=!0;break;case"Y":for(v=parseInt(V[A].slice(1))-1,J||(S=0),q=N.length;q<=v;++q)N[q]=[];break;case"K":re=V[A].slice(1),re.charAt(0)==='"'?re=re.slice(1,re.length-1):re==="TRUE"?re=!0:re==="FALSE"?re=!1:isNaN(Zo(re))?isNaN(n0(re).getDate())||(re=Ka(re)):(re=Zo(re),W!==null&&s0(W)&&(re=Bp(re))),ae=!0;break;case"E":te=!0;var w=Vf(V[A].slice(1),{r:v,c:S});N[v][S]=[N[v][S],w];break;case"S":ge=!0,N[v][S]=[N[v][S],"S5S"];break;case"G":break;case"R":ke=parseInt(V[A].slice(1))-1;break;case"C":Y=parseInt(V[A].slice(1))-1;break;default:if(g&&g.WTF)throw new Error("SYLK bad record "+O)}if(ae&&(N[v][S]&&N[v][S].length==2?N[v][S][0]=re:N[v][S]=re,W=null),ge){if(te)throw new Error("SYLK shared formula cannot have own formula");var L=ke>-1&&N[ke][Y];if(!L||!L[1])throw new Error("SYLK shared formula cannot find base");N[v][S][1]=VS(L[1],{r:v-ke,c:S-Y})}break;case"F":var P=0;for(A=1;A<V.length;++A)switch(V[A].charAt(0)){case"X":S=parseInt(V[A].slice(1))-1,++P;break;case"Y":for(v=parseInt(V[A].slice(1))-1,q=N.length;q<=v;++q)N[q]=[];break;case"M":Z=parseInt(V[A].slice(1))/20;break;case"F":break;case"G":break;case"P":W=j[parseInt(V[A].slice(1))];break;case"S":break;case"D":break;case"N":break;case"W":for(D=V[A].slice(1).split(" "),q=parseInt(D[0],10);q<=parseInt(D[1],10);++q)Z=parseInt(D[2],10),B[q-1]=Z===0?{hidden:!0}:{wch:Z},a0(B[q-1]);break;case"C":S=parseInt(V[A].slice(1))-1,B[S]||(B[S]={});break;case"R":v=parseInt(V[A].slice(1))-1,z[v]||(z[v]={}),Z>0?(z[v].hpt=Z,z[v].hpx=Ld(Z)):Z===0&&(z[v].hidden=!0);break;default:if(g&&g.WTF)throw new Error("SYLK bad record "+O)}P<1&&(W=null);break;default:if(g&&g.WTF)throw new Error("SYLK bad record "+O)}}return z.length>0&&(ee["!rows"]=z),B.length>0&&(ee["!cols"]=B),g&&g.sheetRows&&(N=N.slice(0,g.sheetRows)),[N,ee]}function o(x,g){var y=a(x,g),v=y[0],S=y[1],k=l0(v,g);return Ol(S).forEach(function(A){k[A]=S[A]}),k}function l(x,g){return Au(o(x,g),g)}function u(x,g,y,v){var S="C;Y"+(y+1)+";X"+(v+1)+";K";switch(x.t){case"n":S+=x.v||0,x.f&&!x.F&&(S+=";E"+QD(x.f,{r:y,c:v}));break;case"b":S+=x.v?"TRUE":"FALSE";break;case"e":S+=x.w||x.v;break;case"d":S+='"'+(x.w||x.v)+'"';break;case"s":S+='"'+x.v.replace(/"/g,"").replace(/;/g,";;")+'"';break}return S}function h(x,g){g.forEach(function(y,v){var S="F;W"+(v+1)+" "+(v+1)+" ";y.hidden?S+="0":(typeof y.width=="number"&&!y.wpx&&(y.wpx=xp(y.width)),typeof y.wpx=="number"&&!y.wch&&(y.wch=vp(y.wpx)),typeof y.wch=="number"&&(S+=Math.round(y.wch))),S.charAt(S.length-1)!=" "&&x.push(S)})}function f(x,g){g.forEach(function(y,v){var S="F;";y.hidden?S+="M0;":y.hpt?S+="M"+20*y.hpt+";":y.hpx&&(S+="M"+20*zS(y.hpx)+";"),S.length>2&&x.push(S+"R"+(v+1))})}function m(x,g){var y=["ID;PWXL;N;E"],v=[],S=ta(x["!ref"]),k,A=Array.isArray(x),N=`\r
`;y.push("P;PGeneral"),y.push("F;P0;DG0G8;M255"),x["!cols"]&&h(y,x["!cols"]),x["!rows"]&&f(y,x["!rows"]),y.push("B;Y"+(S.e.r-S.s.r+1)+";X"+(S.e.c-S.s.c+1)+";D"+[S.s.c,S.s.r,S.e.c,S.e.r].join(" "));for(var j=S.s.r;j<=S.e.r;++j)for(var W=S.s.c;W<=S.e.c;++W){var ee=xr({r:j,c:W});k=A?(x[j]||[])[W]:x[ee],!(!k||k.v==null&&(!k.f||k.F))&&v.push(u(k,x,j,W))}return y.join(N)+N+v.join(N)+N+"E"+N}return{to_workbook:l,to_sheet:o,from_sheet:m}})(),g7=(function(){function r(i,o){switch(o.type){case"base64":return e(js(i),o);case"binary":return e(i,o);case"buffer":return e(jr&&Buffer.isBuffer(i)?i.toString("binary"):Th(i),o);case"array":return e(yh(i),o)}throw new Error("Unrecognized type "+o.type)}function e(i,o){for(var l=i.split(`
`),u=-1,h=-1,f=0,m=[];f!==l.length;++f){if(l[f].trim()==="BOT"){m[++u]=[],h=0;continue}if(!(u<0)){var x=l[f].trim().split(","),g=x[0],y=x[1];++f;for(var v=l[f]||"";(v.match(/["]/g)||[]).length&1&&f<l.length-1;)v+=`
`+l[++f];switch(v=v.trim(),+g){case-1:if(v==="BOT"){m[++u]=[],h=0;continue}else if(v!=="EOD")throw new Error("Unrecognized DIF special command "+v);break;case 0:v==="TRUE"?m[u][h]=!0:v==="FALSE"?m[u][h]=!1:isNaN(Zo(y))?isNaN(n0(y).getDate())?m[u][h]=y:m[u][h]=Ka(y):m[u][h]=Zo(y),++h;break;case 1:v=v.slice(1,v.length-1),v=v.replace(/""/g,'"'),v&&v.match(/^=".*"$/)&&(v=v.slice(2,-1)),m[u][h++]=v!==""?v:null;break}if(v==="EOD")break}}return o&&o.sheetRows&&(m=m.slice(0,o.sheetRows)),m}function t(i,o){return l0(r(i,o),o)}function n(i,o){return Au(t(i,o),o)}var a=(function(){var i=function(u,h,f,m,x){u.push(h),u.push(f+","+m),u.push('"'+x.replace(/"/g,'""')+'"')},o=function(u,h,f,m){u.push(h+","+f),u.push(h==1?'"'+m.replace(/"/g,'""')+'"':m)};return function(u){var h=[],f=ta(u["!ref"]),m,x=Array.isArray(u);i(h,"TABLE",0,1,"sheetjs"),i(h,"VECTORS",0,f.e.r-f.s.r+1,""),i(h,"TUPLES",0,f.e.c-f.s.c+1,""),i(h,"DATA",0,0,"");for(var g=f.s.r;g<=f.e.r;++g){o(h,-1,0,"BOT");for(var y=f.s.c;y<=f.e.c;++y){var v=xr({r:g,c:y});if(m=x?(u[g]||[])[y]:u[v],!m){o(h,1,0,"");continue}switch(m.t){case"n":var S=m.w;!S&&m.v!=null&&(S=m.v),S==null?m.f&&!m.F?o(h,1,0,"="+m.f):o(h,1,0,""):o(h,0,S,"V");break;case"b":o(h,0,m.v?1:0,m.v?"TRUE":"FALSE");break;case"s":o(h,1,0,isNaN(m.v)?m.v:'="'+m.v+'"');break;case"d":m.w||(m.w=so(m.z||yr[14],Hi(Ka(m.v)))),o(h,0,m.w,"V");break;default:o(h,1,0,"")}}}o(h,-1,0,"EOD");var k=`\r
`,A=h.join(k);return A}})();return{to_workbook:n,to_sheet:t,from_sheet:a}})(),p7=(function(){function r(m){return m.replace(/\\b/g,"\\").replace(/\\c/g,":").replace(/\\n/g,`
`)}function e(m){return m.replace(/\\/g,"\\b").replace(/:/g,"\\c").replace(/\n/g,"\\n")}function t(m,x){for(var g=m.split(`
`),y=-1,v=-1,S=0,k=[];S!==g.length;++S){var A=g[S].trim().split(":");if(A[0]==="cell"){var N=Ui(A[1]);if(k.length<=N.r)for(y=k.length;y<=N.r;++y)k[y]||(k[y]=[]);switch(y=N.r,v=N.c,A[2]){case"t":k[y][v]=r(A[3]);break;case"v":k[y][v]=+A[3];break;case"vtf":var j=A[A.length-1];case"vtc":switch(A[3]){case"nl":k[y][v]=!!+A[4];break;default:k[y][v]=+A[4];break}A[2]=="vtf"&&(k[y][v]=[k[y][v],j])}}}return x&&x.sheetRows&&(k=k.slice(0,x.sheetRows)),k}function n(m,x){return l0(t(m,x),x)}function a(m,x){return Au(n(m,x),x)}var i=["socialcalc:version:1.5","MIME-Version: 1.0","Content-Type: multipart/mixed; boundary=SocialCalcSpreadsheetControlSave"].join(`
`),o=["--SocialCalcSpreadsheetControlSave","Content-type: text/plain; charset=UTF-8"].join(`
`)+`
`,l=["# SocialCalc Spreadsheet Control Save","part:sheet"].join(`
`),u="--SocialCalcSpreadsheetControlSave--";function h(m){if(!m||!m["!ref"])return"";for(var x=[],g=[],y,v="",S=o0(m["!ref"]),k=Array.isArray(m),A=S.s.r;A<=S.e.r;++A)for(var N=S.s.c;N<=S.e.c;++N)if(v=xr({r:A,c:N}),y=k?(m[A]||[])[N]:m[v],!(!y||y.v==null||y.t==="z")){switch(g=["cell",v,"t"],y.t){case"s":case"str":g.push(e(y.v));break;case"n":y.f?(g[2]="vtf",g[3]="n",g[4]=y.v,g[5]=e(y.f)):(g[2]="v",g[3]=y.v);break;case"b":g[2]="vt"+(y.f?"f":"c"),g[3]="nl",g[4]=y.v?"1":"0",g[5]=e(y.f||(y.v?"TRUE":"FALSE"));break;case"d":var j=Hi(Ka(y.v));g[2]="vtc",g[3]="nd",g[4]=""+j,g[5]=y.w||so(y.z||yr[14],j);break;case"e":continue}x.push(g.join(":"))}return x.push("sheet:c:"+(S.e.c-S.s.c+1)+":r:"+(S.e.r-S.s.r+1)+":tvf:1"),x.push("valueformat:1:text-wiki"),x.join(`
`)}function f(m){return[i,o,l,o,h(m),u].join(`
`)}return{to_workbook:a,to_sheet:n,from_sheet:f}})(),Od=(function(){function r(f,m,x,g,y){y.raw?m[x][g]=f:f===""||(f==="TRUE"?m[x][g]=!0:f==="FALSE"?m[x][g]=!1:isNaN(Zo(f))?isNaN(n0(f).getDate())?m[x][g]=f:m[x][g]=Ka(f):m[x][g]=Zo(f))}function e(f,m){var x=m||{},g=[];if(!f||f.length===0)return g;for(var y=f.split(/[\r\n]/),v=y.length-1;v>=0&&y[v].length===0;)--v;for(var S=10,k=0,A=0;A<=v;++A)k=y[A].indexOf(" "),k==-1?k=y[A].length:k++,S=Math.max(S,k);for(A=0;A<=v;++A){g[A]=[];var N=0;for(r(y[A].slice(0,S).trim(),g,A,N,x),N=1;N<=(y[A].length-S)/10+1;++N)r(y[A].slice(S+(N-1)*10,S+N*10).trim(),g,A,N,x)}return x.sheetRows&&(g=g.slice(0,x.sheetRows)),g}var t={44:",",9:"	",59:";",124:"|"},n={44:3,9:2,59:1,124:0};function a(f){for(var m={},x=!1,g=0,y=0;g<f.length;++g)(y=f.charCodeAt(g))==34?x=!x:!x&&y in t&&(m[y]=(m[y]||0)+1);y=[];for(g in m)Object.prototype.hasOwnProperty.call(m,g)&&y.push([m[g],g]);if(!y.length){m=n;for(g in m)Object.prototype.hasOwnProperty.call(m,g)&&y.push([m[g],g])}return y.sort(function(v,S){return v[0]-S[0]||n[v[1]]-n[S[1]]}),t[y.pop()[1]]||44}function i(f,m){var x=m||{},g="",y=x.dense?[]:{},v={s:{c:0,r:0},e:{c:0,r:0}};f.slice(0,4)=="sep="?f.charCodeAt(5)==13&&f.charCodeAt(6)==10?(g=f.charAt(4),f=f.slice(7)):f.charCodeAt(5)==13||f.charCodeAt(5)==10?(g=f.charAt(4),f=f.slice(6)):g=a(f.slice(0,1024)):x&&x.FS?g=x.FS:g=a(f.slice(0,1024));var S=0,k=0,A=0,N=0,j=0,W=g.charCodeAt(0),ee=!1,z=0,B=f.charCodeAt(0);f=f.replace(/\r\n/mg,`
`);var D=x.dateNF!=null?T8(x.dateNF):null;function Z(){var q=f.slice(N,j),O={};if(q.charAt(0)=='"'&&q.charAt(q.length-1)=='"'&&(q=q.slice(1,-1).replace(/""/g,'"')),q.length===0)O.t="z";else if(x.raw)O.t="s",O.v=q;else if(q.trim().length===0)O.t="s",O.v=q;else if(q.charCodeAt(0)==61)q.charCodeAt(1)==34&&q.charCodeAt(q.length-1)==34?(O.t="s",O.v=q.slice(2,-1).replace(/""/g,'"')):tL(q)?(O.t="n",O.f=q.slice(1)):(O.t="s",O.v=q);else if(q=="TRUE")O.t="b",O.v=!0;else if(q=="FALSE")O.t="b",O.v=!1;else if(!isNaN(A=Zo(q)))O.t="n",x.cellText!==!1&&(O.w=q),O.v=A;else if(!isNaN(n0(q).getDate())||D&&q.match(D)){O.z=x.dateNF||yr[14];var V=0;D&&q.match(D)&&(q=A8(q,x.dateNF,q.match(D)||[]),V=1),x.cellDates?(O.t="d",O.v=Ka(q,V)):(O.t="n",O.v=Hi(Ka(q,V))),x.cellText!==!1&&(O.w=so(O.z,O.v instanceof Date?Hi(O.v):O.v)),x.cellNF||delete O.z}else O.t="s",O.v=q;if(O.t=="z"||(x.dense?(y[S]||(y[S]=[]),y[S][k]=O):y[xr({c:k,r:S})]=O),N=j+1,B=f.charCodeAt(N),v.e.c<k&&(v.e.c=k),v.e.r<S&&(v.e.r=S),z==W)++k;else if(k=0,++S,x.sheetRows&&x.sheetRows<=S)return!0}e:for(;j<f.length;++j)switch(z=f.charCodeAt(j)){case 34:B===34&&(ee=!ee);break;case W:case 10:case 13:if(!ee&&Z())break e;break}return j-N>0&&Z(),y["!ref"]=Ur(v),y}function o(f,m){return!(m&&m.PRN)||m.FS||f.slice(0,4)=="sep="||f.indexOf("	")>=0||f.indexOf(",")>=0||f.indexOf(";")>=0?i(f,m):l0(e(f,m),m)}function l(f,m){var x="",g=m.type=="string"?[0,0,0,0]:qv(f,m);switch(m.type){case"base64":x=js(f);break;case"binary":x=f;break;case"buffer":m.codepage==65001?x=f.toString("utf8"):m.codepage&&typeof Td<"u"||(x=jr&&Buffer.isBuffer(f)?f.toString("binary"):Th(f));break;case"array":x=yh(f);break;case"string":x=f;break;default:throw new Error("Unrecognized type "+m.type)}return g[0]==239&&g[1]==187&&g[2]==191?x=yn(x.slice(3)):m.type!="string"&&m.type!="buffer"&&m.codepage==65001?x=yn(x):m.type=="binary"&&typeof Td<"u",x.slice(0,19)=="socialcalc:version:"?p7.to_sheet(m.type=="string"?x:yn(x),m):o(x,m)}function u(f,m){return Au(l(f,m),m)}function h(f){for(var m=[],x=ta(f["!ref"]),g,y=Array.isArray(f),v=x.s.r;v<=x.e.r;++v){for(var S=[],k=x.s.c;k<=x.e.c;++k){var A=xr({r:v,c:k});if(g=y?(f[v]||[])[k]:f[A],!g||g.v==null){S.push("          ");continue}for(var N=(g.w||(wc(g),g.w)||"").slice(0,10);N.length<10;)N+=" ";S.push(N+(k===0?" ":""))}m.push(S.join(""))}return m.join(`
`)}return{to_workbook:u,to_sheet:l,from_sheet:h}})();function m7(r,e){var t=e||{},n=!!t.WTF;t.WTF=!0;try{var a=d7.to_workbook(r,t);return t.WTF=n,a}catch(i){if(t.WTF=n,!i.message.match(/SYLK bad record ID/)&&n)throw i;return Od.to_workbook(r,e)}}var pd=(function(){function r(w,L,P){if(w){si(w,w.l||0);for(var U=P.Enum||ke;w.l<w.length;){var ie=w.read_shift(2),fe=U[ie]||U[65535],xe=w.read_shift(2),ve=w.l+xe,ce=fe.f&&fe.f(w,xe,P);if(w.l=ve,L(ce,fe,ie))return}}}function e(w,L){switch(L.type){case"base64":return t(Vo(js(w)),L);case"binary":return t(Vo(w),L);case"buffer":case"array":return t(w,L)}throw"Unsupported type "+L.type}function t(w,L){if(!w)return w;var P=L||{},U=P.dense?[]:{},ie="Sheet1",fe="",xe=0,ve={},ce=[],De=[],ue={s:{r:0,c:0},e:{r:0,c:0}},Ye=P.sheetRows||0;if(w[2]==0&&(w[3]==8||w[3]==9)&&w.length>=16&&w[14]==5&&w[15]===108)throw new Error("Unsupported Works 3 for Mac file");if(w[2]==2)P.Enum=ke,r(w,function(G,K,le){switch(le){case 0:P.vers=G,G>=4096&&(P.qpro=!0);break;case 6:ue=G;break;case 204:G&&(fe=G);break;case 222:fe=G;break;case 15:case 51:P.qpro||(G[1].v=G[1].v.slice(1));case 13:case 14:case 16:le==14&&(G[2]&112)==112&&(G[2]&15)>1&&(G[2]&15)<15&&(G[1].z=P.dateNF||yr[14],P.cellDates&&(G[1].t="d",G[1].v=Bp(G[1].v))),P.qpro&&G[3]>xe&&(U["!ref"]=Ur(ue),ve[ie]=U,ce.push(ie),U=P.dense?[]:{},ue={s:{r:0,c:0},e:{r:0,c:0}},xe=G[3],ie=fe||"Sheet"+(xe+1),fe="");var Fe=P.dense?(U[G[0].r]||[])[G[0].c]:U[xr(G[0])];if(Fe){Fe.t=G[1].t,Fe.v=G[1].v,G[1].z!=null&&(Fe.z=G[1].z),G[1].f!=null&&(Fe.f=G[1].f);break}P.dense?(U[G[0].r]||(U[G[0].r]=[]),U[G[0].r][G[0].c]=G[1]):U[xr(G[0])]=G[1];break}},P);else if(w[2]==26||w[2]==14)P.Enum=Y,w[2]==14&&(P.qpro=!0,w.l=0),r(w,function(G,K,le){switch(le){case 204:ie=G;break;case 22:G[1].v=G[1].v.slice(1);case 23:case 24:case 25:case 37:case 39:case 40:if(G[3]>xe&&(U["!ref"]=Ur(ue),ve[ie]=U,ce.push(ie),U=P.dense?[]:{},ue={s:{r:0,c:0},e:{r:0,c:0}},xe=G[3],ie="Sheet"+(xe+1)),Ye>0&&G[0].r>=Ye)break;P.dense?(U[G[0].r]||(U[G[0].r]=[]),U[G[0].r][G[0].c]=G[1]):U[xr(G[0])]=G[1],ue.e.c<G[0].c&&(ue.e.c=G[0].c),ue.e.r<G[0].r&&(ue.e.r=G[0].r);break;case 27:G[14e3]&&(De[G[14e3][0]]=G[14e3][1]);break;case 1537:De[G[0]]=G[1],G[0]==xe&&(ie=G[1]);break}},P);else throw new Error("Unrecognized LOTUS BOF "+w[2]);if(U["!ref"]=Ur(ue),ve[fe||ie]=U,ce.push(fe||ie),!De.length)return{SheetNames:ce,Sheets:ve};for(var R={},H=[],ne=0;ne<De.length;++ne)ve[ce[ne]]?(H.push(De[ne]||ce[ne]),R[De[ne]]=ve[De[ne]]||ve[ce[ne]]):(H.push(De[ne]),R[De[ne]]={"!ref":"A1"});return{SheetNames:H,Sheets:R}}function n(w,L){var P=L||{};if(+P.codepage>=0&&Wo(+P.codepage),P.type=="string")throw new Error("Cannot write WK1 to JS string");var U=Ex(),ie=ta(w["!ref"]),fe=Array.isArray(w),xe=[];Io(U,0,i(1030)),Io(U,6,u(ie));for(var ve=Math.min(ie.e.r,8191),ce=ie.s.r;ce<=ve;++ce)for(var De=ui(ce),ue=ie.s.c;ue<=ie.e.c;++ue){ce===ie.s.r&&(xe[ue]=Ba(ue));var Ye=xe[ue]+De,R=fe?(w[ce]||[])[ue]:w[Ye];if(!(!R||R.t=="z"))if(R.t=="n")(R.v|0)==R.v&&R.v>=-32768&&R.v<=32767?Io(U,13,g(ce,ue,R.v)):Io(U,14,v(ce,ue,R.v));else{var H=wc(R);Io(U,15,m(ce,ue,H.slice(0,239)))}}return Io(U,1),U.end()}function a(w,L){var P=L||{};if(+P.codepage>=0&&Wo(+P.codepage),P.type=="string")throw new Error("Cannot write WK3 to JS string");var U=Ex();Io(U,0,o(w));for(var ie=0,fe=0;ie<w.SheetNames.length;++ie)(w.Sheets[w.SheetNames[ie]]||{})["!ref"]&&Io(U,27,te(w.SheetNames[ie],fe++));var xe=0;for(ie=0;ie<w.SheetNames.length;++ie){var ve=w.Sheets[w.SheetNames[ie]];if(!(!ve||!ve["!ref"])){for(var ce=ta(ve["!ref"]),De=Array.isArray(ve),ue=[],Ye=Math.min(ce.e.r,8191),R=ce.s.r;R<=Ye;++R)for(var H=ui(R),ne=ce.s.c;ne<=ce.e.c;++ne){R===ce.s.r&&(ue[ne]=Ba(ne));var G=ue[ne]+H,K=De?(ve[R]||[])[ne]:ve[G];if(!(!K||K.t=="z"))if(K.t=="n")Io(U,23,Z(R,ne,xe,K.v));else{var le=wc(K);Io(U,22,z(R,ne,xe,le.slice(0,239)))}}++xe}}return Io(U,1),U.end()}function i(w){var L=Ra(2);return L.write_shift(2,w),L}function o(w){var L=Ra(26);L.write_shift(2,4096),L.write_shift(2,4),L.write_shift(4,0);for(var P=0,U=0,ie=0,fe=0;fe<w.SheetNames.length;++fe){var xe=w.SheetNames[fe],ve=w.Sheets[xe];if(!(!ve||!ve["!ref"])){++ie;var ce=o0(ve["!ref"]);P<ce.e.r&&(P=ce.e.r),U<ce.e.c&&(U=ce.e.c)}}return P>8191&&(P=8191),L.write_shift(2,P),L.write_shift(1,ie),L.write_shift(1,U),L.write_shift(2,0),L.write_shift(2,0),L.write_shift(1,1),L.write_shift(1,2),L.write_shift(4,0),L.write_shift(4,0),L}function l(w,L,P){var U={s:{c:0,r:0},e:{c:0,r:0}};return L==8&&P.qpro?(U.s.c=w.read_shift(1),w.l++,U.s.r=w.read_shift(2),U.e.c=w.read_shift(1),w.l++,U.e.r=w.read_shift(2),U):(U.s.c=w.read_shift(2),U.s.r=w.read_shift(2),L==12&&P.qpro&&(w.l+=2),U.e.c=w.read_shift(2),U.e.r=w.read_shift(2),L==12&&P.qpro&&(w.l+=2),U.s.c==65535&&(U.s.c=U.e.c=U.s.r=U.e.r=0),U)}function u(w){var L=Ra(8);return L.write_shift(2,w.s.c),L.write_shift(2,w.s.r),L.write_shift(2,w.e.c),L.write_shift(2,w.e.r),L}function h(w,L,P){var U=[{c:0,r:0},{t:"n",v:0},0,0];return P.qpro&&P.vers!=20768?(U[0].c=w.read_shift(1),U[3]=w.read_shift(1),U[0].r=w.read_shift(2),w.l+=2):(U[2]=w.read_shift(1),U[0].c=w.read_shift(2),U[0].r=w.read_shift(2)),U}function f(w,L,P){var U=w.l+L,ie=h(w,L,P);if(ie[1].t="s",P.vers==20768){w.l++;var fe=w.read_shift(1);return ie[1].v=w.read_shift(fe,"utf8"),ie}return P.qpro&&w.l++,ie[1].v=w.read_shift(U-w.l,"cstr"),ie}function m(w,L,P){var U=Ra(7+P.length);U.write_shift(1,255),U.write_shift(2,L),U.write_shift(2,w),U.write_shift(1,39);for(var ie=0;ie<U.length;++ie){var fe=P.charCodeAt(ie);U.write_shift(1,fe>=128?95:fe)}return U.write_shift(1,0),U}function x(w,L,P){var U=h(w,L,P);return U[1].v=w.read_shift(2,"i"),U}function g(w,L,P){var U=Ra(7);return U.write_shift(1,255),U.write_shift(2,L),U.write_shift(2,w),U.write_shift(2,P,"i"),U}function y(w,L,P){var U=h(w,L,P);return U[1].v=w.read_shift(8,"f"),U}function v(w,L,P){var U=Ra(13);return U.write_shift(1,255),U.write_shift(2,L),U.write_shift(2,w),U.write_shift(8,P,"f"),U}function S(w,L,P){var U=w.l+L,ie=h(w,L,P);if(ie[1].v=w.read_shift(8,"f"),P.qpro)w.l=U;else{var fe=w.read_shift(2);j(w.slice(w.l,w.l+fe),ie),w.l+=fe}return ie}function k(w,L,P){var U=L&32768;return L&=-32769,L=(U?w:0)+(L>=8192?L-16384:L),(U?"":"$")+(P?Ba(L):ui(L))}var A={51:["FALSE",0],52:["TRUE",0],70:["LEN",1],80:["SUM",69],81:["AVERAGEA",69],82:["COUNTA",69],83:["MINA",69],84:["MAXA",69],111:["T",1]},N=["","","","","","","","","","+","-","*","/","^","=","<>","<=",">=","<",">","","","","","&","","","","","","",""];function j(w,L){si(w,0);for(var P=[],U=0,ie="",fe="",xe="",ve="";w.l<w.length;){var ce=w[w.l++];switch(ce){case 0:P.push(w.read_shift(8,"f"));break;case 1:fe=k(L[0].c,w.read_shift(2),!0),ie=k(L[0].r,w.read_shift(2),!1),P.push(fe+ie);break;case 2:{var De=k(L[0].c,w.read_shift(2),!0),ue=k(L[0].r,w.read_shift(2),!1);fe=k(L[0].c,w.read_shift(2),!0),ie=k(L[0].r,w.read_shift(2),!1),P.push(De+ue+":"+fe+ie)}break;case 3:if(w.l<w.length){console.error("WK1 premature formula end");return}break;case 4:P.push("("+P.pop()+")");break;case 5:P.push(w.read_shift(2));break;case 6:{for(var Ye="";ce=w[w.l++];)Ye+=String.fromCharCode(ce);P.push('"'+Ye.replace(/"/g,'""')+'"')}break;case 8:P.push("-"+P.pop());break;case 23:P.push("+"+P.pop());break;case 22:P.push("NOT("+P.pop()+")");break;case 20:case 21:ve=P.pop(),xe=P.pop(),P.push(["AND","OR"][ce-20]+"("+xe+","+ve+")");break;default:if(ce<32&&N[ce])ve=P.pop(),xe=P.pop(),P.push(xe+N[ce]+ve);else if(A[ce]){if(U=A[ce][1],U==69&&(U=w[w.l++]),U>P.length){console.error("WK1 bad formula parse 0x"+ce.toString(16)+":|"+P.join("|")+"|");return}var R=P.slice(-U);P.length-=U,P.push(A[ce][0]+"("+R.join(",")+")")}else return ce<=7?console.error("WK1 invalid opcode "+ce.toString(16)):ce<=24?console.error("WK1 unsupported op "+ce.toString(16)):ce<=30?console.error("WK1 invalid opcode "+ce.toString(16)):ce<=115?console.error("WK1 unsupported function opcode "+ce.toString(16)):console.error("WK1 unrecognized opcode "+ce.toString(16))}}P.length==1?L[1].f=""+P[0]:console.error("WK1 bad formula parse |"+P.join("|")+"|")}function W(w){var L=[{c:0,r:0},{t:"n",v:0},0];return L[0].r=w.read_shift(2),L[3]=w[w.l++],L[0].c=w[w.l++],L}function ee(w,L){var P=W(w);return P[1].t="s",P[1].v=w.read_shift(L-4,"cstr"),P}function z(w,L,P,U){var ie=Ra(6+U.length);ie.write_shift(2,w),ie.write_shift(1,P),ie.write_shift(1,L),ie.write_shift(1,39);for(var fe=0;fe<U.length;++fe){var xe=U.charCodeAt(fe);ie.write_shift(1,xe>=128?95:xe)}return ie.write_shift(1,0),ie}function B(w,L){var P=W(w);P[1].v=w.read_shift(2);var U=P[1].v>>1;if(P[1].v&1)switch(U&7){case 0:U=(U>>3)*5e3;break;case 1:U=(U>>3)*500;break;case 2:U=(U>>3)/20;break;case 3:U=(U>>3)/200;break;case 4:U=(U>>3)/2e3;break;case 5:U=(U>>3)/2e4;break;case 6:U=(U>>3)/16;break;case 7:U=(U>>3)/64;break}return P[1].v=U,P}function D(w,L){var P=W(w),U=w.read_shift(4),ie=w.read_shift(4),fe=w.read_shift(2);if(fe==65535)return U===0&&ie===3221225472?(P[1].t="e",P[1].v=15):U===0&&ie===3489660928?(P[1].t="e",P[1].v=42):P[1].v=0,P;var xe=fe&32768;return fe=(fe&32767)-16446,P[1].v=(1-xe*2)*(ie*Math.pow(2,fe+32)+U*Math.pow(2,fe)),P}function Z(w,L,P,U){var ie=Ra(14);if(ie.write_shift(2,w),ie.write_shift(1,P),ie.write_shift(1,L),U==0)return ie.write_shift(4,0),ie.write_shift(4,0),ie.write_shift(2,65535),ie;var fe=0,xe=0,ve=0,ce=0;return U<0&&(fe=1,U=-U),xe=Math.log2(U)|0,U/=Math.pow(2,xe-31),ce=U>>>0,(ce&2147483648)==0&&(U/=2,++xe,ce=U>>>0),U-=ce,ce|=2147483648,ce>>>=0,U*=Math.pow(2,32),ve=U>>>0,ie.write_shift(4,ve),ie.write_shift(4,ce),xe+=16383+(fe?32768:0),ie.write_shift(2,xe),ie}function q(w,L){var P=D(w);return w.l+=L-14,P}function O(w,L){var P=W(w),U=w.read_shift(4);return P[1].v=U>>6,P}function V(w,L){var P=W(w),U=w.read_shift(8,"f");return P[1].v=U,P}function F(w,L){var P=V(w);return w.l+=L-10,P}function re(w,L){return w[w.l+L-1]==0?w.read_shift(L,"cstr"):""}function ae(w,L){var P=w[w.l++];P>L-1&&(P=L-1);for(var U="";U.length<P;)U+=String.fromCharCode(w[w.l++]);return U}function J(w,L,P){if(!(!P.qpro||L<21)){var U=w.read_shift(1);w.l+=17,w.l+=1,w.l+=2;var ie=w.read_shift(L-21,"cstr");return[U,ie]}}function ge(w,L){for(var P={},U=w.l+L;w.l<U;){var ie=w.read_shift(2);if(ie==14e3){for(P[ie]=[0,""],P[ie][0]=w.read_shift(2);w[w.l];)P[ie][1]+=String.fromCharCode(w[w.l]),w.l++;w.l++}}return P}function te(w,L){var P=Ra(5+w.length);P.write_shift(2,14e3),P.write_shift(2,L);for(var U=0;U<w.length;++U){var ie=w.charCodeAt(U);P[P.l++]=ie>127?95:ie}return P[P.l++]=0,P}var ke={0:{n:"BOF",f:wa},1:{n:"EOF"},2:{n:"CALCMODE"},3:{n:"CALCORDER"},4:{n:"SPLIT"},5:{n:"SYNC"},6:{n:"RANGE",f:l},7:{n:"WINDOW1"},8:{n:"COLW1"},9:{n:"WINTWO"},10:{n:"COLW2"},11:{n:"NAME"},12:{n:"BLANK"},13:{n:"INTEGER",f:x},14:{n:"NUMBER",f:y},15:{n:"LABEL",f},16:{n:"FORMULA",f:S},24:{n:"TABLE"},25:{n:"ORANGE"},26:{n:"PRANGE"},27:{n:"SRANGE"},28:{n:"FRANGE"},29:{n:"KRANGE1"},32:{n:"HRANGE"},35:{n:"KRANGE2"},36:{n:"PROTEC"},37:{n:"FOOTER"},38:{n:"HEADER"},39:{n:"SETUP"},40:{n:"MARGINS"},41:{n:"LABELFMT"},42:{n:"TITLES"},43:{n:"SHEETJS"},45:{n:"GRAPH"},46:{n:"NGRAPH"},47:{n:"CALCCOUNT"},48:{n:"UNFORMATTED"},49:{n:"CURSORW12"},50:{n:"WINDOW"},51:{n:"STRING",f},55:{n:"PASSWORD"},56:{n:"LOCKED"},60:{n:"QUERY"},61:{n:"QUERYNAME"},62:{n:"PRINT"},63:{n:"PRINTNAME"},64:{n:"GRAPH2"},65:{n:"GRAPHNAME"},66:{n:"ZOOM"},67:{n:"SYMSPLIT"},68:{n:"NSROWS"},69:{n:"NSCOLS"},70:{n:"RULER"},71:{n:"NNAME"},72:{n:"ACOMM"},73:{n:"AMACRO"},74:{n:"PARSE"},102:{n:"PRANGES??"},103:{n:"RRANGES??"},104:{n:"FNAME??"},105:{n:"MRANGES??"},204:{n:"SHEETNAMECS",f:re},222:{n:"SHEETNAMELP",f:ae},65535:{n:""}},Y={0:{n:"BOF"},1:{n:"EOF"},2:{n:"PASSWORD"},3:{n:"CALCSET"},4:{n:"WINDOWSET"},5:{n:"SHEETCELLPTR"},6:{n:"SHEETLAYOUT"},7:{n:"COLUMNWIDTH"},8:{n:"HIDDENCOLUMN"},9:{n:"USERRANGE"},10:{n:"SYSTEMRANGE"},11:{n:"ZEROFORCE"},12:{n:"SORTKEYDIR"},13:{n:"FILESEAL"},14:{n:"DATAFILLNUMS"},15:{n:"PRINTMAIN"},16:{n:"PRINTSTRING"},17:{n:"GRAPHMAIN"},18:{n:"GRAPHSTRING"},19:{n:"??"},20:{n:"ERRCELL"},21:{n:"NACELL"},22:{n:"LABEL16",f:ee},23:{n:"NUMBER17",f:D},24:{n:"NUMBER18",f:B},25:{n:"FORMULA19",f:q},26:{n:"FORMULA1A"},27:{n:"XFORMAT",f:ge},28:{n:"DTLABELMISC"},29:{n:"DTLABELCELL"},30:{n:"GRAPHWINDOW"},31:{n:"CPA"},32:{n:"LPLAUTO"},33:{n:"QUERY"},34:{n:"HIDDENSHEET"},35:{n:"??"},37:{n:"NUMBER25",f:O},38:{n:"??"},39:{n:"NUMBER27",f:V},40:{n:"FORMULA28",f:F},142:{n:"??"},147:{n:"??"},150:{n:"??"},151:{n:"??"},152:{n:"??"},153:{n:"??"},154:{n:"??"},155:{n:"??"},156:{n:"??"},163:{n:"??"},174:{n:"??"},175:{n:"??"},176:{n:"??"},177:{n:"??"},184:{n:"??"},185:{n:"??"},186:{n:"??"},187:{n:"??"},188:{n:"??"},195:{n:"??"},201:{n:"??"},204:{n:"SHEETNAMECS",f:re},205:{n:"??"},206:{n:"??"},207:{n:"??"},208:{n:"??"},256:{n:"??"},259:{n:"??"},260:{n:"??"},261:{n:"??"},262:{n:"??"},263:{n:"??"},265:{n:"??"},266:{n:"??"},267:{n:"??"},268:{n:"??"},270:{n:"??"},271:{n:"??"},384:{n:"??"},389:{n:"??"},390:{n:"??"},393:{n:"??"},396:{n:"??"},512:{n:"??"},514:{n:"??"},513:{n:"??"},516:{n:"??"},517:{n:"??"},640:{n:"??"},641:{n:"??"},642:{n:"??"},643:{n:"??"},644:{n:"??"},645:{n:"??"},646:{n:"??"},647:{n:"??"},648:{n:"??"},658:{n:"??"},659:{n:"??"},660:{n:"??"},661:{n:"??"},662:{n:"??"},665:{n:"??"},666:{n:"??"},768:{n:"??"},772:{n:"??"},1537:{n:"SHEETINFOQP",f:J},1600:{n:"??"},1602:{n:"??"},1793:{n:"??"},1794:{n:"??"},1795:{n:"??"},1796:{n:"??"},1920:{n:"??"},2048:{n:"??"},2049:{n:"??"},2052:{n:"??"},2688:{n:"??"},10998:{n:"??"},12849:{n:"??"},28233:{n:"??"},28484:{n:"??"},65535:{n:""}};return{sheet_to_wk1:n,book_to_wk3:a,to_workbook:e}})();function x7(r){var e={},t=r.match(Ei),n=0,a=!1;if(t)for(;n!=t.length;++n){var i=lr(t[n]);switch(i[0].replace(/\w*:/g,"")){case"<condense":break;case"<extend":break;case"<shadow":if(!i.val)break;case"<shadow>":case"<shadow/>":e.shadow=1;break;case"</shadow>":break;case"<charset":if(i.val=="1")break;e.cp=yv[parseInt(i.val,10)];break;case"<outline":if(!i.val)break;case"<outline>":case"<outline/>":e.outline=1;break;case"</outline>":break;case"<rFont":e.name=i.val;break;case"<sz":e.sz=i.val;break;case"<strike":if(!i.val)break;case"<strike>":case"<strike/>":e.strike=1;break;case"</strike>":break;case"<u":if(!i.val)break;switch(i.val){case"double":e.uval="double";break;case"singleAccounting":e.uval="single-accounting";break;case"doubleAccounting":e.uval="double-accounting";break}case"<u>":case"<u/>":e.u=1;break;case"</u>":break;case"<b":if(i.val=="0")break;case"<b>":case"<b/>":e.b=1;break;case"</b>":break;case"<i":if(i.val=="0")break;case"<i>":case"<i/>":e.i=1;break;case"</i>":break;case"<color":i.rgb&&(e.color=i.rgb.slice(2,8));break;case"<color>":case"<color/>":case"</color>":break;case"<family":e.family=i.val;break;case"<family>":case"<family/>":case"</family>":break;case"<vertAlign":e.valign=i.val;break;case"<vertAlign>":case"<vertAlign/>":case"</vertAlign>":break;case"<scheme":break;case"<scheme>":case"<scheme/>":case"</scheme>":break;case"<extLst":case"<extLst>":case"</extLst>":break;case"<ext":a=!0;break;case"</ext>":a=!1;break;default:if(i[0].charCodeAt(1)!==47&&!a)throw new Error("Unrecognized rich format "+i[0])}}return e}var v7=(function(){var r=Ed("t"),e=Ed("rPr");function t(i){var o=i.match(r);if(!o)return{t:"s",v:""};var l={t:"s",v:Vr(o[1])},u=i.match(e);return u&&(l.s=x7(u[1])),l}var n=/<(?:\w+:)?r>/g,a=/<\/(?:\w+:)?r>/;return function(o){return o.replace(n,"").split(a).map(t).filter(function(l){return l.v})}})(),y7=(function(){var e=/(\r\n|\n)/g;function t(a,i,o){var l=[];a.u&&l.push("text-decoration: underline;"),a.uval&&l.push("text-underline-style:"+a.uval+";"),a.sz&&l.push("font-size:"+a.sz+"pt;"),a.outline&&l.push("text-effect: outline;"),a.shadow&&l.push("text-shadow: auto;"),i.push('<span style="'+l.join("")+'">'),a.b&&(i.push("<b>"),o.push("</b>")),a.i&&(i.push("<i>"),o.push("</i>")),a.strike&&(i.push("<s>"),o.push("</s>"));var u=a.valign||"";return u=="superscript"||u=="super"?u="sup":u=="subscript"&&(u="sub"),u!=""&&(i.push("<"+u+">"),o.push("</"+u+">")),o.push("</span>"),a}function n(a){var i=[[],a.v,[]];return a.v?(a.s&&t(a.s,i[0],i[2]),i[0].join("")+i[1].replace(e,"<br/>")+i[2].join("")):""}return function(i){return i.map(n).join("")}})(),b7=/<(?:\w+:)?t[^>]*>([^<]*)<\/(?:\w+:)?t>/g,w7=/<(?:\w+:)?r>/,_7=/<(?:\w+:)?rPh.*?>([\s\S]*?)<\/(?:\w+:)?rPh>/g;function Rv(r,e){var t=e?e.cellHTML:!0,n={};return r?(r.match(/^\s*<(?:\w+:)?t[^>]*>/)?(n.t=Vr(yn(r.slice(r.indexOf(">")+1).split(/<\/(?:\w+:)?t>/)[0]||"")),n.r=yn(r),t&&(n.h=Tv(n.t))):r.match(w7)&&(n.r=yn(r),n.t=Vr(yn((r.replace(_7,"").match(b7)||[]).join("").replace(Ei,""))),t&&(n.h=y7(v7(n.r)))),n):{t:""}}var S7=/<(?:\w+:)?sst([^>]*)>([\s\S]*)<\/(?:\w+:)?sst>/,k7=/<(?:\w+:)?(?:si|sstItem)>/g,C7=/<\/(?:\w+:)?(?:si|sstItem)>/;function T7(r,e){var t=[],n="";if(!r)return t;var a=r.match(S7);if(a){n=a[2].replace(k7,"").split(C7);for(var i=0;i!=n.length;++i){var o=Rv(n[i].trim(),e);o!=null&&(t[t.length]=o)}a=lr(a[1]),t.Count=a.count,t.Unique=a.uniqueCount}return t}function A7(r){return[r.read_shift(4),r.read_shift(4)]}function E7(r,e){var t=[],n=!1;return Tc(r,function(i,o,l){switch(l){case 159:t.Count=i[0],t.Unique=i[1];break;case 19:t.push(i);break;case 160:return!0;case 35:n=!0;break;case 36:n=!1;break;default:if(o.T,!n||e.WTF)throw new Error("Unexpected record 0x"+l.toString(16))}}),t}function jS(r){for(var e=[],t=r.split(""),n=0;n<t.length;++n)e[n]=t[n].charCodeAt(0);return e}function vc(r,e){var t={};return t.Major=r.read_shift(2),t.Minor=r.read_shift(2),e>=4&&(r.l+=e-4),t}function N7(r){var e={};return e.id=r.read_shift(0,"lpp4"),e.R=vc(r,4),e.U=vc(r,4),e.W=vc(r,4),e}function O7(r){for(var e=r.read_shift(4),t=r.l+e-4,n={},a=r.read_shift(4),i=[];a-- >0;)i.push({t:r.read_shift(4),v:r.read_shift(0,"lpp4")});if(n.name=r.read_shift(0,"lpp4"),n.comps=i,r.l!=t)throw new Error("Bad DataSpaceMapEntry: "+r.l+" != "+t);return n}function D7(r){var e=[];r.l+=4;for(var t=r.read_shift(4);t-- >0;)e.push(O7(r));return e}function L7(r){var e=[];r.l+=4;for(var t=r.read_shift(4);t-- >0;)e.push(r.read_shift(0,"lpp4"));return e}function F7(r){var e={};return r.read_shift(4),r.l+=4,e.id=r.read_shift(0,"lpp4"),e.name=r.read_shift(0,"lpp4"),e.R=vc(r,4),e.U=vc(r,4),e.W=vc(r,4),e}function M7(r){var e=F7(r);if(e.ename=r.read_shift(0,"8lpp4"),e.blksz=r.read_shift(4),e.cmode=r.read_shift(4),r.read_shift(4)!=4)throw new Error("Bad !Primary record");return e}function RS(r,e){var t=r.l+e,n={};n.Flags=r.read_shift(4)&63,r.l+=4,n.AlgID=r.read_shift(4);var a=!1;switch(n.AlgID){case 26126:case 26127:case 26128:a=n.Flags==36;break;case 26625:a=n.Flags==4;break;case 0:a=n.Flags==16||n.Flags==4||n.Flags==36;break;default:throw"Unrecognized encryption algorithm: "+n.AlgID}if(!a)throw new Error("Encryption Flags/AlgID mismatch");return n.AlgIDHash=r.read_shift(4),n.KeySize=r.read_shift(4),n.ProviderType=r.read_shift(4),r.l+=8,n.CSPName=r.read_shift(t-r.l>>1,"utf16le"),r.l=t,n}function BS(r,e){var t={},n=r.l+e;return r.l+=4,t.Salt=r.slice(r.l,r.l+16),r.l+=16,t.Verifier=r.slice(r.l,r.l+16),r.l+=16,r.read_shift(4),t.VerifierHash=r.slice(r.l,n),r.l=n,t}function j7(r){var e=vc(r);switch(e.Minor){case 2:return[e.Minor,R7(r)];case 3:return[e.Minor,B7()];case 4:return[e.Minor,P7(r)]}throw new Error("ECMA-376 Encrypted file unrecognized Version: "+e.Minor)}function R7(r){var e=r.read_shift(4);if((e&63)!=36)throw new Error("EncryptionInfo mismatch");var t=r.read_shift(4),n=RS(r,t),a=BS(r,r.length-r.l);return{t:"Std",h:n,v:a}}function B7(){throw new Error("File is password-protected: ECMA-376 Extensible")}function P7(r){var e=["saltSize","blockSize","keyBits","hashSize","cipherAlgorithm","cipherChaining","hashAlgorithm","saltValue"];r.l+=4;var t=r.read_shift(r.length-r.l,"utf8"),n={};return t.replace(Ei,function(i){var o=lr(i);switch(Ll(o[0])){case"<?xml":break;case"<encryption":case"</encryption>":break;case"<keyData":e.forEach(function(l){n[l]=o[l]});break;case"<dataIntegrity":n.encryptedHmacKey=o.encryptedHmacKey,n.encryptedHmacValue=o.encryptedHmacValue;break;case"<keyEncryptors>":case"<keyEncryptors":n.encs=[];break;case"</keyEncryptors>":break;case"<keyEncryptor":n.uri=o.uri;break;case"</keyEncryptor>":break;case"<encryptedKey":n.encs.push(o);break;default:throw o[0]}}),n}function I7(r,e){var t={},n=t.EncryptionVersionInfo=vc(r,4);if(e-=4,n.Minor!=2)throw new Error("unrecognized minor version code: "+n.Minor);if(n.Major>4||n.Major<2)throw new Error("unrecognized major version code: "+n.Major);t.Flags=r.read_shift(4),e-=4;var a=r.read_shift(4);return e-=4,t.EncryptionHeader=RS(r,a),e-=a,t.EncryptionVerifier=BS(r,e),t}function U7(r){var e={},t=e.EncryptionVersionInfo=vc(r,4);if(t.Major!=1||t.Minor!=1)throw"unrecognized version code "+t.Major+" : "+t.Minor;return e.Salt=r.read_shift(16),e.EncryptedVerifier=r.read_shift(16),e.EncryptedVerifierHash=r.read_shift(16),e}function z7(r){var e=0,t,n=jS(r),a=n.length+1,i,o,l,u,h;for(t=_u(a),t[0]=n.length,i=1;i!=a;++i)t[i]=n[i-1];for(i=a-1;i>=0;--i)o=t[i],l=(e&16384)===0?0:1,u=e<<1&32767,h=l|u,e=h^o;return e^52811}var PS=(function(){var r=[187,255,255,186,255,255,185,128,0,190,15,0,191,15,0],e=[57840,7439,52380,33984,4364,3600,61902,12606,6258,57657,54287,34041,10252,43370,20163],t=[44796,19929,39858,10053,20106,40212,10761,31585,63170,64933,60267,50935,40399,11199,17763,35526,1453,2906,5812,11624,23248,885,1770,3540,7080,14160,28320,56640,55369,41139,20807,41614,21821,43642,17621,28485,56970,44341,19019,38038,14605,29210,60195,50791,40175,10751,21502,43004,24537,18387,36774,3949,7898,15796,31592,63184,47201,24803,49606,37805,14203,28406,56812,17824,35648,1697,3394,6788,13576,27152,43601,17539,35078,557,1114,2228,4456,30388,60776,51953,34243,7079,14158,28316,14128,28256,56512,43425,17251,34502,7597,13105,26210,52420,35241,883,1766,3532,4129,8258,16516,33032,4657,9314,18628],n=function(o){return(o/2|o*128)&255},a=function(o,l){return n(o^l)},i=function(o){for(var l=e[o.length-1],u=104,h=o.length-1;h>=0;--h)for(var f=o[h],m=0;m!=7;++m)f&64&&(l^=t[u]),f*=2,--u;return l};return function(o){for(var l=jS(o),u=i(l),h=l.length,f=_u(16),m=0;m!=16;++m)f[m]=0;var x,g,y;for((h&1)===1&&(x=u>>8,f[h]=a(r[0],x),--h,x=u&255,g=l[l.length-1],f[h]=a(g,x));h>0;)--h,x=u>>8,f[h]=a(l[h],x),--h,x=u&255,f[h]=a(l[h],x);for(h=15,y=15-l.length;y>0;)x=u>>8,f[h]=a(r[y],x),--h,--y,x=u&255,f[h]=a(l[h],x),--h,--y;return f}})(),H7=function(r,e,t,n,a){a||(a=e),n||(n=PS(r));var i,o;for(i=0;i!=e.length;++i)o=e[i],o^=n[t],o=(o>>5|o<<3)&255,a[i]=o,++t;return[a,t,n]},q7=function(r){var e=0,t=PS(r);return function(n){var a=H7("",n,e,t);return e=a[1],a[0]}};function V7(r,e,t,n){var a={key:wa(r),verificationBytes:wa(r)};return t.password&&(a.verifier=z7(t.password)),n.valid=a.verificationBytes===a.verifier,n.valid&&(n.insitu=q7(t.password)),a}function G7(r,e,t){var n=t||{};return n.Info=r.read_shift(2),r.l-=2,n.Info===1?n.Data=U7(r):n.Data=I7(r,e),n}function W7(r,e,t){var n={Type:t.biff>=8?r.read_shift(2):0};return n.Type?G7(r,e-2,n):V7(r,t.biff>=8?e:e-2,t,n),n}var Y7=(function(){function r(a,i){switch(i.type){case"base64":return e(js(a),i);case"binary":return e(a,i);case"buffer":return e(jr&&Buffer.isBuffer(a)?a.toString("binary"):Th(a),i);case"array":return e(yh(a),i)}throw new Error("Unrecognized type "+i.type)}function e(a,i){var o=i||{},l=o.dense?[]:{},u=a.match(/\\trowd.*?\\row\b/g);if(!u.length)throw new Error("RTF missing table");var h={s:{c:0,r:0},e:{c:0,r:u.length-1}};return u.forEach(function(f,m){Array.isArray(l)&&(l[m]=[]);for(var x=/\\\w+\b/g,g=0,y,v=-1;y=x.exec(f);){switch(y[0]){case"\\cell":var S=f.slice(g,x.lastIndex-y[0].length);if(S[0]==" "&&(S=S.slice(1)),++v,S.length){var k={v:S,t:"s"};Array.isArray(l)?l[m][v]=k:l[xr({r:m,c:v})]=k}break}g=x.lastIndex}v>h.e.c&&(h.e.c=v)}),l["!ref"]=Ur(h),l}function t(a,i){return Au(r(a,i),i)}function n(a){for(var i=["{\\rtf1\\ansi"],o=ta(a["!ref"]),l,u=Array.isArray(a),h=o.s.r;h<=o.e.r;++h){i.push("\\trowd\\trautofit1");for(var f=o.s.c;f<=o.e.c;++f)i.push("\\cellx"+(f+1));for(i.push("\\pard\\intbl"),f=o.s.c;f<=o.e.c;++f){var m=xr({r:h,c:f});l=u?(a[h]||[])[f]:a[m],!(!l||l.v==null&&(!l.f||l.F))&&(i.push(" "+(l.w||(wc(l),l.w))),i.push("\\cell"))}i.push("\\pard\\intbl\\row")}return i.join("")+"}"}return{to_workbook:t,to_sheet:r,from_sheet:n}})();function X7(r){var e=r.slice(r[0]==="#"?1:0).slice(0,6);return[parseInt(e.slice(0,2),16),parseInt(e.slice(2,4),16),parseInt(e.slice(4,6),16)]}function Dd(r){for(var e=0,t=1;e!=3;++e)t=t*256+(r[e]>255?255:r[e]<0?0:r[e]);return t.toString(16).toUpperCase().slice(1)}function K7(r){var e=r[0]/255,t=r[1]/255,n=r[2]/255,a=Math.max(e,t,n),i=Math.min(e,t,n),o=a-i;if(o===0)return[0,0,e];var l=0,u=0,h=a+i;switch(u=o/(h>1?2-h:h),a){case e:l=((t-n)/o+6)%6;break;case t:l=(n-e)/o+2;break;case n:l=(e-t)/o+4;break}return[l/6,u,h/2]}function $7(r){var e=r[0],t=r[1],n=r[2],a=t*2*(n<.5?n:1-n),i=n-a/2,o=[i,i,i],l=6*e,u;if(t!==0)switch(l|0){case 0:case 6:u=a*l,o[0]+=a,o[1]+=u;break;case 1:u=a*(2-l),o[0]+=u,o[1]+=a;break;case 2:u=a*(l-2),o[1]+=a,o[2]+=u;break;case 3:u=a*(4-l),o[1]+=u,o[2]+=a;break;case 4:u=a*(l-4),o[2]+=a,o[0]+=u;break;case 5:u=a*(6-l),o[2]+=u,o[0]+=a;break}for(var h=0;h!=3;++h)o[h]=Math.round(o[h]*255);return o}function mp(r,e){if(e===0)return r;var t=K7(X7(r));return e<0?t[2]=t[2]*(1+e):t[2]=1-(1-t[2])*(1-e),Dd($7(t))}var IS=6,Z7=15,J7=1,Pi=IS;function xp(r){return Math.floor((r+Math.round(128/Pi)/256)*Pi)}function vp(r){return Math.floor((r-5)/Pi*100+.5)/100}function Lx(r){return Math.round((r*Pi+5)/Pi*256)/256}function k2(r){return Lx(vp(xp(r)))}function Bv(r){var e=Math.abs(r-k2(r)),t=Pi;if(e>.005)for(Pi=J7;Pi<Z7;++Pi)Math.abs(r-k2(r))<=e&&(e=Math.abs(r-k2(r)),t=Pi);Pi=t}function a0(r){r.width?(r.wpx=xp(r.width),r.wch=vp(r.wpx),r.MDW=Pi):r.wpx?(r.wch=vp(r.wpx),r.width=Lx(r.wch),r.MDW=Pi):typeof r.wch=="number"&&(r.width=Lx(r.wch),r.wpx=xp(r.width),r.MDW=Pi),r.customWidth&&delete r.customWidth}var Q7=96,US=Q7;function zS(r){return r*96/US}function Ld(r){return r*US/96}var eD={None:"none",Solid:"solid",Gray50:"mediumGray",Gray75:"darkGray",Gray25:"lightGray",HorzStripe:"darkHorizontal",VertStripe:"darkVertical",ReverseDiagStripe:"darkDown",DiagStripe:"darkUp",DiagCross:"darkGrid",ThickDiagCross:"darkTrellis",ThinHorzStripe:"lightHorizontal",ThinVertStripe:"lightVertical",ThinReverseDiagStripe:"lightDown",ThinHorzCross:"lightGrid"};function tD(r,e,t,n){e.Borders=[];var a={},i=!1;(r[0].match(Ei)||[]).forEach(function(o){var l=lr(o);switch(Ll(l[0])){case"<borders":case"<borders>":case"</borders>":break;case"<border":case"<border>":case"<border/>":a={},l.diagonalUp&&(a.diagonalUp=Bn(l.diagonalUp)),l.diagonalDown&&(a.diagonalDown=Bn(l.diagonalDown)),e.Borders.push(a);break;case"</border>":break;case"<left/>":break;case"<left":case"<left>":break;case"</left>":break;case"<right/>":break;case"<right":case"<right>":break;case"</right>":break;case"<top/>":break;case"<top":case"<top>":break;case"</top>":break;case"<bottom/>":break;case"<bottom":case"<bottom>":break;case"</bottom>":break;case"<diagonal":case"<diagonal>":case"<diagonal/>":break;case"</diagonal>":break;case"<horizontal":case"<horizontal>":case"<horizontal/>":break;case"</horizontal>":break;case"<vertical":case"<vertical>":case"<vertical/>":break;case"</vertical>":break;case"<start":case"<start>":case"<start/>":break;case"</start>":break;case"<end":case"<end>":case"<end/>":break;case"</end>":break;case"<color":case"<color>":break;case"<color/>":case"</color>":break;case"<extLst":case"<extLst>":case"</extLst>":break;case"<ext":i=!0;break;case"</ext>":i=!1;break;default:if(n&&n.WTF&&!i)throw new Error("unrecognized "+l[0]+" in borders")}})}function rD(r,e,t,n){e.Fills=[];var a={},i=!1;(r[0].match(Ei)||[]).forEach(function(o){var l=lr(o);switch(Ll(l[0])){case"<fills":case"<fills>":case"</fills>":break;case"<fill>":case"<fill":case"<fill/>":a={},e.Fills.push(a);break;case"</fill>":break;case"<gradientFill>":break;case"<gradientFill":case"</gradientFill>":e.Fills.push(a),a={};break;case"<patternFill":case"<patternFill>":l.patternType&&(a.patternType=l.patternType);break;case"<patternFill/>":case"</patternFill>":break;case"<bgColor":a.bgColor||(a.bgColor={}),l.indexed&&(a.bgColor.indexed=parseInt(l.indexed,10)),l.theme&&(a.bgColor.theme=parseInt(l.theme,10)),l.tint&&(a.bgColor.tint=parseFloat(l.tint)),l.rgb&&(a.bgColor.rgb=l.rgb.slice(-6));break;case"<bgColor/>":case"</bgColor>":break;case"<fgColor":a.fgColor||(a.fgColor={}),l.theme&&(a.fgColor.theme=parseInt(l.theme,10)),l.tint&&(a.fgColor.tint=parseFloat(l.tint)),l.rgb!=null&&(a.fgColor.rgb=l.rgb.slice(-6));break;case"<fgColor/>":case"</fgColor>":break;case"<stop":case"<stop/>":break;case"</stop>":break;case"<color":case"<color/>":break;case"</color>":break;case"<extLst":case"<extLst>":case"</extLst>":break;case"<ext":i=!0;break;case"</ext>":i=!1;break;default:if(n&&n.WTF&&!i)throw new Error("unrecognized "+l[0]+" in fills")}})}function nD(r,e,t,n){e.Fonts=[];var a={},i=!1;(r[0].match(Ei)||[]).forEach(function(o){var l=lr(o);switch(Ll(l[0])){case"<fonts":case"<fonts>":case"</fonts>":break;case"<font":case"<font>":break;case"</font>":case"<font/>":e.Fonts.push(a),a={};break;case"<name":l.val&&(a.name=yn(l.val));break;case"<name/>":case"</name>":break;case"<b":a.bold=l.val?Bn(l.val):1;break;case"<b/>":a.bold=1;break;case"<i":a.italic=l.val?Bn(l.val):1;break;case"<i/>":a.italic=1;break;case"<u":switch(l.val){case"none":a.underline=0;break;case"single":a.underline=1;break;case"double":a.underline=2;break;case"singleAccounting":a.underline=33;break;case"doubleAccounting":a.underline=34;break}break;case"<u/>":a.underline=1;break;case"<strike":a.strike=l.val?Bn(l.val):1;break;case"<strike/>":a.strike=1;break;case"<outline":a.outline=l.val?Bn(l.val):1;break;case"<outline/>":a.outline=1;break;case"<shadow":a.shadow=l.val?Bn(l.val):1;break;case"<shadow/>":a.shadow=1;break;case"<condense":a.condense=l.val?Bn(l.val):1;break;case"<condense/>":a.condense=1;break;case"<extend":a.extend=l.val?Bn(l.val):1;break;case"<extend/>":a.extend=1;break;case"<sz":l.val&&(a.sz=+l.val);break;case"<sz/>":case"</sz>":break;case"<vertAlign":l.val&&(a.vertAlign=l.val);break;case"<vertAlign/>":case"</vertAlign>":break;case"<family":l.val&&(a.family=parseInt(l.val,10));break;case"<family/>":case"</family>":break;case"<scheme":l.val&&(a.scheme=l.val);break;case"<scheme/>":case"</scheme>":break;case"<charset":if(l.val=="1")break;l.codepage=yv[parseInt(l.val,10)];break;case"<color":if(a.color||(a.color={}),l.auto&&(a.color.auto=Bn(l.auto)),l.rgb)a.color.rgb=l.rgb.slice(-6);else if(l.indexed){a.color.index=parseInt(l.indexed,10);var u=ph[a.color.index];a.color.index==81&&(u=ph[1]),u||(u=ph[1]),a.color.rgb=u[0].toString(16)+u[1].toString(16)+u[2].toString(16)}else l.theme&&(a.color.theme=parseInt(l.theme,10),l.tint&&(a.color.tint=parseFloat(l.tint)),l.theme&&t.themeElements&&t.themeElements.clrScheme&&(a.color.rgb=mp(t.themeElements.clrScheme[a.color.theme].rgb,a.color.tint||0)));break;case"<color/>":case"</color>":break;case"<AlternateContent":i=!0;break;case"</AlternateContent>":i=!1;break;case"<extLst":case"<extLst>":case"</extLst>":break;case"<ext":i=!0;break;case"</ext>":i=!1;break;default:if(n&&n.WTF&&!i)throw new Error("unrecognized "+l[0]+" in fonts")}})}function aD(r,e,t){e.NumberFmt=[];for(var n=Ol(yr),a=0;a<n.length;++a)e.NumberFmt[n[a]]=yr[n[a]];var i=r[0].match(Ei);if(i)for(a=0;a<i.length;++a){var o=lr(i[a]);switch(Ll(o[0])){case"<numFmts":case"</numFmts>":case"<numFmts/>":case"<numFmts>":break;case"<numFmt":{var l=Vr(yn(o.formatCode)),u=parseInt(o.numFmtId,10);if(e.NumberFmt[u]=l,u>0){if(u>392){for(u=392;u>60&&e.NumberFmt[u]!=null;--u);e.NumberFmt[u]=l}gh(l,u)}}break;case"</numFmt>":break;default:if(t.WTF)throw new Error("unrecognized "+o[0]+" in numFmts")}}}var tg=["numFmtId","fillId","fontId","borderId","xfId"],rg=["applyAlignment","applyBorder","applyFill","applyFont","applyNumberFormat","applyProtection","pivotButton","quotePrefix"];function iD(r,e,t){e.CellXf=[];var n,a=!1;(r[0].match(Ei)||[]).forEach(function(i){var o=lr(i),l=0;switch(Ll(o[0])){case"<cellXfs":case"<cellXfs>":case"<cellXfs/>":case"</cellXfs>":break;case"<xf":case"<xf/>":for(n=o,delete n[0],l=0;l<tg.length;++l)n[tg[l]]&&(n[tg[l]]=parseInt(n[tg[l]],10));for(l=0;l<rg.length;++l)n[rg[l]]&&(n[rg[l]]=Bn(n[rg[l]]));if(e.NumberFmt&&n.numFmtId>392){for(l=392;l>60;--l)if(e.NumberFmt[n.numFmtId]==e.NumberFmt[l]){n.numFmtId=l;break}}e.CellXf.push(n);break;case"</xf>":break;case"<alignment":case"<alignment/>":var u={};o.vertical&&(u.vertical=o.vertical),o.horizontal&&(u.horizontal=o.horizontal),o.textRotation!=null&&(u.textRotation=o.textRotation),o.indent&&(u.indent=o.indent),o.wrapText&&(u.wrapText=Bn(o.wrapText)),n.alignment=u;break;case"</alignment>":break;case"<protection":break;case"</protection>":case"<protection/>":break;case"<AlternateContent":a=!0;break;case"</AlternateContent>":a=!1;break;case"<extLst":case"<extLst>":case"</extLst>":break;case"<ext":a=!0;break;case"</ext>":a=!1;break;default:if(t&&t.WTF&&!a)throw new Error("unrecognized "+o[0]+" in cellXfs")}})}var sD=(function(){var e=/<(?:\w+:)?numFmts([^>]*)>[\S\s]*?<\/(?:\w+:)?numFmts>/,t=/<(?:\w+:)?cellXfs([^>]*)>[\S\s]*?<\/(?:\w+:)?cellXfs>/,n=/<(?:\w+:)?fills([^>]*)>[\S\s]*?<\/(?:\w+:)?fills>/,a=/<(?:\w+:)?fonts([^>]*)>[\S\s]*?<\/(?:\w+:)?fonts>/,i=/<(?:\w+:)?borders([^>]*)>[\S\s]*?<\/(?:\w+:)?borders>/;return function(l,u,h){var f={};if(!l)return f;l=l.replace(/<!--([\s\S]*?)-->/mg,"").replace(/<!DOCTYPE[^\[]*\[[^\]]*\]>/gm,"");var m;return(m=l.match(e))&&aD(m,f,h),(m=l.match(a))&&nD(m,f,u,h),(m=l.match(n))&&rD(m,f,u,h),(m=l.match(i))&&tD(m,f,u,h),(m=l.match(t))&&iD(m,f,h),f}})();function oD(r,e){var t=r.read_shift(2),n=Ci(r);return[t,n]}function lD(r,e,t){var n={};n.sz=r.read_shift(2)/20;var a=vN(r);a.fItalic&&(n.italic=1),a.fCondense&&(n.condense=1),a.fExtend&&(n.extend=1),a.fShadow&&(n.shadow=1),a.fOutline&&(n.outline=1),a.fStrikeout&&(n.strike=1);var i=r.read_shift(2);switch(i===700&&(n.bold=1),r.read_shift(2)){case 1:n.vertAlign="superscript";break;case 2:n.vertAlign="subscript";break}var o=r.read_shift(1);o!=0&&(n.underline=o);var l=r.read_shift(1);l>0&&(n.family=l);var u=r.read_shift(1);switch(u>0&&(n.charset=u),r.l++,n.color=xN(r),r.read_shift(1)){case 1:n.scheme="major";break;case 2:n.scheme="minor";break}return n.name=Ci(r),n}var cD=Ai;function uD(r,e){var t=r.l+e,n=r.read_shift(2),a=r.read_shift(2);return r.l=t,{ixfe:n,numFmtId:a}}var hD=Ai;function fD(r,e,t){var n={};n.NumberFmt=[];for(var a in yr)n.NumberFmt[a]=yr[a];n.CellXf=[],n.Fonts=[];var i=[],o=!1;return Tc(r,function(u,h,f){switch(f){case 44:n.NumberFmt[u[0]]=u[1],gh(u[1],u[0]);break;case 43:n.Fonts.push(u),u.color.theme!=null&&e&&e.themeElements&&e.themeElements.clrScheme&&(u.color.rgb=mp(e.themeElements.clrScheme[u.color.theme].rgb,u.color.tint||0));break;case 1025:break;case 45:break;case 46:break;case 47:i[i.length-1]==617&&n.CellXf.push(u);break;case 48:case 507:case 572:case 475:break;case 1171:case 2102:case 1130:case 512:case 2095:case 3072:break;case 35:o=!0;break;case 36:o=!1;break;case 37:i.push(f),o=!0;break;case 38:i.pop(),o=!1;break;default:if(h.T>0)i.push(f);else if(h.T<0)i.pop();else if(!o||t.WTF&&i[i.length-1]!=37)throw new Error("Unexpected record 0x"+f.toString(16))}}),n}var dD=["</a:lt1>","</a:dk1>","</a:lt2>","</a:dk2>","</a:accent1>","</a:accent2>","</a:accent3>","</a:accent4>","</a:accent5>","</a:accent6>","</a:hlink>","</a:folHlink>"];function gD(r,e,t){e.themeElements.clrScheme=[];var n={};(r[0].match(Ei)||[]).forEach(function(a){var i=lr(a);switch(i[0]){case"<a:clrScheme":case"</a:clrScheme>":break;case"<a:srgbClr":n.rgb=i.val;break;case"<a:sysClr":n.rgb=i.lastClr;break;case"<a:dk1>":case"</a:dk1>":case"<a:lt1>":case"</a:lt1>":case"<a:dk2>":case"</a:dk2>":case"<a:lt2>":case"</a:lt2>":case"<a:accent1>":case"</a:accent1>":case"<a:accent2>":case"</a:accent2>":case"<a:accent3>":case"</a:accent3>":case"<a:accent4>":case"</a:accent4>":case"<a:accent5>":case"</a:accent5>":case"<a:accent6>":case"</a:accent6>":case"<a:hlink>":case"</a:hlink>":case"<a:folHlink>":case"</a:folHlink>":i[0].charAt(1)==="/"?(e.themeElements.clrScheme[dD.indexOf(i[0])]=n,n={}):n.name=i[0].slice(3,i[0].length-1);break;default:if(t&&t.WTF)throw new Error("Unrecognized "+i[0]+" in clrScheme")}})}function pD(){}function mD(){}var xD=/<a:clrScheme([^>]*)>[\s\S]*<\/a:clrScheme>/,vD=/<a:fontScheme([^>]*)>[\s\S]*<\/a:fontScheme>/,yD=/<a:fmtScheme([^>]*)>[\s\S]*<\/a:fmtScheme>/;function bD(r,e,t){e.themeElements={};var n;[["clrScheme",xD,gD],["fontScheme",vD,pD],["fmtScheme",yD,mD]].forEach(function(a){if(!(n=r.match(a[1])))throw new Error(a[0]+" not found in themeElements");a[2](n,e,t)})}var wD=/<a:themeElements([^>]*)>[\s\S]*<\/a:themeElements>/;function HS(r,e){(!r||r.length===0)&&(r=_D());var t,n={};if(!(t=r.match(wD)))throw new Error("themeElements not found in theme");return bD(t[0],n,e),n.raw=r,n}function _D(r,e){var t=[Q3];return t[t.length]='<a:theme xmlns:a="http://schemas.openxmlformats.org/drawingml/2006/main" name="Office Theme">',t[t.length]="<a:themeElements>",t[t.length]='<a:clrScheme name="Office">',t[t.length]='<a:dk1><a:sysClr val="windowText" lastClr="000000"/></a:dk1>',t[t.length]='<a:lt1><a:sysClr val="window" lastClr="FFFFFF"/></a:lt1>',t[t.length]='<a:dk2><a:srgbClr val="1F497D"/></a:dk2>',t[t.length]='<a:lt2><a:srgbClr val="EEECE1"/></a:lt2>',t[t.length]='<a:accent1><a:srgbClr val="4F81BD"/></a:accent1>',t[t.length]='<a:accent2><a:srgbClr val="C0504D"/></a:accent2>',t[t.length]='<a:accent3><a:srgbClr val="9BBB59"/></a:accent3>',t[t.length]='<a:accent4><a:srgbClr val="8064A2"/></a:accent4>',t[t.length]='<a:accent5><a:srgbClr val="4BACC6"/></a:accent5>',t[t.length]='<a:accent6><a:srgbClr val="F79646"/></a:accent6>',t[t.length]='<a:hlink><a:srgbClr val="0000FF"/></a:hlink>',t[t.length]='<a:folHlink><a:srgbClr val="800080"/></a:folHlink>',t[t.length]="</a:clrScheme>",t[t.length]='<a:fontScheme name="Office">',t[t.length]="<a:majorFont>",t[t.length]='<a:latin typeface="Cambria"/>',t[t.length]='<a:ea typeface=""/>',t[t.length]='<a:cs typeface=""/>',t[t.length]='<a:font script="Jpan" typeface=" "/>',t[t.length]='<a:font script="Hang" typeface=" "/>',t[t.length]='<a:font script="Hans" typeface=""/>',t[t.length]='<a:font script="Hant" typeface=""/>',t[t.length]='<a:font script="Arab" typeface="Times New Roman"/>',t[t.length]='<a:font script="Hebr" typeface="Times New Roman"/>',t[t.length]='<a:font script="Thai" typeface="Tahoma"/>',t[t.length]='<a:font script="Ethi" typeface="Nyala"/>',t[t.length]='<a:font script="Beng" typeface="Vrinda"/>',t[t.length]='<a:font script="Gujr" typeface="Shruti"/>',t[t.length]='<a:font script="Khmr" typeface="MoolBoran"/>',t[t.length]='<a:font script="Knda" typeface="Tunga"/>',t[t.length]='<a:font script="Guru" typeface="Raavi"/>',t[t.length]='<a:font script="Cans" typeface="Euphemia"/>',t[t.length]='<a:font script="Cher" typeface="Plantagenet Cherokee"/>',t[t.length]='<a:font script="Yiii" typeface="Microsoft Yi Baiti"/>',t[t.length]='<a:font script="Tibt" typeface="Microsoft Himalaya"/>',t[t.length]='<a:font script="Thaa" typeface="MV Boli"/>',t[t.length]='<a:font script="Deva" typeface="Mangal"/>',t[t.length]='<a:font script="Telu" typeface="Gautami"/>',t[t.length]='<a:font script="Taml" typeface="Latha"/>',t[t.length]='<a:font script="Syrc" typeface="Estrangelo Edessa"/>',t[t.length]='<a:font script="Orya" typeface="Kalinga"/>',t[t.length]='<a:font script="Mlym" typeface="Kartika"/>',t[t.length]='<a:font script="Laoo" typeface="DokChampa"/>',t[t.length]='<a:font script="Sinh" typeface="Iskoola Pota"/>',t[t.length]='<a:font script="Mong" typeface="Mongolian Baiti"/>',t[t.length]='<a:font script="Viet" typeface="Times New Roman"/>',t[t.length]='<a:font script="Uigh" typeface="Microsoft Uighur"/>',t[t.length]='<a:font script="Geor" typeface="Sylfaen"/>',t[t.length]="</a:majorFont>",t[t.length]="<a:minorFont>",t[t.length]='<a:latin typeface="Calibri"/>',t[t.length]='<a:ea typeface=""/>',t[t.length]='<a:cs typeface=""/>',t[t.length]='<a:font script="Jpan" typeface=" "/>',t[t.length]='<a:font script="Hang" typeface=" "/>',t[t.length]='<a:font script="Hans" typeface=""/>',t[t.length]='<a:font script="Hant" typeface=""/>',t[t.length]='<a:font script="Arab" typeface="Arial"/>',t[t.length]='<a:font script="Hebr" typeface="Arial"/>',t[t.length]='<a:font script="Thai" typeface="Tahoma"/>',t[t.length]='<a:font script="Ethi" typeface="Nyala"/>',t[t.length]='<a:font script="Beng" typeface="Vrinda"/>',t[t.length]='<a:font script="Gujr" typeface="Shruti"/>',t[t.length]='<a:font script="Khmr" typeface="DaunPenh"/>',t[t.length]='<a:font script="Knda" typeface="Tunga"/>',t[t.length]='<a:font script="Guru" typeface="Raavi"/>',t[t.length]='<a:font script="Cans" typeface="Euphemia"/>',t[t.length]='<a:font script="Cher" typeface="Plantagenet Cherokee"/>',t[t.length]='<a:font script="Yiii" typeface="Microsoft Yi Baiti"/>',t[t.length]='<a:font script="Tibt" typeface="Microsoft Himalaya"/>',t[t.length]='<a:font script="Thaa" typeface="MV Boli"/>',t[t.length]='<a:font script="Deva" typeface="Mangal"/>',t[t.length]='<a:font script="Telu" typeface="Gautami"/>',t[t.length]='<a:font script="Taml" typeface="Latha"/>',t[t.length]='<a:font script="Syrc" typeface="Estrangelo Edessa"/>',t[t.length]='<a:font script="Orya" typeface="Kalinga"/>',t[t.length]='<a:font script="Mlym" typeface="Kartika"/>',t[t.length]='<a:font script="Laoo" typeface="DokChampa"/>',t[t.length]='<a:font script="Sinh" typeface="Iskoola Pota"/>',t[t.length]='<a:font script="Mong" typeface="Mongolian Baiti"/>',t[t.length]='<a:font script="Viet" typeface="Arial"/>',t[t.length]='<a:font script="Uigh" typeface="Microsoft Uighur"/>',t[t.length]='<a:font script="Geor" typeface="Sylfaen"/>',t[t.length]="</a:minorFont>",t[t.length]="</a:fontScheme>",t[t.length]='<a:fmtScheme name="Office">',t[t.length]="<a:fillStyleLst>",t[t.length]='<a:solidFill><a:schemeClr val="phClr"/></a:solidFill>',t[t.length]='<a:gradFill rotWithShape="1">',t[t.length]="<a:gsLst>",t[t.length]='<a:gs pos="0"><a:schemeClr val="phClr"><a:tint val="50000"/><a:satMod val="300000"/></a:schemeClr></a:gs>',t[t.length]='<a:gs pos="35000"><a:schemeClr val="phClr"><a:tint val="37000"/><a:satMod val="300000"/></a:schemeClr></a:gs>',t[t.length]='<a:gs pos="100000"><a:schemeClr val="phClr"><a:tint val="15000"/><a:satMod val="350000"/></a:schemeClr></a:gs>',t[t.length]="</a:gsLst>",t[t.length]='<a:lin ang="16200000" scaled="1"/>',t[t.length]="</a:gradFill>",t[t.length]='<a:gradFill rotWithShape="1">',t[t.length]="<a:gsLst>",t[t.length]='<a:gs pos="0"><a:schemeClr val="phClr"><a:tint val="100000"/><a:shade val="100000"/><a:satMod val="130000"/></a:schemeClr></a:gs>',t[t.length]='<a:gs pos="100000"><a:schemeClr val="phClr"><a:tint val="50000"/><a:shade val="100000"/><a:satMod val="350000"/></a:schemeClr></a:gs>',t[t.length]="</a:gsLst>",t[t.length]='<a:lin ang="16200000" scaled="0"/>',t[t.length]="</a:gradFill>",t[t.length]="</a:fillStyleLst>",t[t.length]="<a:lnStyleLst>",t[t.length]='<a:ln w="9525" cap="flat" cmpd="sng" algn="ctr"><a:solidFill><a:schemeClr val="phClr"><a:shade val="95000"/><a:satMod val="105000"/></a:schemeClr></a:solidFill><a:prstDash val="solid"/></a:ln>',t[t.length]='<a:ln w="25400" cap="flat" cmpd="sng" algn="ctr"><a:solidFill><a:schemeClr val="phClr"/></a:solidFill><a:prstDash val="solid"/></a:ln>',t[t.length]='<a:ln w="38100" cap="flat" cmpd="sng" algn="ctr"><a:solidFill><a:schemeClr val="phClr"/></a:solidFill><a:prstDash val="solid"/></a:ln>',t[t.length]="</a:lnStyleLst>",t[t.length]="<a:effectStyleLst>",t[t.length]="<a:effectStyle>",t[t.length]="<a:effectLst>",t[t.length]='<a:outerShdw blurRad="40000" dist="20000" dir="5400000" rotWithShape="0"><a:srgbClr val="000000"><a:alpha val="38000"/></a:srgbClr></a:outerShdw>',t[t.length]="</a:effectLst>",t[t.length]="</a:effectStyle>",t[t.length]="<a:effectStyle>",t[t.length]="<a:effectLst>",t[t.length]='<a:outerShdw blurRad="40000" dist="23000" dir="5400000" rotWithShape="0"><a:srgbClr val="000000"><a:alpha val="35000"/></a:srgbClr></a:outerShdw>',t[t.length]="</a:effectLst>",t[t.length]="</a:effectStyle>",t[t.length]="<a:effectStyle>",t[t.length]="<a:effectLst>",t[t.length]='<a:outerShdw blurRad="40000" dist="23000" dir="5400000" rotWithShape="0"><a:srgbClr val="000000"><a:alpha val="35000"/></a:srgbClr></a:outerShdw>',t[t.length]="</a:effectLst>",t[t.length]='<a:scene3d><a:camera prst="orthographicFront"><a:rot lat="0" lon="0" rev="0"/></a:camera><a:lightRig rig="threePt" dir="t"><a:rot lat="0" lon="0" rev="1200000"/></a:lightRig></a:scene3d>',t[t.length]='<a:sp3d><a:bevelT w="63500" h="25400"/></a:sp3d>',t[t.length]="</a:effectStyle>",t[t.length]="</a:effectStyleLst>",t[t.length]="<a:bgFillStyleLst>",t[t.length]='<a:solidFill><a:schemeClr val="phClr"/></a:solidFill>',t[t.length]='<a:gradFill rotWithShape="1">',t[t.length]="<a:gsLst>",t[t.length]='<a:gs pos="0"><a:schemeClr val="phClr"><a:tint val="40000"/><a:satMod val="350000"/></a:schemeClr></a:gs>',t[t.length]='<a:gs pos="40000"><a:schemeClr val="phClr"><a:tint val="45000"/><a:shade val="99000"/><a:satMod val="350000"/></a:schemeClr></a:gs>',t[t.length]='<a:gs pos="100000"><a:schemeClr val="phClr"><a:shade val="20000"/><a:satMod val="255000"/></a:schemeClr></a:gs>',t[t.length]="</a:gsLst>",t[t.length]='<a:path path="circle"><a:fillToRect l="50000" t="-80000" r="50000" b="180000"/></a:path>',t[t.length]="</a:gradFill>",t[t.length]='<a:gradFill rotWithShape="1">',t[t.length]="<a:gsLst>",t[t.length]='<a:gs pos="0"><a:schemeClr val="phClr"><a:tint val="80000"/><a:satMod val="300000"/></a:schemeClr></a:gs>',t[t.length]='<a:gs pos="100000"><a:schemeClr val="phClr"><a:shade val="30000"/><a:satMod val="200000"/></a:schemeClr></a:gs>',t[t.length]="</a:gsLst>",t[t.length]='<a:path path="circle"><a:fillToRect l="50000" t="50000" r="50000" b="50000"/></a:path>',t[t.length]="</a:gradFill>",t[t.length]="</a:bgFillStyleLst>",t[t.length]="</a:fmtScheme>",t[t.length]="</a:themeElements>",t[t.length]="<a:objectDefaults>",t[t.length]="<a:spDef>",t[t.length]='<a:spPr/><a:bodyPr/><a:lstStyle/><a:style><a:lnRef idx="1"><a:schemeClr val="accent1"/></a:lnRef><a:fillRef idx="3"><a:schemeClr val="accent1"/></a:fillRef><a:effectRef idx="2"><a:schemeClr val="accent1"/></a:effectRef><a:fontRef idx="minor"><a:schemeClr val="lt1"/></a:fontRef></a:style>',t[t.length]="</a:spDef>",t[t.length]="<a:lnDef>",t[t.length]='<a:spPr/><a:bodyPr/><a:lstStyle/><a:style><a:lnRef idx="2"><a:schemeClr val="accent1"/></a:lnRef><a:fillRef idx="0"><a:schemeClr val="accent1"/></a:fillRef><a:effectRef idx="1"><a:schemeClr val="accent1"/></a:effectRef><a:fontRef idx="minor"><a:schemeClr val="tx1"/></a:fontRef></a:style>',t[t.length]="</a:lnDef>",t[t.length]="</a:objectDefaults>",t[t.length]="<a:extraClrSchemeLst/>",t[t.length]="</a:theme>",t.join("")}function SD(r,e,t){var n=r.l+e,a=r.read_shift(4);if(a!==124226){if(!t.cellStyles){r.l=n;return}var i=r.slice(r.l);r.l=n;var o;try{o=J3(i,{type:"array"})}catch{return}var l=Fs(o,"theme/theme/theme1.xml",!0);if(l)return HS(l,t)}}function kD(r){return r.read_shift(4)}function CD(r){var e={};switch(e.xclrType=r.read_shift(2),e.nTintShade=r.read_shift(2),e.xclrType){case 0:r.l+=4;break;case 1:e.xclrValue=TD(r,4);break;case 2:e.xclrValue=ES(r);break;case 3:e.xclrValue=kD(r);break;case 4:r.l+=4;break}return r.l+=8,e}function TD(r,e){return Ai(r,e)}function AD(r,e){return Ai(r,e)}function ED(r){var e=r.read_shift(2),t=r.read_shift(2)-4,n=[e];switch(e){case 4:case 5:case 7:case 8:case 9:case 10:case 11:case 13:n[1]=CD(r);break;case 6:n[1]=AD(r,t);break;case 14:case 15:n[1]=r.read_shift(t===1?1:2);break;default:throw new Error("Unrecognized ExtProp type: "+e+" "+t)}return n}function ND(r,e){var t=r.l+e;r.l+=2;var n=r.read_shift(2);r.l+=2;for(var a=r.read_shift(2),i=[];a-- >0;)i.push(ED(r,t-r.l));return{ixfe:n,ext:i}}function OD(r,e){e.forEach(function(t){t[0]})}function DD(r,e){return{flags:r.read_shift(4),version:r.read_shift(4),name:Ci(r)}}function LD(r){for(var e=[],t=r.read_shift(4);t-- >0;)e.push([r.read_shift(4),r.read_shift(4)]);return e}function FD(r){return r.l+=4,r.read_shift(4)!=0}function MD(r,e,t){var n={Types:[],Cell:[],Value:[]},a=t||{},i=[],o=!1,l=2;return Tc(r,function(u,h,f){switch(f){case 335:n.Types.push({name:u.name});break;case 51:u.forEach(function(m){l==1?n.Cell.push({type:n.Types[m[0]-1].name,index:m[1]}):l==0&&n.Value.push({type:n.Types[m[0]-1].name,index:m[1]})});break;case 337:l=u?1:0;break;case 338:l=2;break;case 35:i.push(f),o=!0;break;case 36:i.pop(),o=!1;break;default:if(!h.T){if(!o||a.WTF&&i[i.length-1]!=35)throw new Error("Unexpected record 0x"+f.toString(16))}}}),n}function jD(r,e,t){var n={Types:[],Cell:[],Value:[]};if(!r)return n;var a=!1,i=2,o;return r.replace(Ei,function(l){var u=lr(l);switch(Ll(u[0])){case"<?xml":break;case"<metadata":case"</metadata>":break;case"<metadataTypes":case"</metadataTypes>":break;case"<metadataType":n.Types.push({name:u.name});break;case"</metadataType>":break;case"<futureMetadata":for(var h=0;h<n.Types.length;++h)n.Types[h].name==u.name&&(o=n.Types[h]);break;case"</futureMetadata>":break;case"<bk>":break;case"</bk>":break;case"<rc":i==1?n.Cell.push({type:n.Types[u.t-1].name,index:+u.v}):i==0&&n.Value.push({type:n.Types[u.t-1].name,index:+u.v});break;case"</rc>":break;case"<cellMetadata":i=1;break;case"</cellMetadata>":i=2;break;case"<valueMetadata":i=0;break;case"</valueMetadata>":i=2;break;case"<extLst":case"<extLst>":case"</extLst>":case"<extLst/>":break;case"<ext":a=!0;break;case"</ext>":a=!1;break;case"<rvb":if(!o)break;o.offsets||(o.offsets=[]),o.offsets.push(+u.i);break;default:if(!a&&t.WTF)throw new Error("unrecognized "+u[0]+" in metadata")}return l}),n}function RD(r){var e=[];if(!r)return e;var t=1;return(r.match(Ei)||[]).forEach(function(n){var a=lr(n);switch(a[0]){case"<?xml":break;case"<calcChain":case"<calcChain>":case"</calcChain>":break;case"<c":delete a[0],a.i?t=a.i:a.i=t,e.push(a);break}}),e}function BD(r){var e={};e.i=r.read_shift(4);var t={};t.r=r.read_shift(4),t.c=r.read_shift(4),e.r=xr(t);var n=r.read_shift(1);return n&2&&(e.l="1"),n&8&&(e.a="1"),e}function PD(r,e,t){var n=[];return Tc(r,function(i,o,l){switch(l){case 63:n.push(i);break;default:if(!o.T)throw new Error("Unexpected record 0x"+l.toString(16))}}),n}function ID(r,e,t,n){if(!r)return r;var a=n||{},i=!1;Tc(r,function(l,u,h){switch(h){case 359:case 363:case 364:case 366:case 367:case 368:case 369:case 370:case 371:case 472:case 577:case 578:case 579:case 580:case 581:case 582:case 583:case 584:case 585:case 586:case 587:break;case 35:i=!0;break;case 36:i=!1;break;default:if(!u.T){if(!i||a.WTF)throw new Error("Unexpected record 0x"+h.toString(16))}}},a)}function UD(r,e){if(!r)return"??";var t=(r.match(/<c:chart [^>]*r:id="([^"]*)"/)||["",""])[1];return e["!id"][t].Target}function Vw(r,e,t,n){var a=Array.isArray(r),i;e.forEach(function(o){var l=Ui(o.ref);if(a?(r[l.r]||(r[l.r]=[]),i=r[l.r][l.c]):i=r[o.ref],!i){i={t:"z"},a?r[l.r][l.c]=i:r[o.ref]=i;var u=ta(r["!ref"]||"BDWGO1000001:A1");u.s.r>l.r&&(u.s.r=l.r),u.e.r<l.r&&(u.e.r=l.r),u.s.c>l.c&&(u.s.c=l.c),u.e.c<l.c&&(u.e.c=l.c);var h=Ur(u);h!==r["!ref"]&&(r["!ref"]=h)}i.c||(i.c=[]);var f={a:o.author,t:o.t,r:o.r,T:t};o.h&&(f.h=o.h);for(var m=i.c.length-1;m>=0;--m){if(!t&&i.c[m].T)return;t&&!i.c[m].T&&i.c.splice(m,1)}if(t&&n){for(m=0;m<n.length;++m)if(f.a==n[m].id){f.a=n[m].name||f.a;break}}i.c.push(f)})}function zD(r,e){if(r.match(/<(?:\w+:)?comments *\/>/))return[];var t=[],n=[],a=r.match(/<(?:\w+:)?authors>([\s\S]*)<\/(?:\w+:)?authors>/);a&&a[1]&&a[1].split(/<\/\w*:?author>/).forEach(function(o){if(!(o===""||o.trim()==="")){var l=o.match(/<(?:\w+:)?author[^>]*>(.*)/);l&&t.push(l[1])}});var i=r.match(/<(?:\w+:)?commentList>([\s\S]*)<\/(?:\w+:)?commentList>/);return i&&i[1]&&i[1].split(/<\/\w*:?comment>/).forEach(function(o){if(!(o===""||o.trim()==="")){var l=o.match(/<(?:\w+:)?comment[^>]*>/);if(l){var u=lr(l[0]),h={author:u.authorId&&t[u.authorId]||"sheetjsghost",ref:u.ref,guid:u.guid},f=Ui(u.ref);if(!(e.sheetRows&&e.sheetRows<=f.r)){var m=o.match(/<(?:\w+:)?text>([\s\S]*)<\/(?:\w+:)?text>/),x=!!m&&!!m[1]&&Rv(m[1])||{r:"",t:"",h:""};h.r=x.r,x.r=="<t></t>"&&(x.t=x.h=""),h.t=(x.t||"").replace(/\r\n/g,`
`).replace(/\r/g,`
`),e.cellHTML&&(h.h=x.h),n.push(h)}}}}),n}function HD(r,e){var t=[],n=!1,a={},i=0;return r.replace(Ei,function(l,u){var h=lr(l);switch(Ll(h[0])){case"<?xml":break;case"<ThreadedComments":break;case"</ThreadedComments>":break;case"<threadedComment":a={author:h.personId,guid:h.id,ref:h.ref,T:1};break;case"</threadedComment>":a.t!=null&&t.push(a);break;case"<text>":case"<text":i=u+l.length;break;case"</text>":a.t=r.slice(i,u).replace(/\r\n/g,`
`).replace(/\r/g,`
`);break;case"<mentions":case"<mentions>":n=!0;break;case"</mentions>":n=!1;break;case"<extLst":case"<extLst>":case"</extLst>":case"<extLst/>":break;case"<ext":n=!0;break;case"</ext>":n=!1;break;default:if(!n&&e.WTF)throw new Error("unrecognized "+h[0]+" in threaded comments")}return l}),t}function qD(r,e){var t=[],n=!1;return r.replace(Ei,function(i){var o=lr(i);switch(Ll(o[0])){case"<?xml":break;case"<personList":break;case"</personList>":break;case"<person":t.push({name:o.displayname,id:o.id});break;case"</person>":break;case"<extLst":case"<extLst>":case"</extLst>":case"<extLst/>":break;case"<ext":n=!0;break;case"</ext>":n=!1;break;default:if(!n&&e.WTF)throw new Error("unrecognized "+o[0]+" in threaded comments")}return i}),t}function VD(r){var e={};e.iauthor=r.read_shift(4);var t=Eh(r);return e.rfx=t.s,e.ref=xr(t.s),r.l+=16,e}var GD=Ci;function WD(r,e){var t=[],n=[],a={},i=!1;return Tc(r,function(l,u,h){switch(h){case 632:n.push(l);break;case 635:a=l;break;case 637:a.t=l.t,a.h=l.h,a.r=l.r;break;case 636:if(a.author=n[a.iauthor],delete a.iauthor,e.sheetRows&&a.rfx&&e.sheetRows<=a.rfx.r)break;a.t||(a.t=""),delete a.rfx,t.push(a);break;case 3072:break;case 35:i=!0;break;case 36:i=!1;break;case 37:break;case 38:break;default:if(!u.T){if(!i||e.WTF)throw new Error("Unexpected record 0x"+h.toString(16))}}}),t}var YD="application/vnd.ms-office.vbaProject";function XD(r){var e=Ir.utils.cfb_new({root:"R"});return r.FullPaths.forEach(function(t,n){if(!(t.slice(-1)==="/"||!t.match(/_VBA_PROJECT_CUR/))){var a=t.replace(/^[^\/]*/,"R").replace(/\/_VBA_PROJECT_CUR\u0000*/,"");Ir.utils.cfb_add(e,a,r.FileIndex[n].content)}}),Ir.write(e)}function KD(){return{"!type":"dialog"}}function $D(){return{"!type":"dialog"}}function ZD(){return{"!type":"macro"}}function JD(){return{"!type":"macro"}}var Vf=(function(){var r=/(^|[^A-Za-z_])R(\[?-?\d+\]|[1-9]\d*|)C(\[?-?\d+\]|[1-9]\d*|)(?![A-Za-z0-9_])/g,e={r:0,c:0};function t(n,a,i,o){var l=!1,u=!1;i.length==0?u=!0:i.charAt(0)=="["&&(u=!0,i=i.slice(1,-1)),o.length==0?l=!0:o.charAt(0)=="["&&(l=!0,o=o.slice(1,-1));var h=i.length>0?parseInt(i,10)|0:0,f=o.length>0?parseInt(o,10)|0:0;return l?f+=e.c:--f,u?h+=e.r:--h,a+(l?"":"$")+Ba(f)+(u?"":"$")+ui(h)}return function(a,i){return e=i,a.replace(r,t)}})(),qS=/(^|[^._A-Z0-9])([$]?)([A-Z]{1,2}|[A-W][A-Z]{2}|X[A-E][A-Z]|XF[A-D])([$]?)(10[0-3]\d{4}|104[0-7]\d{3}|1048[0-4]\d{2}|10485[0-6]\d|104857[0-6]|[1-9]\d{0,5})(?![_.\(A-Za-z0-9])/g,QD=(function(){return function(e,t){return e.replace(qS,function(n,a,i,o,l,u){var h=Ov(o)-(i?0:t.c),f=Nv(u)-(l?0:t.r),m=f==0?"":l?f+1:"["+f+"]",x=h==0?"":i?h+1:"["+h+"]";return a+"R"+m+"C"+x})}})();function VS(r,e){return r.replace(qS,function(t,n,a,i,o,l){return n+(a=="$"?a+i:Ba(Ov(i)+e.c))+(o=="$"?o+l:ui(Nv(l)+e.r))})}function eL(r,e,t){var n=o0(e),a=n.s,i=Ui(t),o={r:i.r-a.r,c:i.c-a.c};return VS(r,o)}function tL(r){return r.length!=1}function Gw(r){return r.replace(/_xlfn\./g,"")}function ya(r){r.l+=1}function Su(r,e){var t=r.read_shift(2);return[t&16383,t>>14&1,t>>15&1]}function GS(r,e,t){var n=2;if(t){if(t.biff>=2&&t.biff<=5)return WS(r);t.biff==12&&(n=4)}var a=r.read_shift(n),i=r.read_shift(n),o=Su(r),l=Su(r);return{s:{r:a,c:o[0],cRel:o[1],rRel:o[2]},e:{r:i,c:l[0],cRel:l[1],rRel:l[2]}}}function WS(r){var e=Su(r),t=Su(r),n=r.read_shift(1),a=r.read_shift(1);return{s:{r:e[0],c:n,cRel:e[1],rRel:e[2]},e:{r:t[0],c:a,cRel:t[1],rRel:t[2]}}}function rL(r,e,t){if(t.biff<8)return WS(r);var n=r.read_shift(t.biff==12?4:2),a=r.read_shift(t.biff==12?4:2),i=Su(r),o=Su(r);return{s:{r:n,c:i[0],cRel:i[1],rRel:i[2]},e:{r:a,c:o[0],cRel:o[1],rRel:o[2]}}}function YS(r,e,t){if(t&&t.biff>=2&&t.biff<=5)return nL(r);var n=r.read_shift(t&&t.biff==12?4:2),a=Su(r);return{r:n,c:a[0],cRel:a[1],rRel:a[2]}}function nL(r){var e=Su(r),t=r.read_shift(1);return{r:e[0],c:t,cRel:e[1],rRel:e[2]}}function aL(r){var e=r.read_shift(2),t=r.read_shift(2);return{r:e,c:t&255,fQuoted:!!(t&16384),cRel:t>>15,rRel:t>>15}}function iL(r,e,t){var n=t&&t.biff?t.biff:8;if(n>=2&&n<=5)return sL(r);var a=r.read_shift(n>=12?4:2),i=r.read_shift(2),o=(i&16384)>>14,l=(i&32768)>>15;if(i&=16383,l==1)for(;a>524287;)a-=1048576;if(o==1)for(;i>8191;)i=i-16384;return{r:a,c:i,cRel:o,rRel:l}}function sL(r){var e=r.read_shift(2),t=r.read_shift(1),n=(e&32768)>>15,a=(e&16384)>>14;return e&=16383,n==1&&e>=8192&&(e=e-16384),a==1&&t>=128&&(t=t-256),{r:e,c:t,cRel:a,rRel:n}}function oL(r,e,t){var n=(r[r.l++]&96)>>5,a=GS(r,t.biff>=2&&t.biff<=5?6:8,t);return[n,a]}function lL(r,e,t){var n=(r[r.l++]&96)>>5,a=r.read_shift(2,"i"),i=8;if(t)switch(t.biff){case 5:r.l+=12,i=6;break;case 12:i=12;break}var o=GS(r,i,t);return[n,a,o]}function cL(r,e,t){var n=(r[r.l++]&96)>>5;return r.l+=t&&t.biff>8?12:t.biff<8?6:8,[n]}function uL(r,e,t){var n=(r[r.l++]&96)>>5,a=r.read_shift(2),i=8;if(t)switch(t.biff){case 5:r.l+=12,i=6;break;case 12:i=12;break}return r.l+=i,[n,a]}function hL(r,e,t){var n=(r[r.l++]&96)>>5,a=rL(r,e-1,t);return[n,a]}function fL(r,e,t){var n=(r[r.l++]&96)>>5;return r.l+=t.biff==2?6:t.biff==12?14:7,[n]}function Ww(r){var e=r[r.l+1]&1,t=1;return r.l+=4,[e,t]}function dL(r,e,t){r.l+=2;for(var n=r.read_shift(t&&t.biff==2?1:2),a=[],i=0;i<=n;++i)a.push(r.read_shift(t&&t.biff==2?1:2));return a}function gL(r,e,t){var n=r[r.l+1]&255?1:0;return r.l+=2,[n,r.read_shift(t&&t.biff==2?1:2)]}function pL(r,e,t){var n=r[r.l+1]&255?1:0;return r.l+=2,[n,r.read_shift(t&&t.biff==2?1:2)]}function mL(r){var e=r[r.l+1]&255?1:0;return r.l+=2,[e,r.read_shift(2)]}function xL(r,e,t){var n=r[r.l+1]&255?1:0;return r.l+=t&&t.biff==2?3:4,[n]}function XS(r){var e=r.read_shift(1),t=r.read_shift(1);return[e,t]}function vL(r){return r.read_shift(2),XS(r)}function yL(r){return r.read_shift(2),XS(r)}function bL(r,e,t){var n=(r[r.l]&96)>>5;r.l+=1;var a=YS(r,0,t);return[n,a]}function wL(r,e,t){var n=(r[r.l]&96)>>5;r.l+=1;var a=iL(r,0,t);return[n,a]}function _L(r,e,t){var n=(r[r.l]&96)>>5;r.l+=1;var a=r.read_shift(2);t&&t.biff==5&&(r.l+=12);var i=YS(r,0,t);return[n,a,i]}function SL(r,e,t){var n=(r[r.l]&96)>>5;r.l+=1;var a=r.read_shift(t&&t.biff<=3?1:2);return[kF[a],ZS[a],n]}function kL(r,e,t){var n=r[r.l++],a=r.read_shift(1),i=t&&t.biff<=3?[n==88?-1:0,r.read_shift(1)]:CL(r);return[a,(i[0]===0?ZS:SF)[i[1]]]}function CL(r){return[r[r.l+1]>>7,r.read_shift(2)&32767]}function TL(r,e,t){r.l+=t&&t.biff==2?3:4}function AL(r,e,t){if(r.l++,t&&t.biff==12)return[r.read_shift(4,"i"),0];var n=r.read_shift(2),a=r.read_shift(t&&t.biff==2?1:2);return[n,a]}function EL(r){return r.l++,Nh[r.read_shift(1)]}function NL(r){return r.l++,r.read_shift(2)}function OL(r){return r.l++,r.read_shift(1)!==0}function DL(r){return r.l++,Si(r)}function LL(r,e,t){return r.l++,Xd(r,e-1,t)}function FL(r,e){var t=[r.read_shift(1)];if(e==12)switch(t[0]){case 2:t[0]=4;break;case 4:t[0]=16;break;case 0:t[0]=1;break;case 1:t[0]=2;break}switch(t[0]){case 4:t[1]=sa(r,1)?"TRUE":"FALSE",e!=12&&(r.l+=7);break;case 37:case 16:t[1]=Nh[r[r.l]],r.l+=e==12?4:8;break;case 0:r.l+=8;break;case 1:t[1]=Si(r);break;case 2:t[1]=Oh(r,0,{biff:e>0&&e<8?2:e});break;default:throw new Error("Bad SerAr: "+t[0])}return t}function ML(r,e,t){for(var n=r.read_shift(t.biff==12?4:2),a=[],i=0;i!=n;++i)a.push((t.biff==12?Eh:Pp)(r));return a}function jL(r,e,t){var n=0,a=0;t.biff==12?(n=r.read_shift(4),a=r.read_shift(4)):(a=1+r.read_shift(1),n=1+r.read_shift(2)),t.biff>=2&&t.biff<8&&(--n,--a==0&&(a=256));for(var i=0,o=[];i!=n&&(o[i]=[]);++i)for(var l=0;l!=a;++l)o[i][l]=FL(r,t.biff);return o}function RL(r,e,t){var n=r.read_shift(1)>>>5&3,a=!t||t.biff>=8?4:2,i=r.read_shift(a);switch(t.biff){case 2:r.l+=5;break;case 3:case 4:r.l+=8;break;case 5:r.l+=12;break}return[n,0,i]}function BL(r,e,t){if(t.biff==5)return PL(r);var n=r.read_shift(1)>>>5&3,a=r.read_shift(2),i=r.read_shift(4);return[n,a,i]}function PL(r){var e=r.read_shift(1)>>>5&3,t=r.read_shift(2,"i");r.l+=8;var n=r.read_shift(2);return r.l+=12,[e,t,n]}function IL(r,e,t){var n=r.read_shift(1)>>>5&3;r.l+=t&&t.biff==2?3:4;var a=r.read_shift(t&&t.biff==2?1:2);return[n,a]}function UL(r,e,t){var n=r.read_shift(1)>>>5&3,a=r.read_shift(t&&t.biff==2?1:2);return[n,a]}function zL(r,e,t){var n=r.read_shift(1)>>>5&3;return r.l+=4,t.biff<8&&r.l--,t.biff==12&&(r.l+=2),[n]}function HL(r,e,t){var n=(r[r.l++]&96)>>5,a=r.read_shift(2),i=4;if(t)switch(t.biff){case 5:i=15;break;case 12:i=6;break}return r.l+=i,[n,a]}var qL=Ai,VL=Ai,GL=Ai;function $d(r,e,t){return r.l+=2,[aL(r)]}function Pv(r){return r.l+=6,[]}var WL=$d,YL=Pv,XL=Pv,KL=$d;function KS(r){return r.l+=2,[wa(r),r.read_shift(2)&1]}var $L=$d,ZL=KS,JL=Pv,QL=$d,eF=$d,tF=["Data","All","Headers","??","?Data2","??","?DataHeaders","??","Totals","??","??","??","?DataTotals","??","??","??","?Current"];function rF(r){r.l+=2;var e=r.read_shift(2),t=r.read_shift(2),n=r.read_shift(4),a=r.read_shift(2),i=r.read_shift(2),o=tF[t>>2&31];return{ixti:e,coltype:t&3,rt:o,idx:n,c:a,C:i}}function nF(r){return r.l+=2,[r.read_shift(4)]}function aF(r,e,t){return r.l+=5,r.l+=2,r.l+=t.biff==2?1:4,["PTGSHEET"]}function iF(r,e,t){return r.l+=t.biff==2?4:5,["PTGENDSHEET"]}function sF(r){var e=r.read_shift(1)>>>5&3,t=r.read_shift(2);return[e,t]}function oF(r){var e=r.read_shift(1)>>>5&3,t=r.read_shift(2);return[e,t]}function lF(r){return r.l+=4,[0,0]}var Yw={1:{n:"PtgExp",f:AL},2:{n:"PtgTbl",f:GL},3:{n:"PtgAdd",f:ya},4:{n:"PtgSub",f:ya},5:{n:"PtgMul",f:ya},6:{n:"PtgDiv",f:ya},7:{n:"PtgPower",f:ya},8:{n:"PtgConcat",f:ya},9:{n:"PtgLt",f:ya},10:{n:"PtgLe",f:ya},11:{n:"PtgEq",f:ya},12:{n:"PtgGe",f:ya},13:{n:"PtgGt",f:ya},14:{n:"PtgNe",f:ya},15:{n:"PtgIsect",f:ya},16:{n:"PtgUnion",f:ya},17:{n:"PtgRange",f:ya},18:{n:"PtgUplus",f:ya},19:{n:"PtgUminus",f:ya},20:{n:"PtgPercent",f:ya},21:{n:"PtgParen",f:ya},22:{n:"PtgMissArg",f:ya},23:{n:"PtgStr",f:LL},26:{n:"PtgSheet",f:aF},27:{n:"PtgEndSheet",f:iF},28:{n:"PtgErr",f:EL},29:{n:"PtgBool",f:OL},30:{n:"PtgInt",f:NL},31:{n:"PtgNum",f:DL},32:{n:"PtgArray",f:fL},33:{n:"PtgFunc",f:SL},34:{n:"PtgFuncVar",f:kL},35:{n:"PtgName",f:RL},36:{n:"PtgRef",f:bL},37:{n:"PtgArea",f:oL},38:{n:"PtgMemArea",f:IL},39:{n:"PtgMemErr",f:qL},40:{n:"PtgMemNoMem",f:VL},41:{n:"PtgMemFunc",f:UL},42:{n:"PtgRefErr",f:zL},43:{n:"PtgAreaErr",f:cL},44:{n:"PtgRefN",f:wL},45:{n:"PtgAreaN",f:hL},46:{n:"PtgMemAreaN",f:sF},47:{n:"PtgMemNoMemN",f:oF},57:{n:"PtgNameX",f:BL},58:{n:"PtgRef3d",f:_L},59:{n:"PtgArea3d",f:lL},60:{n:"PtgRefErr3d",f:HL},61:{n:"PtgAreaErr3d",f:uL},255:{}},cF={64:32,96:32,65:33,97:33,66:34,98:34,67:35,99:35,68:36,100:36,69:37,101:37,70:38,102:38,71:39,103:39,72:40,104:40,73:41,105:41,74:42,106:42,75:43,107:43,76:44,108:44,77:45,109:45,78:46,110:46,79:47,111:47,88:34,120:34,89:57,121:57,90:58,122:58,91:59,123:59,92:60,124:60,93:61,125:61},uF={1:{n:"PtgElfLel",f:KS},2:{n:"PtgElfRw",f:QL},3:{n:"PtgElfCol",f:WL},6:{n:"PtgElfRwV",f:eF},7:{n:"PtgElfColV",f:KL},10:{n:"PtgElfRadical",f:$L},11:{n:"PtgElfRadicalS",f:JL},13:{n:"PtgElfColS",f:YL},15:{n:"PtgElfColSV",f:XL},16:{n:"PtgElfRadicalLel",f:ZL},25:{n:"PtgList",f:rF},29:{n:"PtgSxName",f:nF},255:{}},hF={0:{n:"PtgAttrNoop",f:lF},1:{n:"PtgAttrSemi",f:xL},2:{n:"PtgAttrIf",f:pL},4:{n:"PtgAttrChoose",f:dL},8:{n:"PtgAttrGoto",f:gL},16:{n:"PtgAttrSum",f:TL},32:{n:"PtgAttrBaxcel",f:Ww},33:{n:"PtgAttrBaxcel",f:Ww},64:{n:"PtgAttrSpace",f:vL},65:{n:"PtgAttrSpaceSemi",f:yL},128:{n:"PtgAttrIfError",f:mL},255:{}};function Zd(r,e,t,n){if(n.biff<8)return Ai(r,e);for(var a=r.l+e,i=[],o=0;o!==t.length;++o)switch(t[o][0]){case"PtgArray":t[o][1]=jL(r,0,n),i.push(t[o][1]);break;case"PtgMemArea":t[o][2]=ML(r,t[o][1],n),i.push(t[o][2]);break;case"PtgExp":n&&n.biff==12&&(t[o][1][1]=r.read_shift(4),i.push(t[o][1]));break;case"PtgList":case"PtgElfRadicalS":case"PtgElfColS":case"PtgElfColSV":throw"Unsupported "+t[o][0]}return e=a-r.l,e!==0&&i.push(Ai(r,e)),i}function Jd(r,e,t){for(var n=r.l+e,a,i,o=[];n!=r.l;)e=n-r.l,i=r[r.l],a=Yw[i]||Yw[cF[i]],(i===24||i===25)&&(a=(i===24?uF:hF)[r[r.l+1]]),!a||!a.f?Ai(r,e):o.push([a.n,a.f(r,e,t)]);return o}function fF(r){for(var e=[],t=0;t<r.length;++t){for(var n=r[t],a=[],i=0;i<n.length;++i){var o=n[i];if(o)switch(o[0]){case 2:a.push('"'+o[1].replace(/"/g,'""')+'"');break;default:a.push(o[1])}else a.push("")}e.push(a.join(","))}return e.join(";")}var dF={PtgAdd:"+",PtgConcat:"&",PtgDiv:"/",PtgEq:"=",PtgGe:">=",PtgGt:">",PtgLe:"<=",PtgLt:"<",PtgMul:"*",PtgNe:"<>",PtgPower:"^",PtgSub:"-"};function gF(r,e){if(!r&&!(e&&e.biff<=5&&e.biff>=2))throw new Error("empty sheet name");return/[^\w\u4E00-\u9FFF\u3040-\u30FF]/.test(r)?"'"+r+"'":r}function $S(r,e,t){if(!r)return"SH33TJSERR0";if(t.biff>8&&(!r.XTI||!r.XTI[e]))return r.SheetNames[e];if(!r.XTI)return"SH33TJSERR6";var n=r.XTI[e];if(t.biff<8)return e>1e4&&(e-=65536),e<0&&(e=-e),e==0?"":r.XTI[e-1];if(!n)return"SH33TJSERR1";var a="";if(t.biff>8)switch(r[n[0]][0]){case 357:return a=n[1]==-1?"#REF":r.SheetNames[n[1]],n[1]==n[2]?a:a+":"+r.SheetNames[n[2]];case 358:return t.SID!=null?r.SheetNames[t.SID]:"SH33TJSSAME"+r[n[0]][0];case 355:default:return"SH33TJSSRC"+r[n[0]][0]}switch(r[n[0]][0][0]){case 1025:return a=n[1]==-1?"#REF":r.SheetNames[n[1]]||"SH33TJSERR3",n[1]==n[2]?a:a+":"+r.SheetNames[n[2]];case 14849:return r[n[0]].slice(1).map(function(i){return i.Name}).join(";;");default:return r[n[0]][0][3]?(a=n[1]==-1?"#REF":r[n[0]][0][3][n[1]]||"SH33TJSERR4",n[1]==n[2]?a:a+":"+r[n[0]][0][3][n[2]]):"SH33TJSERR2"}}function Xw(r,e,t){var n=$S(r,e,t);return n=="#REF"?n:gF(n,t)}function _i(r,e,t,n,a){var i=a&&a.biff||8,o={s:{c:0,r:0}},l=[],u,h,f,m=0,x=0,g,y="";if(!r[0]||!r[0][0])return"";for(var v=-1,S="",k=0,A=r[0].length;k<A;++k){var N=r[0][k];switch(N[0]){case"PtgUminus":l.push("-"+l.pop());break;case"PtgUplus":l.push("+"+l.pop());break;case"PtgPercent":l.push(l.pop()+"%");break;case"PtgAdd":case"PtgConcat":case"PtgDiv":case"PtgEq":case"PtgGe":case"PtgGt":case"PtgLe":case"PtgLt":case"PtgMul":case"PtgNe":case"PtgPower":case"PtgSub":if(u=l.pop(),h=l.pop(),v>=0){switch(r[0][v][1][0]){case 0:S=ea(" ",r[0][v][1][1]);break;case 1:S=ea("\r",r[0][v][1][1]);break;default:if(S="",a.WTF)throw new Error("Unexpected PtgAttrSpaceType "+r[0][v][1][0])}h=h+S,v=-1}l.push(h+dF[N[0]]+u);break;case"PtgIsect":u=l.pop(),h=l.pop(),l.push(h+" "+u);break;case"PtgUnion":u=l.pop(),h=l.pop(),l.push(h+","+u);break;case"PtgRange":u=l.pop(),h=l.pop(),l.push(h+":"+u);break;case"PtgAttrChoose":break;case"PtgAttrGoto":break;case"PtgAttrIf":break;case"PtgAttrIfError":break;case"PtgRef":f=hd(N[1][1],o,a),l.push(fd(f,i));break;case"PtgRefN":f=t?hd(N[1][1],t,a):N[1][1],l.push(fd(f,i));break;case"PtgRef3d":m=N[1][1],f=hd(N[1][2],o,a),y=Xw(n,m,a),l.push(y+"!"+fd(f,i));break;case"PtgFunc":case"PtgFuncVar":var j=N[1][0],W=N[1][1];j||(j=0),j&=127;var ee=j==0?[]:l.slice(-j);l.length-=j,W==="User"&&(W=ee.shift()),l.push(W+"("+ee.join(",")+")");break;case"PtgBool":l.push(N[1]?"TRUE":"FALSE");break;case"PtgInt":l.push(N[1]);break;case"PtgNum":l.push(String(N[1]));break;case"PtgStr":l.push('"'+N[1].replace(/"/g,'""')+'"');break;case"PtgErr":l.push(N[1]);break;case"PtgAreaN":g=Ew(N[1][1],t?{s:t}:o,a),l.push(_2(g,a));break;case"PtgArea":g=Ew(N[1][1],o,a),l.push(_2(g,a));break;case"PtgArea3d":m=N[1][1],g=N[1][2],y=Xw(n,m,a),l.push(y+"!"+_2(g,a));break;case"PtgAttrSum":l.push("SUM("+l.pop()+")");break;case"PtgAttrBaxcel":case"PtgAttrSemi":break;case"PtgName":x=N[1][2];var z=(n.names||[])[x-1]||(n[0]||[])[x],B=z?z.Name:"SH33TJSNAME"+String(x);B&&B.slice(0,6)=="_xlfn."&&!a.xlfn&&(B=B.slice(6)),l.push(B);break;case"PtgNameX":var D=N[1][1];x=N[1][2];var Z;if(a.biff<=5)D<0&&(D=-D),n[D]&&(Z=n[D][x]);else{var q="";if(((n[D]||[])[0]||[])[0]==14849||(((n[D]||[])[0]||[])[0]==1025?n[D][x]&&n[D][x].itab>0&&(q=n.SheetNames[n[D][x].itab-1]+"!"):q=n.SheetNames[x-1]+"!"),n[D]&&n[D][x])q+=n[D][x].Name;else if(n[0]&&n[0][x])q+=n[0][x].Name;else{var O=($S(n,D,a)||"").split(";;");O[x-1]?q=O[x-1]:q+="SH33TJSERRX"}l.push(q);break}Z||(Z={Name:"SH33TJSERRY"}),l.push(Z.Name);break;case"PtgParen":var V="(",F=")";if(v>=0){switch(S="",r[0][v][1][0]){case 2:V=ea(" ",r[0][v][1][1])+V;break;case 3:V=ea("\r",r[0][v][1][1])+V;break;case 4:F=ea(" ",r[0][v][1][1])+F;break;case 5:F=ea("\r",r[0][v][1][1])+F;break;default:if(a.WTF)throw new Error("Unexpected PtgAttrSpaceType "+r[0][v][1][0])}v=-1}l.push(V+l.pop()+F);break;case"PtgRefErr":l.push("#REF!");break;case"PtgRefErr3d":l.push("#REF!");break;case"PtgExp":f={c:N[1][1],r:N[1][0]};var re={c:t.c,r:t.r};if(n.sharedf[xr(f)]){var ae=n.sharedf[xr(f)];l.push(_i(ae,o,re,n,a))}else{var J=!1;for(u=0;u!=n.arrayf.length;++u)if(h=n.arrayf[u],!(f.c<h[0].s.c||f.c>h[0].e.c)&&!(f.r<h[0].s.r||f.r>h[0].e.r)){l.push(_i(h[1],o,re,n,a)),J=!0;break}J||l.push(N[1])}break;case"PtgArray":l.push("{"+fF(N[1])+"}");break;case"PtgMemArea":break;case"PtgAttrSpace":case"PtgAttrSpaceSemi":v=k;break;case"PtgTbl":break;case"PtgMemErr":break;case"PtgMissArg":l.push("");break;case"PtgAreaErr":l.push("#REF!");break;case"PtgAreaErr3d":l.push("#REF!");break;case"PtgList":l.push("Table"+N[1].idx+"[#"+N[1].rt+"]");break;case"PtgMemAreaN":case"PtgMemNoMemN":case"PtgAttrNoop":case"PtgSheet":case"PtgEndSheet":break;case"PtgMemFunc":break;case"PtgMemNoMem":break;case"PtgElfCol":case"PtgElfColS":case"PtgElfColSV":case"PtgElfColV":case"PtgElfLel":case"PtgElfRadical":case"PtgElfRadicalLel":case"PtgElfRadicalS":case"PtgElfRw":case"PtgElfRwV":throw new Error("Unsupported ELFs");case"PtgSxName":throw new Error("Unrecognized Formula Token: "+String(N));default:throw new Error("Unrecognized Formula Token: "+String(N))}var ge=["PtgAttrSpace","PtgAttrSpaceSemi","PtgAttrGoto"];if(a.biff!=3&&v>=0&&ge.indexOf(r[0][k][0])==-1){N=r[0][v];var te=!0;switch(N[1][0]){case 4:te=!1;case 0:S=ea(" ",N[1][1]);break;case 5:te=!1;case 1:S=ea("\r",N[1][1]);break;default:if(S="",a.WTF)throw new Error("Unexpected PtgAttrSpaceType "+N[1][0])}l.push((te?S:"")+l.pop()+(te?"":S)),v=-1}}if(l.length>1&&a.WTF)throw new Error("bad formula stack");return l[0]}function pF(r,e,t){var n=r.l+e,a=t.biff==2?1:2,i,o=r.read_shift(a);if(o==65535)return[[],Ai(r,e-2)];var l=Jd(r,o,t);return e!==o+a&&(i=Zd(r,e-o-a,l,t)),r.l=n,[l,i]}function mF(r,e,t){var n=r.l+e,a=t.biff==2?1:2,i,o=r.read_shift(a);if(o==65535)return[[],Ai(r,e-2)];var l=Jd(r,o,t);return e!==o+a&&(i=Zd(r,e-o-a,l,t)),r.l=n,[l,i]}function xF(r,e,t,n){var a=r.l+e,i=Jd(r,n,t),o;return a!==r.l&&(o=Zd(r,a-r.l,i,t)),[i,o]}function vF(r,e,t){var n=r.l+e,a,i=r.read_shift(2),o=Jd(r,i,t);return i==65535?[[],Ai(r,e-2)]:(e!==i+2&&(a=Zd(r,n-i-2,o,t)),[o,a])}function yF(r){var e;if(gc(r,r.l+6)!==65535)return[Si(r),"n"];switch(r[r.l]){case 0:return r.l+=8,["String","s"];case 1:return e=r[r.l+2]===1,r.l+=8,[e,"b"];case 2:return e=r[r.l+2],r.l+=8,[e,"e"];case 3:return r.l+=8,["","s"]}return[]}function C2(r,e,t){var n=r.l+e,a=Fl(r);t.biff==2&&++r.l;var i=yF(r),o=r.read_shift(1);t.biff!=2&&(r.read_shift(1),t.biff>=5&&r.read_shift(4));var l=mF(r,n-r.l,t);return{cell:a,val:i[0],formula:l,shared:o>>3&1,tt:i[1]}}function Ip(r,e,t){var n=r.read_shift(4),a=Jd(r,n,t),i=r.read_shift(4),o=i>0?Zd(r,i,a,t):null;return[a,o]}var bF=Ip,Up=Ip,wF=Ip,_F=Ip,SF={0:"BEEP",1:"OPEN",2:"OPEN.LINKS",3:"CLOSE.ALL",4:"SAVE",5:"SAVE.AS",6:"FILE.DELETE",7:"PAGE.SETUP",8:"PRINT",9:"PRINTER.SETUP",10:"QUIT",11:"NEW.WINDOW",12:"ARRANGE.ALL",13:"WINDOW.SIZE",14:"WINDOW.MOVE",15:"FULL",16:"CLOSE",17:"RUN",22:"SET.PRINT.AREA",23:"SET.PRINT.TITLES",24:"SET.PAGE.BREAK",25:"REMOVE.PAGE.BREAK",26:"FONT",27:"DISPLAY",28:"PROTECT.DOCUMENT",29:"PRECISION",30:"A1.R1C1",31:"CALCULATE.NOW",32:"CALCULATION",34:"DATA.FIND",35:"EXTRACT",36:"DATA.DELETE",37:"SET.DATABASE",38:"SET.CRITERIA",39:"SORT",40:"DATA.SERIES",41:"TABLE",42:"FORMAT.NUMBER",43:"ALIGNMENT",44:"STYLE",45:"BORDER",46:"CELL.PROTECTION",47:"COLUMN.WIDTH",48:"UNDO",49:"CUT",50:"COPY",51:"PASTE",52:"CLEAR",53:"PASTE.SPECIAL",54:"EDIT.DELETE",55:"INSERT",56:"FILL.RIGHT",57:"FILL.DOWN",61:"DEFINE.NAME",62:"CREATE.NAMES",63:"FORMULA.GOTO",64:"FORMULA.FIND",65:"SELECT.LAST.CELL",66:"SHOW.ACTIVE.CELL",67:"GALLERY.AREA",68:"GALLERY.BAR",69:"GALLERY.COLUMN",70:"GALLERY.LINE",71:"GALLERY.PIE",72:"GALLERY.SCATTER",73:"COMBINATION",74:"PREFERRED",75:"ADD.OVERLAY",76:"GRIDLINES",77:"SET.PREFERRED",78:"AXES",79:"LEGEND",80:"ATTACH.TEXT",81:"ADD.ARROW",82:"SELECT.CHART",83:"SELECT.PLOT.AREA",84:"PATTERNS",85:"MAIN.CHART",86:"OVERLAY",87:"SCALE",88:"FORMAT.LEGEND",89:"FORMAT.TEXT",90:"EDIT.REPEAT",91:"PARSE",92:"JUSTIFY",93:"HIDE",94:"UNHIDE",95:"WORKSPACE",96:"FORMULA",97:"FORMULA.FILL",98:"FORMULA.ARRAY",99:"DATA.FIND.NEXT",100:"DATA.FIND.PREV",101:"FORMULA.FIND.NEXT",102:"FORMULA.FIND.PREV",103:"ACTIVATE",104:"ACTIVATE.NEXT",105:"ACTIVATE.PREV",106:"UNLOCKED.NEXT",107:"UNLOCKED.PREV",108:"COPY.PICTURE",109:"SELECT",110:"DELETE.NAME",111:"DELETE.FORMAT",112:"VLINE",113:"HLINE",114:"VPAGE",115:"HPAGE",116:"VSCROLL",117:"HSCROLL",118:"ALERT",119:"NEW",120:"CANCEL.COPY",121:"SHOW.CLIPBOARD",122:"MESSAGE",124:"PASTE.LINK",125:"APP.ACTIVATE",126:"DELETE.ARROW",127:"ROW.HEIGHT",128:"FORMAT.MOVE",129:"FORMAT.SIZE",130:"FORMULA.REPLACE",131:"SEND.KEYS",132:"SELECT.SPECIAL",133:"APPLY.NAMES",134:"REPLACE.FONT",135:"FREEZE.PANES",136:"SHOW.INFO",137:"SPLIT",138:"ON.WINDOW",139:"ON.DATA",140:"DISABLE.INPUT",142:"OUTLINE",143:"LIST.NAMES",144:"FILE.CLOSE",145:"SAVE.WORKBOOK",146:"DATA.FORM",147:"COPY.CHART",148:"ON.TIME",149:"WAIT",150:"FORMAT.FONT",151:"FILL.UP",152:"FILL.LEFT",153:"DELETE.OVERLAY",155:"SHORT.MENUS",159:"SET.UPDATE.STATUS",161:"COLOR.PALETTE",162:"DELETE.STYLE",163:"WINDOW.RESTORE",164:"WINDOW.MAXIMIZE",166:"CHANGE.LINK",167:"CALCULATE.DOCUMENT",168:"ON.KEY",169:"APP.RESTORE",170:"APP.MOVE",171:"APP.SIZE",172:"APP.MINIMIZE",173:"APP.MAXIMIZE",174:"BRING.TO.FRONT",175:"SEND.TO.BACK",185:"MAIN.CHART.TYPE",186:"OVERLAY.CHART.TYPE",187:"SELECT.END",188:"OPEN.MAIL",189:"SEND.MAIL",190:"STANDARD.FONT",191:"CONSOLIDATE",192:"SORT.SPECIAL",193:"GALLERY.3D.AREA",194:"GALLERY.3D.COLUMN",195:"GALLERY.3D.LINE",196:"GALLERY.3D.PIE",197:"VIEW.3D",198:"GOAL.SEEK",199:"WORKGROUP",200:"FILL.GROUP",201:"UPDATE.LINK",202:"PROMOTE",203:"DEMOTE",204:"SHOW.DETAIL",206:"UNGROUP",207:"OBJECT.PROPERTIES",208:"SAVE.NEW.OBJECT",209:"SHARE",210:"SHARE.NAME",211:"DUPLICATE",212:"APPLY.STYLE",213:"ASSIGN.TO.OBJECT",214:"OBJECT.PROTECTION",215:"HIDE.OBJECT",216:"SET.EXTRACT",217:"CREATE.PUBLISHER",218:"SUBSCRIBE.TO",219:"ATTRIBUTES",220:"SHOW.TOOLBAR",222:"PRINT.PREVIEW",223:"EDIT.COLOR",224:"SHOW.LEVELS",225:"FORMAT.MAIN",226:"FORMAT.OVERLAY",227:"ON.RECALC",228:"EDIT.SERIES",229:"DEFINE.STYLE",240:"LINE.PRINT",243:"ENTER.DATA",249:"GALLERY.RADAR",250:"MERGE.STYLES",251:"EDITION.OPTIONS",252:"PASTE.PICTURE",253:"PASTE.PICTURE.LINK",254:"SPELLING",256:"ZOOM",259:"INSERT.OBJECT",260:"WINDOW.MINIMIZE",265:"SOUND.NOTE",266:"SOUND.PLAY",267:"FORMAT.SHAPE",268:"EXTEND.POLYGON",269:"FORMAT.AUTO",272:"GALLERY.3D.BAR",273:"GALLERY.3D.SURFACE",274:"FILL.AUTO",276:"CUSTOMIZE.TOOLBAR",277:"ADD.TOOL",278:"EDIT.OBJECT",279:"ON.DOUBLECLICK",280:"ON.ENTRY",281:"WORKBOOK.ADD",282:"WORKBOOK.MOVE",283:"WORKBOOK.COPY",284:"WORKBOOK.OPTIONS",285:"SAVE.WORKSPACE",288:"CHART.WIZARD",289:"DELETE.TOOL",290:"MOVE.TOOL",291:"WORKBOOK.SELECT",292:"WORKBOOK.ACTIVATE",293:"ASSIGN.TO.TOOL",295:"COPY.TOOL",296:"RESET.TOOL",297:"CONSTRAIN.NUMERIC",298:"PASTE.TOOL",302:"WORKBOOK.NEW",305:"SCENARIO.CELLS",306:"SCENARIO.DELETE",307:"SCENARIO.ADD",308:"SCENARIO.EDIT",309:"SCENARIO.SHOW",310:"SCENARIO.SHOW.NEXT",311:"SCENARIO.SUMMARY",312:"PIVOT.TABLE.WIZARD",313:"PIVOT.FIELD.PROPERTIES",314:"PIVOT.FIELD",315:"PIVOT.ITEM",316:"PIVOT.ADD.FIELDS",318:"OPTIONS.CALCULATION",319:"OPTIONS.EDIT",320:"OPTIONS.VIEW",321:"ADDIN.MANAGER",322:"MENU.EDITOR",323:"ATTACH.TOOLBARS",324:"VBAActivate",325:"OPTIONS.CHART",328:"VBA.INSERT.FILE",330:"VBA.PROCEDURE.DEFINITION",336:"ROUTING.SLIP",338:"ROUTE.DOCUMENT",339:"MAIL.LOGON",342:"INSERT.PICTURE",343:"EDIT.TOOL",344:"GALLERY.DOUGHNUT",350:"CHART.TREND",352:"PIVOT.ITEM.PROPERTIES",354:"WORKBOOK.INSERT",355:"OPTIONS.TRANSITION",356:"OPTIONS.GENERAL",370:"FILTER.ADVANCED",373:"MAIL.ADD.MAILER",374:"MAIL.DELETE.MAILER",375:"MAIL.REPLY",376:"MAIL.REPLY.ALL",377:"MAIL.FORWARD",378:"MAIL.NEXT.LETTER",379:"DATA.LABEL",380:"INSERT.TITLE",381:"FONT.PROPERTIES",382:"MACRO.OPTIONS",383:"WORKBOOK.HIDE",384:"WORKBOOK.UNHIDE",385:"WORKBOOK.DELETE",386:"WORKBOOK.NAME",388:"GALLERY.CUSTOM",390:"ADD.CHART.AUTOFORMAT",391:"DELETE.CHART.AUTOFORMAT",392:"CHART.ADD.DATA",393:"AUTO.OUTLINE",394:"TAB.ORDER",395:"SHOW.DIALOG",396:"SELECT.ALL",397:"UNGROUP.SHEETS",398:"SUBTOTAL.CREATE",399:"SUBTOTAL.REMOVE",400:"RENAME.OBJECT",412:"WORKBOOK.SCROLL",413:"WORKBOOK.NEXT",414:"WORKBOOK.PREV",415:"WORKBOOK.TAB.SPLIT",416:"FULL.SCREEN",417:"WORKBOOK.PROTECT",420:"SCROLLBAR.PROPERTIES",421:"PIVOT.SHOW.PAGES",422:"TEXT.TO.COLUMNS",423:"FORMAT.CHARTTYPE",424:"LINK.FORMAT",425:"TRACER.DISPLAY",430:"TRACER.NAVIGATE",431:"TRACER.CLEAR",432:"TRACER.ERROR",433:"PIVOT.FIELD.GROUP",434:"PIVOT.FIELD.UNGROUP",435:"CHECKBOX.PROPERTIES",436:"LABEL.PROPERTIES",437:"LISTBOX.PROPERTIES",438:"EDITBOX.PROPERTIES",439:"PIVOT.REFRESH",440:"LINK.COMBO",441:"OPEN.TEXT",442:"HIDE.DIALOG",443:"SET.DIALOG.FOCUS",444:"ENABLE.OBJECT",445:"PUSHBUTTON.PROPERTIES",446:"SET.DIALOG.DEFAULT",447:"FILTER",448:"FILTER.SHOW.ALL",449:"CLEAR.OUTLINE",450:"FUNCTION.WIZARD",451:"ADD.LIST.ITEM",452:"SET.LIST.ITEM",453:"REMOVE.LIST.ITEM",454:"SELECT.LIST.ITEM",455:"SET.CONTROL.VALUE",456:"SAVE.COPY.AS",458:"OPTIONS.LISTS.ADD",459:"OPTIONS.LISTS.DELETE",460:"SERIES.AXES",461:"SERIES.X",462:"SERIES.Y",463:"ERRORBAR.X",464:"ERRORBAR.Y",465:"FORMAT.CHART",466:"SERIES.ORDER",467:"MAIL.LOGOFF",468:"CLEAR.ROUTING.SLIP",469:"APP.ACTIVATE.MICROSOFT",470:"MAIL.EDIT.MAILER",471:"ON.SHEET",472:"STANDARD.WIDTH",473:"SCENARIO.MERGE",474:"SUMMARY.INFO",475:"FIND.FILE",476:"ACTIVE.CELL.FONT",477:"ENABLE.TIPWIZARD",478:"VBA.MAKE.ADDIN",480:"INSERTDATATABLE",481:"WORKGROUP.OPTIONS",482:"MAIL.SEND.MAILER",485:"AUTOCORRECT",489:"POST.DOCUMENT",491:"PICKLIST",493:"VIEW.SHOW",494:"VIEW.DEFINE",495:"VIEW.DELETE",509:"SHEET.BACKGROUND",510:"INSERT.MAP.OBJECT",511:"OPTIONS.MENONO",517:"MSOCHECKS",518:"NORMAL",519:"LAYOUT",520:"RM.PRINT.AREA",521:"CLEAR.PRINT.AREA",522:"ADD.PRINT.AREA",523:"MOVE.BRK",545:"HIDECURR.NOTE",546:"HIDEALL.NOTES",547:"DELETE.NOTE",548:"TRAVERSE.NOTES",549:"ACTIVATE.NOTES",620:"PROTECT.REVISIONS",621:"UNPROTECT.REVISIONS",647:"OPTIONS.ME",653:"WEB.PUBLISH",667:"NEWWEBQUERY",673:"PIVOT.TABLE.CHART",753:"OPTIONS.SAVE",755:"OPTIONS.SPELL",808:"HIDEALL.INKANNOTS"},ZS={0:"COUNT",1:"IF",2:"ISNA",3:"ISERROR",4:"SUM",5:"AVERAGE",6:"MIN",7:"MAX",8:"ROW",9:"COLUMN",10:"NA",11:"NPV",12:"STDEV",13:"DOLLAR",14:"FIXED",15:"SIN",16:"COS",17:"TAN",18:"ATAN",19:"PI",20:"SQRT",21:"EXP",22:"LN",23:"LOG10",24:"ABS",25:"INT",26:"SIGN",27:"ROUND",28:"LOOKUP",29:"INDEX",30:"REPT",31:"MID",32:"LEN",33:"VALUE",34:"TRUE",35:"FALSE",36:"AND",37:"OR",38:"NOT",39:"MOD",40:"DCOUNT",41:"DSUM",42:"DAVERAGE",43:"DMIN",44:"DMAX",45:"DSTDEV",46:"VAR",47:"DVAR",48:"TEXT",49:"LINEST",50:"TREND",51:"LOGEST",52:"GROWTH",53:"GOTO",54:"HALT",55:"RETURN",56:"PV",57:"FV",58:"NPER",59:"PMT",60:"RATE",61:"MIRR",62:"IRR",63:"RAND",64:"MATCH",65:"DATE",66:"TIME",67:"DAY",68:"MONTH",69:"YEAR",70:"WEEKDAY",71:"HOUR",72:"MINUTE",73:"SECOND",74:"NOW",75:"AREAS",76:"ROWS",77:"COLUMNS",78:"OFFSET",79:"ABSREF",80:"RELREF",81:"ARGUMENT",82:"SEARCH",83:"TRANSPOSE",84:"ERROR",85:"STEP",86:"TYPE",87:"ECHO",88:"SET.NAME",89:"CALLER",90:"DEREF",91:"WINDOWS",92:"SERIES",93:"DOCUMENTS",94:"ACTIVE.CELL",95:"SELECTION",96:"RESULT",97:"ATAN2",98:"ASIN",99:"ACOS",100:"CHOOSE",101:"HLOOKUP",102:"VLOOKUP",103:"LINKS",104:"INPUT",105:"ISREF",106:"GET.FORMULA",107:"GET.NAME",108:"SET.VALUE",109:"LOG",110:"EXEC",111:"CHAR",112:"LOWER",113:"UPPER",114:"PROPER",115:"LEFT",116:"RIGHT",117:"EXACT",118:"TRIM",119:"REPLACE",120:"SUBSTITUTE",121:"CODE",122:"NAMES",123:"DIRECTORY",124:"FIND",125:"CELL",126:"ISERR",127:"ISTEXT",128:"ISNUMBER",129:"ISBLANK",130:"T",131:"N",132:"FOPEN",133:"FCLOSE",134:"FSIZE",135:"FREADLN",136:"FREAD",137:"FWRITELN",138:"FWRITE",139:"FPOS",140:"DATEVALUE",141:"TIMEVALUE",142:"SLN",143:"SYD",144:"DDB",145:"GET.DEF",146:"REFTEXT",147:"TEXTREF",148:"INDIRECT",149:"REGISTER",150:"CALL",151:"ADD.BAR",152:"ADD.MENU",153:"ADD.COMMAND",154:"ENABLE.COMMAND",155:"CHECK.COMMAND",156:"RENAME.COMMAND",157:"SHOW.BAR",158:"DELETE.MENU",159:"DELETE.COMMAND",160:"GET.CHART.ITEM",161:"DIALOG.BOX",162:"CLEAN",163:"MDETERM",164:"MINVERSE",165:"MMULT",166:"FILES",167:"IPMT",168:"PPMT",169:"COUNTA",170:"CANCEL.KEY",171:"FOR",172:"WHILE",173:"BREAK",174:"NEXT",175:"INITIATE",176:"REQUEST",177:"POKE",178:"EXECUTE",179:"TERMINATE",180:"RESTART",181:"HELP",182:"GET.BAR",183:"PRODUCT",184:"FACT",185:"GET.CELL",186:"GET.WORKSPACE",187:"GET.WINDOW",188:"GET.DOCUMENT",189:"DPRODUCT",190:"ISNONTEXT",191:"GET.NOTE",192:"NOTE",193:"STDEVP",194:"VARP",195:"DSTDEVP",196:"DVARP",197:"TRUNC",198:"ISLOGICAL",199:"DCOUNTA",200:"DELETE.BAR",201:"UNREGISTER",204:"USDOLLAR",205:"FINDB",206:"SEARCHB",207:"REPLACEB",208:"LEFTB",209:"RIGHTB",210:"MIDB",211:"LENB",212:"ROUNDUP",213:"ROUNDDOWN",214:"ASC",215:"DBCS",216:"RANK",219:"ADDRESS",220:"DAYS360",221:"TODAY",222:"VDB",223:"ELSE",224:"ELSE.IF",225:"END.IF",226:"FOR.CELL",227:"MEDIAN",228:"SUMPRODUCT",229:"SINH",230:"COSH",231:"TANH",232:"ASINH",233:"ACOSH",234:"ATANH",235:"DGET",236:"CREATE.OBJECT",237:"VOLATILE",238:"LAST.ERROR",239:"CUSTOM.UNDO",240:"CUSTOM.REPEAT",241:"FORMULA.CONVERT",242:"GET.LINK.INFO",243:"TEXT.BOX",244:"INFO",245:"GROUP",246:"GET.OBJECT",247:"DB",248:"PAUSE",251:"RESUME",252:"FREQUENCY",253:"ADD.TOOLBAR",254:"DELETE.TOOLBAR",255:"User",256:"RESET.TOOLBAR",257:"EVALUATE",258:"GET.TOOLBAR",259:"GET.TOOL",260:"SPELLING.CHECK",261:"ERROR.TYPE",262:"APP.TITLE",263:"WINDOW.TITLE",264:"SAVE.TOOLBAR",265:"ENABLE.TOOL",266:"PRESS.TOOL",267:"REGISTER.ID",268:"GET.WORKBOOK",269:"AVEDEV",270:"BETADIST",271:"GAMMALN",272:"BETAINV",273:"BINOMDIST",274:"CHIDIST",275:"CHIINV",276:"COMBIN",277:"CONFIDENCE",278:"CRITBINOM",279:"EVEN",280:"EXPONDIST",281:"FDIST",282:"FINV",283:"FISHER",284:"FISHERINV",285:"FLOOR",286:"GAMMADIST",287:"GAMMAINV",288:"CEILING",289:"HYPGEOMDIST",290:"LOGNORMDIST",291:"LOGINV",292:"NEGBINOMDIST",293:"NORMDIST",294:"NORMSDIST",295:"NORMINV",296:"NORMSINV",297:"STANDARDIZE",298:"ODD",299:"PERMUT",300:"POISSON",301:"TDIST",302:"WEIBULL",303:"SUMXMY2",304:"SUMX2MY2",305:"SUMX2PY2",306:"CHITEST",307:"CORREL",308:"COVAR",309:"FORECAST",310:"FTEST",311:"INTERCEPT",312:"PEARSON",313:"RSQ",314:"STEYX",315:"SLOPE",316:"TTEST",317:"PROB",318:"DEVSQ",319:"GEOMEAN",320:"HARMEAN",321:"SUMSQ",322:"KURT",323:"SKEW",324:"ZTEST",325:"LARGE",326:"SMALL",327:"QUARTILE",328:"PERCENTILE",329:"PERCENTRANK",330:"MODE",331:"TRIMMEAN",332:"TINV",334:"MOVIE.COMMAND",335:"GET.MOVIE",336:"CONCATENATE",337:"POWER",338:"PIVOT.ADD.DATA",339:"GET.PIVOT.TABLE",340:"GET.PIVOT.FIELD",341:"GET.PIVOT.ITEM",342:"RADIANS",343:"DEGREES",344:"SUBTOTAL",345:"SUMIF",346:"COUNTIF",347:"COUNTBLANK",348:"SCENARIO.GET",349:"OPTIONS.LISTS.GET",350:"ISPMT",351:"DATEDIF",352:"DATESTRING",353:"NUMBERSTRING",354:"ROMAN",355:"OPEN.DIALOG",356:"SAVE.DIALOG",357:"VIEW.GET",358:"GETPIVOTDATA",359:"HYPERLINK",360:"PHONETIC",361:"AVERAGEA",362:"MAXA",363:"MINA",364:"STDEVPA",365:"VARPA",366:"STDEVA",367:"VARA",368:"BAHTTEXT",369:"THAIDAYOFWEEK",370:"THAIDIGIT",371:"THAIMONTHOFYEAR",372:"THAINUMSOUND",373:"THAINUMSTRING",374:"THAISTRINGLENGTH",375:"ISTHAIDIGIT",376:"ROUNDBAHTDOWN",377:"ROUNDBAHTUP",378:"THAIYEAR",379:"RTD",380:"CUBEVALUE",381:"CUBEMEMBER",382:"CUBEMEMBERPROPERTY",383:"CUBERANKEDMEMBER",384:"HEX2BIN",385:"HEX2DEC",386:"HEX2OCT",387:"DEC2BIN",388:"DEC2HEX",389:"DEC2OCT",390:"OCT2BIN",391:"OCT2HEX",392:"OCT2DEC",393:"BIN2DEC",394:"BIN2OCT",395:"BIN2HEX",396:"IMSUB",397:"IMDIV",398:"IMPOWER",399:"IMABS",400:"IMSQRT",401:"IMLN",402:"IMLOG2",403:"IMLOG10",404:"IMSIN",405:"IMCOS",406:"IMEXP",407:"IMARGUMENT",408:"IMCONJUGATE",409:"IMAGINARY",410:"IMREAL",411:"COMPLEX",412:"IMSUM",413:"IMPRODUCT",414:"SERIESSUM",415:"FACTDOUBLE",416:"SQRTPI",417:"QUOTIENT",418:"DELTA",419:"GESTEP",420:"ISEVEN",421:"ISODD",422:"MROUND",423:"ERF",424:"ERFC",425:"BESSELJ",426:"BESSELK",427:"BESSELY",428:"BESSELI",429:"XIRR",430:"XNPV",431:"PRICEMAT",432:"YIELDMAT",433:"INTRATE",434:"RECEIVED",435:"DISC",436:"PRICEDISC",437:"YIELDDISC",438:"TBILLEQ",439:"TBILLPRICE",440:"TBILLYIELD",441:"PRICE",442:"YIELD",443:"DOLLARDE",444:"DOLLARFR",445:"NOMINAL",446:"EFFECT",447:"CUMPRINC",448:"CUMIPMT",449:"EDATE",450:"EOMONTH",451:"YEARFRAC",452:"COUPDAYBS",453:"COUPDAYS",454:"COUPDAYSNC",455:"COUPNCD",456:"COUPNUM",457:"COUPPCD",458:"DURATION",459:"MDURATION",460:"ODDLPRICE",461:"ODDLYIELD",462:"ODDFPRICE",463:"ODDFYIELD",464:"RANDBETWEEN",465:"WEEKNUM",466:"AMORDEGRC",467:"AMORLINC",468:"CONVERT",724:"SHEETJS",469:"ACCRINT",470:"ACCRINTM",471:"WORKDAY",472:"NETWORKDAYS",473:"GCD",474:"MULTINOMIAL",475:"LCM",476:"FVSCHEDULE",477:"CUBEKPIMEMBER",478:"CUBESET",479:"CUBESETCOUNT",480:"IFERROR",481:"COUNTIFS",482:"SUMIFS",483:"AVERAGEIF",484:"AVERAGEIFS"},kF={2:1,3:1,10:0,15:1,16:1,17:1,18:1,19:0,20:1,21:1,22:1,23:1,24:1,25:1,26:1,27:2,30:2,31:3,32:1,33:1,34:0,35:0,38:1,39:2,40:3,41:3,42:3,43:3,44:3,45:3,47:3,48:2,53:1,61:3,63:0,65:3,66:3,67:1,68:1,69:1,70:1,71:1,72:1,73:1,74:0,75:1,76:1,77:1,79:2,80:2,83:1,85:0,86:1,89:0,90:1,94:0,95:0,97:2,98:1,99:1,101:3,102:3,105:1,106:1,108:2,111:1,112:1,113:1,114:1,117:2,118:1,119:4,121:1,126:1,127:1,128:1,129:1,130:1,131:1,133:1,134:1,135:1,136:2,137:2,138:2,140:1,141:1,142:3,143:4,144:4,161:1,162:1,163:1,164:1,165:2,172:1,175:2,176:2,177:3,178:2,179:1,184:1,186:1,189:3,190:1,195:3,196:3,197:1,198:1,199:3,201:1,207:4,210:3,211:1,212:2,213:2,214:1,215:1,225:0,229:1,230:1,231:1,232:1,233:1,234:1,235:3,244:1,247:4,252:2,257:1,261:1,271:1,273:4,274:2,275:2,276:2,277:3,278:3,279:1,280:3,281:3,282:3,283:1,284:1,285:2,286:4,287:3,288:2,289:4,290:3,291:3,292:3,293:4,294:1,295:3,296:1,297:3,298:1,299:2,300:3,301:3,302:4,303:2,304:2,305:2,306:2,307:2,308:2,309:3,310:2,311:2,312:2,313:2,314:2,315:2,316:4,325:2,326:2,327:2,328:2,331:2,332:2,337:2,342:1,343:1,346:2,347:1,350:4,351:3,352:1,353:2,360:1,368:1,369:1,370:1,371:1,372:1,373:1,374:1,375:1,376:1,377:1,378:1,382:3,385:1,392:1,393:1,396:2,397:2,398:2,399:1,400:1,401:1,402:1,403:1,404:1,405:1,406:1,407:1,408:1,409:1,410:1,414:4,415:1,416:1,417:2,420:1,421:1,422:2,424:1,425:2,426:2,427:2,428:2,430:3,438:3,439:3,440:3,443:2,444:2,445:2,446:2,447:6,448:6,449:2,450:2,464:2,468:3,476:2,479:1,480:2,65535:0};function Kw(r){return r.slice(0,3)=="of:"&&(r=r.slice(3)),r.charCodeAt(0)==61&&(r=r.slice(1),r.charCodeAt(0)==61&&(r=r.slice(1))),r=r.replace(/COM\.MICROSOFT\./g,""),r=r.replace(/\[((?:\.[A-Z]+[0-9]+)(?::\.[A-Z]+[0-9]+)?)\]/g,function(e,t){return t.replace(/\./g,"")}),r=r.replace(/\[.(#[A-Z]*[?!])\]/g,"$1"),r.replace(/[;~]/g,",").replace(/\|/g,";")}function T2(r){var e=r.split(":"),t=e[0].split(".")[0];return[t,e[0].split(".")[1]+(e.length>1?":"+(e[1].split(".")[1]||e[1].split(".")[0]):"")]}var md={},Gf={};function xd(r,e){if(r){var t=[.7,.7,.75,.75,.3,.3];e=="xlml"&&(t=[1,1,1,1,.5,.5]),r.left==null&&(r.left=t[0]),r.right==null&&(r.right=t[1]),r.top==null&&(r.top=t[2]),r.bottom==null&&(r.bottom=t[3]),r.header==null&&(r.header=t[4]),r.footer==null&&(r.footer=t[5])}}function JS(r,e,t,n,a,i){try{n.cellNF&&(r.z=yr[e])}catch(l){if(n.WTF)throw l}if(!(r.t==="z"&&!n.cellStyles)){if(r.t==="d"&&typeof r.v=="string"&&(r.v=Ka(r.v)),(!n||n.cellText!==!1)&&r.t!=="z")try{if(yr[e]==null&&gh(C8[e]||"General",e),r.t==="e")r.w=r.w||Nh[r.v];else if(e===0)if(r.t==="n")(r.v|0)===r.v?r.w=r.v.toString(10):r.w=Ad(r.v);else if(r.t==="d"){var o=Hi(r.v);(o|0)===o?r.w=o.toString(10):r.w=Ad(o)}else{if(r.v===void 0)return"";r.w=vh(r.v,Gf)}else r.t==="d"?r.w=so(e,Hi(r.v),Gf):r.w=so(e,r.v,Gf)}catch(l){if(n.WTF)throw l}if(n.cellStyles&&t!=null)try{r.s=i.Fills[t],r.s.fgColor&&r.s.fgColor.theme&&!r.s.fgColor.rgb&&(r.s.fgColor.rgb=mp(a.themeElements.clrScheme[r.s.fgColor.theme].rgb,r.s.fgColor.tint||0),n.WTF&&(r.s.fgColor.raw_rgb=a.themeElements.clrScheme[r.s.fgColor.theme].rgb)),r.s.bgColor&&r.s.bgColor.theme&&(r.s.bgColor.rgb=mp(a.themeElements.clrScheme[r.s.bgColor.theme].rgb,r.s.bgColor.tint||0),n.WTF&&(r.s.bgColor.raw_rgb=a.themeElements.clrScheme[r.s.bgColor.theme].rgb))}catch(l){if(n.WTF&&i.Fills)throw l}}}function CF(r,e){var t=ta(e);t.s.r<=t.e.r&&t.s.c<=t.e.c&&t.s.r>=0&&t.s.c>=0&&(r["!ref"]=Ur(t))}var TF=/<(?:\w:)?mergeCell ref="[A-Z0-9:]+"\s*[\/]?>/g,AF=/<(?:\w+:)?sheetData[^>]*>([\s\S]*)<\/(?:\w+:)?sheetData>/,EF=/<(?:\w:)?hyperlink [^>]*>/mg,NF=/"(\w*:\w*)"/,OF=/<(?:\w:)?col\b[^>]*[\/]?>/g,DF=/<(?:\w:)?autoFilter[^>]*([\/]|>([\s\S]*)<\/(?:\w:)?autoFilter)>/g,LF=/<(?:\w:)?pageMargins[^>]*\/>/g,QS=/<(?:\w:)?sheetPr\b(?:[^>a-z][^>]*)?\/>/,FF=/<(?:\w:)?sheetPr[^>]*(?:[\/]|>([\s\S]*)<\/(?:\w:)?sheetPr)>/,MF=/<(?:\w:)?sheetViews[^>]*(?:[\/]|>([\s\S]*)<\/(?:\w:)?sheetViews)>/;function jF(r,e,t,n,a,i,o){if(!r)return r;n||(n={"!id":{}});var l=e.dense?[]:{},u={s:{r:2e6,c:2e6},e:{r:0,c:0}},h="",f="",m=r.match(AF);m?(h=r.slice(0,m.index),f=r.slice(m.index+m[0].length)):h=f=r;var x=h.match(QS);x?Iv(x[0],l,a,t):(x=h.match(FF))&&RF(x[0],x[1]||"",l,a,t);var g=(h.match(/<(?:\w*:)?dimension/)||{index:-1}).index;if(g>0){var y=h.slice(g,g+50).match(NF);y&&CF(l,y[1])}var v=h.match(MF);v&&v[1]&&HF(v[1],a);var S=[];if(e.cellStyles){var k=h.match(OF);k&&IF(S,k)}m&&qF(m[1],l,e,u,i,o);var A=f.match(DF);A&&(l["!autofilter"]=UF(A[0]));var N=[],j=f.match(TF);if(j)for(g=0;g!=j.length;++g)N[g]=ta(j[g].slice(j[g].indexOf('"')+1));var W=f.match(EF);W&&BF(l,W,n);var ee=f.match(LF);if(ee&&(l["!margins"]=PF(lr(ee[0]))),!l["!ref"]&&u.e.c>=u.s.c&&u.e.r>=u.s.r&&(l["!ref"]=Ur(u)),e.sheetRows>0&&l["!ref"]){var z=ta(l["!ref"]);e.sheetRows<=+z.e.r&&(z.e.r=e.sheetRows-1,z.e.r>u.e.r&&(z.e.r=u.e.r),z.e.r<z.s.r&&(z.s.r=z.e.r),z.e.c>u.e.c&&(z.e.c=u.e.c),z.e.c<z.s.c&&(z.s.c=z.e.c),l["!fullref"]=l["!ref"],l["!ref"]=Ur(z))}return S.length>0&&(l["!cols"]=S),N.length>0&&(l["!merges"]=N),l}function Iv(r,e,t,n){var a=lr(r);t.Sheets[n]||(t.Sheets[n]={}),a.codeName&&(t.Sheets[n].CodeName=Vr(yn(a.codeName)))}function RF(r,e,t,n,a){Iv(r.slice(0,r.indexOf(">")),t,n,a)}function BF(r,e,t){for(var n=Array.isArray(r),a=0;a!=e.length;++a){var i=lr(yn(e[a]),!0);if(!i.ref)return;var o=((t||{})["!id"]||[])[i.id];o?(i.Target=o.Target,i.location&&(i.Target+="#"+Vr(i.location))):(i.Target="#"+Vr(i.location),o={Target:i.Target,TargetMode:"Internal"}),i.Rel=o,i.tooltip&&(i.Tooltip=i.tooltip,delete i.tooltip);for(var l=ta(i.ref),u=l.s.r;u<=l.e.r;++u)for(var h=l.s.c;h<=l.e.c;++h){var f=xr({c:h,r:u});n?(r[u]||(r[u]=[]),r[u][h]||(r[u][h]={t:"z",v:void 0}),r[u][h].l=i):(r[f]||(r[f]={t:"z",v:void 0}),r[f].l=i)}}}function PF(r){var e={};return["left","right","top","bottom","header","footer"].forEach(function(t){r[t]&&(e[t]=parseFloat(r[t]))}),e}function IF(r,e){for(var t=!1,n=0;n!=e.length;++n){var a=lr(e[n],!0);a.hidden&&(a.hidden=Bn(a.hidden));var i=parseInt(a.min,10)-1,o=parseInt(a.max,10)-1;for(a.outlineLevel&&(a.level=+a.outlineLevel||0),delete a.min,delete a.max,a.width=+a.width,!t&&a.width&&(t=!0,Bv(a.width)),a0(a);i<=o;)r[i++]=ci(a)}}function UF(r){var e={ref:(r.match(/ref="([^"]*)"/)||[])[1]};return e}var zF=/<(?:\w:)?sheetView(?:[^>a-z][^>]*)?\/?>/;function HF(r,e){e.Views||(e.Views=[{}]),(r.match(zF)||[]).forEach(function(t,n){var a=lr(t);e.Views[n]||(e.Views[n]={}),+a.zoomScale&&(e.Views[n].zoom=+a.zoomScale),Bn(a.rightToLeft)&&(e.Views[n].RTL=!0)})}var qF=(function(){var r=/<(?:\w+:)?c[ \/>]/,e=/<\/(?:\w+:)?row>/,t=/r=["']([^"']*)["']/,n=/<(?:\w+:)?is>([\S\s]*?)<\/(?:\w+:)?is>/,a=/ref=["']([^"']*)["']/,i=Ed("v"),o=Ed("f");return function(u,h,f,m,x,g){for(var y=0,v="",S=[],k=[],A=0,N=0,j=0,W="",ee,z,B=0,D=0,Z,q,O=0,V=0,F=Array.isArray(g.CellXf),re,ae=[],J=[],ge=Array.isArray(h),te=[],ke={},Y=!1,w=!!f.sheetStubs,L=u.split(e),P=0,U=L.length;P!=U;++P){v=L[P].trim();var ie=v.length;if(ie!==0){var fe=0;e:for(y=0;y<ie;++y)switch(v[y]){case">":if(v[y-1]!="/"){++y;break e}if(f&&f.cellStyles){if(z=lr(v.slice(fe,y),!0),B=z.r!=null?parseInt(z.r,10):B+1,D=-1,f.sheetRows&&f.sheetRows<B)continue;ke={},Y=!1,z.ht&&(Y=!0,ke.hpt=parseFloat(z.ht),ke.hpx=Ld(ke.hpt)),z.hidden=="1"&&(Y=!0,ke.hidden=!0),z.outlineLevel!=null&&(Y=!0,ke.level=+z.outlineLevel),Y&&(te[B-1]=ke)}break;case"<":fe=y;break}if(fe>=y)break;if(z=lr(v.slice(fe,y),!0),B=z.r!=null?parseInt(z.r,10):B+1,D=-1,!(f.sheetRows&&f.sheetRows<B)){m.s.r>B-1&&(m.s.r=B-1),m.e.r<B-1&&(m.e.r=B-1),f&&f.cellStyles&&(ke={},Y=!1,z.ht&&(Y=!0,ke.hpt=parseFloat(z.ht),ke.hpx=Ld(ke.hpt)),z.hidden=="1"&&(Y=!0,ke.hidden=!0),z.outlineLevel!=null&&(Y=!0,ke.level=+z.outlineLevel),Y&&(te[B-1]=ke)),S=v.slice(y).split(r);for(var xe=0;xe!=S.length&&S[xe].trim().charAt(0)=="<";++xe);for(S=S.slice(xe),y=0;y!=S.length;++y)if(v=S[y].trim(),v.length!==0){if(k=v.match(t),A=y,N=0,j=0,v="<c "+(v.slice(0,1)=="<"?">":"")+v,k!=null&&k.length===2){for(A=0,W=k[1],N=0;N!=W.length&&!((j=W.charCodeAt(N)-64)<1||j>26);++N)A=26*A+j;--A,D=A}else++D;for(N=0;N!=v.length&&v.charCodeAt(N)!==62;++N);if(++N,z=lr(v.slice(0,N),!0),z.r||(z.r=xr({r:B-1,c:D})),W=v.slice(N),ee={t:""},(k=W.match(i))!=null&&k[1]!==""&&(ee.v=Vr(k[1])),f.cellFormula){if((k=W.match(o))!=null&&k[1]!==""){if(ee.f=Vr(yn(k[1])).replace(/\r\n/g,`
`),f.xlfn||(ee.f=Gw(ee.f)),k[0].indexOf('t="array"')>-1)ee.F=(W.match(a)||[])[1],ee.F.indexOf(":")>-1&&ae.push([ta(ee.F),ee.F]);else if(k[0].indexOf('t="shared"')>-1){q=lr(k[0]);var ve=Vr(yn(k[1]));f.xlfn||(ve=Gw(ve)),J[parseInt(q.si,10)]=[q,ve,z.r]}}else(k=W.match(/<f[^>]*\/>/))&&(q=lr(k[0]),J[q.si]&&(ee.f=eL(J[q.si][1],J[q.si][2],z.r)));var ce=Ui(z.r);for(N=0;N<ae.length;++N)ce.r>=ae[N][0].s.r&&ce.r<=ae[N][0].e.r&&ce.c>=ae[N][0].s.c&&ce.c<=ae[N][0].e.c&&(ee.F=ae[N][1])}if(z.t==null&&ee.v===void 0)if(ee.f||ee.F)ee.v=0,ee.t="n";else if(w)ee.t="z";else continue;else ee.t=z.t||"n";switch(m.s.c>D&&(m.s.c=D),m.e.c<D&&(m.e.c=D),ee.t){case"n":if(ee.v==""||ee.v==null){if(!w)continue;ee.t="z"}else ee.v=parseFloat(ee.v);break;case"s":if(typeof ee.v>"u"){if(!w)continue;ee.t="z"}else Z=md[parseInt(ee.v,10)],ee.v=Z.t,ee.r=Z.r,f.cellHTML&&(ee.h=Z.h);break;case"str":ee.t="s",ee.v=ee.v!=null?yn(ee.v):"",f.cellHTML&&(ee.h=Tv(ee.v));break;case"inlineStr":k=W.match(n),ee.t="s",k!=null&&(Z=Rv(k[1]))?(ee.v=Z.t,f.cellHTML&&(ee.h=Z.h)):ee.v="";break;case"b":ee.v=Bn(ee.v);break;case"d":f.cellDates?ee.v=Ka(ee.v,1):(ee.v=Hi(Ka(ee.v,1)),ee.t="n");break;case"e":(!f||f.cellText!==!1)&&(ee.w=ee.v),ee.v=bS[ee.v];break}if(O=V=0,re=null,F&&z.s!==void 0&&(re=g.CellXf[z.s],re!=null&&(re.numFmtId!=null&&(O=re.numFmtId),f.cellStyles&&re.fillId!=null&&(V=re.fillId))),JS(ee,O,V,f,x,g),f.cellDates&&F&&ee.t=="n"&&s0(yr[O])&&(ee.t="d",ee.v=Bp(ee.v)),z.cm&&f.xlmeta){var De=(f.xlmeta.Cell||[])[+z.cm-1];De&&De.type=="XLDAPR"&&(ee.D=!0)}if(ge){var ue=Ui(z.r);h[ue.r]||(h[ue.r]=[]),h[ue.r][ue.c]=ee}else h[z.r]=ee}}}}te.length>0&&(h["!rows"]=te)}})();function VF(r,e){var t={},n=r.l+e;t.r=r.read_shift(4),r.l+=4;var a=r.read_shift(2);r.l+=1;var i=r.read_shift(1);return r.l=n,i&7&&(t.level=i&7),i&16&&(t.hidden=!0),i&32&&(t.hpt=a/20),t}var GF=Eh;function WF(){}function YF(r,e){var t={},n=r[r.l];return++r.l,t.above=!(n&64),t.left=!(n&128),r.l+=18,t.name=pN(r),t}function XF(r){var e=uo(r);return[e]}function KF(r){var e=Ah(r);return[e]}function $F(r){var e=uo(r),t=r.read_shift(1);return[e,t,"b"]}function ZF(r){var e=Ah(r),t=r.read_shift(1);return[e,t,"b"]}function JF(r){var e=uo(r),t=r.read_shift(1);return[e,t,"e"]}function QF(r){var e=Ah(r),t=r.read_shift(1);return[e,t,"e"]}function eM(r){var e=uo(r),t=r.read_shift(4);return[e,t,"s"]}function tM(r){var e=Ah(r),t=r.read_shift(4);return[e,t,"s"]}function rM(r){var e=uo(r),t=Si(r);return[e,t,"n"]}function e6(r){var e=Ah(r),t=Si(r);return[e,t,"n"]}function nM(r){var e=uo(r),t=Fv(r);return[e,t,"n"]}function aM(r){var e=Ah(r),t=Fv(r);return[e,t,"n"]}function iM(r){var e=uo(r),t=Dv(r);return[e,t,"is"]}function sM(r){var e=uo(r),t=Ci(r);return[e,t,"str"]}function oM(r){var e=Ah(r),t=Ci(r);return[e,t,"str"]}function lM(r,e,t){var n=r.l+e,a=uo(r);a.r=t["!row"];var i=r.read_shift(1),o=[a,i,"b"];if(t.cellFormula){r.l+=2;var l=Up(r,n-r.l,t);o[3]=_i(l,null,a,t.supbooks,t)}else r.l=n;return o}function cM(r,e,t){var n=r.l+e,a=uo(r);a.r=t["!row"];var i=r.read_shift(1),o=[a,i,"e"];if(t.cellFormula){r.l+=2;var l=Up(r,n-r.l,t);o[3]=_i(l,null,a,t.supbooks,t)}else r.l=n;return o}function uM(r,e,t){var n=r.l+e,a=uo(r);a.r=t["!row"];var i=Si(r),o=[a,i,"n"];if(t.cellFormula){r.l+=2;var l=Up(r,n-r.l,t);o[3]=_i(l,null,a,t.supbooks,t)}else r.l=n;return o}function hM(r,e,t){var n=r.l+e,a=uo(r);a.r=t["!row"];var i=Ci(r),o=[a,i,"str"];if(t.cellFormula){r.l+=2;var l=Up(r,n-r.l,t);o[3]=_i(l,null,a,t.supbooks,t)}else r.l=n;return o}var fM=Eh;function dM(r,e){var t=r.l+e,n=Eh(r),a=Lv(r),i=Ci(r),o=Ci(r),l=Ci(r);r.l=t;var u={rfx:n,relId:a,loc:i,display:l};return o&&(u.Tooltip=o),u}function gM(){}function pM(r,e,t){var n=r.l+e,a=xS(r),i=r.read_shift(1),o=[a];if(o[2]=i,t.cellFormula){var l=bF(r,n-r.l,t);o[1]=l}else r.l=n;return o}function mM(r,e,t){var n=r.l+e,a=Eh(r),i=[a];if(t.cellFormula){var o=_F(r,n-r.l,t);i[1]=o,r.l=n}else r.l=n;return i}var xM=["left","right","top","bottom","header","footer"];function vM(r){var e={};return xM.forEach(function(t){e[t]=Si(r)}),e}function yM(r){var e=r.read_shift(2);return r.l+=28,{RTL:e&32}}function bM(){}function wM(){}function _M(r,e,t,n,a,i,o){if(!r)return r;var l=e||{};n||(n={"!id":{}});var u=l.dense?[]:{},h,f={s:{r:2e6,c:2e6},e:{r:0,c:0}},m=!1,x=!1,g,y,v,S,k,A,N,j,W,ee=[];l.biff=12,l["!row"]=0;var z=0,B=!1,D=[],Z={},q=l.supbooks||a.supbooks||[[]];if(q.sharedf=Z,q.arrayf=D,q.SheetNames=a.SheetNames||a.Sheets.map(function(ge){return ge.name}),!l.supbooks&&(l.supbooks=q,a.Names))for(var O=0;O<a.Names.length;++O)q[0][O+1]=a.Names[O];var V=[],F=[],re=!1;yp[16]={n:"BrtShortReal",f:e6};var ae;if(Tc(r,function(te,ke,Y){if(!x)switch(Y){case 148:h=te;break;case 0:g=te,l.sheetRows&&l.sheetRows<=g.r&&(x=!0),j=ui(S=g.r),l["!row"]=g.r,(te.hidden||te.hpt||te.level!=null)&&(te.hpt&&(te.hpx=Ld(te.hpt)),F[te.r]=te);break;case 2:case 3:case 4:case 5:case 6:case 7:case 8:case 9:case 10:case 11:case 13:case 14:case 15:case 16:case 17:case 18:case 62:switch(y={t:te[2]},te[2]){case"n":y.v=te[1];break;case"s":N=md[te[1]],y.v=N.t,y.r=N.r;break;case"b":y.v=!!te[1];break;case"e":y.v=te[1],l.cellText!==!1&&(y.w=Nh[y.v]);break;case"str":y.t="s",y.v=te[1];break;case"is":y.t="s",y.v=te[1].t;break}if((v=o.CellXf[te[0].iStyleRef])&&JS(y,v.numFmtId,null,l,i,o),k=te[0].c==-1?k+1:te[0].c,l.dense?(u[S]||(u[S]=[]),u[S][k]=y):u[Ba(k)+j]=y,l.cellFormula){for(B=!1,z=0;z<D.length;++z){var w=D[z];g.r>=w[0].s.r&&g.r<=w[0].e.r&&k>=w[0].s.c&&k<=w[0].e.c&&(y.F=Ur(w[0]),B=!0)}!B&&te.length>3&&(y.f=te[3])}if(f.s.r>g.r&&(f.s.r=g.r),f.s.c>k&&(f.s.c=k),f.e.r<g.r&&(f.e.r=g.r),f.e.c<k&&(f.e.c=k),l.cellDates&&v&&y.t=="n"&&s0(yr[v.numFmtId])){var L=uh(y.v);L&&(y.t="d",y.v=new Date(L.y,L.m-1,L.d,L.H,L.M,L.S,L.u))}ae&&(ae.type=="XLDAPR"&&(y.D=!0),ae=void 0);break;case 1:case 12:if(!l.sheetStubs||m)break;y={t:"z",v:void 0},k=te[0].c==-1?k+1:te[0].c,l.dense?(u[S]||(u[S]=[]),u[S][k]=y):u[Ba(k)+j]=y,f.s.r>g.r&&(f.s.r=g.r),f.s.c>k&&(f.s.c=k),f.e.r<g.r&&(f.e.r=g.r),f.e.c<k&&(f.e.c=k),ae&&(ae.type=="XLDAPR"&&(y.D=!0),ae=void 0);break;case 176:ee.push(te);break;case 49:ae=((l.xlmeta||{}).Cell||[])[te-1];break;case 494:var P=n["!id"][te.relId];for(P?(te.Target=P.Target,te.loc&&(te.Target+="#"+te.loc),te.Rel=P):te.relId==""&&(te.Target="#"+te.loc),S=te.rfx.s.r;S<=te.rfx.e.r;++S)for(k=te.rfx.s.c;k<=te.rfx.e.c;++k)l.dense?(u[S]||(u[S]=[]),u[S][k]||(u[S][k]={t:"z",v:void 0}),u[S][k].l=te):(A=xr({c:k,r:S}),u[A]||(u[A]={t:"z",v:void 0}),u[A].l=te);break;case 426:if(!l.cellFormula)break;D.push(te),W=l.dense?u[S][k]:u[Ba(k)+j],W.f=_i(te[1],f,{r:g.r,c:k},q,l),W.F=Ur(te[0]);break;case 427:if(!l.cellFormula)break;Z[xr(te[0].s)]=te[1],W=l.dense?u[S][k]:u[Ba(k)+j],W.f=_i(te[1],f,{r:g.r,c:k},q,l);break;case 60:if(!l.cellStyles)break;for(;te.e>=te.s;)V[te.e--]={width:te.w/256,hidden:!!(te.flags&1),level:te.level},re||(re=!0,Bv(te.w/256)),a0(V[te.e+1]);break;case 161:u["!autofilter"]={ref:Ur(te)};break;case 476:u["!margins"]=te;break;case 147:a.Sheets[t]||(a.Sheets[t]={}),te.name&&(a.Sheets[t].CodeName=te.name),(te.above||te.left)&&(u["!outline"]={above:te.above,left:te.left});break;case 137:a.Views||(a.Views=[{}]),a.Views[0]||(a.Views[0]={}),te.RTL&&(a.Views[0].RTL=!0);break;case 485:break;case 64:case 1053:break;case 151:break;case 152:case 175:case 644:case 625:case 562:case 396:case 1112:case 1146:case 471:case 1050:case 649:case 1105:case 589:case 607:case 564:case 1055:case 168:case 174:case 1180:case 499:case 507:case 550:case 171:case 167:case 1177:case 169:case 1181:case 551:case 552:case 661:case 639:case 478:case 537:case 477:case 536:case 1103:case 680:case 1104:case 1024:case 663:case 535:case 678:case 504:case 1043:case 428:case 170:case 3072:case 50:case 2070:case 1045:break;case 35:m=!0;break;case 36:m=!1;break;case 37:m=!0;break;case 38:m=!1;break;default:if(!ke.T){if(!m||l.WTF)throw new Error("Unexpected record 0x"+Y.toString(16))}}},l),delete l.supbooks,delete l["!row"],!u["!ref"]&&(f.s.r<2e6||h&&(h.e.r>0||h.e.c>0||h.s.r>0||h.s.c>0))&&(u["!ref"]=Ur(h||f)),l.sheetRows&&u["!ref"]){var J=ta(u["!ref"]);l.sheetRows<=+J.e.r&&(J.e.r=l.sheetRows-1,J.e.r>f.e.r&&(J.e.r=f.e.r),J.e.r<J.s.r&&(J.s.r=J.e.r),J.e.c>f.e.c&&(J.e.c=f.e.c),J.e.c<J.s.c&&(J.s.c=J.e.c),u["!fullref"]=u["!ref"],u["!ref"]=Ur(J))}return ee.length>0&&(u["!merges"]=ee),V.length>0&&(u["!cols"]=V),F.length>0&&(u["!rows"]=F),u}function SM(r){var e=[],t=r.match(/^<c:numCache>/),n;(r.match(/<c:pt idx="(\d*)">(.*?)<\/c:pt>/mg)||[]).forEach(function(i){var o=i.match(/<c:pt idx="(\d*?)"><c:v>(.*)<\/c:v><\/c:pt>/);o&&(e[+o[1]]=t?+o[2]:o[2])});var a=Vr((r.match(/<c:formatCode>([\s\S]*?)<\/c:formatCode>/)||["","General"])[1]);return(r.match(/<c:f>(.*?)<\/c:f>/mg)||[]).forEach(function(i){n=i.replace(/<.*?>/g,"")}),[e,a,n]}function kM(r,e,t,n,a,i){var o=i||{"!type":"chart"};if(!r)return i;var l=0,u=0,h="A",f={s:{r:2e6,c:2e6},e:{r:0,c:0}};return(r.match(/<c:numCache>[\s\S]*?<\/c:numCache>/gm)||[]).forEach(function(m){var x=SM(m);f.s.r=f.s.c=0,f.e.c=l,h=Ba(l),x[0].forEach(function(g,y){o[h+ui(y)]={t:"n",v:g,z:x[1]},u=y}),f.e.r<u&&(f.e.r=u),++l}),l>0&&(o["!ref"]=Ur(f)),o}function CM(r,e,t,n,a){if(!r)return r;n||(n={"!id":{}});var i={"!type":"chart","!drawel":null,"!rel":""},o,l=r.match(QS);return l&&Iv(l[0],i,a,t),(o=r.match(/drawing r:id="(.*?)"/))&&(i["!rel"]=o[1]),n["!id"][i["!rel"]]&&(i["!drawel"]=n["!id"][i["!rel"]]),i}function TM(r,e){r.l+=10;var t=Ci(r);return{name:t}}function AM(r,e,t,n,a){if(!r)return r;n||(n={"!id":{}});var i={"!type":"chart","!drawel":null,"!rel":""},o=!1;return Tc(r,function(u,h,f){switch(f){case 550:i["!rel"]=u;break;case 651:a.Sheets[t]||(a.Sheets[t]={}),u.name&&(a.Sheets[t].CodeName=u.name);break;case 562:case 652:case 669:case 679:case 551:case 552:case 476:case 3072:break;case 35:o=!0;break;case 36:o=!1;break;case 37:break;case 38:break;default:if(!(h.T>0)){if(!(h.T<0)){if(!o||e.WTF)throw new Error("Unexpected record 0x"+f.toString(16))}}}},e),n["!id"][i["!rel"]]&&(i["!drawel"]=n["!id"][i["!rel"]]),i}var t6=[["allowRefreshQuery",!1,"bool"],["autoCompressPictures",!0,"bool"],["backupFile",!1,"bool"],["checkCompatibility",!1,"bool"],["CodeName",""],["date1904",!1,"bool"],["defaultThemeVersion",0,"int"],["filterPrivacy",!1,"bool"],["hidePivotFieldList",!1,"bool"],["promptedSolutions",!1,"bool"],["publishItems",!1,"bool"],["refreshAllConnections",!1,"bool"],["saveExternalLinkValues",!0,"bool"],["showBorderUnselectedTables",!0,"bool"],["showInkAnnotation",!0,"bool"],["showObjects","all"],["showPivotChartFilter",!1,"bool"],["updateLinks","userSet"]],EM=[["activeTab",0,"int"],["autoFilterDateGrouping",!0,"bool"],["firstSheet",0,"int"],["minimized",!1,"bool"],["showHorizontalScroll",!0,"bool"],["showSheetTabs",!0,"bool"],["showVerticalScroll",!0,"bool"],["tabRatio",600,"int"],["visibility","visible"]],NM=[],OM=[["calcCompleted","true"],["calcMode","auto"],["calcOnSave","true"],["concurrentCalc","true"],["fullCalcOnLoad","false"],["fullPrecision","true"],["iterate","false"],["iterateCount","100"],["iterateDelta","0.001"],["refMode","A1"]];function $w(r,e){for(var t=0;t!=r.length;++t)for(var n=r[t],a=0;a!=e.length;++a){var i=e[a];if(n[i[0]]==null)n[i[0]]=i[1];else switch(i[2]){case"bool":typeof n[i[0]]=="string"&&(n[i[0]]=Bn(n[i[0]]));break;case"int":typeof n[i[0]]=="string"&&(n[i[0]]=parseInt(n[i[0]],10));break}}}function Zw(r,e){for(var t=0;t!=e.length;++t){var n=e[t];if(r[n[0]]==null)r[n[0]]=n[1];else switch(n[2]){case"bool":typeof r[n[0]]=="string"&&(r[n[0]]=Bn(r[n[0]]));break;case"int":typeof r[n[0]]=="string"&&(r[n[0]]=parseInt(r[n[0]],10));break}}}function r6(r){Zw(r.WBProps,t6),Zw(r.CalcPr,OM),$w(r.WBView,EM),$w(r.Sheets,NM),Gf.date1904=Bn(r.WBProps.date1904)}var DM="][*?/\\".split("");function LM(r,e){if(r.length>31)throw new Error("Sheet names cannot exceed 31 chars");var t=!0;return DM.forEach(function(n){if(r.indexOf(n)!=-1)throw new Error("Sheet name cannot contain : \\ / ? * [ ]")}),t}var FM=/<\w+:workbook/;function MM(r,e){if(!r)throw new Error("Could not find file");var t={AppVersion:{},WBProps:{},WBView:[],Sheets:[],CalcPr:{},Names:[],xmlns:""},n=!1,a="xmlns",i={},o=0;if(r.replace(Ei,function(u,h){var f=lr(u);switch(Ll(f[0])){case"<?xml":break;case"<workbook":u.match(FM)&&(a="xmlns"+u.match(/<(\w+):/)[1]),t.xmlns=f[a];break;case"</workbook>":break;case"<fileVersion":delete f[0],t.AppVersion=f;break;case"<fileVersion/>":case"</fileVersion>":break;case"<fileSharing":break;case"<fileSharing/>":break;case"<workbookPr":case"<workbookPr/>":t6.forEach(function(m){if(f[m[0]]!=null)switch(m[2]){case"bool":t.WBProps[m[0]]=Bn(f[m[0]]);break;case"int":t.WBProps[m[0]]=parseInt(f[m[0]],10);break;default:t.WBProps[m[0]]=f[m[0]]}}),f.codeName&&(t.WBProps.CodeName=yn(f.codeName));break;case"</workbookPr>":break;case"<workbookProtection":break;case"<workbookProtection/>":break;case"<bookViews":case"<bookViews>":case"</bookViews>":break;case"<workbookView":case"<workbookView/>":delete f[0],t.WBView.push(f);break;case"</workbookView>":break;case"<sheets":case"<sheets>":case"</sheets>":break;case"<sheet":switch(f.state){case"hidden":f.Hidden=1;break;case"veryHidden":f.Hidden=2;break;default:f.Hidden=0}delete f.state,f.name=Vr(yn(f.name)),delete f[0],t.Sheets.push(f);break;case"</sheet>":break;case"<functionGroups":case"<functionGroups/>":break;case"<functionGroup":break;case"<externalReferences":case"</externalReferences>":case"<externalReferences>":break;case"<externalReference":break;case"<definedNames/>":break;case"<definedNames>":case"<definedNames":n=!0;break;case"</definedNames>":n=!1;break;case"<definedName":i={},i.Name=yn(f.name),f.comment&&(i.Comment=f.comment),f.localSheetId&&(i.Sheet=+f.localSheetId),Bn(f.hidden||"0")&&(i.Hidden=!0),o=h+u.length;break;case"</definedName>":i.Ref=Vr(yn(r.slice(o,h))),t.Names.push(i);break;case"<definedName/>":break;case"<calcPr":delete f[0],t.CalcPr=f;break;case"<calcPr/>":delete f[0],t.CalcPr=f;break;case"</calcPr>":break;case"<oleSize":break;case"<customWorkbookViews>":case"</customWorkbookViews>":case"<customWorkbookViews":break;case"<customWorkbookView":case"</customWorkbookView>":break;case"<pivotCaches>":case"</pivotCaches>":case"<pivotCaches":break;case"<pivotCache":break;case"<smartTagPr":case"<smartTagPr/>":break;case"<smartTagTypes":case"<smartTagTypes>":case"</smartTagTypes>":break;case"<smartTagType":break;case"<webPublishing":case"<webPublishing/>":break;case"<fileRecoveryPr":case"<fileRecoveryPr/>":break;case"<webPublishObjects>":case"<webPublishObjects":case"</webPublishObjects>":break;case"<webPublishObject":break;case"<extLst":case"<extLst>":case"</extLst>":case"<extLst/>":break;case"<ext":n=!0;break;case"</ext>":n=!1;break;case"<ArchID":break;case"<AlternateContent":case"<AlternateContent>":n=!0;break;case"</AlternateContent>":n=!1;break;case"<revisionPtr":break;default:if(!n&&e.WTF)throw new Error("unrecognized "+f[0]+" in workbook")}return u}),J8.indexOf(t.xmlns)===-1)throw new Error("Unknown Namespace: "+t.xmlns);return r6(t),t}function jM(r,e){var t={};return t.Hidden=r.read_shift(4),t.iTabID=r.read_shift(4),t.strRelID=Nx(r),t.name=Ci(r),t}function RM(r,e){var t={},n=r.read_shift(4);t.defaultThemeVersion=r.read_shift(4);var a=e>8?Ci(r):"";return a.length>0&&(t.CodeName=a),t.autoCompressPictures=!!(n&65536),t.backupFile=!!(n&64),t.checkCompatibility=!!(n&4096),t.date1904=!!(n&1),t.filterPrivacy=!!(n&8),t.hidePivotFieldList=!!(n&1024),t.promptedSolutions=!!(n&16),t.publishItems=!!(n&2048),t.refreshAllConnections=!!(n&262144),t.saveExternalLinkValues=!!(n&128),t.showBorderUnselectedTables=!!(n&4),t.showInkAnnotation=!!(n&32),t.showObjects=["all","placeholders","none"][n>>13&3],t.showPivotChartFilter=!!(n&32768),t.updateLinks=["userSet","never","always"][n>>8&3],t}function BM(r,e){var t={};return r.read_shift(4),t.ArchID=r.read_shift(4),r.l+=e-8,t}function PM(r,e,t){var n=r.l+e;r.l+=4,r.l+=1;var a=r.read_shift(4),i=mN(r),o=wF(r,0,t),l=Lv(r);r.l=n;var u={Name:i,Ptg:o};return a<268435455&&(u.Sheet=a),l&&(u.Comment=l),u}function IM(r,e){var t={AppVersion:{},WBProps:{},WBView:[],Sheets:[],CalcPr:{},xmlns:""},n=[],a=!1;e||(e={}),e.biff=12;var i=[],o=[[]];return o.SheetNames=[],o.XTI=[],yp[16]={n:"BrtFRTArchID$",f:BM},Tc(r,function(u,h,f){switch(f){case 156:o.SheetNames.push(u.name),t.Sheets.push(u);break;case 153:t.WBProps=u;break;case 39:u.Sheet!=null&&(e.SID=u.Sheet),u.Ref=_i(u.Ptg,null,null,o,e),delete e.SID,delete u.Ptg,i.push(u);break;case 1036:break;case 357:case 358:case 355:case 667:o[0].length?o.push([f,u]):o[0]=[f,u],o[o.length-1].XTI=[];break;case 362:o.length===0&&(o[0]=[],o[0].XTI=[]),o[o.length-1].XTI=o[o.length-1].XTI.concat(u),o.XTI=o.XTI.concat(u);break;case 361:break;case 2071:case 158:case 143:case 664:case 353:break;case 3072:case 3073:case 534:case 677:case 157:case 610:case 2050:case 155:case 548:case 676:case 128:case 665:case 2128:case 2125:case 549:case 2053:case 596:case 2076:case 2075:case 2082:case 397:case 154:case 1117:case 553:case 2091:break;case 35:n.push(f),a=!0;break;case 36:n.pop(),a=!1;break;case 37:n.push(f),a=!0;break;case 38:n.pop(),a=!1;break;case 16:break;default:if(!h.T){if(!a||e.WTF&&n[n.length-1]!=37&&n[n.length-1]!=35)throw new Error("Unexpected record 0x"+f.toString(16))}}},e),r6(t),t.Names=i,t.supbooks=o,t}function UM(r,e,t){return e.slice(-4)===".bin"?IM(r,t):MM(r,t)}function zM(r,e,t,n,a,i,o,l){return e.slice(-4)===".bin"?_M(r,n,t,a,i,o,l):jF(r,n,t,a,i,o,l)}function HM(r,e,t,n,a,i,o,l){return e.slice(-4)===".bin"?AM(r,n,t,a,i):CM(r,n,t,a,i)}function qM(r,e,t,n,a,i,o,l){return e.slice(-4)===".bin"?ZD():JD()}function VM(r,e,t,n,a,i,o,l){return e.slice(-4)===".bin"?KD():$D()}function GM(r,e,t,n){return e.slice(-4)===".bin"?fD(r,t,n):sD(r,t,n)}function WM(r,e,t){return HS(r,t)}function YM(r,e,t){return e.slice(-4)===".bin"?E7(r,t):T7(r,t)}function XM(r,e,t){return e.slice(-4)===".bin"?WD(r,t):zD(r,t)}function KM(r,e,t){return e.slice(-4)===".bin"?PD(r):RD(r)}function $M(r,e,t,n){return t.slice(-4)===".bin"?ID(r,e,t,n):void 0}function ZM(r,e,t){return e.slice(-4)===".bin"?MD(r,e,t):jD(r,e,t)}var n6=/([\w:]+)=((?:")([^"]*)(?:")|(?:')([^']*)(?:'))/g,a6=/([\w:]+)=((?:")(?:[^"]*)(?:")|(?:')(?:[^']*)(?:'))/;function Po(r,e){var t=r.split(/\s+/),n=[];if(n[0]=t[0],t.length===1)return n;var a=r.match(n6),i,o,l,u;if(a)for(u=0;u!=a.length;++u)i=a[u].match(a6),(o=i[1].indexOf(":"))===-1?n[i[1]]=i[2].slice(1,i[2].length-1):(i[1].slice(0,6)==="xmlns:"?l="xmlns"+i[1].slice(6):l=i[1].slice(o+1),n[l]=i[2].slice(1,i[2].length-1));return n}function JM(r){var e=r.split(/\s+/),t={};if(e.length===1)return t;var n=r.match(n6),a,i,o,l;if(n)for(l=0;l!=n.length;++l)a=n[l].match(a6),(i=a[1].indexOf(":"))===-1?t[a[1]]=a[2].slice(1,a[2].length-1):(a[1].slice(0,6)==="xmlns:"?o="xmlns"+a[1].slice(6):o=a[1].slice(i+1),t[o]=a[2].slice(1,a[2].length-1));return t}var vd;function QM(r,e){var t=vd[r]||Vr(r);return t==="General"?vh(e):so(t,e)}function ej(r,e,t,n){var a=n;switch((t[0].match(/dt:dt="([\w.]+)"/)||["",""])[1]){case"boolean":a=Bn(n);break;case"i2":case"int":a=parseInt(n,10);break;case"r4":case"float":a=parseFloat(n);break;case"date":case"dateTime.tz":a=Ka(n);break;case"i8":case"string":case"fixed":case"uuid":case"bin.base64":break;default:throw new Error("bad custprop:"+t[0])}r[Vr(e)]=a}function tj(r,e,t){if(r.t!=="z"){if(!t||t.cellText!==!1)try{r.t==="e"?r.w=r.w||Nh[r.v]:e==="General"?r.t==="n"?(r.v|0)===r.v?r.w=r.v.toString(10):r.w=Ad(r.v):r.w=vh(r.v):r.w=QM(e||"General",r.v)}catch(i){if(t.WTF)throw i}try{var n=vd[e]||e||"General";if(t.cellNF&&(r.z=n),t.cellDates&&r.t=="n"&&s0(n)){var a=uh(r.v);a&&(r.t="d",r.v=new Date(a.y,a.m-1,a.d,a.H,a.M,a.S,a.u))}}catch(i){if(t.WTF)throw i}}}function rj(r,e,t){if(t.cellStyles&&e.Interior){var n=e.Interior;n.Pattern&&(n.patternType=eD[n.Pattern]||n.Pattern)}r[e.ID]=e}function nj(r,e,t,n,a,i,o,l,u,h){var f="General",m=n.StyleID,x={};h=h||{};var g=[],y=0;for(m===void 0&&l&&(m=l.StyleID),m===void 0&&o&&(m=o.StyleID);i[m]!==void 0&&(i[m].nf&&(f=i[m].nf),i[m].Interior&&g.push(i[m].Interior),!!i[m].Parent);)m=i[m].Parent;switch(t.Type){case"Boolean":n.t="b",n.v=Bn(r);break;case"String":n.t="s",n.r=yw(Vr(r)),n.v=r.indexOf("<")>-1?Vr(e||r).replace(/<.*?>/g,""):n.r;break;case"DateTime":r.slice(-1)!="Z"&&(r+="Z"),n.v=(Ka(r)-new Date(Date.UTC(1899,11,30)))/(1440*60*1e3),n.v!==n.v?n.v=Vr(r):n.v<60&&(n.v=n.v-1),(!f||f=="General")&&(f="yyyy-mm-dd");case"Number":n.v===void 0&&(n.v=+r),n.t||(n.t="n");break;case"Error":n.t="e",n.v=bS[r],h.cellText!==!1&&(n.w=r);break;default:r==""&&e==""?n.t="z":(n.t="s",n.v=yw(e||r));break}if(tj(n,f,h),h.cellFormula!==!1)if(n.Formula){var v=Vr(n.Formula);v.charCodeAt(0)==61&&(v=v.slice(1)),n.f=Vf(v,a),delete n.Formula,n.ArrayRange=="RC"?n.F=Vf("RC:RC",a):n.ArrayRange&&(n.F=Vf(n.ArrayRange,a),u.push([ta(n.F),n.F]))}else for(y=0;y<u.length;++y)a.r>=u[y][0].s.r&&a.r<=u[y][0].e.r&&a.c>=u[y][0].s.c&&a.c<=u[y][0].e.c&&(n.F=u[y][1]);h.cellStyles&&(g.forEach(function(S){!x.patternType&&S.patternType&&(x.patternType=S.patternType)}),n.s=x),n.StyleID!==void 0&&(n.ixfe=n.StyleID)}function aj(r){r.t=r.v||"",r.t=r.t.replace(/\r\n/g,`
`).replace(/\r/g,`
`),r.v=r.w=r.ixfe=void 0}function A2(r,e){var t=e||{};W3();var n=ad(Av(r));(t.type=="binary"||t.type=="array"||t.type=="base64")&&(n=yn(n));var a=n.slice(0,1024).toLowerCase(),i=!1;if(a=a.replace(/".*?"/g,""),(a.indexOf(">")&1023)>Math.min(a.indexOf(",")&1023,a.indexOf(";")&1023)){var o=ci(t);return o.type="string",Od.to_workbook(n,o)}if(a.indexOf("<?xml")==-1&&["html","table","head","meta","script","style","div"].forEach(function(K){a.indexOf("<"+K)>=0&&(i=!0)}),i)return dj(n,t);vd={"General Number":"General","General Date":yr[22],"Long Date":"dddd, mmmm dd, yyyy","Medium Date":yr[15],"Short Date":yr[14],"Long Time":yr[19],"Medium Time":yr[18],"Short Time":yr[20],Currency:'"$"#,##0.00_);[Red]\\("$"#,##0.00\\)',Fixed:yr[2],Standard:yr[4],Percent:yr[10],Scientific:yr[11],"Yes/No":'"Yes";"Yes";"No";@',"True/False":'"True";"True";"False";@',"On/Off":'"Yes";"Yes";"No";@'};var l,u=[],h,f={},m=[],x=t.dense?[]:{},g="",y={},v={},S=Po('<Data ss:Type="String">'),k=0,A=0,N=0,j={s:{r:2e6,c:2e6},e:{r:0,c:0}},W={},ee={},z="",B=0,D=[],Z={},q={},O=0,V=[],F=[],re={},ae=[],J,ge=!1,te=[],ke=[],Y={},w=0,L=0,P={Sheets:[],WBProps:{date1904:!1}},U={};Nd.lastIndex=0,n=n.replace(/<!--([\s\S]*?)-->/mg,"");for(var ie="";l=Nd.exec(n);)switch(l[3]=(ie=l[3]).toLowerCase()){case"data":if(ie=="data"){if(l[1]==="/"){if((h=u.pop())[0]!==l[3])throw new Error("Bad state: "+h.join("|"))}else l[0].charAt(l[0].length-2)!=="/"&&u.push([l[3],!0]);break}if(u[u.length-1][1])break;l[1]==="/"?nj(n.slice(k,l.index),z,S,u[u.length-1][0]=="comment"?re:y,{c:A,r:N},W,ae[A],v,te,t):(z="",S=Po(l[0]),k=l.index+l[0].length);break;case"cell":if(l[1]==="/")if(F.length>0&&(y.c=F),(!t.sheetRows||t.sheetRows>N)&&y.v!==void 0&&(t.dense?(x[N]||(x[N]=[]),x[N][A]=y):x[Ba(A)+ui(N)]=y),y.HRef&&(y.l={Target:Vr(y.HRef)},y.HRefScreenTip&&(y.l.Tooltip=y.HRefScreenTip),delete y.HRef,delete y.HRefScreenTip),(y.MergeAcross||y.MergeDown)&&(w=A+(parseInt(y.MergeAcross,10)|0),L=N+(parseInt(y.MergeDown,10)|0),D.push({s:{c:A,r:N},e:{c:w,r:L}})),!t.sheetStubs)y.MergeAcross?A=w+1:++A;else if(y.MergeAcross||y.MergeDown){for(var fe=A;fe<=w;++fe)for(var xe=N;xe<=L;++xe)(fe>A||xe>N)&&(t.dense?(x[xe]||(x[xe]=[]),x[xe][fe]={t:"z"}):x[Ba(fe)+ui(xe)]={t:"z"});A=w+1}else++A;else y=JM(l[0]),y.Index&&(A=+y.Index-1),A<j.s.c&&(j.s.c=A),A>j.e.c&&(j.e.c=A),l[0].slice(-2)==="/>"&&++A,F=[];break;case"row":l[1]==="/"||l[0].slice(-2)==="/>"?(N<j.s.r&&(j.s.r=N),N>j.e.r&&(j.e.r=N),l[0].slice(-2)==="/>"&&(v=Po(l[0]),v.Index&&(N=+v.Index-1)),A=0,++N):(v=Po(l[0]),v.Index&&(N=+v.Index-1),Y={},(v.AutoFitHeight=="0"||v.Height)&&(Y.hpx=parseInt(v.Height,10),Y.hpt=zS(Y.hpx),ke[N]=Y),v.Hidden=="1"&&(Y.hidden=!0,ke[N]=Y));break;case"worksheet":if(l[1]==="/"){if((h=u.pop())[0]!==l[3])throw new Error("Bad state: "+h.join("|"));m.push(g),j.s.r<=j.e.r&&j.s.c<=j.e.c&&(x["!ref"]=Ur(j),t.sheetRows&&t.sheetRows<=j.e.r&&(x["!fullref"]=x["!ref"],j.e.r=t.sheetRows-1,x["!ref"]=Ur(j))),D.length&&(x["!merges"]=D),ae.length>0&&(x["!cols"]=ae),ke.length>0&&(x["!rows"]=ke),f[g]=x}else j={s:{r:2e6,c:2e6},e:{r:0,c:0}},N=A=0,u.push([l[3],!1]),h=Po(l[0]),g=Vr(h.Name),x=t.dense?[]:{},D=[],te=[],ke=[],U={name:g,Hidden:0},P.Sheets.push(U);break;case"table":if(l[1]==="/"){if((h=u.pop())[0]!==l[3])throw new Error("Bad state: "+h.join("|"))}else{if(l[0].slice(-2)=="/>")break;u.push([l[3],!1]),ae=[],ge=!1}break;case"style":l[1]==="/"?rj(W,ee,t):ee=Po(l[0]);break;case"numberformat":ee.nf=Vr(Po(l[0]).Format||"General"),vd[ee.nf]&&(ee.nf=vd[ee.nf]);for(var ve=0;ve!=392&&yr[ve]!=ee.nf;++ve);if(ve==392){for(ve=57;ve!=392;++ve)if(yr[ve]==null){gh(ee.nf,ve);break}}break;case"column":if(u[u.length-1][0]!=="table")break;if(J=Po(l[0]),J.Hidden&&(J.hidden=!0,delete J.Hidden),J.Width&&(J.wpx=parseInt(J.Width,10)),!ge&&J.wpx>10){ge=!0,Pi=IS;for(var ce=0;ce<ae.length;++ce)ae[ce]&&a0(ae[ce])}ge&&a0(J),ae[J.Index-1||ae.length]=J;for(var De=0;De<+J.Span;++De)ae[ae.length]=ci(J);break;case"namedrange":if(l[1]==="/")break;P.Names||(P.Names=[]);var ue=lr(l[0]),Ye={Name:ue.Name,Ref:Vf(ue.RefersTo.slice(1),{r:0,c:0})};P.Sheets.length>0&&(Ye.Sheet=P.Sheets.length-1),P.Names.push(Ye);break;case"namedcell":break;case"b":break;case"i":break;case"u":break;case"s":break;case"em":break;case"h2":break;case"h3":break;case"sub":break;case"sup":break;case"span":break;case"alignment":break;case"borders":break;case"border":break;case"font":if(l[0].slice(-2)==="/>")break;l[1]==="/"?z+=n.slice(B,l.index):B=l.index+l[0].length;break;case"interior":if(!t.cellStyles)break;ee.Interior=Po(l[0]);break;case"protection":break;case"author":case"title":case"description":case"created":case"keywords":case"subject":case"category":case"company":case"lastauthor":case"lastsaved":case"lastprinted":case"version":case"revision":case"totaltime":case"hyperlinkbase":case"manager":case"contentstatus":case"identifier":case"language":case"appname":if(l[0].slice(-2)==="/>")break;l[1]==="/"?zN(Z,ie,n.slice(O,l.index)):O=l.index+l[0].length;break;case"paragraphs":break;case"styles":case"workbook":if(l[1]==="/"){if((h=u.pop())[0]!==l[3])throw new Error("Bad state: "+h.join("|"))}else u.push([l[3],!1]);break;case"comment":if(l[1]==="/"){if((h=u.pop())[0]!==l[3])throw new Error("Bad state: "+h.join("|"));aj(re),F.push(re)}else u.push([l[3],!1]),h=Po(l[0]),re={a:h.Author};break;case"autofilter":if(l[1]==="/"){if((h=u.pop())[0]!==l[3])throw new Error("Bad state: "+h.join("|"))}else if(l[0].charAt(l[0].length-2)!=="/"){var R=Po(l[0]);x["!autofilter"]={ref:Vf(R.Range).replace(/\$/g,"")},u.push([l[3],!0])}break;case"name":break;case"datavalidation":if(l[1]==="/"){if((h=u.pop())[0]!==l[3])throw new Error("Bad state: "+h.join("|"))}else l[0].charAt(l[0].length-2)!=="/"&&u.push([l[3],!0]);break;case"pixelsperinch":break;case"componentoptions":case"documentproperties":case"customdocumentproperties":case"officedocumentsettings":case"pivottable":case"pivotcache":case"names":case"mapinfo":case"pagebreaks":case"querytable":case"sorting":case"schema":case"conditionalformatting":case"smarttagtype":case"smarttags":case"excelworkbook":case"workbookoptions":case"worksheetoptions":if(l[1]==="/"){if((h=u.pop())[0]!==l[3])throw new Error("Bad state: "+h.join("|"))}else l[0].charAt(l[0].length-2)!=="/"&&u.push([l[3],!0]);break;case"null":break;default:if(u.length==0&&l[3]=="document"||u.length==0&&l[3]=="uof")return n_(n,t);var H=!0;switch(u[u.length-1][0]){case"officedocumentsettings":switch(l[3]){case"allowpng":break;case"removepersonalinformation":break;case"downloadcomponents":break;case"locationofcomponents":break;case"colors":break;case"color":break;case"index":break;case"rgb":break;case"targetscreensize":break;case"readonlyrecommended":break;default:H=!1}break;case"componentoptions":switch(l[3]){case"toolbar":break;case"hideofficelogo":break;case"spreadsheetautofit":break;case"label":break;case"caption":break;case"maxheight":break;case"maxwidth":break;case"nextsheetnumber":break;default:H=!1}break;case"excelworkbook":switch(l[3]){case"date1904":P.WBProps.date1904=!0;break;case"windowheight":break;case"windowwidth":break;case"windowtopx":break;case"windowtopy":break;case"tabratio":break;case"protectstructure":break;case"protectwindow":break;case"protectwindows":break;case"activesheet":break;case"displayinknotes":break;case"firstvisiblesheet":break;case"supbook":break;case"sheetname":break;case"sheetindex":break;case"sheetindexfirst":break;case"sheetindexlast":break;case"dll":break;case"acceptlabelsinformulas":break;case"donotsavelinkvalues":break;case"iteration":break;case"maxiterations":break;case"maxchange":break;case"path":break;case"xct":break;case"count":break;case"selectedsheets":break;case"calculation":break;case"uncalced":break;case"startupprompt":break;case"crn":break;case"externname":break;case"formula":break;case"colfirst":break;case"collast":break;case"wantadvise":break;case"boolean":break;case"error":break;case"text":break;case"ole":break;case"noautorecover":break;case"publishobjects":break;case"donotcalculatebeforesave":break;case"number":break;case"refmoder1c1":break;case"embedsavesmarttags":break;default:H=!1}break;case"workbookoptions":switch(l[3]){case"owcversion":break;case"height":break;case"width":break;default:H=!1}break;case"worksheetoptions":switch(l[3]){case"visible":if(l[0].slice(-2)!=="/>")if(l[1]==="/")switch(n.slice(O,l.index)){case"SheetHidden":U.Hidden=1;break;case"SheetVeryHidden":U.Hidden=2;break}else O=l.index+l[0].length;break;case"header":x["!margins"]||xd(x["!margins"]={},"xlml"),isNaN(+lr(l[0]).Margin)||(x["!margins"].header=+lr(l[0]).Margin);break;case"footer":x["!margins"]||xd(x["!margins"]={},"xlml"),isNaN(+lr(l[0]).Margin)||(x["!margins"].footer=+lr(l[0]).Margin);break;case"pagemargins":var ne=lr(l[0]);x["!margins"]||xd(x["!margins"]={},"xlml"),isNaN(+ne.Top)||(x["!margins"].top=+ne.Top),isNaN(+ne.Left)||(x["!margins"].left=+ne.Left),isNaN(+ne.Right)||(x["!margins"].right=+ne.Right),isNaN(+ne.Bottom)||(x["!margins"].bottom=+ne.Bottom);break;case"displayrighttoleft":P.Views||(P.Views=[]),P.Views[0]||(P.Views[0]={}),P.Views[0].RTL=!0;break;case"freezepanes":break;case"frozennosplit":break;case"splithorizontal":case"splitvertical":break;case"donotdisplaygridlines":break;case"activerow":break;case"activecol":break;case"toprowbottompane":break;case"leftcolumnrightpane":break;case"unsynced":break;case"print":break;case"printerrors":break;case"panes":break;case"scale":break;case"pane":break;case"number":break;case"layout":break;case"pagesetup":break;case"selected":break;case"protectobjects":break;case"enableselection":break;case"protectscenarios":break;case"validprinterinfo":break;case"horizontalresolution":break;case"verticalresolution":break;case"numberofcopies":break;case"activepane":break;case"toprowvisible":break;case"leftcolumnvisible":break;case"fittopage":break;case"rangeselection":break;case"papersizeindex":break;case"pagelayoutzoom":break;case"pagebreakzoom":break;case"filteron":break;case"fitwidth":break;case"fitheight":break;case"commentslayout":break;case"zoom":break;case"lefttoright":break;case"gridlines":break;case"allowsort":break;case"allowfilter":break;case"allowinsertrows":break;case"allowdeleterows":break;case"allowinsertcols":break;case"allowdeletecols":break;case"allowinserthyperlinks":break;case"allowformatcells":break;case"allowsizecols":break;case"allowsizerows":break;case"nosummaryrowsbelowdetail":x["!outline"]||(x["!outline"]={}),x["!outline"].above=!0;break;case"tabcolorindex":break;case"donotdisplayheadings":break;case"showpagelayoutzoom":break;case"nosummarycolumnsrightdetail":x["!outline"]||(x["!outline"]={}),x["!outline"].left=!0;break;case"blackandwhite":break;case"donotdisplayzeros":break;case"displaypagebreak":break;case"rowcolheadings":break;case"donotdisplayoutline":break;case"noorientation":break;case"allowusepivottables":break;case"zeroheight":break;case"viewablerange":break;case"selection":break;case"protectcontents":break;default:H=!1}break;case"pivottable":case"pivotcache":switch(l[3]){case"immediateitemsondrop":break;case"showpagemultipleitemlabel":break;case"compactrowindent":break;case"location":break;case"pivotfield":break;case"orientation":break;case"layoutform":break;case"layoutsubtotallocation":break;case"layoutcompactrow":break;case"position":break;case"pivotitem":break;case"datatype":break;case"datafield":break;case"sourcename":break;case"parentfield":break;case"ptlineitems":break;case"ptlineitem":break;case"countofsameitems":break;case"item":break;case"itemtype":break;case"ptsource":break;case"cacheindex":break;case"consolidationreference":break;case"filename":break;case"reference":break;case"nocolumngrand":break;case"norowgrand":break;case"blanklineafteritems":break;case"hidden":break;case"subtotal":break;case"basefield":break;case"mapchilditems":break;case"function":break;case"refreshonfileopen":break;case"printsettitles":break;case"mergelabels":break;case"defaultversion":break;case"refreshname":break;case"refreshdate":break;case"refreshdatecopy":break;case"versionlastrefresh":break;case"versionlastupdate":break;case"versionupdateablemin":break;case"versionrefreshablemin":break;case"calculation":break;default:H=!1}break;case"pagebreaks":switch(l[3]){case"colbreaks":break;case"colbreak":break;case"rowbreaks":break;case"rowbreak":break;case"colstart":break;case"colend":break;case"rowend":break;default:H=!1}break;case"autofilter":switch(l[3]){case"autofiltercolumn":break;case"autofiltercondition":break;case"autofilterand":break;case"autofilteror":break;default:H=!1}break;case"querytable":switch(l[3]){case"id":break;case"autoformatfont":break;case"autoformatpattern":break;case"querysource":break;case"querytype":break;case"enableredirections":break;case"refreshedinxl9":break;case"urlstring":break;case"htmltables":break;case"connection":break;case"commandtext":break;case"refreshinfo":break;case"notitles":break;case"nextid":break;case"columninfo":break;case"overwritecells":break;case"donotpromptforfile":break;case"textwizardsettings":break;case"source":break;case"number":break;case"decimal":break;case"thousandseparator":break;case"trailingminusnumbers":break;case"formatsettings":break;case"fieldtype":break;case"delimiters":break;case"tab":break;case"comma":break;case"autoformatname":break;case"versionlastedit":break;case"versionlastrefresh":break;default:H=!1}break;case"datavalidation":switch(l[3]){case"range":break;case"type":break;case"min":break;case"max":break;case"sort":break;case"descending":break;case"order":break;case"casesensitive":break;case"value":break;case"errorstyle":break;case"errormessage":break;case"errortitle":break;case"inputmessage":break;case"inputtitle":break;case"combohide":break;case"inputhide":break;case"condition":break;case"qualifier":break;case"useblank":break;case"value1":break;case"value2":break;case"format":break;case"cellrangelist":break;default:H=!1}break;case"sorting":case"conditionalformatting":switch(l[3]){case"range":break;case"type":break;case"min":break;case"max":break;case"sort":break;case"descending":break;case"order":break;case"casesensitive":break;case"value":break;case"errorstyle":break;case"errormessage":break;case"errortitle":break;case"cellrangelist":break;case"inputmessage":break;case"inputtitle":break;case"combohide":break;case"inputhide":break;case"condition":break;case"qualifier":break;case"useblank":break;case"value1":break;case"value2":break;case"format":break;default:H=!1}break;case"mapinfo":case"schema":case"data":switch(l[3]){case"map":break;case"entry":break;case"range":break;case"xpath":break;case"field":break;case"xsdtype":break;case"filteron":break;case"aggregate":break;case"elementtype":break;case"attributetype":break;case"schema":case"element":case"complextype":case"datatype":case"all":case"attribute":case"extends":break;case"row":break;default:H=!1}break;case"smarttags":break;default:H=!1;break}if(H||l[3].match(/!\[CDATA/))break;if(!u[u.length-1][1])throw"Unrecognized tag: "+l[3]+"|"+u.join("|");if(u[u.length-1][0]==="customdocumentproperties"){if(l[0].slice(-2)==="/>")break;l[1]==="/"?ej(q,ie,V,n.slice(O,l.index)):(V=l,O=l.index+l[0].length);break}if(t.WTF)throw"Unrecognized tag: "+l[3]+"|"+u.join("|")}var G={};return!t.bookSheets&&!t.bookProps&&(G.Sheets=f),G.SheetNames=m,G.Workbook=P,G.SSF=ci(yr),G.Props=Z,G.Custprops=q,G}function Fx(r,e){switch(Hv(e=e||{}),e.type||"base64"){case"base64":return A2(js(r),e);case"binary":case"buffer":case"file":return A2(r,e);case"array":return A2(Th(r),e)}}function ij(r){var e={},t=r.content;if(t.l=28,e.AnsiUserType=t.read_shift(0,"lpstr-ansi"),e.AnsiClipboardFormat=yN(t),t.length-t.l<=4)return e;var n=t.read_shift(4);if(n==0||n>40||(t.l-=4,e.Reserved1=t.read_shift(0,"lpstr-ansi"),t.length-t.l<=4)||(n=t.read_shift(4),n!==1907505652)||(e.UnicodeClipboardFormat=bN(t),n=t.read_shift(4),n==0||n>40))return e;t.l-=4,e.Reserved2=t.read_shift(0,"lpwstr")}var sj=[60,1084,2066,2165,2175];function oj(r,e,t,n,a){var i=n,o=[],l=t.slice(t.l,t.l+i);if(a&&a.enc&&a.enc.insitu&&l.length>0)switch(r){case 9:case 521:case 1033:case 2057:case 47:case 405:case 225:case 406:case 312:case 404:case 10:break;case 133:break;default:a.enc.insitu(l)}o.push(l),t.l+=i;for(var u=gc(t,t.l),h=Mx[u],f=0;h!=null&&sj.indexOf(u)>-1;)i=gc(t,t.l+2),f=t.l+4,u==2066?f+=4:(u==2165||u==2175)&&(f+=12),l=t.slice(f,t.l+4+i),o.push(l),t.l+=4+i,h=Mx[u=gc(t,t.l)];var m=pu(o);si(m,0);var x=0;m.lens=[];for(var g=0;g<o.length;++g)m.lens.push(x),x+=o[g].length;if(m.length<n)throw"XLS Record 0x"+r.toString(16)+" Truncated: "+m.length+" < "+n;return e.f(m,m.length,a)}function wl(r,e,t){if(r.t!=="z"&&r.XF){var n=0;try{n=r.z||r.XF.numFmtId||0,e.cellNF&&(r.z=yr[n])}catch(i){if(e.WTF)throw i}if(!e||e.cellText!==!1)try{r.t==="e"?r.w=r.w||Nh[r.v]:n===0||n=="General"?r.t==="n"?(r.v|0)===r.v?r.w=r.v.toString(10):r.w=Ad(r.v):r.w=vh(r.v):r.w=so(n,r.v,{date1904:!!t,dateNF:e&&e.dateNF})}catch(i){if(e.WTF)throw i}if(e.cellDates&&n&&r.t=="n"&&s0(yr[n]||String(n))){var a=uh(r.v);a&&(r.t="d",r.v=new Date(a.y,a.m-1,a.d,a.H,a.M,a.S,a.u))}}}function ng(r,e,t){return{v:r,ixfe:e,t}}function lj(r,e){var t={opts:{}},n={},a=e.dense?[]:{},i={},o={},l=null,u=[],h="",f={},m,x="",g,y,v,S,k={},A=[],N,j,W=[],ee=[],z={Sheets:[],WBProps:{date1904:!1},Views:[{}]},B={},D=function(xt){return xt<8?ph[xt]:xt<64&&ee[xt-8]||ph[xt]},Z=function(xt,bt,Qt){var Et=bt.XF.data;if(!(!Et||!Et.patternType||!Qt||!Qt.cellStyles)){bt.s={},bt.s.patternType=Et.patternType;var Rt;(Rt=Dd(D(Et.icvFore)))&&(bt.s.fgColor={rgb:Rt}),(Rt=Dd(D(Et.icvBack)))&&(bt.s.bgColor={rgb:Rt})}},q=function(xt,bt,Qt){if(!(Y>1)&&!(Qt.sheetRows&&xt.r>=Qt.sheetRows)){if(Qt.cellStyles&&bt.XF&&bt.XF.data&&Z(xt,bt,Qt),delete bt.ixfe,delete bt.XF,m=xt,x=xr(xt),(!o||!o.s||!o.e)&&(o={s:{r:0,c:0},e:{r:0,c:0}}),xt.r<o.s.r&&(o.s.r=xt.r),xt.c<o.s.c&&(o.s.c=xt.c),xt.r+1>o.e.r&&(o.e.r=xt.r+1),xt.c+1>o.e.c&&(o.e.c=xt.c+1),Qt.cellFormula&&bt.f){for(var Et=0;Et<A.length;++Et)if(!(A[Et][0].s.c>xt.c||A[Et][0].s.r>xt.r)&&!(A[Et][0].e.c<xt.c||A[Et][0].e.r<xt.r)){bt.F=Ur(A[Et][0]),(A[Et][0].s.c!=xt.c||A[Et][0].s.r!=xt.r)&&delete bt.f,bt.f&&(bt.f=""+_i(A[Et][1],o,xt,te,O));break}}Qt.dense?(a[xt.r]||(a[xt.r]=[]),a[xt.r][xt.c]=bt):a[x]=bt}},O={enc:!1,sbcch:0,snames:[],sharedf:k,arrayf:A,rrtabid:[],lastuser:"",biff:8,codepage:0,winlocked:0,cellStyles:!!e&&!!e.cellStyles,WTF:!!e&&!!e.wtf};e.password&&(O.password=e.password);var V,F=[],re=[],ae=[],J=[],ge=!1,te=[];te.SheetNames=O.snames,te.sharedf=O.sharedf,te.arrayf=O.arrayf,te.names=[],te.XTI=[];var ke=0,Y=0,w=0,L=[],P=[],U;O.codepage=1200,Wo(1200);for(var ie=!1;r.l<r.length-1;){var fe=r.l,xe=r.read_shift(2);if(xe===0&&ke===10)break;var ve=r.l===r.length?0:r.read_shift(2),ce=Mx[xe];if(ce&&ce.f){if(e.bookSheets&&ke===133&&xe!==133)break;if(ke=xe,ce.r===2||ce.r==12){var De=r.read_shift(2);if(ve-=2,!O.enc&&De!==xe&&((De&255)<<8|De>>8)!==xe)throw new Error("rt mismatch: "+De+"!="+xe);ce.r==12&&(r.l+=10,ve-=10)}var ue={};if(xe===10?ue=ce.f(r,ve,O):ue=oj(xe,ce,r,ve,O),Y==0&&[9,521,1033,2057].indexOf(ke)===-1)continue;switch(xe){case 34:t.opts.Date1904=z.WBProps.date1904=ue;break;case 134:t.opts.WriteProtect=!0;break;case 47:if(O.enc||(r.l=0),O.enc=ue,!e.password)throw new Error("File is password-protected");if(ue.valid==null)throw new Error("Encryption scheme unsupported");if(!ue.valid)throw new Error("Password is incorrect");break;case 92:O.lastuser=ue;break;case 66:var Ye=Number(ue);switch(Ye){case 21010:Ye=1200;break;case 32768:Ye=1e4;break;case 32769:Ye=1252;break}Wo(O.codepage=Ye),ie=!0;break;case 317:O.rrtabid=ue;break;case 25:O.winlocked=ue;break;case 439:t.opts.RefreshAll=ue;break;case 12:t.opts.CalcCount=ue;break;case 16:t.opts.CalcDelta=ue;break;case 17:t.opts.CalcIter=ue;break;case 13:t.opts.CalcMode=ue;break;case 14:t.opts.CalcPrecision=ue;break;case 95:t.opts.CalcSaveRecalc=ue;break;case 15:O.CalcRefMode=ue;break;case 2211:t.opts.FullCalc=ue;break;case 129:ue.fDialog&&(a["!type"]="dialog"),ue.fBelow||((a["!outline"]||(a["!outline"]={})).above=!0),ue.fRight||((a["!outline"]||(a["!outline"]={})).left=!0);break;case 224:W.push(ue);break;case 430:te.push([ue]),te[te.length-1].XTI=[];break;case 35:case 547:te[te.length-1].push(ue);break;case 24:case 536:U={Name:ue.Name,Ref:_i(ue.rgce,o,null,te,O)},ue.itab>0&&(U.Sheet=ue.itab-1),te.names.push(U),te[0]||(te[0]=[],te[0].XTI=[]),te[te.length-1].push(ue),ue.Name=="_xlnm._FilterDatabase"&&ue.itab>0&&ue.rgce&&ue.rgce[0]&&ue.rgce[0][0]&&ue.rgce[0][0][0]=="PtgArea3d"&&(P[ue.itab-1]={ref:Ur(ue.rgce[0][0][1][2])});break;case 22:O.ExternCount=ue;break;case 23:te.length==0&&(te[0]=[],te[0].XTI=[]),te[te.length-1].XTI=te[te.length-1].XTI.concat(ue),te.XTI=te.XTI.concat(ue);break;case 2196:if(O.biff<8)break;U!=null&&(U.Comment=ue[1]);break;case 18:a["!protect"]=ue;break;case 19:ue!==0&&O.WTF&&console.error("Password verifier: "+ue);break;case 133:i[ue.pos]=ue,O.snames.push(ue.name);break;case 10:{if(--Y)break;if(o.e){if(o.e.r>0&&o.e.c>0){if(o.e.r--,o.e.c--,a["!ref"]=Ur(o),e.sheetRows&&e.sheetRows<=o.e.r){var R=o.e.r;o.e.r=e.sheetRows-1,a["!fullref"]=a["!ref"],a["!ref"]=Ur(o),o.e.r=R}o.e.r++,o.e.c++}F.length>0&&(a["!merges"]=F),re.length>0&&(a["!objects"]=re),ae.length>0&&(a["!cols"]=ae),J.length>0&&(a["!rows"]=J),z.Sheets.push(B)}h===""?f=a:n[h]=a,a=e.dense?[]:{}}break;case 9:case 521:case 1033:case 2057:{if(O.biff===8&&(O.biff={9:2,521:3,1033:4}[xe]||{512:2,768:3,1024:4,1280:5,1536:8,2:2,7:2}[ue.BIFFVer]||8),O.biffguess=ue.BIFFVer==0,ue.BIFFVer==0&&ue.dt==4096&&(O.biff=5,ie=!0,Wo(O.codepage=28591)),O.biff==8&&ue.BIFFVer==0&&ue.dt==16&&(O.biff=2),Y++)break;if(a=e.dense?[]:{},O.biff<8&&!ie&&(ie=!0,Wo(O.codepage=e.codepage||1252)),O.biff<5||ue.BIFFVer==0&&ue.dt==4096){h===""&&(h="Sheet1"),o={s:{r:0,c:0},e:{r:0,c:0}};var H={pos:r.l-ve,name:h};i[H.pos]=H,O.snames.push(h)}else h=(i[fe]||{name:""}).name;ue.dt==32&&(a["!type"]="chart"),ue.dt==64&&(a["!type"]="macro"),F=[],re=[],O.arrayf=A=[],ae=[],J=[],ge=!1,B={Hidden:(i[fe]||{hs:0}).hs,name:h}}break;case 515:case 3:case 2:a["!type"]=="chart"&&(e.dense?(a[ue.r]||[])[ue.c]:a[xr({c:ue.c,r:ue.r})])&&++ue.c,N={ixfe:ue.ixfe,XF:W[ue.ixfe]||{},v:ue.val,t:"n"},w>0&&(N.z=L[N.ixfe>>8&63]),wl(N,e,t.opts.Date1904),q({c:ue.c,r:ue.r},N,e);break;case 5:case 517:N={ixfe:ue.ixfe,XF:W[ue.ixfe],v:ue.val,t:ue.t},w>0&&(N.z=L[N.ixfe>>8&63]),wl(N,e,t.opts.Date1904),q({c:ue.c,r:ue.r},N,e);break;case 638:N={ixfe:ue.ixfe,XF:W[ue.ixfe],v:ue.rknum,t:"n"},w>0&&(N.z=L[N.ixfe>>8&63]),wl(N,e,t.opts.Date1904),q({c:ue.c,r:ue.r},N,e);break;case 189:for(var ne=ue.c;ne<=ue.C;++ne){var G=ue.rkrec[ne-ue.c][0];N={ixfe:G,XF:W[G],v:ue.rkrec[ne-ue.c][1],t:"n"},w>0&&(N.z=L[N.ixfe>>8&63]),wl(N,e,t.opts.Date1904),q({c:ne,r:ue.r},N,e)}break;case 6:case 518:case 1030:{if(ue.val=="String"){l=ue;break}if(N=ng(ue.val,ue.cell.ixfe,ue.tt),N.XF=W[N.ixfe],e.cellFormula){var K=ue.formula;if(K&&K[0]&&K[0][0]&&K[0][0][0]=="PtgExp"){var le=K[0][0][1][0],Fe=K[0][0][1][1],je=xr({r:le,c:Fe});k[je]?N.f=""+_i(ue.formula,o,ue.cell,te,O):N.F=((e.dense?(a[le]||[])[Fe]:a[je])||{}).F}else N.f=""+_i(ue.formula,o,ue.cell,te,O)}w>0&&(N.z=L[N.ixfe>>8&63]),wl(N,e,t.opts.Date1904),q(ue.cell,N,e),l=ue}break;case 7:case 519:if(l)l.val=ue,N=ng(ue,l.cell.ixfe,"s"),N.XF=W[N.ixfe],e.cellFormula&&(N.f=""+_i(l.formula,o,l.cell,te,O)),w>0&&(N.z=L[N.ixfe>>8&63]),wl(N,e,t.opts.Date1904),q(l.cell,N,e),l=null;else throw new Error("String record expects Formula");break;case 33:case 545:{A.push(ue);var Oe=xr(ue[0].s);if(g=e.dense?(a[ue[0].s.r]||[])[ue[0].s.c]:a[Oe],e.cellFormula&&g){if(!l||!Oe||!g)break;g.f=""+_i(ue[1],o,ue[0],te,O),g.F=Ur(ue[0])}}break;case 1212:{if(!e.cellFormula)break;if(x){if(!l)break;k[xr(l.cell)]=ue[0],g=e.dense?(a[l.cell.r]||[])[l.cell.c]:a[xr(l.cell)],(g||{}).f=""+_i(ue[0],o,m,te,O)}}break;case 253:N=ng(u[ue.isst].t,ue.ixfe,"s"),u[ue.isst].h&&(N.h=u[ue.isst].h),N.XF=W[N.ixfe],w>0&&(N.z=L[N.ixfe>>8&63]),wl(N,e,t.opts.Date1904),q({c:ue.c,r:ue.r},N,e);break;case 513:e.sheetStubs&&(N={ixfe:ue.ixfe,XF:W[ue.ixfe],t:"z"},w>0&&(N.z=L[N.ixfe>>8&63]),wl(N,e,t.opts.Date1904),q({c:ue.c,r:ue.r},N,e));break;case 190:if(e.sheetStubs)for(var Ge=ue.c;Ge<=ue.C;++Ge){var $e=ue.ixfe[Ge-ue.c];N={ixfe:$e,XF:W[$e],t:"z"},w>0&&(N.z=L[N.ixfe>>8&63]),wl(N,e,t.opts.Date1904),q({c:Ge,r:ue.r},N,e)}break;case 214:case 516:case 4:N=ng(ue.val,ue.ixfe,"s"),N.XF=W[N.ixfe],w>0&&(N.z=L[N.ixfe>>8&63]),wl(N,e,t.opts.Date1904),q({c:ue.c,r:ue.r},N,e);break;case 0:case 512:Y===1&&(o=ue);break;case 252:u=ue;break;case 1054:if(O.biff==4){L[w++]=ue[1];for(var rt=0;rt<w+163&&yr[rt]!=ue[1];++rt);rt>=163&&gh(ue[1],w+163)}else gh(ue[1],ue[0]);break;case 30:{L[w++]=ue;for(var it=0;it<w+163&&yr[it]!=ue;++it);it>=163&&gh(ue,w+163)}break;case 229:F=F.concat(ue);break;case 93:re[ue.cmo[0]]=O.lastobj=ue;break;case 438:O.lastobj.TxO=ue;break;case 127:O.lastobj.ImData=ue;break;case 440:for(S=ue[0].s.r;S<=ue[0].e.r;++S)for(v=ue[0].s.c;v<=ue[0].e.c;++v)g=e.dense?(a[S]||[])[v]:a[xr({c:v,r:S})],g&&(g.l=ue[1]);break;case 2048:for(S=ue[0].s.r;S<=ue[0].e.r;++S)for(v=ue[0].s.c;v<=ue[0].e.c;++v)g=e.dense?(a[S]||[])[v]:a[xr({c:v,r:S})],g&&g.l&&(g.l.Tooltip=ue[1]);break;case 28:{if(O.biff<=5&&O.biff>=2)break;g=e.dense?(a[ue[0].r]||[])[ue[0].c]:a[xr(ue[0])];var Tt=re[ue[2]];g||(e.dense?(a[ue[0].r]||(a[ue[0].r]=[]),g=a[ue[0].r][ue[0].c]={t:"z"}):g=a[xr(ue[0])]={t:"z"},o.e.r=Math.max(o.e.r,ue[0].r),o.s.r=Math.min(o.s.r,ue[0].r),o.e.c=Math.max(o.e.c,ue[0].c),o.s.c=Math.min(o.s.c,ue[0].c)),g.c||(g.c=[]),y={a:ue[1],t:Tt.TxO.t},g.c.push(y)}break;case 2173:OD(W[ue.ixfe],ue.ext);break;case 125:{if(!O.cellStyles)break;for(;ue.e>=ue.s;)ae[ue.e--]={width:ue.w/256,level:ue.level||0,hidden:!!(ue.flags&1)},ge||(ge=!0,Bv(ue.w/256)),a0(ae[ue.e+1])}break;case 520:{var dt={};ue.level!=null&&(J[ue.r]=dt,dt.level=ue.level),ue.hidden&&(J[ue.r]=dt,dt.hidden=!0),ue.hpt&&(J[ue.r]=dt,dt.hpt=ue.hpt,dt.hpx=Ld(ue.hpt))}break;case 38:case 39:case 40:case 41:a["!margins"]||xd(a["!margins"]={}),a["!margins"][{38:"left",39:"right",40:"top",41:"bottom"}[xe]]=ue;break;case 161:a["!margins"]||xd(a["!margins"]={}),a["!margins"].header=ue.header,a["!margins"].footer=ue.footer;break;case 574:ue.RTL&&(z.Views[0].RTL=!0);break;case 146:ee=ue;break;case 2198:V=ue;break;case 140:j=ue;break;case 442:h?B.CodeName=ue||B.name:z.WBProps.CodeName=ue||"ThisWorkbook";break}}else ce||console.error("Missing Info for XLS Record 0x"+xe.toString(16)),r.l+=ve}return t.SheetNames=Ol(i).sort(function(He,xt){return Number(He)-Number(xt)}).map(function(He){return i[He].name}),e.bookSheets||(t.Sheets=n),!t.SheetNames.length&&f["!ref"]?(t.SheetNames.push("Sheet1"),t.Sheets&&(t.Sheets.Sheet1=f)):t.Preamble=f,t.Sheets&&P.forEach(function(He,xt){t.Sheets[t.SheetNames[xt]]["!autofilter"]=He}),t.Strings=u,t.SSF=ci(yr),O.enc&&(t.Encryption=O.enc),V&&(t.Themes=V),t.Metadata={},j!==void 0&&(t.Metadata.Country=j),te.names.length>0&&(z.Names=te.names),t.Workbook=z,t}var Jw={SI:"e0859ff2f94f6810ab9108002b27b3d9",DSI:"02d5cdd59c2e1b10939708002b2cf9ae",UDI:"05d5cdd59c2e1b10939708002b2cf9ae"};function cj(r,e,t){var n=Ir.find(r,"/!DocumentSummaryInformation");if(n&&n.size>0)try{var a=jw(n,TN,Jw.DSI);for(var i in a)e[i]=a[i]}catch(h){if(t.WTF)throw h}var o=Ir.find(r,"/!SummaryInformation");if(o&&o.size>0)try{var l=jw(o,AN,Jw.SI);for(var u in l)e[u]==null&&(e[u]=l[u])}catch(h){if(t.WTF)throw h}e.HeadingPairs&&e.TitlesOfParts&&(_S(e.HeadingPairs,e.TitlesOfParts,e,t),delete e.HeadingPairs,delete e.TitlesOfParts)}function i6(r,e){e||(e={}),Hv(e),M3(),e.codepage&&bv(e.codepage);var t,n;if(r.FullPaths){if(Ir.find(r,"/encryption"))throw new Error("File is password-protected");t=Ir.find(r,"!CompObj"),n=Ir.find(r,"/Workbook")||Ir.find(r,"/Book")}else{switch(e.type){case"base64":r=Vo(js(r));break;case"binary":r=Vo(r);break;case"buffer":break;case"array":Array.isArray(r)||(r=Array.prototype.slice.call(r));break}si(r,0),n={content:r}}var a,i;if(t&&ij(t),e.bookProps&&!e.bookSheets)a={};else{var o=jr?"buffer":"array";if(n&&n.content)a=lj(n.content,e);else if((i=Ir.find(r,"PerfectOffice_MAIN"))&&i.content)a=pd.to_workbook(i.content,(e.type=o,e));else if((i=Ir.find(r,"NativeContent_MAIN"))&&i.content)a=pd.to_workbook(i.content,(e.type=o,e));else throw(i=Ir.find(r,"MN0"))&&i.content?new Error("Unsupported Works 4 for Mac file"):new Error("Cannot find Workbook stream");e.bookVBA&&r.FullPaths&&Ir.find(r,"/_VBA_PROJECT_CUR/VBA/dir")&&(a.vbaraw=XD(r))}var l={};return r.FullPaths&&cj(r,l,e),a.Props=a.Custprops=l,e.bookFiles&&(a.cfb=r),a}var yp={0:{f:VF},1:{f:XF},2:{f:nM},3:{f:JF},4:{f:$F},5:{f:rM},6:{f:sM},7:{f:eM},8:{f:hM},9:{f:uM},10:{f:lM},11:{f:cM},12:{f:KF},13:{f:aM},14:{f:QF},15:{f:ZF},16:{f:e6},17:{f:oM},18:{f:tM},19:{f:Dv},20:{},21:{},22:{},23:{},24:{},25:{},26:{},27:{},28:{},29:{},30:{},31:{},32:{},33:{},34:{},35:{T:1},36:{T:-1},37:{T:1},38:{T:-1},39:{f:PM},40:{},42:{},43:{f:lD},44:{f:oD},45:{f:cD},46:{f:hD},47:{f:uD},48:{},49:{f:fN},50:{},51:{f:LD},52:{T:1},53:{T:-1},54:{T:1},55:{T:-1},56:{T:1},57:{T:-1},58:{},59:{},60:{f:MS},62:{f:iM},63:{f:BD},64:{f:bM},65:{},66:{},67:{},68:{},69:{},70:{},128:{},129:{T:1},130:{T:-1},131:{T:1,f:Ai,p:0},132:{T:-1},133:{T:1},134:{T:-1},135:{T:1},136:{T:-1},137:{T:1,f:yM},138:{T:-1},139:{T:1},140:{T:-1},141:{T:1},142:{T:-1},143:{T:1},144:{T:-1},145:{T:1},146:{T:-1},147:{f:YF},148:{f:GF,p:16},151:{f:gM},152:{},153:{f:RM},154:{},155:{},156:{f:jM},157:{},158:{},159:{T:1,f:A7},160:{T:-1},161:{T:1,f:Eh},162:{T:-1},163:{T:1},164:{T:-1},165:{T:1},166:{T:-1},167:{},168:{},169:{},170:{},171:{},172:{T:1},173:{T:-1},174:{},175:{},176:{f:fM},177:{T:1},178:{T:-1},179:{T:1},180:{T:-1},181:{T:1},182:{T:-1},183:{T:1},184:{T:-1},185:{T:1},186:{T:-1},187:{T:1},188:{T:-1},189:{T:1},190:{T:-1},191:{T:1},192:{T:-1},193:{T:1},194:{T:-1},195:{T:1},196:{T:-1},197:{T:1},198:{T:-1},199:{T:1},200:{T:-1},201:{T:1},202:{T:-1},203:{T:1},204:{T:-1},205:{T:1},206:{T:-1},207:{T:1},208:{T:-1},209:{T:1},210:{T:-1},211:{T:1},212:{T:-1},213:{T:1},214:{T:-1},215:{T:1},216:{T:-1},217:{T:1},218:{T:-1},219:{T:1},220:{T:-1},221:{T:1},222:{T:-1},223:{T:1},224:{T:-1},225:{T:1},226:{T:-1},227:{T:1},228:{T:-1},229:{T:1},230:{T:-1},231:{T:1},232:{T:-1},233:{T:1},234:{T:-1},235:{T:1},236:{T:-1},237:{T:1},238:{T:-1},239:{T:1},240:{T:-1},241:{T:1},242:{T:-1},243:{T:1},244:{T:-1},245:{T:1},246:{T:-1},247:{T:1},248:{T:-1},249:{T:1},250:{T:-1},251:{T:1},252:{T:-1},253:{T:1},254:{T:-1},255:{T:1},256:{T:-1},257:{T:1},258:{T:-1},259:{T:1},260:{T:-1},261:{T:1},262:{T:-1},263:{T:1},264:{T:-1},265:{T:1},266:{T:-1},267:{T:1},268:{T:-1},269:{T:1},270:{T:-1},271:{T:1},272:{T:-1},273:{T:1},274:{T:-1},275:{T:1},276:{T:-1},277:{},278:{T:1},279:{T:-1},280:{T:1},281:{T:-1},282:{T:1},283:{T:1},284:{T:-1},285:{T:1},286:{T:-1},287:{T:1},288:{T:-1},289:{T:1},290:{T:-1},291:{T:1},292:{T:-1},293:{T:1},294:{T:-1},295:{T:1},296:{T:-1},297:{T:1},298:{T:-1},299:{T:1},300:{T:-1},301:{T:1},302:{T:-1},303:{T:1},304:{T:-1},305:{T:1},306:{T:-1},307:{T:1},308:{T:-1},309:{T:1},310:{T:-1},311:{T:1},312:{T:-1},313:{T:-1},314:{T:1},315:{T:-1},316:{T:1},317:{T:-1},318:{T:1},319:{T:-1},320:{T:1},321:{T:-1},322:{T:1},323:{T:-1},324:{T:1},325:{T:-1},326:{T:1},327:{T:-1},328:{T:1},329:{T:-1},330:{T:1},331:{T:-1},332:{T:1},333:{T:-1},334:{T:1},335:{f:DD},336:{T:-1},337:{f:FD,T:1},338:{T:-1},339:{T:1},340:{T:-1},341:{T:1},342:{T:-1},343:{T:1},344:{T:-1},345:{T:1},346:{T:-1},347:{T:1},348:{T:-1},349:{T:1},350:{T:-1},351:{},352:{},353:{T:1},354:{T:-1},355:{f:Nx},357:{},358:{},359:{},360:{T:1},361:{},362:{f:FS},363:{},364:{},366:{},367:{},368:{},369:{},370:{},371:{},372:{T:1},373:{T:-1},374:{T:1},375:{T:-1},376:{T:1},377:{T:-1},378:{T:1},379:{T:-1},380:{T:1},381:{T:-1},382:{T:1},383:{T:-1},384:{T:1},385:{T:-1},386:{T:1},387:{T:-1},388:{T:1},389:{T:-1},390:{T:1},391:{T:-1},392:{T:1},393:{T:-1},394:{T:1},395:{T:-1},396:{},397:{},398:{},399:{},400:{},401:{T:1},403:{},404:{},405:{},406:{},407:{},408:{},409:{},410:{},411:{},412:{},413:{},414:{},415:{},416:{},417:{},418:{},419:{},420:{},421:{},422:{T:1},423:{T:1},424:{T:-1},425:{T:-1},426:{f:pM},427:{f:mM},428:{},429:{T:1},430:{T:-1},431:{T:1},432:{T:-1},433:{T:1},434:{T:-1},435:{T:1},436:{T:-1},437:{T:1},438:{T:-1},439:{T:1},440:{T:-1},441:{T:1},442:{T:-1},443:{T:1},444:{T:-1},445:{T:1},446:{T:-1},447:{T:1},448:{T:-1},449:{T:1},450:{T:-1},451:{T:1},452:{T:-1},453:{T:1},454:{T:-1},455:{T:1},456:{T:-1},457:{T:1},458:{T:-1},459:{T:1},460:{T:-1},461:{T:1},462:{T:-1},463:{T:1},464:{T:-1},465:{T:1},466:{T:-1},467:{T:1},468:{T:-1},469:{T:1},470:{T:-1},471:{},472:{},473:{T:1},474:{T:-1},475:{},476:{f:vM},477:{},478:{},479:{T:1},480:{T:-1},481:{T:1},482:{T:-1},483:{T:1},484:{T:-1},485:{f:WF},486:{T:1},487:{T:-1},488:{T:1},489:{T:-1},490:{T:1},491:{T:-1},492:{T:1},493:{T:-1},494:{f:dM},495:{T:1},496:{T:-1},497:{T:1},498:{T:-1},499:{},500:{T:1},501:{T:-1},502:{T:1},503:{T:-1},504:{},505:{T:1},506:{T:-1},507:{},508:{T:1},509:{T:-1},510:{T:1},511:{T:-1},512:{},513:{},514:{T:1},515:{T:-1},516:{T:1},517:{T:-1},518:{T:1},519:{T:-1},520:{T:1},521:{T:-1},522:{},523:{},524:{},525:{},526:{},527:{},528:{T:1},529:{T:-1},530:{T:1},531:{T:-1},532:{T:1},533:{T:-1},534:{},535:{},536:{},537:{},538:{T:1},539:{T:-1},540:{T:1},541:{T:-1},542:{T:1},548:{},549:{},550:{f:Nx},551:{},552:{},553:{},554:{T:1},555:{T:-1},556:{T:1},557:{T:-1},558:{T:1},559:{T:-1},560:{T:1},561:{T:-1},562:{},564:{},565:{T:1},566:{T:-1},569:{T:1},570:{T:-1},572:{},573:{T:1},574:{T:-1},577:{},578:{},579:{},580:{},581:{},582:{},583:{},584:{},585:{},586:{},587:{},588:{T:-1},589:{},590:{T:1},591:{T:-1},592:{T:1},593:{T:-1},594:{T:1},595:{T:-1},596:{},597:{T:1},598:{T:-1},599:{T:1},600:{T:-1},601:{T:1},602:{T:-1},603:{T:1},604:{T:-1},605:{T:1},606:{T:-1},607:{},608:{T:1},609:{T:-1},610:{},611:{T:1},612:{T:-1},613:{T:1},614:{T:-1},615:{T:1},616:{T:-1},617:{T:1},618:{T:-1},619:{T:1},620:{T:-1},625:{},626:{T:1},627:{T:-1},628:{T:1},629:{T:-1},630:{T:1},631:{T:-1},632:{f:GD},633:{T:1},634:{T:-1},635:{T:1,f:VD},636:{T:-1},637:{f:gN},638:{T:1},639:{},640:{T:-1},641:{T:1},642:{T:-1},643:{T:1},644:{},645:{T:-1},646:{T:1},648:{T:1},649:{},650:{T:-1},651:{f:TM},652:{},653:{T:1},654:{T:-1},655:{T:1},656:{T:-1},657:{T:1},658:{T:-1},659:{},660:{T:1},661:{},662:{T:-1},663:{},664:{T:1},665:{},666:{T:-1},667:{},668:{},669:{},671:{T:1},672:{T:-1},673:{T:1},674:{T:-1},675:{},676:{},677:{},678:{},679:{},680:{},681:{},1024:{},1025:{},1026:{T:1},1027:{T:-1},1028:{T:1},1029:{T:-1},1030:{},1031:{T:1},1032:{T:-1},1033:{T:1},1034:{T:-1},1035:{},1036:{},1037:{},1038:{T:1},1039:{T:-1},1040:{},1041:{T:1},1042:{T:-1},1043:{},1044:{},1045:{},1046:{T:1},1047:{T:-1},1048:{T:1},1049:{T:-1},1050:{},1051:{T:1},1052:{T:1},1053:{f:wM},1054:{T:1},1055:{},1056:{T:1},1057:{T:-1},1058:{T:1},1059:{T:-1},1061:{},1062:{T:1},1063:{T:-1},1064:{T:1},1065:{T:-1},1066:{T:1},1067:{T:-1},1068:{T:1},1069:{T:-1},1070:{T:1},1071:{T:-1},1072:{T:1},1073:{T:-1},1075:{T:1},1076:{T:-1},1077:{T:1},1078:{T:-1},1079:{T:1},1080:{T:-1},1081:{T:1},1082:{T:-1},1083:{T:1},1084:{T:-1},1085:{},1086:{T:1},1087:{T:-1},1088:{T:1},1089:{T:-1},1090:{T:1},1091:{T:-1},1092:{T:1},1093:{T:-1},1094:{T:1},1095:{T:-1},1096:{},1097:{T:1},1098:{},1099:{T:-1},1100:{T:1},1101:{T:-1},1102:{},1103:{},1104:{},1105:{},1111:{},1112:{},1113:{T:1},1114:{T:-1},1115:{T:1},1116:{T:-1},1117:{},1118:{T:1},1119:{T:-1},1120:{T:1},1121:{T:-1},1122:{T:1},1123:{T:-1},1124:{T:1},1125:{T:-1},1126:{},1128:{T:1},1129:{T:-1},1130:{},1131:{T:1},1132:{T:-1},1133:{T:1},1134:{T:-1},1135:{T:1},1136:{T:-1},1137:{T:1},1138:{T:-1},1139:{T:1},1140:{T:-1},1141:{},1142:{T:1},1143:{T:-1},1144:{T:1},1145:{T:-1},1146:{},1147:{T:1},1148:{T:-1},1149:{T:1},1150:{T:-1},1152:{T:1},1153:{T:-1},1154:{T:-1},1155:{T:-1},1156:{T:-1},1157:{T:1},1158:{T:-1},1159:{T:1},1160:{T:-1},1161:{T:1},1162:{T:-1},1163:{T:1},1164:{T:-1},1165:{T:1},1166:{T:-1},1167:{T:1},1168:{T:-1},1169:{T:1},1170:{T:-1},1171:{},1172:{T:1},1173:{T:-1},1177:{},1178:{T:1},1180:{},1181:{},1182:{},2048:{T:1},2049:{T:-1},2050:{},2051:{T:1},2052:{T:-1},2053:{},2054:{},2055:{T:1},2056:{T:-1},2057:{T:1},2058:{T:-1},2060:{},2067:{},2068:{T:1},2069:{T:-1},2070:{},2071:{},2072:{T:1},2073:{T:-1},2075:{},2076:{},2077:{T:1},2078:{T:-1},2079:{},2080:{T:1},2081:{T:-1},2082:{},2083:{T:1},2084:{T:-1},2085:{T:1},2086:{T:-1},2087:{T:1},2088:{T:-1},2089:{T:1},2090:{T:-1},2091:{},2092:{},2093:{T:1},2094:{T:-1},2095:{},2096:{T:1},2097:{T:-1},2098:{T:1},2099:{T:-1},2100:{T:1},2101:{T:-1},2102:{},2103:{T:1},2104:{T:-1},2105:{},2106:{T:1},2107:{T:-1},2108:{},2109:{T:1},2110:{T:-1},2111:{T:1},2112:{T:-1},2113:{T:1},2114:{T:-1},2115:{},2116:{},2117:{},2118:{T:1},2119:{T:-1},2120:{},2121:{T:1},2122:{T:-1},2123:{T:1},2124:{T:-1},2125:{},2126:{T:1},2127:{T:-1},2128:{},2129:{T:1},2130:{T:-1},2131:{T:1},2132:{T:-1},2133:{T:1},2134:{},2135:{},2136:{},2137:{T:1},2138:{T:-1},2139:{T:1},2140:{T:-1},2141:{},3072:{},3073:{},4096:{T:1},4097:{T:-1},5002:{T:1},5003:{T:-1},5081:{T:1},5082:{T:-1},5083:{},5084:{T:1},5085:{T:-1},5086:{T:1},5087:{T:-1},5088:{},5089:{},5090:{},5092:{T:1},5093:{T:-1},5094:{},5095:{T:1},5096:{T:-1},5097:{},5099:{},65535:{n:""}},Mx={6:{f:C2},10:{f:cu},12:{f:wa},13:{f:wa},14:{f:sa},15:{f:sa},16:{f:Si},17:{f:sa},18:{f:sa},19:{f:wa},20:{f:Iw},21:{f:Iw},23:{f:FS},24:{f:zw},25:{f:sa},26:{},27:{},28:{f:HO},29:{},34:{f:sa},35:{f:Uw},38:{f:Si},39:{f:Si},40:{f:Si},41:{f:Si},42:{f:sa},43:{f:sa},47:{f:W7},49:{f:SO},51:{f:wa},60:{},61:{f:bO},64:{f:sa},65:{f:_O},66:{f:wa},77:{},80:{},81:{},82:{},85:{f:wa},89:{},90:{},91:{},92:{f:fO},93:{f:VO},94:{},95:{f:sa},96:{},97:{},99:{f:sa},125:{f:MS},128:{f:FO},129:{f:dO},130:{f:wa},131:{f:sa},132:{f:sa},133:{f:gO},134:{},140:{f:$O},141:{f:wa},144:{},146:{f:JO},151:{},152:{},153:{},154:{},155:{},156:{f:wa},157:{},158:{},160:{f:n7},161:{f:e7},174:{},175:{},176:{},177:{},178:{},180:{},181:{},182:{},184:{},185:{},189:{f:NO},190:{f:OO},193:{f:cu},197:{},198:{},199:{},200:{},201:{},202:{f:sa},203:{},204:{},205:{},206:{},207:{},208:{},209:{},210:{},211:{},213:{},215:{},216:{},217:{},218:{f:wa},220:{},221:{f:sa},222:{},224:{f:LO},225:{f:hO},226:{f:cu},227:{},229:{f:qO},233:{},235:{},236:{},237:{},239:{},240:{},241:{},242:{},244:{},245:{},246:{},247:{},248:{},249:{},251:{},252:{f:pO},253:{f:kO},255:{f:mO},256:{},259:{},290:{},311:{},312:{},315:{},317:{f:AS},318:{},319:{},320:{},330:{},331:{},333:{},334:{},335:{},336:{},337:{},338:{},339:{},340:{},351:{},352:{f:sa},353:{f:cu},401:{},402:{},403:{},404:{},405:{},406:{},407:{},408:{},425:{},426:{},427:{},428:{},429:{},430:{f:jO},431:{f:sa},432:{},433:{},434:{},437:{},438:{f:YO},439:{f:sa},440:{f:XO},441:{},442:{f:Kd},443:{},444:{f:wa},445:{},446:{},448:{f:cu},449:{f:yO,r:2},450:{f:cu},512:{f:Bw},513:{f:r7},515:{f:MO},516:{f:CO},517:{f:Pw},519:{f:a7},520:{f:xO},523:{},545:{f:Hw},549:{f:Rw},566:{},574:{f:wO},638:{f:EO},659:{},1048:{},1054:{f:TO},1084:{},1212:{f:IO},2048:{f:KO},2049:{},2050:{},2051:{},2052:{},2053:{},2054:{},2055:{},2056:{},2057:{f:eg},2058:{},2059:{},2060:{},2061:{},2062:{},2063:{},2064:{},2066:{},2067:{},2128:{},2129:{},2130:{},2131:{},2132:{},2133:{},2134:{},2135:{},2136:{},2137:{},2138:{},2146:{},2147:{r:12},2148:{},2149:{},2150:{},2151:{f:cu},2152:{},2154:{},2155:{},2156:{},2161:{},2162:{},2164:{},2165:{},2166:{},2167:{},2168:{},2169:{},2170:{},2171:{},2172:{f:QO,r:12},2173:{f:ND,r:12},2174:{},2175:{},2180:{},2181:{},2182:{},2183:{},2184:{},2185:{},2186:{},2187:{},2188:{f:sa,r:12},2189:{},2190:{r:12},2191:{},2192:{},2194:{},2195:{},2196:{f:PO,r:12},2197:{},2198:{f:SD,r:12},2199:{},2200:{},2201:{},2202:{f:UO,r:12},2203:{f:cu},2204:{},2205:{},2206:{},2207:{},2211:{f:vO},2212:{},2213:{},2214:{},2215:{},4097:{},4098:{},4099:{},4102:{},4103:{},4105:{},4106:{},4107:{},4108:{},4109:{},4116:{},4117:{},4118:{},4119:{},4120:{},4121:{},4122:{},4123:{},4124:{},4125:{},4126:{},4127:{},4128:{},4129:{},4130:{},4132:{},4133:{},4134:{f:wa},4135:{},4146:{},4147:{},4148:{},4149:{},4154:{},4156:{},4157:{},4158:{},4159:{},4160:{},4161:{},4163:{},4164:{f:t7},4165:{},4166:{},4168:{},4170:{},4171:{},4174:{},4175:{},4176:{},4177:{},4187:{},4188:{f:ZO},4189:{},4191:{},4192:{},4193:{},4194:{},4195:{},4196:{},4197:{},4198:{},4199:{},4200:{},0:{f:Bw},1:{},2:{f:l7},3:{f:o7},4:{f:s7},5:{f:Pw},7:{f:c7},8:{},9:{f:eg},11:{},22:{f:wa},30:{f:AO},31:{},32:{},33:{f:Hw},36:{},37:{f:Rw},50:{f:u7},62:{},52:{},67:{},68:{f:wa},69:{},86:{},126:{},127:{f:i7},135:{},136:{},137:{},145:{},148:{},149:{},150:{},169:{},171:{},188:{},191:{},192:{},194:{},195:{},214:{f:h7},223:{},234:{},354:{},421:{},518:{f:C2},521:{f:eg},536:{f:zw},547:{f:Uw},561:{},579:{},1030:{f:C2},1033:{f:eg},1091:{},2157:{},2163:{},2177:{},2240:{},2241:{},2242:{},2243:{},2244:{},2245:{},2246:{},2247:{},2248:{},2249:{},2250:{},2251:{},2262:{r:12},29282:{}};function Io(r,e,t,n){var a=e;if(!isNaN(a)){var i=(t||[]).length||0,o=r.next(4);o.write_shift(2,a),o.write_shift(2,i),i>0&&gS(t)&&r.push(t)}}function Qw(r,e){var t=e||{},n=t.dense?[]:{};r=r.replace(/<!--.*?-->/g,"");var a=r.match(/<table/i);if(!a)throw new Error("Invalid HTML: could not find <table>");var i=r.match(/<\/table/i),o=a.index,l=i&&i.index||r.length,u=M8(r.slice(o,l),/(:?<tr[^>]*>)/i,"<tr>"),h=-1,f=0,m=0,x=0,g={s:{r:1e7,c:1e7},e:{r:0,c:0}},y=[];for(o=0;o<u.length;++o){var v=u[o].trim(),S=v.slice(0,3).toLowerCase();if(S=="<tr"){if(++h,t.sheetRows&&t.sheetRows<=h){--h;break}f=0;continue}if(!(S!="<td"&&S!="<th")){var k=v.split(/<\/t[dh]>/i);for(l=0;l<k.length;++l){var A=k[l].trim();if(A.match(/<t[dh]/i)){for(var N=A,j=0;N.charAt(0)=="<"&&(j=N.indexOf(">"))>-1;)N=N.slice(j+1);for(var W=0;W<y.length;++W){var ee=y[W];ee.s.c==f&&ee.s.r<h&&h<=ee.e.r&&(f=ee.e.c+1,W=-1)}var z=lr(A.slice(0,A.indexOf(">")));x=z.colspan?+z.colspan:1,((m=+z.rowspan)>1||x>1)&&y.push({s:{r:h,c:f},e:{r:h+(m||1)-1,c:f+x-1}});var B=z.t||z["data-t"]||"";if(!N.length){f+=x;continue}if(N=tS(N),g.s.r>h&&(g.s.r=h),g.e.r<h&&(g.e.r=h),g.s.c>f&&(g.s.c=f),g.e.c<f&&(g.e.c=f),!N.length){f+=x;continue}var D={t:"s",v:N};t.raw||!N.trim().length||B=="s"||(N==="TRUE"?D={t:"b",v:!0}:N==="FALSE"?D={t:"b",v:!1}:isNaN(Zo(N))?isNaN(n0(N).getDate())||(D={t:"d",v:Ka(N)},t.cellDates||(D={t:"n",v:Hi(D.v)}),D.z=t.dateNF||yr[14]):D={t:"n",v:Zo(N)}),t.dense?(n[h]||(n[h]=[]),n[h][f]=D):n[xr({r:h,c:f})]=D,f+=x}}}}return n["!ref"]=Ur(g),y.length&&(n["!merges"]=y),n}function uj(r,e,t,n){for(var a=r["!merges"]||[],i=[],o=e.s.c;o<=e.e.c;++o){for(var l=0,u=0,h=0;h<a.length;++h)if(!(a[h].s.r>t||a[h].s.c>o)&&!(a[h].e.r<t||a[h].e.c<o)){if(a[h].s.r<t||a[h].s.c<o){l=-1;break}l=a[h].e.r-a[h].s.r+1,u=a[h].e.c-a[h].s.c+1;break}if(!(l<0)){var f=xr({r:t,c:o}),m=n.dense?(r[t]||[])[o]:r[f],x=m&&m.v!=null&&(m.h||Tv(m.w||(wc(m),m.w)||""))||"",g={};l>1&&(g.rowspan=l),u>1&&(g.colspan=u),n.editable?x='<span contenteditable="true">'+x+"</span>":m&&(g["data-t"]=m&&m.t||"z",m.v!=null&&(g["data-v"]=m.v),m.z!=null&&(g["data-z"]=m.z),m.l&&(m.l.Target||"#").charAt(0)!="#"&&(x='<a href="'+m.l.Target+'">'+x+"</a>")),g.id=(n.id||"sjs")+"-"+f,i.push($8("td",x,g))}}var y="<tr>";return y+i.join("")+"</tr>"}var hj='<html><head><meta charset="utf-8"/><title>SheetJS Table Export</title></head><body>',fj="</body></html>";function dj(r,e){var t=r.match(/<table[\s\S]*?>[\s\S]*?<\/table>/gi);if(!t||t.length==0)throw new Error("Invalid HTML: could not find <table>");if(t.length==1)return Au(Qw(t[0],e),e);var n=Vv();return t.forEach(function(a,i){Gv(n,Qw(a,e),"Sheet"+(i+1))}),n}function gj(r,e,t){var n=[];return n.join("")+"<table"+(t&&t.id?' id="'+t.id+'"':"")+">"}function pj(r,e){var t=e||{},n=t.header!=null?t.header:hj,a=t.footer!=null?t.footer:fj,i=[n],o=o0(r["!ref"]);t.dense=Array.isArray(r),i.push(gj(r,o,t));for(var l=o.s.r;l<=o.e.r;++l)i.push(uj(r,o,l,t));return i.push("</table>"+a),i.join("")}function s6(r,e,t){var n=t||{},a=0,i=0;if(n.origin!=null)if(typeof n.origin=="number")a=n.origin;else{var o=typeof n.origin=="string"?Ui(n.origin):n.origin;a=o.r,i=o.c}var l=e.getElementsByTagName("tr"),u=Math.min(n.sheetRows||1e7,l.length),h={s:{r:0,c:0},e:{r:a,c:i}};if(r["!ref"]){var f=o0(r["!ref"]);h.s.r=Math.min(h.s.r,f.s.r),h.s.c=Math.min(h.s.c,f.s.c),h.e.r=Math.max(h.e.r,f.e.r),h.e.c=Math.max(h.e.c,f.e.c),a==-1&&(h.e.r=a=f.e.r+1)}var m=[],x=0,g=r["!rows"]||(r["!rows"]=[]),y=0,v=0,S=0,k=0,A=0,N=0;for(r["!cols"]||(r["!cols"]=[]);y<l.length&&v<u;++y){var j=l[y];if(e_(j)){if(n.display)continue;g[v]={hidden:!0}}var W=j.children;for(S=k=0;S<W.length;++S){var ee=W[S];if(!(n.display&&e_(ee))){var z=ee.hasAttribute("data-v")?ee.getAttribute("data-v"):ee.hasAttribute("v")?ee.getAttribute("v"):tS(ee.innerHTML),B=ee.getAttribute("data-z")||ee.getAttribute("z");for(x=0;x<m.length;++x){var D=m[x];D.s.c==k+i&&D.s.r<v+a&&v+a<=D.e.r&&(k=D.e.c+1-i,x=-1)}N=+ee.getAttribute("colspan")||1,((A=+ee.getAttribute("rowspan")||1)>1||N>1)&&m.push({s:{r:v+a,c:k+i},e:{r:v+a+(A||1)-1,c:k+i+(N||1)-1}});var Z={t:"s",v:z},q=ee.getAttribute("data-t")||ee.getAttribute("t")||"";z!=null&&(z.length==0?Z.t=q||"z":n.raw||z.trim().length==0||q=="s"||(z==="TRUE"?Z={t:"b",v:!0}:z==="FALSE"?Z={t:"b",v:!1}:isNaN(Zo(z))?isNaN(n0(z).getDate())||(Z={t:"d",v:Ka(z)},n.cellDates||(Z={t:"n",v:Hi(Z.v)}),Z.z=n.dateNF||yr[14]):Z={t:"n",v:Zo(z)})),Z.z===void 0&&B!=null&&(Z.z=B);var O="",V=ee.getElementsByTagName("A");if(V&&V.length)for(var F=0;F<V.length&&!(V[F].hasAttribute("href")&&(O=V[F].getAttribute("href"),O.charAt(0)!="#"));++F);O&&O.charAt(0)!="#"&&(Z.l={Target:O}),n.dense?(r[v+a]||(r[v+a]=[]),r[v+a][k+i]=Z):r[xr({c:k+i,r:v+a})]=Z,h.e.c<k+i&&(h.e.c=k+i),k+=N}}++v}return m.length&&(r["!merges"]=(r["!merges"]||[]).concat(m)),h.e.r=Math.max(h.e.r,v-1+a),r["!ref"]=Ur(h),v>=u&&(r["!fullref"]=Ur((h.e.r=l.length-y+v-1+a,h))),r}function o6(r,e){var t=e||{},n=t.dense?[]:{};return s6(n,r,e)}function mj(r,e){return Au(o6(r,e),e)}function e_(r){var e="",t=xj(r);return t&&(e=t(r).getPropertyValue("display")),e||(e=r.style&&r.style.display),e==="none"}function xj(r){return r.ownerDocument.defaultView&&typeof r.ownerDocument.defaultView.getComputedStyle=="function"?r.ownerDocument.defaultView.getComputedStyle:typeof getComputedStyle=="function"?getComputedStyle:null}function vj(r){var e=r.replace(/[\t\r\n]/g," ").trim().replace(/ +/g," ").replace(/<text:s\/>/g," ").replace(/<text:s text:c="(\d+)"\/>/g,function(n,a){return Array(parseInt(a,10)+1).join(" ")}).replace(/<text:tab[^>]*\/>/g,"	").replace(/<text:line-break\/>/g,`
`),t=Vr(e.replace(/<[^>]*>/g,""));return[t]}var t_={day:["d","dd"],month:["m","mm"],year:["y","yy"],hours:["h","hh"],minutes:["m","mm"],seconds:["s","ss"],"am-pm":["A/P","AM/PM"],"day-of-week":["ddd","dddd"],era:["e","ee"],quarter:["\\Qm",'m\\"th quarter"']};function l6(r,e){var t=e||{},n=Av(r),a=[],i,o,l={name:""},u="",h=0,f,m,x={},g=[],y=t.dense?[]:{},v,S,k={value:""},A="",N=0,j=[],W=-1,ee=-1,z={s:{r:1e6,c:1e7},e:{r:0,c:0}},B=0,D={},Z=[],q={},O=0,V=0,F=[],re=1,ae=1,J=[],ge={Names:[]},te={},ke=["",""],Y=[],w={},L="",P=0,U=!1,ie=!1,fe=0;for(Nd.lastIndex=0,n=n.replace(/<!--([\s\S]*?)-->/mg,"").replace(/<!DOCTYPE[^\[]*\[[^\]]*\]>/gm,"");v=Nd.exec(n);)switch(v[3]=v[3].replace(/_.*$/,"")){case"table":case"":v[1]==="/"?(z.e.c>=z.s.c&&z.e.r>=z.s.r?y["!ref"]=Ur(z):y["!ref"]="A1:A1",t.sheetRows>0&&t.sheetRows<=z.e.r&&(y["!fullref"]=y["!ref"],z.e.r=t.sheetRows-1,y["!ref"]=Ur(z)),Z.length&&(y["!merges"]=Z),F.length&&(y["!rows"]=F),f.name=f.||f.name,typeof JSON<"u"&&JSON.stringify(f),g.push(f.name),x[f.name]=y,ie=!1):v[0].charAt(v[0].length-2)!=="/"&&(f=lr(v[0],!1),W=ee=-1,z.s.r=z.s.c=1e7,z.e.r=z.e.c=0,y=t.dense?[]:{},Z=[],F=[],ie=!0);break;case"table-row-group":v[1]==="/"?--B:++B;break;case"table-row":case"":if(v[1]==="/"){W+=re,re=1;break}if(m=lr(v[0],!1),m.?W=m.-1:W==-1&&(W=0),re=+m["number-rows-repeated"]||1,re<10)for(fe=0;fe<re;++fe)B>0&&(F[W+fe]={level:B});ee=-1;break;case"covered-table-cell":v[1]!=="/"&&++ee,t.sheetStubs&&(t.dense?(y[W]||(y[W]=[]),y[W][ee]={t:"z"}):y[xr({r:W,c:ee})]={t:"z"}),A="",j=[];break;case"table-cell":case"":if(v[0].charAt(v[0].length-2)==="/")++ee,k=lr(v[0],!1),ae=parseInt(k["number-columns-repeated"]||"1",10),S={t:"z",v:null},k.formula&&t.cellFormula!=!1&&(S.f=Kw(Vr(k.formula))),(k.||k["value-type"])=="string"&&(S.t="s",S.v=Vr(k["string-value"]||""),t.dense?(y[W]||(y[W]=[]),y[W][ee]=S):y[xr({r:W,c:ee})]=S),ee+=ae-1;else if(v[1]!=="/"){++ee,A="",N=0,j=[],ae=1;var xe=re?W+re-1:W;if(ee>z.e.c&&(z.e.c=ee),ee<z.s.c&&(z.s.c=ee),W<z.s.r&&(z.s.r=W),xe>z.e.r&&(z.e.r=xe),k=lr(v[0],!1),Y=[],w={},S={t:k.||k["value-type"],v:null},t.cellFormula)if(k.formula&&(k.formula=Vr(k.formula)),k["number-matrix-columns-spanned"]&&k["number-matrix-rows-spanned"]&&(O=parseInt(k["number-matrix-rows-spanned"],10)||0,V=parseInt(k["number-matrix-columns-spanned"],10)||0,q={s:{r:W,c:ee},e:{r:W+O-1,c:ee+V-1}},S.F=Ur(q),J.push([q,S.F])),k.formula)S.f=Kw(k.formula);else for(fe=0;fe<J.length;++fe)W>=J[fe][0].s.r&&W<=J[fe][0].e.r&&ee>=J[fe][0].s.c&&ee<=J[fe][0].e.c&&(S.F=J[fe][1]);switch((k["number-columns-spanned"]||k["number-rows-spanned"])&&(O=parseInt(k["number-rows-spanned"],10)||0,V=parseInt(k["number-columns-spanned"],10)||0,q={s:{r:W,c:ee},e:{r:W+O-1,c:ee+V-1}},Z.push(q)),k["number-columns-repeated"]&&(ae=parseInt(k["number-columns-repeated"],10)),S.t){case"boolean":S.t="b",S.v=Bn(k["boolean-value"]);break;case"float":S.t="n",S.v=parseFloat(k.value);break;case"percentage":S.t="n",S.v=parseFloat(k.value);break;case"currency":S.t="n",S.v=parseFloat(k.value);break;case"date":S.t="d",S.v=Ka(k["date-value"]),t.cellDates||(S.t="n",S.v=Hi(S.v)),S.z="m/d/yy";break;case"time":S.t="n",S.v=D8(k["time-value"])/86400,t.cellDates&&(S.t="d",S.v=Bp(S.v)),S.z="HH:MM:SS";break;case"number":S.t="n",S.v=parseFloat(k.);break;default:if(S.t==="string"||S.t==="text"||!S.t)S.t="s",k["string-value"]!=null&&(A=Vr(k["string-value"]),j=[]);else throw new Error("Unsupported value type "+S.t)}}else{if(U=!1,S.t==="s"&&(S.v=A||"",j.length&&(S.R=j),U=N==0),te.Target&&(S.l=te),Y.length>0&&(S.c=Y,Y=[]),A&&t.cellText!==!1&&(S.w=A),U&&(S.t="z",delete S.v),(!U||t.sheetStubs)&&!(t.sheetRows&&t.sheetRows<=W))for(var ve=0;ve<re;++ve){if(ae=parseInt(k["number-columns-repeated"]||"1",10),t.dense)for(y[W+ve]||(y[W+ve]=[]),y[W+ve][ee]=ve==0?S:ci(S);--ae>0;)y[W+ve][ee+ae]=ci(S);else for(y[xr({r:W+ve,c:ee})]=S;--ae>0;)y[xr({r:W+ve,c:ee+ae})]=ci(S);z.e.c<=ee&&(z.e.c=ee)}ae=parseInt(k["number-columns-repeated"]||"1",10),ee+=ae-1,ae=0,S={},A="",j=[]}te={};break;case"document":case"document-content":case"":case"spreadsheet":case"":case"scripts":case"styles":case"font-face-decls":case"master-styles":if(v[1]==="/"){if((i=a.pop())[0]!==v[3])throw"Bad state: "+i}else v[0].charAt(v[0].length-2)!=="/"&&a.push([v[3],!0]);break;case"annotation":if(v[1]==="/"){if((i=a.pop())[0]!==v[3])throw"Bad state: "+i;w.t=A,j.length&&(w.R=j),w.a=L,Y.push(w)}else v[0].charAt(v[0].length-2)!=="/"&&a.push([v[3],!1]);L="",P=0,A="",N=0,j=[];break;case"creator":v[1]==="/"?L=n.slice(P,v.index):P=v.index+v[0].length;break;case"meta":case"":case"settings":case"config-item-set":case"config-item-map-indexed":case"config-item-map-entry":case"config-item-map-named":case"shapes":case"frame":case"text-box":case"image":case"data-pilot-tables":case"list-style":case"form":case"dde-links":case"event-listeners":case"chart":if(v[1]==="/"){if((i=a.pop())[0]!==v[3])throw"Bad state: "+i}else v[0].charAt(v[0].length-2)!=="/"&&a.push([v[3],!1]);A="",N=0,j=[];break;case"scientific-number":break;case"currency-symbol":break;case"currency-style":break;case"number-style":case"percentage-style":case"date-style":case"time-style":if(v[1]==="/"){if(D[l.name]=u,(i=a.pop())[0]!==v[3])throw"Bad state: "+i}else v[0].charAt(v[0].length-2)!=="/"&&(u="",l=lr(v[0],!1),a.push([v[3],!0]));break;case"script":break;case"libraries":break;case"automatic-styles":break;case"default-style":case"page-layout":break;case"style":break;case"map":break;case"font-face":break;case"paragraph-properties":break;case"table-properties":break;case"table-column-properties":break;case"table-row-properties":break;case"table-cell-properties":break;case"number":switch(a[a.length-1][0]){case"time-style":case"date-style":o=lr(v[0],!1),u+=t_[v[3]][o.style==="long"?1:0];break}break;case"fraction":break;case"day":case"month":case"year":case"era":case"day-of-week":case"week-of-year":case"quarter":case"hours":case"minutes":case"seconds":case"am-pm":switch(a[a.length-1][0]){case"time-style":case"date-style":o=lr(v[0],!1),u+=t_[v[3]][o.style==="long"?1:0];break}break;case"boolean-style":break;case"boolean":break;case"text-style":break;case"text":if(v[0].slice(-2)==="/>")break;if(v[1]==="/")switch(a[a.length-1][0]){case"number-style":case"date-style":case"time-style":u+=n.slice(h,v.index);break}else h=v.index+v[0].length;break;case"named-range":o=lr(v[0],!1),ke=T2(o["cell-range-address"]);var ce={Name:o.name,Ref:ke[0]+"!"+ke[1]};ie&&(ce.Sheet=g.length),ge.Names.push(ce);break;case"text-content":break;case"text-properties":break;case"embedded-text":break;case"body":case"":break;case"forms":break;case"table-column":break;case"table-header-rows":break;case"table-rows":break;case"table-column-group":break;case"table-header-columns":break;case"table-columns":break;case"null-date":break;case"graphic-properties":break;case"calculation-settings":break;case"named-expressions":break;case"label-range":break;case"label-ranges":break;case"named-expression":break;case"sort":break;case"sort-by":break;case"sort-groups":break;case"tab":break;case"line-break":break;case"span":break;case"p":case"":if(["master-styles"].indexOf(a[a.length-1][0])>-1)break;if(v[1]==="/"&&(!k||!k["string-value"])){var De=vj(n.slice(N,v.index));A=(A.length>0?A+`
`:"")+De[0]}else lr(v[0],!1),N=v.index+v[0].length;break;case"s":break;case"database-range":if(v[1]==="/")break;try{ke=T2(lr(v[0])["target-range-address"]),x[ke[0]]["!autofilter"]={ref:ke[1]}}catch{}break;case"date":break;case"object":break;case"title":case"":break;case"desc":break;case"binary-data":break;case"table-source":break;case"scenario":break;case"iteration":break;case"content-validations":break;case"content-validation":break;case"help-message":break;case"error-message":break;case"database-ranges":break;case"filter":break;case"filter-and":break;case"filter-or":break;case"filter-condition":break;case"list-level-style-bullet":break;case"list-level-style-number":break;case"list-level-properties":break;case"sender-firstname":case"sender-lastname":case"sender-initials":case"sender-title":case"sender-position":case"sender-email":case"sender-phone-private":case"sender-fax":case"sender-company":case"sender-phone-work":case"sender-street":case"sender-city":case"sender-postal-code":case"sender-country":case"sender-state-or-province":case"author-name":case"author-initials":case"chapter":case"file-name":case"template-name":case"sheet-name":break;case"event-listener":break;case"initial-creator":case"creation-date":case"print-date":case"generator":case"document-statistic":case"user-defined":case"editing-duration":case"editing-cycles":break;case"config-item":break;case"page-number":break;case"page-count":break;case"time":break;case"cell-range-source":break;case"detective":break;case"operation":break;case"highlighted-range":break;case"data-pilot-table":case"source-cell-range":case"source-service":case"data-pilot-field":case"data-pilot-level":case"data-pilot-subtotals":case"data-pilot-subtotal":case"data-pilot-members":case"data-pilot-member":case"data-pilot-display-info":case"data-pilot-sort-info":case"data-pilot-layout-info":case"data-pilot-field-reference":case"data-pilot-groups":case"data-pilot-group":case"data-pilot-group-member":break;case"rect":break;case"dde-connection-decls":case"dde-connection-decl":case"dde-link":case"dde-source":break;case"properties":break;case"property":break;case"a":if(v[1]!=="/"){if(te=lr(v[0],!1),!te.href)break;te.Target=Vr(te.href),delete te.href,te.Target.charAt(0)=="#"&&te.Target.indexOf(".")>-1?(ke=T2(te.Target.slice(1)),te.Target="#"+ke[0]+"!"+ke[1]):te.Target.match(/^\.\.[\\\/]/)&&(te.Target=te.Target.slice(3))}break;case"table-protection":break;case"data-pilot-grand-total":break;case"office-document-common-attrs":break;default:switch(v[2]){case"dc:":case"calcext:":case"loext:":case"ooo:":case"chartooo:":case"draw:":case"style:":case"chart:":case"form:":case"uof:":case":":case":":break;default:if(t.WTF)throw new Error(v)}}var ue={Sheets:x,SheetNames:g,Workbook:ge};return t.bookSheets&&delete ue.Sheets,ue}function r_(r,e){e=e||{},no(r,"META-INF/manifest.xml")&&MN(ba(r,"META-INF/manifest.xml"),e);var t=Fs(r,"content.xml");if(!t)throw new Error("Missing content.xml in ODS / UOF file");var n=l6(yn(t),e);return no(r,"meta.xml")&&(n.Props=wS(ba(r,"meta.xml"))),n}function n_(r,e){return l6(r,e)}/*! sheetjs (C) 2013-present SheetJS -- http://sheetjs.com */function Uv(r){return new DataView(r.buffer,r.byteOffset,r.byteLength)}function jx(r){return typeof TextDecoder<"u"?new TextDecoder().decode(r):yn(Th(r))}function Rx(r){var e=r.reduce(function(a,i){return a+i.length},0),t=new Uint8Array(e),n=0;return r.forEach(function(a){t.set(a,n),n+=a.length}),t}function a_(r){return r-=r>>1&1431655765,r=(r&858993459)+(r>>2&858993459),(r+(r>>4)&252645135)*16843009>>>24}function yj(r,e){for(var t=(r[e+15]&127)<<7|r[e+14]>>1,n=r[e+14]&1,a=e+13;a>=e;--a)n=n*256+r[a];return(r[e+15]&128?-n:n)*Math.pow(10,t-6176)}function Fd(r,e){var t=e?e[0]:0,n=r[t]&127;e:if(r[t++]>=128&&(n|=(r[t]&127)<<7,r[t++]<128||(n|=(r[t]&127)<<14,r[t++]<128)||(n|=(r[t]&127)<<21,r[t++]<128)||(n+=(r[t]&127)*Math.pow(2,28),++t,r[t++]<128)||(n+=(r[t]&127)*Math.pow(2,35),++t,r[t++]<128)||(n+=(r[t]&127)*Math.pow(2,42),++t,r[t++]<128)))break e;return e&&(e[0]=t),n}function Pa(r){var e=0,t=r[e]&127;e:if(r[e++]>=128){if(t|=(r[e]&127)<<7,r[e++]<128||(t|=(r[e]&127)<<14,r[e++]<128)||(t|=(r[e]&127)<<21,r[e++]<128))break e;t|=(r[e]&127)<<28}return t}function ki(r){for(var e=[],t=[0];t[0]<r.length;){var n=t[0],a=Fd(r,t),i=a&7;a=Math.floor(a/8);var o=0,l;if(a==0)break;switch(i){case 0:{for(var u=t[0];r[t[0]++]>=128;);l=r.slice(u,t[0])}break;case 5:o=4,l=r.slice(t[0],t[0]+o),t[0]+=o;break;case 1:o=8,l=r.slice(t[0],t[0]+o),t[0]+=o;break;case 2:o=Fd(r,t),l=r.slice(t[0],t[0]+o),t[0]+=o;break;case 3:case 4:default:throw new Error("PB Type ".concat(i," for Field ").concat(a," at offset ").concat(n))}var h={data:l,type:i};e[a]==null?e[a]=[h]:e[a].push(h)}return e}function zv(r,e){return(r==null?void 0:r.map(function(t){return e(t.data)}))||[]}function bj(r){for(var e,t=[],n=[0];n[0]<r.length;){var a=Fd(r,n),i=ki(r.slice(n[0],n[0]+a));n[0]+=a;var o={id:Pa(i[1][0].data),messages:[]};i[2].forEach(function(l){var u=ki(l.data),h=Pa(u[3][0].data);o.messages.push({meta:u,data:r.slice(n[0],n[0]+h)}),n[0]+=h}),(e=i[3])!=null&&e[0]&&(o.merge=Pa(i[3][0].data)>>>0>0),t.push(o)}return t}function wj(r,e){if(r!=0)throw new Error("Unexpected Snappy chunk type ".concat(r));for(var t=[0],n=Fd(e,t),a=[];t[0]<e.length;){var i=e[t[0]]&3;if(i==0){var o=e[t[0]++]>>2;if(o<60)++o;else{var l=o-59;o=e[t[0]],l>1&&(o|=e[t[0]+1]<<8),l>2&&(o|=e[t[0]+2]<<16),l>3&&(o|=e[t[0]+3]<<24),o>>>=0,o++,t[0]+=l}a.push(e.slice(t[0],t[0]+o)),t[0]+=o;continue}else{var u=0,h=0;if(i==1?(h=(e[t[0]]>>2&7)+4,u=(e[t[0]++]&224)<<3,u|=e[t[0]++]):(h=(e[t[0]++]>>2)+1,i==2?(u=e[t[0]]|e[t[0]+1]<<8,t[0]+=2):(u=(e[t[0]]|e[t[0]+1]<<8|e[t[0]+2]<<16|e[t[0]+3]<<24)>>>0,t[0]+=4)),a=[Rx(a)],u==0)throw new Error("Invalid offset 0");if(u>a[0].length)throw new Error("Invalid offset beyond length");if(h>=u)for(a.push(a[0].slice(-u)),h-=u;h>=a[a.length-1].length;)a.push(a[a.length-1]),h-=a[a.length-1].length;a.push(a[0].slice(-u,-u+h))}}var f=Rx(a);if(f.length!=n)throw new Error("Unexpected length: ".concat(f.length," != ").concat(n));return f}function _j(r){for(var e=[],t=0;t<r.length;){var n=r[t++],a=r[t]|r[t+1]<<8|r[t+2]<<16;t+=3,e.push(wj(n,r.slice(t,t+a))),t+=a}if(t!==r.length)throw new Error("data is not a valid framed stream!");return Rx(e)}function Sj(r,e,t,n){var a=Uv(r),i=a.getUint32(4,!0),o=(n>1?12:8)+a_(i&(n>1?3470:398))*4,l=-1,u=-1,h=NaN,f=new Date(2001,0,1);i&512&&(l=a.getUint32(o,!0),o+=4),o+=a_(i&(n>1?12288:4096))*4,i&16&&(u=a.getUint32(o,!0),o+=4),i&32&&(h=a.getFloat64(o,!0),o+=8),i&64&&(f.setTime(f.getTime()+a.getFloat64(o,!0)*1e3),o+=8);var m;switch(r[2]){case 0:break;case 2:m={t:"n",v:h};break;case 3:m={t:"s",v:e[u]};break;case 5:m={t:"d",v:f};break;case 6:m={t:"b",v:h>0};break;case 7:m={t:"n",v:h/86400};break;case 8:m={t:"e",v:0};break;case 9:if(l>-1)m={t:"s",v:t[l]};else if(u>-1)m={t:"s",v:e[u]};else if(!isNaN(h))m={t:"n",v:h};else throw new Error("Unsupported cell type ".concat(r.slice(0,4)));break;default:throw new Error("Unsupported cell type ".concat(r.slice(0,4)))}return m}function kj(r,e,t){var n=Uv(r),a=n.getUint32(8,!0),i=12,o=-1,l=-1,u=NaN,h=NaN,f=new Date(2001,0,1);a&1&&(u=yj(r,i),i+=16),a&2&&(h=n.getFloat64(i,!0),i+=8),a&4&&(f.setTime(f.getTime()+n.getFloat64(i,!0)*1e3),i+=8),a&8&&(l=n.getUint32(i,!0),i+=4),a&16&&(o=n.getUint32(i,!0),i+=4);var m;switch(r[1]){case 0:break;case 2:m={t:"n",v:u};break;case 3:m={t:"s",v:e[l]};break;case 5:m={t:"d",v:f};break;case 6:m={t:"b",v:h>0};break;case 7:m={t:"n",v:h/86400};break;case 8:m={t:"e",v:0};break;case 9:if(o>-1)m={t:"s",v:t[o]};else throw new Error("Unsupported cell type ".concat(r[1]," : ").concat(a&31," : ").concat(r.slice(0,4)));break;case 10:m={t:"n",v:u};break;default:throw new Error("Unsupported cell type ".concat(r[1]," : ").concat(a&31," : ").concat(r.slice(0,4)))}return m}function Cj(r,e,t){switch(r[0]){case 0:case 1:case 2:case 3:return Sj(r,e,t,r[0]);case 5:return kj(r,e,t);default:throw new Error("Unsupported payload version ".concat(r[0]))}}function wu(r){var e=ki(r);return Fd(e[1][0].data)}function i_(r,e){var t=ki(e.data),n=Pa(t[1][0].data),a=t[3],i=[];return(a||[]).forEach(function(o){var l=ki(o.data),u=Pa(l[1][0].data)>>>0;switch(n){case 1:i[u]=jx(l[3][0].data);break;case 8:{var h=r[wu(l[9][0].data)][0],f=ki(h.data),m=r[wu(f[1][0].data)][0],x=Pa(m.meta[1][0].data);if(x!=2001)throw new Error("2000 unexpected reference to ".concat(x));var g=ki(m.data);i[u]=g[3].map(function(y){return jx(y.data)}).join("")}break}}),i}function Tj(r,e){var t,n,a,i,o,l,u,h,f,m,x,g,y,v,S=ki(r),k=Pa(S[1][0].data)>>>0,A=Pa(S[2][0].data)>>>0,N=((n=(t=S[8])==null?void 0:t[0])==null?void 0:n.data)&&Pa(S[8][0].data)>0||!1,j,W;if((i=(a=S[7])==null?void 0:a[0])!=null&&i.data&&e!=0)j=(l=(o=S[7])==null?void 0:o[0])==null?void 0:l.data,W=(h=(u=S[6])==null?void 0:u[0])==null?void 0:h.data;else if((m=(f=S[4])==null?void 0:f[0])!=null&&m.data&&e!=1)j=(g=(x=S[4])==null?void 0:x[0])==null?void 0:g.data,W=(v=(y=S[3])==null?void 0:y[0])==null?void 0:v.data;else throw"NUMBERS Tile missing ".concat(e," cell storage");for(var ee=N?4:1,z=Uv(j),B=[],D=0;D<j.length/2;++D){var Z=z.getUint16(D*2,!0);Z<65535&&B.push([D,Z])}if(B.length!=A)throw"Expected ".concat(A," cells, found ").concat(B.length);var q=[];for(D=0;D<B.length-1;++D)q[B[D][0]]=W.subarray(B[D][1]*ee,B[D+1][1]*ee);return B.length>=1&&(q[B[B.length-1][0]]=W.subarray(B[B.length-1][1]*ee)),{R:k,cells:q}}function Aj(r,e){var t,n=ki(e.data),a=(t=n==null?void 0:n[7])!=null&&t[0]?Pa(n[7][0].data)>>>0>0?1:0:-1,i=zv(n[5],function(o){return Tj(o,a)});return{nrows:Pa(n[4][0].data)>>>0,data:i.reduce(function(o,l){return o[l.R]||(o[l.R]=[]),l.cells.forEach(function(u,h){if(o[l.R][h])throw new Error("Duplicate cell r=".concat(l.R," c=").concat(h));o[l.R][h]=u}),o},[])}}function Ej(r,e,t){var n,a=ki(e.data),i={s:{r:0,c:0},e:{r:0,c:0}};if(i.e.r=(Pa(a[6][0].data)>>>0)-1,i.e.r<0)throw new Error("Invalid row varint ".concat(a[6][0].data));if(i.e.c=(Pa(a[7][0].data)>>>0)-1,i.e.c<0)throw new Error("Invalid col varint ".concat(a[7][0].data));t["!ref"]=Ur(i);var o=ki(a[4][0].data),l=i_(r,r[wu(o[4][0].data)][0]),u=(n=o[17])!=null&&n[0]?i_(r,r[wu(o[17][0].data)][0]):[],h=ki(o[3][0].data),f=0;h[1].forEach(function(m){var x=ki(m.data),g=r[wu(x[2][0].data)][0],y=Pa(g.meta[1][0].data);if(y!=6002)throw new Error("6001 unexpected reference to ".concat(y));var v=Aj(r,g);v.data.forEach(function(S,k){S.forEach(function(A,N){var j=xr({r:f+k,c:N}),W=Cj(A,l,u);W&&(t[j]=W)})}),f+=v.nrows})}function Nj(r,e){var t=ki(e.data),n={"!ref":"A1"},a=r[wu(t[2][0].data)],i=Pa(a[0].meta[1][0].data);if(i!=6001)throw new Error("6000 unexpected reference to ".concat(i));return Ej(r,a[0],n),n}function Oj(r,e){var t,n=ki(e.data),a={name:(t=n[1])!=null&&t[0]?jx(n[1][0].data):"",sheets:[]},i=zv(n[2],wu);return i.forEach(function(o){r[o].forEach(function(l){var u=Pa(l.meta[1][0].data);u==6e3&&a.sheets.push(Nj(r,l))})}),a}function Dj(r,e){var t=Vv(),n=ki(e.data),a=zv(n[1],wu);if(a.forEach(function(i){r[i].forEach(function(o){var l=Pa(o.meta[1][0].data);if(l==2){var u=Oj(r,o);u.sheets.forEach(function(h,f){Gv(t,h,f==0?u.name:u.name+"_"+f,!0)})}})}),t.SheetNames.length==0)throw new Error("Empty NUMBERS file");return t}function E2(r){var e,t,n,a,i={},o=[];if(r.FullPaths.forEach(function(u){if(u.match(/\.iwpv2/))throw new Error("Unsupported password protection")}),r.FileIndex.forEach(function(u){if(u.name.match(/\.iwa$/)){var h;try{h=_j(u.content)}catch(m){return console.log("?? "+u.content.length+" "+(m.message||m))}var f;try{f=bj(h)}catch(m){return console.log("## "+(m.message||m))}f.forEach(function(m){i[m.id]=m.messages,o.push(m.id)})}}),!o.length)throw new Error("File has no messages");var l=((a=(n=(t=(e=i==null?void 0:i[1])==null?void 0:e[0])==null?void 0:t.meta)==null?void 0:n[1])==null?void 0:a[0].data)&&Pa(i[1][0].meta[1][0].data)==1&&i[1][0];if(l||o.forEach(function(u){i[u].forEach(function(h){var f=Pa(h.meta[1][0].data)>>>0;if(f==1)if(!l)l=h;else throw new Error("Document has multiple roots")})}),!l)throw new Error("Cannot find Document root");return Dj(i,l)}function Lj(r){return function(t){for(var n=0;n!=r.length;++n){var a=r[n];t[a[0]]===void 0&&(t[a[0]]=a[1]),a[2]==="n"&&(t[a[0]]=Number(t[a[0]]))}}}function Hv(r){Lj([["cellNF",!1],["cellHTML",!0],["cellFormula",!0],["cellStyles",!1],["cellText",!0],["cellDates",!1],["sheetStubs",!1],["sheetRows",0,"n"],["bookDeps",!1],["bookSheets",!1],["bookProps",!1],["bookFiles",!1],["bookVBA",!1],["password",""],["WTF",!1]])(r)}function Fj(r){return Pf.WS.indexOf(r)>-1?"sheet":r==Pf.CS?"chart":r==Pf.DS?"dialog":r==Pf.MS?"macro":r&&r.length?r:"sheet"}function Mj(r,e){if(!r)return 0;try{r=e.map(function(n){return n.id||(n.id=n.strRelID),[n.name,r["!id"][n.id].Target,Fj(r["!id"][n.id].Type)]})}catch{return null}return!r||r.length===0?null:r}function jj(r,e,t,n,a,i,o,l,u,h,f,m){try{i[n]=dd(Fs(r,t,!0),e);var x=ba(r,e),g;switch(l){case"sheet":g=zM(x,e,a,u,i[n],h,f,m);break;case"chart":if(g=HM(x,e,a,u,i[n],h,f,m),!g||!g["!drawel"])break;var y=sd(g["!drawel"].Target,e),v=Ox(y),S=UD(Fs(r,y,!0),dd(Fs(r,v,!0),y)),k=sd(S,y),A=Ox(k);g=kM(Fs(r,k,!0),k,u,dd(Fs(r,A,!0),k),h,g);break;case"macro":g=qM(x,e,a,u,i[n],h,f,m);break;case"dialog":g=VM(x,e,a,u,i[n],h,f,m);break;default:throw new Error("Unrecognized sheet type "+l)}o[n]=g;var N=[];i&&i[n]&&Ol(i[n]).forEach(function(j){var W="";if(i[n][j].Type==Pf.CMNT){W=sd(i[n][j].Target,e);var ee=XM(ba(r,W,!0),W,u);if(!ee||!ee.length)return;Vw(g,ee,!1)}i[n][j].Type==Pf.TCMNT&&(W=sd(i[n][j].Target,e),N=N.concat(HD(ba(r,W,!0),u)))}),N&&N.length&&Vw(g,N,!0,u.people||[])}catch(j){if(u.WTF)throw j}}function Qs(r){return r.charAt(0)=="/"?r.slice(1):r}function Rj(r,e){if(W3(),e=e||{},Hv(e),no(r,"META-INF/manifest.xml")||no(r,"objectdata.xml"))return r_(r,e);if(no(r,"Index/Document.iwa")){if(typeof Uint8Array>"u")throw new Error("NUMBERS file parsing requires Uint8Array support");if(typeof E2<"u"){if(r.FileIndex)return E2(r);var t=Ir.utils.cfb_new();return xw(r).forEach(function(F){B8(t,F,R8(r,F))}),E2(t)}throw new Error("Unsupported NUMBERS file")}if(!no(r,"[Content_Types].xml"))throw no(r,"index.xml.gz")?new Error("Unsupported NUMBERS 08 file"):no(r,"index.xml")?new Error("Unsupported NUMBERS 09 file"):new Error("Unsupported ZIP file");var n=xw(r),a=LN(Fs(r,"[Content_Types].xml")),i=!1,o,l;if(a.workbooks.length===0&&(l="xl/workbook.xml",ba(r,l,!0)&&a.workbooks.push(l)),a.workbooks.length===0){if(l="xl/workbook.bin",!ba(r,l,!0))throw new Error("Could not find workbook");a.workbooks.push(l),i=!0}a.workbooks[0].slice(-3)=="bin"&&(i=!0);var u={},h={};if(!e.bookSheets&&!e.bookProps){if(md=[],a.sst)try{md=YM(ba(r,Qs(a.sst)),a.sst,e)}catch(F){if(e.WTF)throw F}e.cellStyles&&a.themes.length&&(u=WM(Fs(r,a.themes[0].replace(/^\//,""),!0)||"",a.themes[0],e)),a.style&&(h=GM(ba(r,Qs(a.style)),a.style,u,e))}a.links.map(function(F){try{var re=dd(Fs(r,Ox(Qs(F))),F);return $M(ba(r,Qs(F)),re,F,e)}catch{}});var f=UM(ba(r,Qs(a.workbooks[0])),a.workbooks[0],e),m={},x="";a.coreprops.length&&(x=ba(r,Qs(a.coreprops[0]),!0),x&&(m=wS(x)),a.extprops.length!==0&&(x=ba(r,Qs(a.extprops[0]),!0),x&&BN(x,m,e)));var g={};(!e.bookSheets||e.bookProps)&&a.custprops.length!==0&&(x=Fs(r,Qs(a.custprops[0]),!0),x&&(g=IN(x,e)));var y={};if((e.bookSheets||e.bookProps)&&(f.Sheets?o=f.Sheets.map(function(re){return re.name}):m.Worksheets&&m.SheetNames.length>0&&(o=m.SheetNames),e.bookProps&&(y.Props=m,y.Custprops=g),e.bookSheets&&typeof o<"u"&&(y.SheetNames=o),e.bookSheets?y.SheetNames:e.bookProps))return y;o={};var v={};e.bookDeps&&a.calcchain&&(v=KM(ba(r,Qs(a.calcchain)),a.calcchain));var S=0,k={},A,N;{var j=f.Sheets;m.Worksheets=j.length,m.SheetNames=[];for(var W=0;W!=j.length;++W)m.SheetNames[W]=j[W].name}var ee=i?"bin":"xml",z=a.workbooks[0].lastIndexOf("/"),B=(a.workbooks[0].slice(0,z+1)+"_rels/"+a.workbooks[0].slice(z+1)+".rels").replace(/^\//,"");no(r,B)||(B="xl/_rels/workbook."+ee+".rels");var D=dd(Fs(r,B,!0),B.replace(/_rels.*/,"s5s"));(a.metadata||[]).length>=1&&(e.xlmeta=ZM(ba(r,Qs(a.metadata[0])),a.metadata[0],e)),(a.people||[]).length>=1&&(e.people=qD(ba(r,Qs(a.people[0])),e)),D&&(D=Mj(D,f.Sheets));var Z=ba(r,"xl/worksheets/sheet.xml",!0)?1:0;e:for(S=0;S!=m.Worksheets;++S){var q="sheet";if(D&&D[S]?(A="xl/"+D[S][1].replace(/[\/]?xl\//,""),no(r,A)||(A=D[S][1]),no(r,A)||(A=B.replace(/_rels\/.*$/,"")+D[S][1]),q=D[S][2]):(A="xl/worksheets/sheet"+(S+1-Z)+"."+ee,A=A.replace(/sheet0\./,"sheet.")),N=A.replace(/^(.*)(\/)([^\/]*)$/,"$1/_rels/$3.rels"),e&&e.sheets!=null)switch(typeof e.sheets){case"number":if(S!=e.sheets)continue e;break;case"string":if(m.SheetNames[S].toLowerCase()!=e.sheets.toLowerCase())continue e;break;default:if(Array.isArray&&Array.isArray(e.sheets)){for(var O=!1,V=0;V!=e.sheets.length;++V)typeof e.sheets[V]=="number"&&e.sheets[V]==S&&(O=1),typeof e.sheets[V]=="string"&&e.sheets[V].toLowerCase()==m.SheetNames[S].toLowerCase()&&(O=1);if(!O)continue e}}jj(r,A,N,m.SheetNames[S],S,k,o,q,e,f,u,h)}return y={Directory:a,Workbook:f,Props:m,Custprops:g,Deps:v,Sheets:o,SheetNames:m.SheetNames,Strings:md,Styles:h,Themes:u,SSF:ci(yr)},e&&e.bookFiles&&(r.files?(y.keys=n,y.files=r.files):(y.keys=[],y.files={},r.FullPaths.forEach(function(F,re){F=F.replace(/^Root Entry[\/]/,""),y.keys.push(F),y.files[F]=r.FileIndex[re]}))),e&&e.bookVBA&&(a.vba.length>0?y.vbaraw=ba(r,Qs(a.vba[0]),!0):a.defaults&&a.defaults.bin===YD&&(y.vbaraw=ba(r,"xl/vbaProject.bin",!0))),y}function Bj(r,e){var t=e||{},n="Workbook",a=Ir.find(r,n);try{if(n="/!DataSpaces/Version",a=Ir.find(r,n),!a||!a.content)throw new Error("ECMA-376 Encrypted file missing "+n);if(N7(a.content),n="/!DataSpaces/DataSpaceMap",a=Ir.find(r,n),!a||!a.content)throw new Error("ECMA-376 Encrypted file missing "+n);var i=D7(a.content);if(i.length!==1||i[0].comps.length!==1||i[0].comps[0].t!==0||i[0].name!=="StrongEncryptionDataSpace"||i[0].comps[0].v!=="EncryptedPackage")throw new Error("ECMA-376 Encrypted file bad "+n);if(n="/!DataSpaces/DataSpaceInfo/StrongEncryptionDataSpace",a=Ir.find(r,n),!a||!a.content)throw new Error("ECMA-376 Encrypted file missing "+n);var o=L7(a.content);if(o.length!=1||o[0]!="StrongEncryptionTransform")throw new Error("ECMA-376 Encrypted file bad "+n);if(n="/!DataSpaces/TransformInfo/StrongEncryptionTransform/!Primary",a=Ir.find(r,n),!a||!a.content)throw new Error("ECMA-376 Encrypted file missing "+n);M7(a.content)}catch{}if(n="/EncryptionInfo",a=Ir.find(r,n),!a||!a.content)throw new Error("ECMA-376 Encrypted file missing "+n);var l=j7(a.content);if(n="/EncryptedPackage",a=Ir.find(r,n),!a||!a.content)throw new Error("ECMA-376 Encrypted file missing "+n);if(l[0]==4&&typeof decrypt_agile<"u")return decrypt_agile(l[1],a.content,t.password||"",t);if(l[0]==2&&typeof decrypt_std76<"u")return decrypt_std76(l[1],a.content,t.password||"",t);throw new Error("File is password-protected")}function qv(r,e){var t="";switch((e||{}).type||"base64"){case"buffer":return[r[0],r[1],r[2],r[3],r[4],r[5],r[6],r[7]];case"base64":t=js(r.slice(0,12));break;case"binary":t=r;break;case"array":return[r[0],r[1],r[2],r[3],r[4],r[5],r[6],r[7]];default:throw new Error("Unrecognized type "+(e&&e.type||"undefined"))}return[t.charCodeAt(0),t.charCodeAt(1),t.charCodeAt(2),t.charCodeAt(3),t.charCodeAt(4),t.charCodeAt(5),t.charCodeAt(6),t.charCodeAt(7)]}function Pj(r,e){return Ir.find(r,"EncryptedPackage")?Bj(r,e):i6(r,e)}function Ij(r,e){var t,n=r,a=e||{};return a.type||(a.type=jr&&Buffer.isBuffer(r)?"buffer":"base64"),t=J3(n,a),Rj(t,a)}function c6(r,e){var t=0;e:for(;t<r.length;)switch(r.charCodeAt(t)){case 10:case 13:case 32:++t;break;case 60:return Fx(r.slice(t),e);default:break e}return Od.to_workbook(r,e)}function Uj(r,e){var t="",n=qv(r,e);switch(e.type){case"base64":t=js(r);break;case"binary":t=r;break;case"buffer":t=r.toString("binary");break;case"array":t=yh(r);break;default:throw new Error("Unrecognized type "+e.type)}return n[0]==239&&n[1]==187&&n[2]==191&&(t=yn(t)),e.type="binary",c6(t,e)}function zj(r,e){var t=r;return e.type=="base64"&&(t=js(t)),t=Td.utils.decode(1200,t.slice(2),"str"),e.type="binary",c6(t,e)}function Hj(r){return r.match(/[^\x00-\x7F]/)?od(r):r}function N2(r,e,t,n){return n?(t.type="string",Od.to_workbook(r,t)):Od.to_workbook(e,t)}function Bx(r,e){M3();var t=e||{};if(typeof ArrayBuffer<"u"&&r instanceof ArrayBuffer)return Bx(new Uint8Array(r),(t=ci(t),t.type="array",t));typeof Uint8Array<"u"&&r instanceof Uint8Array&&!t.type&&(t.type=typeof Deno<"u"?"buffer":"array");var n=r,a=[0,0,0,0],i=!1;if(t.cellStyles&&(t.cellNF=!0,t.sheetStubs=!0),Gf={},t.dateNF&&(Gf.dateNF=t.dateNF),t.type||(t.type=jr&&Buffer.isBuffer(r)?"buffer":"base64"),t.type=="file"&&(t.type=jr?"buffer":"binary",n=N8(r),typeof Uint8Array<"u"&&!jr&&(t.type="array")),t.type=="string"&&(i=!0,t.type="binary",t.codepage=65001,n=Hj(r)),t.type=="array"&&typeof Uint8Array<"u"&&r instanceof Uint8Array&&typeof ArrayBuffer<"u"){var o=new ArrayBuffer(3),l=new Uint8Array(o);if(l.foo="bar",!l.foo)return t=ci(t),t.type="array",Bx(wv(n),t)}switch((a=qv(n,t))[0]){case 208:if(a[1]===207&&a[2]===17&&a[3]===224&&a[4]===161&&a[5]===177&&a[6]===26&&a[7]===225)return Pj(Ir.read(n,t),t);break;case 9:if(a[1]<=8)return i6(n,t);break;case 60:return Fx(n,t);case 73:if(a[1]===73&&a[2]===42&&a[3]===0)throw new Error("TIFF Image File is not a spreadsheet");if(a[1]===68)return m7(n,t);break;case 84:if(a[1]===65&&a[2]===66&&a[3]===76)return g7.to_workbook(n,t);break;case 80:return a[1]===75&&a[2]<9&&a[3]<9?Ij(n,t):N2(r,n,t,i);case 239:return a[3]===60?Fx(n,t):N2(r,n,t,i);case 255:if(a[1]===254)return zj(n,t);if(a[1]===0&&a[2]===2&&a[3]===0)return pd.to_workbook(n,t);break;case 0:if(a[1]===0&&(a[2]>=2&&a[3]===0||a[2]===0&&(a[3]===8||a[3]===9)))return pd.to_workbook(n,t);break;case 3:case 131:case 139:case 140:return qw.to_workbook(n,t);case 123:if(a[1]===92&&a[2]===114&&a[3]===116)return Y7.to_workbook(n,t);break;case 10:case 13:case 32:return Uj(n,t);case 137:if(a[1]===80&&a[2]===78&&a[3]===71)throw new Error("PNG Image File is not a spreadsheet");break}return f7.indexOf(a[0])>-1&&a[2]<=12&&a[3]<=31?qw.to_workbook(n,t):N2(r,n,t,i)}function qj(r,e,t,n,a,i,o,l){var u=ui(t),h=l.defval,f=l.raw||!Object.prototype.hasOwnProperty.call(l,"raw"),m=!0,x=a===1?[]:{};if(a!==1)if(Object.defineProperty)try{Object.defineProperty(x,"__rowNum__",{value:t,enumerable:!1})}catch{x.__rowNum__=t}else x.__rowNum__=t;if(!o||r[t])for(var g=e.s.c;g<=e.e.c;++g){var y=o?r[t][g]:r[n[g]+u];if(y===void 0||y.t===void 0){if(h===void 0)continue;i[g]!=null&&(x[i[g]]=h);continue}var v=y.v;switch(y.t){case"z":if(v==null)break;continue;case"e":v=v==0?null:void 0;break;case"s":case"d":case"b":case"n":break;default:throw new Error("unrecognized type "+y.t)}if(i[g]!=null){if(v==null)if(y.t=="e"&&v===null)x[i[g]]=null;else if(h!==void 0)x[i[g]]=h;else if(f&&v===null)x[i[g]]=null;else continue;else x[i[g]]=f&&(y.t!=="n"||y.t==="n"&&l.rawNumbers!==!1)?v:wc(y,v,l);v!=null&&(m=!1)}}return{row:x,isempty:m}}function Px(r,e){if(r==null||r["!ref"]==null)return[];var t={t:"n",v:0},n=0,a=1,i=[],o=0,l="",u={s:{r:0,c:0},e:{r:0,c:0}},h=e||{},f=h.range!=null?h.range:r["!ref"];switch(h.header===1?n=1:h.header==="A"?n=2:Array.isArray(h.header)?n=3:h.header==null&&(n=0),typeof f){case"string":u=ta(f);break;case"number":u=ta(r["!ref"]),u.s.r=f;break;default:u=f}n>0&&(a=0);var m=ui(u.s.r),x=[],g=[],y=0,v=0,S=Array.isArray(r),k=u.s.r,A=0,N={};S&&!r[k]&&(r[k]=[]);var j=h.skipHidden&&r["!cols"]||[],W=h.skipHidden&&r["!rows"]||[];for(A=u.s.c;A<=u.e.c;++A)if(!(j[A]||{}).hidden)switch(x[A]=Ba(A),t=S?r[k][A]:r[x[A]+m],n){case 1:i[A]=A-u.s.c;break;case 2:i[A]=x[A];break;case 3:i[A]=h.header[A-u.s.c];break;default:if(t==null&&(t={w:"__EMPTY",t:"s"}),l=o=wc(t,null,h),v=N[o]||0,!v)N[o]=1;else{do l=o+"_"+v++;while(N[l]);N[o]=v,N[l]=1}i[A]=l}for(k=u.s.r+a;k<=u.e.r;++k)if(!(W[k]||{}).hidden){var ee=qj(r,u,k,x,n,i,S,h);(ee.isempty===!1||(n===1?h.blankrows!==!1:h.blankrows))&&(g[y++]=ee.row)}return g.length=y,g}var s_=/"/g;function Vj(r,e,t,n,a,i,o,l){for(var u=!0,h=[],f="",m=ui(t),x=e.s.c;x<=e.e.c;++x)if(n[x]){var g=l.dense?(r[t]||[])[x]:r[n[x]+m];if(g==null)f="";else if(g.v!=null){u=!1,f=""+(l.rawNumbers&&g.t=="n"?g.v:wc(g,null,l));for(var y=0,v=0;y!==f.length;++y)if((v=f.charCodeAt(y))===a||v===i||v===34||l.forceQuotes){f='"'+f.replace(s_,'""')+'"';break}f=="ID"&&(f='"ID"')}else g.f!=null&&!g.F?(u=!1,f="="+g.f,f.indexOf(",")>=0&&(f='"'+f.replace(s_,'""')+'"')):f="";h.push(f)}return l.blankrows===!1&&u?null:h.join(o)}function u6(r,e){var t=[],n=e??{};if(r==null||r["!ref"]==null)return"";var a=ta(r["!ref"]),i=n.FS!==void 0?n.FS:",",o=i.charCodeAt(0),l=n.RS!==void 0?n.RS:`
`,u=l.charCodeAt(0),h=new RegExp((i=="|"?"\\|":i)+"+$"),f="",m=[];n.dense=Array.isArray(r);for(var x=n.skipHidden&&r["!cols"]||[],g=n.skipHidden&&r["!rows"]||[],y=a.s.c;y<=a.e.c;++y)(x[y]||{}).hidden||(m[y]=Ba(y));for(var v=0,S=a.s.r;S<=a.e.r;++S)(g[S]||{}).hidden||(f=Vj(r,a,S,m,o,u,i,n),f!=null&&(n.strip&&(f=f.replace(h,"")),(f||n.blankrows!==!1)&&t.push((v++?l:"")+f)));return delete n.dense,t.join("")}function Gj(r,e){e||(e={}),e.FS="	",e.RS=`
`;var t=u6(r,e);return t}function Wj(r){var e="",t,n="";if(r==null||r["!ref"]==null)return[];var a=ta(r["!ref"]),i="",o=[],l,u=[],h=Array.isArray(r);for(l=a.s.c;l<=a.e.c;++l)o[l]=Ba(l);for(var f=a.s.r;f<=a.e.r;++f)for(i=ui(f),l=a.s.c;l<=a.e.c;++l)if(e=o[l]+i,t=h?(r[f]||[])[l]:r[e],n="",t!==void 0){if(t.F!=null){if(e=t.F,!t.f)continue;n=t.f,e.indexOf(":")==-1&&(e=e+":"+e)}if(t.f!=null)n=t.f;else{if(t.t=="z")continue;if(t.t=="n"&&t.v!=null)n=""+t.v;else if(t.t=="b")n=t.v?"TRUE":"FALSE";else if(t.w!==void 0)n="'"+t.w;else{if(t.v===void 0)continue;t.t=="s"?n="'"+t.v:n=""+t.v}}u[u.length]=e+"="+n}return u}function h6(r,e,t){var n=t||{},a=+!n.skipHeader,i=r||{},o=0,l=0;if(i&&n.origin!=null)if(typeof n.origin=="number")o=n.origin;else{var u=typeof n.origin=="string"?Ui(n.origin):n.origin;o=u.r,l=u.c}var h,f={s:{c:0,r:0},e:{c:l,r:o+e.length-1+a}};if(i["!ref"]){var m=ta(i["!ref"]);f.e.c=Math.max(f.e.c,m.e.c),f.e.r=Math.max(f.e.r,m.e.r),o==-1&&(o=m.e.r+1,f.e.r=o+e.length-1+a)}else o==-1&&(o=0,f.e.r=e.length-1+a);var x=n.header||[],g=0;e.forEach(function(v,S){Ol(v).forEach(function(k){(g=x.indexOf(k))==-1&&(x[g=x.length]=k);var A=v[k],N="z",j="",W=xr({c:l+g,r:o+S+a});h=Md(i,W),A&&typeof A=="object"&&!(A instanceof Date)?i[W]=A:(typeof A=="number"?N="n":typeof A=="boolean"?N="b":typeof A=="string"?N="s":A instanceof Date?(N="d",n.cellDates||(N="n",A=Hi(A)),j=n.dateNF||yr[14]):A===null&&n.nullError&&(N="e",A=0),h?(h.t=N,h.v=A,delete h.w,delete h.R,j&&(h.z=j)):i[W]=h={t:N,v:A},j&&(h.z=j))})}),f.e.c=Math.max(f.e.c,l+x.length-1);var y=ui(o);if(a)for(g=0;g<x.length;++g)i[Ba(g+l)+y]={t:"s",v:x[g]};return i["!ref"]=Ur(f),i}function Yj(r,e){return h6(null,r,e)}function Md(r,e,t){if(typeof e=="string"){if(Array.isArray(r)){var n=Ui(e);return r[n.r]||(r[n.r]=[]),r[n.r][n.c]||(r[n.r][n.c]={t:"z"})}return r[e]||(r[e]={t:"z"})}return typeof e!="number"?Md(r,xr(e)):Md(r,xr({r:e,c:t||0}))}function Xj(r,e){if(typeof e=="number"){if(e>=0&&r.SheetNames.length>e)return e;throw new Error("Cannot find sheet # "+e)}else if(typeof e=="string"){var t=r.SheetNames.indexOf(e);if(t>-1)return t;throw new Error("Cannot find sheet name |"+e+"|")}else throw new Error("Cannot find sheet |"+e+"|")}function Vv(){return{SheetNames:[],Sheets:{}}}function Gv(r,e,t,n){var a=1;if(!t)for(;a<=65535&&r.SheetNames.indexOf(t="Sheet"+a)!=-1;++a,t=void 0);if(!t||r.SheetNames.length>=65535)throw new Error("Too many worksheets");if(n&&r.SheetNames.indexOf(t)>=0){var i=t.match(/(^.*?)(\d+)$/);a=i&&+i[2]||0;var o=i&&i[1]||t;for(++a;a<=65535&&r.SheetNames.indexOf(t=o+a)!=-1;++a);}if(LM(t),r.SheetNames.indexOf(t)>=0)throw new Error("Worksheet with name |"+t+"| already exists!");return r.SheetNames.push(t),r.Sheets[t]=e,t}function Kj(r,e,t){r.Workbook||(r.Workbook={}),r.Workbook.Sheets||(r.Workbook.Sheets=[]);var n=Xj(r,e);switch(r.Workbook.Sheets[n]||(r.Workbook.Sheets[n]={}),t){case 0:case 1:case 2:break;default:throw new Error("Bad sheet visibility setting "+t)}r.Workbook.Sheets[n].Hidden=t}function $j(r,e){return r.z=e,r}function f6(r,e,t){return e?(r.l={Target:e},t&&(r.l.Tooltip=t)):delete r.l,r}function Zj(r,e,t){return f6(r,"#"+e,t)}function Jj(r,e,t){r.c||(r.c=[]),r.c.push({t:e,a:t||"SheetJS"})}function Qj(r,e,t,n){for(var a=typeof e!="string"?e:ta(e),i=typeof e=="string"?e:Ur(e),o=a.s.r;o<=a.e.r;++o)for(var l=a.s.c;l<=a.e.c;++l){var u=Md(r,o,l);u.t="n",u.F=i,delete u.v,o==a.s.r&&l==a.s.c&&(u.f=t,n&&(u.D=!0))}return r}var eR={encode_col:Ba,encode_row:ui,encode_cell:xr,encode_range:Ur,decode_col:Ov,decode_row:Nv,split_cell:hN,decode_cell:Ui,decode_range:o0,format_cell:wc,sheet_add_aoa:mS,sheet_add_json:h6,sheet_add_dom:s6,aoa_to_sheet:l0,json_to_sheet:Yj,table_to_sheet:o6,table_to_book:mj,sheet_to_csv:u6,sheet_to_txt:Gj,sheet_to_json:Px,sheet_to_html:pj,sheet_to_formulae:Wj,sheet_to_row_object_array:Px,sheet_get_cell:Md,book_new:Vv,book_append_sheet:Gv,book_set_sheet_visibility:Kj,cell_set_number_format:$j,cell_set_hyperlink:f6,cell_set_internal_link:Zj,cell_add_comment:Jj,sheet_set_array_formula:Qj,consts:{SHEET_VISIBLE:0,SHEET_HIDDEN:1,SHEET_VERY_HIDDEN:2}};function d6(r,e){return{name:r,type:"text"}}async function tR(r){return new Promise((e,t)=>{if(!r||r.size===0){t(new Error("The uploaded file is empty. Please upload a valid CSV file."));return}JE.parse(r,{header:!0,skipEmptyLines:!0,complete(n){if(n.errors.length>0&&n.data.length===0){t(new Error(`Failed to parse CSV: ${n.errors[0].message}`));return}const a=n.meta.fields;if(!a||a.length===0){t(new Error("The CSV file contains no columns. Please upload a file with at least one column header."));return}const i=n.data,o=a.map(l=>d6(l));e({headers:o,rows:i,rowCount:i.length})},error(n){t(new Error(`Failed to parse CSV: ${n.message}`))}})})}async function rR(r){if(!r||r.size===0)throw new Error("The uploaded file is empty. Please upload a valid Excel file.");const e=await r.arrayBuffer(),t=Bx(e,{type:"array"}),n=t.SheetNames[0];if(!n)throw new Error("The Excel file contains no sheets.");const a=t.Sheets[n],i=eR.sheet_to_json(a,{defval:""});if(i.length===0)throw new Error("The Excel file contains no data rows.");const o=Object.keys(i[0]);if(o.length===0)throw new Error("The Excel file contains no columns.");const l=i.map(h=>{const f={};for(const m of o)f[m]=h[m]!=null?String(h[m]):"";return f});return{headers:o.map(h=>d6(h)),rows:l,rowCount:l.length}}async function nR(r){const e=r.name.toLowerCase();return e.endsWith(".xlsx")||e.endsWith(".xls")?rR(r):tR(r)}function o_(){const r=fr(A=>A.csvData),e=fr(A=>A.setCsvData),t=fr(A=>A.toggleColumnType),n=fa(A=>A.t),[a,i]=Me.useState(!1),[o,l]=Me.useState(!1),[u,h]=Me.useState(null),f=Me.useRef(null),m=Me.useCallback(async A=>{const N=A.name.toLowerCase();if(!N.endsWith(".csv")&&!N.endsWith(".xlsx")&&!N.endsWith(".xls")){h(n("upload.csvError"));return}l(!0),h(null);try{const j=await nR(A);e(j,A.name)}catch(j){h(j instanceof Error?j.message:"An unexpected error occurred while parsing the file.")}finally{l(!1)}},[e,n]),x=Me.useCallback(A=>{A.preventDefault(),i(!0)},[]),g=Me.useCallback(A=>{A.preventDefault(),i(!1)},[]),y=Me.useCallback(A=>{A.preventDefault(),i(!1);const N=A.dataTransfer.files[0];N&&m(N)},[m]),v=Me.useCallback(A=>{var j;const N=(j=A.target.files)==null?void 0:j[0];N&&m(N),A.target.value=""},[m]),S=()=>{var A;(A=f.current)==null||A.click()},k=()=>{h(null)};return _.jsxs("div",{className:"max-w-3xl mx-auto space-y-4 sm:space-y-6",children:[_.jsxs("div",{onDragOver:x,onDragLeave:g,onDrop:y,className:`
          relative rounded-xl border-2 border-dashed p-8 sm:p-12 text-center transition-all duration-200
          ${o?"pointer-events-none opacity-60":""}
          ${a?"border-indigo-500 bg-indigo-50":"border-gray-300 bg-white hover:border-gray-400 hover:bg-gray-50"}
        `,children:[_.jsx("input",{ref:f,type:"file",accept:".csv,.xlsx,.xls",onChange:v,className:"hidden"}),o?_.jsxs("div",{className:"flex flex-col items-center gap-3",children:[_.jsx(Rp,{className:"w-10 h-10 text-indigo-500 animate-spin"}),_.jsx("p",{className:"text-sm text-gray-600",children:n("upload.parsing")})]}):_.jsxs("div",{className:"flex flex-col items-center gap-4",children:[_.jsx("div",{className:"flex items-center justify-center w-14 h-14 rounded-full bg-indigo-50 text-indigo-500",children:_.jsx(Wd,{className:"w-7 h-7"})}),_.jsxs("div",{children:[_.jsx("p",{className:"text-base font-medium text-gray-700",children:n("upload.dragDrop")}),_.jsx("p",{className:"mt-1 text-sm text-gray-500",children:n("upload.or")})]}),_.jsx("button",{type:"button",onClick:S,className:"px-5 py-2.5 min-h-[44px] text-sm font-medium text-white bg-indigo-600 rounded-lg hover:bg-indigo-700 transition-colors",children:n("upload.browseFiles")}),_.jsx("p",{className:"text-xs text-gray-400",children:n("upload.supports")})]})]}),u&&_.jsxs("div",{className:"flex items-start gap-3 p-4 rounded-lg bg-red-50 border border-red-200",children:[_.jsx(t0,{className:"w-5 h-5 text-red-500 mt-0.5 shrink-0"}),_.jsxs("div",{className:"flex-1",children:[_.jsx("p",{className:"text-sm font-medium text-red-800",children:n("upload.failed")}),_.jsx("p",{className:"mt-1 text-sm text-red-600",children:u})]}),_.jsx("button",{type:"button",onClick:k,className:"text-sm font-medium text-red-700 hover:text-red-800 underline shrink-0",children:n("upload.tryAgain")})]}),r&&!o&&_.jsxs("div",{className:"space-y-5",children:[_.jsxs("div",{className:"flex items-center justify-between p-4 rounded-lg bg-white border border-gray-200",children:[_.jsxs("div",{className:"flex items-center gap-3",children:[_.jsx(C3,{className:"w-5 h-5 text-indigo-500"}),_.jsxs("div",{children:[_.jsx("p",{className:"text-sm font-medium text-gray-900",children:r.fileName}),_.jsxs("p",{className:"text-xs text-gray-500",children:[r.rows.length," ",r.rows.length!==1?n("upload.rows"):n("upload.row"),"  ",r.headers.length," ",r.headers.length!==1?n("upload.columns"):n("upload.column")]})]})]}),_.jsx("button",{type:"button",onClick:S,className:"text-xs font-medium text-gray-500 hover:text-gray-700 underline",children:n("upload.replaceFile")})]}),_.jsxs("div",{children:[_.jsx("h3",{className:"text-sm font-medium text-gray-700 mb-2",children:n("upload.columnTypes")}),_.jsxs("div",{className:"flex items-start gap-2 p-3 mb-3 rounded-lg bg-amber-50 border border-amber-200",children:[_.jsx(t0,{className:"w-4 h-4 text-amber-500 mt-0.5 shrink-0"}),_.jsx("p",{className:"text-xs text-amber-800",dangerouslySetInnerHTML:{__html:n("upload.columnHint")}})]}),_.jsx("div",{className:"flex flex-wrap gap-2",children:r.headers.map(A=>_.jsxs("button",{type:"button",onClick:()=>t(A.name),className:`inline-flex items-center gap-1.5 px-3 py-2 min-h-[44px] sm:min-h-0 sm:py-1.5 rounded-full text-sm sm:text-xs font-medium transition-colors cursor-pointer ${A.type==="image"?"bg-green-50 text-green-700 border border-green-200 hover:bg-green-100":"bg-blue-50 text-blue-700 border border-blue-200 hover:bg-blue-100"}`,children:[A.type==="image"?_.jsx(Nl,{className:"w-3 h-3"}):_.jsx(xh,{className:"w-3 h-3"}),A.name,_.jsx("span",{className:`text-[10px] px-1 rounded ${A.type==="image"?"bg-green-200/60 text-green-600":"bg-blue-200/60 text-blue-600"}`,children:A.type==="image"?n("common.image"):n("common.text")})]},A.name))})]}),_.jsxs("div",{children:[_.jsxs("h3",{className:"text-sm font-medium text-gray-700 mb-2",children:[n("upload.dataPreview"),_.jsxs("span",{className:"ml-1 font-normal text-gray-400",children:["(",n("upload.first")," ",Math.min(5,r.rows.length)," ",n("upload.rows"),")"]})]}),_.jsx("div",{className:"overflow-x-auto rounded-lg border border-gray-200",children:_.jsxs("table",{className:"w-full text-sm",children:[_.jsx("thead",{children:_.jsx("tr",{className:"bg-gray-50",children:r.headers.map(A=>_.jsx("th",{className:"px-4 py-2 text-left font-medium text-gray-600 whitespace-nowrap border-b border-gray-200",children:A.name},A.name))})}),_.jsx("tbody",{children:r.rows.slice(0,5).map((A,N)=>_.jsx("tr",{className:N%2===0?"bg-white":"bg-gray-50/50",children:r.headers.map(j=>_.jsx("td",{className:"px-4 py-2 text-gray-700 whitespace-nowrap border-b border-gray-100 max-w-[200px] truncate",title:A[j.name]??"",children:A[j.name]??""},j.name))},N))})]})})]})]})]})}function zp(){return(zp=Object.assign||function(r){for(var e=1;e<arguments.length;e++){var t=arguments[e];for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(r[n]=t[n])}return r}).apply(this,arguments)}function g6(r,e){if(r==null)return{};var t,n,a={},i=Object.keys(r);for(n=0;n<i.length;n++)e.indexOf(t=i[n])>=0||(a[t]=r[t]);return a}function Ix(r){var e=Me.useRef(r),t=Me.useRef(function(n){e.current&&e.current(n)});return e.current=r,t.current}var jd=function(r,e,t){return e===void 0&&(e=0),t===void 0&&(t=1),r>t?t:r<e?e:r},yd=function(r){return"touches"in r},Ux=function(r){return r&&r.ownerDocument.defaultView||self},l_=function(r,e,t){var n=r.getBoundingClientRect(),a=yd(e)?(function(i,o){for(var l=0;l<i.length;l++)if(i[l].identifier===o)return i[l];return i[0]})(e.touches,t):e;return{left:jd((a.pageX-(n.left+Ux(r).pageXOffset))/n.width),top:jd((a.pageY-(n.top+Ux(r).pageYOffset))/n.height)}},c_=function(r){!yd(r)&&r.preventDefault()},p6=Ca.memo(function(r){var e=r.onMove,t=r.onKey,n=g6(r,["onMove","onKey"]),a=Me.useRef(null),i=Ix(e),o=Ix(t),l=Me.useRef(null),u=Me.useRef(!1),h=Me.useMemo(function(){var g=function(S){c_(S),(yd(S)?S.touches.length>0:S.buttons>0)&&a.current?i(l_(a.current,S,l.current)):v(!1)},y=function(){return v(!1)};function v(S){var k=u.current,A=Ux(a.current),N=S?A.addEventListener:A.removeEventListener;N(k?"touchmove":"mousemove",g),N(k?"touchend":"mouseup",y)}return[function(S){var k=S.nativeEvent,A=a.current;if(A&&(c_(k),!(function(j,W){return W&&!yd(j)})(k,u.current)&&A)){if(yd(k)){u.current=!0;var N=k.changedTouches||[];N.length&&(l.current=N[0].identifier)}A.focus(),i(l_(A,k,l.current)),v(!0)}},function(S){var k=S.which||S.keyCode;k<37||k>40||(S.preventDefault(),o({left:k===39?.05:k===37?-.05:0,top:k===40?.05:k===38?-.05:0}))},v]},[o,i]),f=h[0],m=h[1],x=h[2];return Me.useEffect(function(){return x},[x]),Ca.createElement("div",zp({},n,{onTouchStart:f,onMouseDown:f,className:"react-colorful__interactive",ref:a,onKeyDown:m,tabIndex:0,role:"slider"}))}),Wv=function(r){return r.filter(Boolean).join(" ")},m6=function(r){var e=r.color,t=r.left,n=r.top,a=n===void 0?.5:n,i=Wv(["react-colorful__pointer",r.className]);return Ca.createElement("div",{className:i,style:{top:100*a+"%",left:100*t+"%"}},Ca.createElement("div",{className:"react-colorful__pointer-fill",style:{backgroundColor:e}}))},oi=function(r,e,t){return e===void 0&&(e=0),t===void 0&&(t=Math.pow(10,e)),Math.round(t*r)/t},aR=function(r){return cR(zx(r))},zx=function(r){return r[0]==="#"&&(r=r.substring(1)),r.length<6?{r:parseInt(r[0]+r[0],16),g:parseInt(r[1]+r[1],16),b:parseInt(r[2]+r[2],16),a:r.length===4?oi(parseInt(r[3]+r[3],16)/255,2):1}:{r:parseInt(r.substring(0,2),16),g:parseInt(r.substring(2,4),16),b:parseInt(r.substring(4,6),16),a:r.length===8?oi(parseInt(r.substring(6,8),16)/255,2):1}},iR=function(r){return lR(oR(r))},sR=function(r){var e=r.s,t=r.v,n=r.a,a=(200-e)*t/100;return{h:oi(r.h),s:oi(a>0&&a<200?e*t/100/(a<=100?a:200-a)*100:0),l:oi(a/2),a:oi(n,2)}},Hx=function(r){var e=sR(r);return"hsl("+e.h+", "+e.s+"%, "+e.l+"%)"},oR=function(r){var e=r.h,t=r.s,n=r.v,a=r.a;e=e/360*6,t/=100,n/=100;var i=Math.floor(e),o=n*(1-t),l=n*(1-(e-i)*t),u=n*(1-(1-e+i)*t),h=i%6;return{r:oi(255*[n,l,o,o,u,n][h]),g:oi(255*[u,n,n,l,o,o][h]),b:oi(255*[o,o,u,n,n,l][h]),a:oi(a,2)}},ag=function(r){var e=r.toString(16);return e.length<2?"0"+e:e},lR=function(r){var e=r.r,t=r.g,n=r.b,a=r.a,i=a<1?ag(oi(255*a)):"";return"#"+ag(e)+ag(t)+ag(n)+i},cR=function(r){var e=r.r,t=r.g,n=r.b,a=r.a,i=Math.max(e,t,n),o=i-Math.min(e,t,n),l=o?i===e?(t-n)/o:i===t?2+(n-e)/o:4+(e-t)/o:0;return{h:oi(60*(l<0?l+6:l)),s:oi(i?o/i*100:0),v:oi(i/255*100),a}},uR=Ca.memo(function(r){var e=r.hue,t=r.onChange,n=Wv(["react-colorful__hue",r.className]);return Ca.createElement("div",{className:n},Ca.createElement(p6,{onMove:function(a){t({h:360*a.left})},onKey:function(a){t({h:jd(e+360*a.left,0,360)})},"aria-label":"Hue","aria-valuenow":oi(e),"aria-valuemax":"360","aria-valuemin":"0"},Ca.createElement(m6,{className:"react-colorful__hue-pointer",left:e/360,color:Hx({h:e,s:100,v:100,a:1})})))}),hR=Ca.memo(function(r){var e=r.hsva,t=r.onChange,n={backgroundColor:Hx({h:e.h,s:100,v:100,a:1})};return Ca.createElement("div",{className:"react-colorful__saturation",style:n},Ca.createElement(p6,{onMove:function(a){t({s:100*a.left,v:100-100*a.top})},onKey:function(a){t({s:jd(e.s+100*a.left,0,100),v:jd(e.v-100*a.top,0,100)})},"aria-label":"Color","aria-valuetext":"Saturation "+oi(e.s)+"%, Brightness "+oi(e.v)+"%"},Ca.createElement(m6,{className:"react-colorful__saturation-pointer",top:1-e.v/100,left:e.s/100,color:Hx(e)})))}),x6=function(r,e){if(r===e)return!0;for(var t in r)if(r[t]!==e[t])return!1;return!0},fR=function(r,e){return r.toLowerCase()===e.toLowerCase()||x6(zx(r),zx(e))};function dR(r,e,t){var n=Ix(t),a=Me.useState(function(){return r.toHsva(e)}),i=a[0],o=a[1],l=Me.useRef({color:e,hsva:i});Me.useEffect(function(){if(!r.equal(e,l.current.color)){var h=r.toHsva(e);l.current={hsva:h,color:e},o(h)}},[e,r]),Me.useEffect(function(){var h;x6(i,l.current.hsva)||r.equal(h=r.fromHsva(i),l.current.color)||(l.current={hsva:i,color:h},n(h))},[i,r,n]);var u=Me.useCallback(function(h){o(function(f){return Object.assign({},f,h)})},[]);return[i,u]}var gR=typeof window<"u"?Me.useLayoutEffect:Me.useEffect,pR=function(){return typeof __webpack_nonce__<"u"?__webpack_nonce__:void 0},u_=new Map,mR=function(r){gR(function(){var e=r.current?r.current.ownerDocument:document;if(e!==void 0&&!u_.has(e)){var t=e.createElement("style");t.innerHTML=`.react-colorful{position:relative;display:flex;flex-direction:column;width:200px;height:200px;-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none;cursor:default}.react-colorful__saturation{position:relative;flex-grow:1;border-color:transparent;border-bottom:12px solid #000;border-radius:8px 8px 0 0;background-image:linear-gradient(0deg,#000,transparent),linear-gradient(90deg,#fff,hsla(0,0%,100%,0))}.react-colorful__alpha-gradient,.react-colorful__pointer-fill{content:"";position:absolute;left:0;top:0;right:0;bottom:0;pointer-events:none;border-radius:inherit}.react-colorful__alpha-gradient,.react-colorful__saturation{box-shadow:inset 0 0 0 1px rgba(0,0,0,.05)}.react-colorful__alpha,.react-colorful__hue{position:relative;height:24px}.react-colorful__hue{background:linear-gradient(90deg,red 0,#ff0 17%,#0f0 33%,#0ff 50%,#00f 67%,#f0f 83%,red)}.react-colorful__last-control{border-radius:0 0 8px 8px}.react-colorful__interactive{position:absolute;left:0;top:0;right:0;bottom:0;border-radius:inherit;outline:none;touch-action:none}.react-colorful__pointer{position:absolute;z-index:1;box-sizing:border-box;width:28px;height:28px;transform:translate(-50%,-50%);background-color:#fff;border:2px solid #fff;border-radius:50%;box-shadow:0 2px 4px rgba(0,0,0,.2)}.react-colorful__interactive:focus .react-colorful__pointer{transform:translate(-50%,-50%) scale(1.1)}.react-colorful__alpha,.react-colorful__alpha-pointer{background-color:#fff;background-image:url('data:image/svg+xml;charset=utf-8,<svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" fill-opacity=".05"><path d="M8 0h8v8H8zM0 8h8v8H0z"/></svg>')}.react-colorful__saturation-pointer{z-index:3}.react-colorful__hue-pointer{z-index:2}`,u_.set(e,t);var n=pR();n&&t.setAttribute("nonce",n),e.head.appendChild(t)}},[])},xR=function(r){var e=r.className,t=r.colorModel,n=r.color,a=n===void 0?t.defaultColor:n,i=r.onChange,o=g6(r,["className","colorModel","color","onChange"]),l=Me.useRef(null);mR(l);var u=dR(t,a,i),h=u[0],f=u[1],m=Wv(["react-colorful",e]);return Ca.createElement("div",zp({},o,{ref:l,className:m}),Ca.createElement(hR,{hsva:h,onChange:f}),Ca.createElement(uR,{hue:h.h,onChange:f,className:"react-colorful__last-control"}))},vR={defaultColor:"000",toHsva:aR,fromHsva:function(r){return iR({h:r.h,s:r.s,v:r.v,a:1})},equal:fR},yu=function(r){return Ca.createElement(xR,zp({},r,{colorModel:vR}))};const yR="https://corsproxy.io/?";async function bR(){if("serviceWorker"in navigator)try{const r=await navigator.serviceWorker.register("/cors-proxy-sw.js",{scope:"/"});r.waiting&&r.waiting.postMessage({type:"SKIP_WAITING"}),r.addEventListener("updatefound",()=>{const e=r.installing;e==null||e.addEventListener("statechange",()=>{e.state})})}catch{}}function wR(r){return r.replace(/^http:\/\//,"https://")}async function qx(r,e){var a;if(r.startsWith("data:")||r.startsWith("blob:"))return fetch(r,e);const t=wR(r);if((a=navigator.serviceWorker)!=null&&a.controller)return fetch(t,e);try{const i=await fetch(t,{...e,mode:"cors",credentials:"omit"});if(i.ok)return i}catch{}try{const i=await fetch(`/api/proxy-fetch?url=${encodeURIComponent(t)}`,e);if(i.ok)return i}catch{}const n=yR+encodeURIComponent(t);return fetch(n,{mode:"cors",credentials:"omit"})}async function v6(r){if(r.startsWith("data:"))return r;const e=await qx(r);if(!e.ok)throw new Error(`Failed to load image: ${e.status}`);const t=await e.blob();return new Promise((n,a)=>{const i=new FileReader;i.onload=()=>n(i.result),i.onerror=a,i.readAsDataURL(t)})}const _R="https://api.mymemory.translated.net/get",O2=new Map;async function SR(r,e,t){var i;const n=r.trim();if(!n||e==="en")return n;const a=`${e}:${n}`;if(O2.has(a))return O2.get(a);try{const o=`${_R}?q=${encodeURIComponent(n)}&langpair=${e}|en`,l=await fetch(o,{signal:t});if(!l.ok)return n;const u=await l.json(),h=((i=u==null?void 0:u.responseData)==null?void 0:i.translatedText)??n;return h.toLowerCase()===n.toLowerCase()?n:(O2.set(a,h),h)}catch{return n}}const D2="https://api.iconify.design",kR=64,CR=[{label:"Arrows",query:"arrow"},{label:"Social",query:"social media"},{label:"Business",query:"business chart"},{label:"People",query:"person user"},{label:"Nature",query:"tree flower"},{label:"Food",query:"food drink"},{label:"Travel",query:"travel plane"},{label:"Weather",query:"weather sun cloud"},{label:"Shapes",query:"shape circle square"},{label:"Stars",query:"star badge"},{label:"Hearts",query:"heart love"},{label:"Music",query:"music note"},{label:"Sports",query:"sport ball"},{label:"Tech",query:"computer phone"},{label:"Finance",query:"money dollar"},{label:"Medical",query:"medical health"}],TR=[{label:"People",query:"person"},{label:"Faces",query:"face"},{label:"Cats",query:"cat"},{label:"Food",query:"food"},{label:"Nature",query:"flower"},{label:"Sports",query:"sport"},{label:"Travel",query:"airplane"},{label:"Objects",query:"gift"},{label:"Hands",query:"hand"},{label:"Hearts",query:"heart"},{label:"Flags",query:"flag"},{label:"Music",query:"music"}],AR=[{label:"People",query:"people team"},{label:"Business",query:"business work"},{label:"Technology",query:"technology coding"},{label:"Social",query:"social media"},{label:"Education",query:"education learning"},{label:"Creative",query:"creative design"},{label:"Finance",query:"finance money"},{label:"Health",query:"health fitness"},{label:"Nature",query:"nature environment"},{label:"Shopping",query:"shopping ecommerce"},{label:"Travel",query:"travel adventure"},{label:"Communication",query:"chat message"}],ER="noto,fluent-emoji-flat,twemoji,openmoji";function NR({onAddElement:r}){const[e,t]=Me.useState("icons"),n=Me.useRef("icons"),a=fa(J=>J.t),i=fa(J=>J.locale),[o,l]=Me.useState(""),[u,h]=Me.useState([]),[f,m]=Me.useState([]),[x,g]=Me.useState(!1),[y,v]=Me.useState(!1),[S,k]=Me.useState(null),A=Me.useRef(null),N=Me.useRef(null);Me.useEffect(()=>{n.current=e},[e]);const j=Me.useCallback(async(J,ge)=>{var ke;if(!J.trim()){h([]),v(!1);return}(ke=N.current)==null||ke.abort();const te=new AbortController;N.current=te,g(!0),v(!0);try{let Y=`${D2}/search?query=${encodeURIComponent(J)}&limit=${kR}`;ge&&(Y+=`&prefixes=${ge}`);const w=await fetch(Y,{signal:te.signal});if(!w.ok)throw new Error("Search failed");const L=await w.json();h(L.icons||[])}catch(Y){Y.name!=="AbortError"&&h([])}finally{g(!1)}},[]),W=Me.useCallback(async J=>{var te;if(!J.trim()){m([]),v(!1);return}(te=N.current)==null||te.abort();const ge=new AbortController;N.current=ge,g(!0),v(!0);try{const ke=`https://undraw.co/api/search?q=${encodeURIComponent(J)}`,Y=await qx(ke,{signal:ge.signal});if(!Y.ok)throw new Error("Search failed");const w=await Y.json();m((w.results||[]).slice(0,30))}catch(ke){ke.name!=="AbortError"&&m([])}finally{g(!1)}},[]),ee=Me.useCallback(async J=>{var ke;const ge=n.current,te=i!=="en"?await SR(J,i,((ke=N.current)==null?void 0:ke.signal)??void 0):J;ge==="icons"?j(te):ge==="stickers"?j(te,ER):W(te)},[j,W,i]),z=Me.useCallback(J=>{l(J),k(null),A.current&&clearTimeout(A.current),A.current=setTimeout(()=>ee(J),400)},[ee]),B=Me.useCallback(J=>{l(J.query),k(J.label),ee(J.query)},[ee]),D=Me.useCallback(J=>{n.current=J,t(J),h([]),m([]),v(!1),k(null),l("")},[]),Z=Me.useCallback(async J=>{const[ge,...te]=J.split(":"),ke=te.join(":");try{const Y=await fetch(`${D2}/${ge}/${ke}.svg?height=256`);if(!Y.ok)throw new Error("Failed to fetch SVG");const w=await Y.text(),L=`data:image/svg+xml;base64,${btoa(unescape(encodeURIComponent(w)))}`;r(L)}catch{}},[r]),q=Me.useCallback(async J=>{try{const ge=await qx(J.media);if(!ge.ok)return;const te=await ge.text();if(!te.includes("<svg"))return;const ke=`data:image/svg+xml;base64,${btoa(unescape(encodeURIComponent(te)))}`;r(ke)}catch{}},[r]);Me.useEffect(()=>()=>{var J;(J=N.current)==null||J.abort(),A.current&&clearTimeout(A.current)},[]);const O=J=>{const[ge,...te]=J.split(":"),ke=te.join(":");return`${D2}/${ge}/${ke}.svg?height=48`},V=e==="icons"?CR:e==="stickers"?TR:AR,F=e==="illustrations"?f.length>0:u.length>0,re=a(e==="icons"?"elementsBrowser.searchIcons":e==="stickers"?"elementsBrowser.searchStickers":"elementsBrowser.searchIllustrations"),ae={Arrows:"elementsBrowser.arrows",Social:"elementsBrowser.social",Business:"elementsBrowser.business",People:"elementsBrowser.people",Nature:"elementsBrowser.nature",Food:"elementsBrowser.food",Travel:"elementsBrowser.travel",Weather:"elementsBrowser.weather",Shapes:"elementsBrowser.shapes",Stars:"elementsBrowser.stars",Hearts:"elementsBrowser.hearts",Music:"elementsBrowser.music",Sports:"elementsBrowser.sports",Tech:"elementsBrowser.tech",Finance:"elementsBrowser.finance",Medical:"elementsBrowser.medical",Faces:"elementsBrowser.faces",Cats:"elementsBrowser.cats",Objects:"elementsBrowser.objects",Hands:"elementsBrowser.hands",Flags:"elementsBrowser.flags",Technology:"elementsBrowser.technology",Education:"elementsBrowser.education",Creative:"elementsBrowser.creative",Health:"elementsBrowser.health",Shopping:"elementsBrowser.shopping",Communication:"elementsBrowser.communication"};return _.jsxs("div",{className:"flex flex-col gap-2",children:[_.jsx("div",{className:"flex rounded-lg border border-gray-200 overflow-hidden",children:[{key:"icons",label:a("elementsBrowser.icons")},{key:"stickers",label:a("elementsBrowser.stickers")},{key:"illustrations",label:a("elementsBrowser.illustrations")}].map(J=>_.jsx("button",{type:"button",onClick:()=>D(J.key),className:`flex-1 py-2 sm:py-1.5 text-xs sm:text-[11px] font-medium transition-colors ${e===J.key?"bg-indigo-500 text-white":"bg-gray-50 text-gray-600 hover:bg-gray-100"}`,children:J.label},J.key))}),_.jsxs("div",{className:"relative",children:[_.jsx(E3,{className:"absolute left-2.5 top-1/2 -translate-y-1/2 w-3.5 h-3.5 text-gray-400"}),_.jsx("input",{type:"text",value:o,onChange:J=>z(J.target.value),onKeyDown:J=>{J.key==="Enter"&&ee(o)},placeholder:re,className:"w-full pl-8 pr-3 py-2.5 sm:py-1.5 min-h-[44px] sm:min-h-0 rounded-lg border border-gray-200 text-sm sm:text-xs focus:outline-none focus:ring-1 focus:ring-indigo-300 bg-gray-50"}),x&&_.jsx(Rp,{className:"absolute right-2.5 top-1/2 -translate-y-1/2 w-3.5 h-3.5 text-indigo-400 animate-spin"})]}),!y&&_.jsx("div",{className:"flex flex-wrap gap-1",children:V.map(J=>_.jsx("button",{type:"button",onClick:()=>B(J),className:`px-2.5 py-1.5 sm:py-0.5 rounded-full text-[11px] sm:text-[10px] font-medium transition-colors ${S===J.label?"bg-indigo-100 text-indigo-700 border border-indigo-200":"bg-gray-50 text-gray-500 border border-gray-200 hover:bg-gray-100"}`,children:a(ae[J.label]||J.label)},J.label))}),y&&!x&&!F&&_.jsx("p",{className:"text-xs text-gray-400 text-center py-4",children:a("elementsBrowser.noResults")}),(e==="icons"||e==="stickers")&&u.length>0&&_.jsx("div",{className:"grid grid-cols-4 gap-1.5",children:u.map(J=>_.jsx("button",{type:"button",onClick:()=>Z(J),className:"aspect-square flex items-center justify-center rounded-lg border border-gray-200 bg-white hover:border-indigo-300 hover:bg-indigo-50 transition-all p-2 group",title:J,children:_.jsx("img",{src:O(J),alt:J,className:"w-full h-full object-contain opacity-70 group-hover:opacity-100 transition-opacity pointer-events-none",loading:"lazy",draggable:!1})},J))}),e==="illustrations"&&f.length>0&&_.jsx("div",{className:"grid grid-cols-2 gap-2",children:f.map(J=>_.jsxs("button",{type:"button",onClick:()=>q(J),className:"flex flex-col items-center gap-1 p-2 rounded-lg border border-gray-200 bg-white hover:border-indigo-300 hover:bg-indigo-50 transition-all group",title:J.title,children:[_.jsx("div",{className:"w-full aspect-square flex items-center justify-center overflow-hidden",children:_.jsx("img",{src:J.media,alt:J.title,className:"w-full h-full object-contain opacity-80 group-hover:opacity-100 transition-opacity pointer-events-none",loading:"lazy",draggable:!1})}),_.jsx("span",{className:"text-[10px] text-gray-500 group-hover:text-indigo-600 truncate w-full text-center leading-tight",children:J.title})]},J._id))}),!y&&!F&&_.jsxs("p",{className:"text-[10px] text-gray-400 text-center",children:[e==="icons"&&a("elementsBrowser.iconsFooter"),e==="stickers"&&a("elementsBrowser.stickersFooter"),e==="illustrations"&&a("elementsBrowser.illustrationsFooter")]})]})}const OR=[{key:"ig-square",platform:"Instagram",label:"Post Square",w:1080,h:1080},{key:"ig-portrait",platform:"Instagram",label:"Post Portrait",w:1080,h:1350},{key:"ig-landscape",platform:"Instagram",label:"Post Landscape",w:1080,h:566},{key:"ig-story",platform:"Instagram",label:"Story / Reel",w:1080,h:1920},{key:"fb-post",platform:"Facebook",label:"Post",w:1080,h:1350},{key:"fb-link",platform:"Facebook",label:"Link Preview",w:1200,h:630},{key:"fb-cover",platform:"Facebook",label:"Cover Photo",w:1640,h:924},{key:"li-square",platform:"LinkedIn",label:"Post Square",w:1200,h:1200},{key:"li-portrait",platform:"LinkedIn",label:"Post Portrait",w:1200,h:1500},{key:"li-banner",platform:"LinkedIn",label:"Banner",w:1584,h:396},{key:"x-post",platform:"X",label:"Post",w:1200,h:675},{key:"x-header",platform:"X",label:"Header",w:1500,h:500},{key:"tt-video",platform:"TikTok",label:"Video / Post",w:1080,h:1920},{key:"pin-standard",platform:"Pinterest",label:"Standard Pin",w:1e3,h:1500},{key:"yt-thumb",platform:"YouTube",label:"Thumbnail",w:1280,h:720},{key:"yt-banner",platform:"YouTube",label:"Channel Banner",w:2560,h:1440}];function h_({onAddText:r,onAddImageFromSrc:e,onSetBackground:t,onCanvasResize:n,onAddPlaceholder:a}){var H,ne;const i=fr(G=>G.csvData),o=fr(G=>G.toggleColumnType),l=fr(G=>G.templateConfig),u=Me.useRef(null),[h,f]=Me.useState(l.background.type),[m,x]=Me.useState(l.background.color??"#ffffff"),[g,y]=Me.useState(((H=l.background.gradientColors)==null?void 0:H[0])??"#ffffff"),[v,S]=Me.useState(((ne=l.background.gradientColors)==null?void 0:ne[1])??"#000000"),[k,A]=Me.useState(l.background.gradientDirection??"horizontal"),[N,j]=Me.useState(1),[W,ee]=Me.useState(l.background.imageSrc??null),[z,B]=Me.useState(l.width),[D,Z]=Me.useState(l.height),[q,O]=Me.useState(null),[V,F]=Me.useState("All"),re=(i==null?void 0:i.headers)??[],ae=fr(G=>G.uploadedImages),J=fr(G=>G.addUploadedImage),ge=fr(G=>G.removeUploadedImage),[te,ke]=Me.useState(""),[Y,w]=Me.useState(!1),[L,P]=Me.useState(""),U=fa(G=>G.t);function ie(G,K,le){G.dataTransfer.setData("text/plain",K),G.dataTransfer.setData("application/x-column-type",le),G.dataTransfer.effectAllowed="copy"}function fe(G){const K=G.target.files;if(K){for(let le=0;le<K.length;le++){const Fe=K[le],je=new FileReader;je.onload=()=>{J(je.result)},je.readAsDataURL(Fe)}G.target.value=""}}function xe(){const G=te.trim();if(!G)return;w(!0),P("");const K=new Image;K.crossOrigin="anonymous",K.onload=()=>{J(G),ke(""),w(!1)},K.onerror=()=>{P(U("assetPanel.couldNotLoad")),w(!1)},K.src=G}function ve(G){e==null||e(G)}function ce(G){var le;const K=(le=G.target.files)==null?void 0:le[0];if(K){const Fe=new FileReader;Fe.onload=()=>{const je=Fe.result;ee(je),t({type:"image",imageSrc:je})},Fe.readAsDataURL(K),G.target.value=""}}function De(G){x(G),t({type:"solid",color:G})}function ue(G=g,K=v,le=k){t({type:"gradient",gradientColors:[G,K],gradientDirection:le})}function Ye(G){const K=parseInt(G,10);!isNaN(K)&&K>0&&(B(K),n(K,D))}function R(G){const K=parseInt(G,10);!isNaN(K)&&K>0&&(Z(K),n(z,K))}return _.jsxs("div",{className:"flex flex-col gap-4 p-3 overflow-y-auto h-full text-sm",children:[_.jsxs("section",{children:[_.jsxs("div",{className:"flex items-center gap-1.5 mb-2",children:[_.jsx(sp,{className:"w-3.5 h-3.5 text-indigo-500"}),_.jsx("h3",{className:"font-semibold text-gray-700 text-xs uppercase tracking-wide",children:U("assetPanel.csvColumns")})]}),re.length===0?_.jsx("p",{className:"text-xs text-gray-400",children:U("assetPanel.noCsvLoaded")}):_.jsx("div",{className:"flex flex-wrap gap-2",children:re.map(G=>_.jsxs("div",{draggable:"true",onDragStart:K=>ie(K,G.name,G.type),onClick:()=>a==null?void 0:a(G.name,G.type),role:"button",tabIndex:0,onKeyDown:K=>{(K.key==="Enter"||K.key===" ")&&(a==null||a(G.name,G.type))},className:`inline-flex items-center gap-1 px-3 py-2 min-h-[44px] sm:min-h-0 sm:px-2 sm:py-1 rounded-md text-sm sm:text-xs font-medium cursor-grab active:cursor-grabbing border select-none ${G.type==="image"?"bg-emerald-50 text-emerald-700 border-emerald-200":"bg-blue-50 text-blue-700 border-blue-200"}`,children:[_.jsx(TA,{className:"w-3 h-3 opacity-40"}),`{${G.name}}`,_.jsx("span",{role:"button",tabIndex:0,title:U("common.clickToToggleType"),onClick:K=>{K.stopPropagation(),o(G.name)},onKeyDown:K=>{(K.key==="Enter"||K.key===" ")&&(K.stopPropagation(),o(G.name))},className:`ml-0.5 text-[10px] px-1 rounded cursor-pointer hover:ring-1 hover:ring-offset-1 transition-all ${G.type==="image"?"bg-emerald-200/60 text-emerald-600 hover:ring-emerald-400":"bg-blue-200/60 text-blue-600 hover:ring-blue-400"}`,children:G.type==="image"?U("common.image"):U("common.text")})]},G.name))})]}),_.jsxs("section",{children:[_.jsxs("div",{className:"flex items-center gap-1.5 mb-2",children:[_.jsx(xh,{className:"w-3.5 h-3.5 text-indigo-500"}),_.jsx("h3",{className:"font-semibold text-gray-700 text-xs uppercase tracking-wide",children:U("assetPanel.addElements")})]}),_.jsx("div",{className:"flex flex-col gap-1.5",children:_.jsx(Cl,{text:U("assetPanel.addText"),children:_.jsxs("button",{onClick:r,className:"flex items-center gap-2 w-full px-3 py-3 sm:py-2 min-h-[44px] sm:min-h-0 rounded-lg border border-gray-200 bg-gray-50 hover:bg-indigo-50 hover:border-indigo-200 transition-colors text-sm sm:text-xs font-medium text-gray-700",children:[_.jsx(xh,{className:"w-4 h-4 sm:w-3.5 sm:h-3.5"}),U("assetPanel.addTextBtn")]})})})]}),_.jsxs("section",{children:[_.jsxs("div",{className:"flex items-center gap-1.5 mb-2",children:[_.jsx(mE,{className:"w-3.5 h-3.5 text-indigo-500"}),_.jsx("h3",{className:"font-semibold text-gray-700 text-xs uppercase tracking-wide",children:U("assetPanel.elements")})]}),_.jsx(NR,{onAddElement:G=>e==null?void 0:e(G)})]}),_.jsxs("section",{children:[_.jsxs("div",{className:"flex items-center gap-1.5 mb-2",children:[_.jsx(Nl,{className:"w-3.5 h-3.5 text-indigo-500"}),_.jsx("h3",{className:"font-semibold text-gray-700 text-xs uppercase tracking-wide",children:U("assetPanel.imageLibrary")})]}),_.jsxs("div",{className:"flex flex-col gap-1.5 mb-2",children:[_.jsxs("label",{className:"flex items-center gap-2 w-full px-3 py-2.5 sm:py-1.5 min-h-[44px] sm:min-h-0 rounded-lg border border-dashed border-gray-300 hover:border-indigo-300 transition-colors text-sm sm:text-xs font-medium text-gray-500 cursor-pointer",children:[_.jsx(Yb,{className:"w-4 h-4 sm:w-3.5 sm:h-3.5"}),U("assetPanel.uploadImages"),_.jsx("input",{type:"file",accept:"image/*",multiple:!0,className:"hidden",onChange:fe})]}),_.jsxs("div",{className:"flex gap-1",children:[_.jsxs("div",{className:"flex-1 relative",children:[_.jsx(RA,{className:"absolute left-2 top-1/2 -translate-y-1/2 w-3 h-3 text-gray-400"}),_.jsx("input",{type:"text",value:te,onChange:G=>{ke(G.target.value),P("")},onKeyDown:G=>{G.key==="Enter"&&xe()},placeholder:U("assetPanel.pasteImageUrl"),className:"w-full pl-7 pr-2 py-2 sm:py-1.5 min-h-[44px] sm:min-h-0 rounded-md border border-gray-200 text-xs focus:outline-none focus:ring-1 focus:ring-indigo-300"})]}),_.jsx("button",{type:"button",onClick:xe,disabled:!te.trim()||Y,className:"px-3 py-2 sm:py-1.5 min-h-[44px] sm:min-h-0 rounded-md bg-indigo-500 text-white text-xs font-medium hover:bg-indigo-600 disabled:opacity-40 disabled:cursor-not-allowed transition-colors",children:Y?"...":U("assetPanel.add")})]}),L&&_.jsx("p",{className:"text-[10px] text-red-500",children:L})]}),ae.length>0?_.jsx("div",{className:"grid grid-cols-3 gap-1.5",children:ae.map((G,K)=>_.jsxs("div",{className:"relative group aspect-square rounded-lg border border-gray-200 overflow-hidden cursor-pointer hover:border-indigo-300 hover:ring-1 hover:ring-indigo-200 transition-all",onClick:()=>ve(G),role:"button",tabIndex:0,onKeyDown:le=>{le.key==="Enter"&&ve(G)},children:[_.jsx("img",{src:G,alt:`Library image ${K+1}`,className:"w-full h-full object-cover",crossOrigin:"anonymous"}),_.jsx("button",{type:"button",onClick:le=>{le.stopPropagation(),ge(G)},className:"absolute top-0.5 right-0.5 p-0.5 rounded-full bg-black/50 text-white opacity-0 group-hover:opacity-100 transition-opacity",title:U("assetPanel.removeFromLibrary"),children:_.jsx(N3,{className:"w-3 h-3"})})]},K))}):_.jsx("p",{className:"text-xs text-gray-400",children:U("assetPanel.noImagesYet")})]}),_.jsxs("section",{children:[_.jsxs("div",{className:"flex items-center gap-1.5 mb-2",children:[_.jsx(A3,{className:"w-3.5 h-3.5 text-indigo-500"}),_.jsx("h3",{className:"font-semibold text-gray-700 text-xs uppercase tracking-wide",children:U("assetPanel.canvasSize")})]}),_.jsxs("div",{className:"mb-2",children:[_.jsx("div",{className:"flex flex-wrap gap-1.5 sm:gap-1 mb-1.5",children:["All","Instagram","Facebook","LinkedIn","X","TikTok","Pinterest","YouTube"].map(G=>_.jsx("button",{type:"button",onClick:()=>F(G),className:`px-3 py-1.5 sm:px-2 sm:py-0.5 rounded-full text-xs sm:text-[10px] font-medium transition-colors ${V===G?"bg-indigo-100 text-indigo-700 border border-indigo-200":"bg-gray-50 text-gray-500 border border-gray-200 hover:bg-gray-100"}`,children:G},G))}),_.jsx("div",{className:"grid grid-cols-3 gap-1.5",children:OR.filter(G=>V==="All"||G.platform===V).map(G=>{const K=q===G.key,le=36,Fe=Math.min(le/G.w,le/G.h),je=Math.round(G.w*Fe),Oe=Math.round(G.h*Fe);return _.jsxs("button",{type:"button",onClick:()=>{O(G.key),B(G.w),Z(G.h),n(G.w,G.h)},className:`flex flex-col items-center gap-1 p-1.5 rounded-lg border transition-colors ${K?"border-indigo-400 bg-indigo-50 ring-1 ring-indigo-300":"border-gray-200 bg-white hover:border-gray-300 hover:bg-gray-50"}`,title:`${G.label} (${G.w}${G.h})`,children:[_.jsx("div",{className:`rounded-sm ${K?"border-indigo-400 bg-indigo-200":"border-gray-300 bg-gray-100"}`,style:{width:je,height:Oe,border:"1.5px solid",borderColor:K?"#818cf8":"#d1d5db"}}),_.jsx("span",{className:`text-[9px] font-medium leading-tight text-center ${K?"text-indigo-700":"text-gray-600"}`,children:G.label}),_.jsxs("span",{className:"text-[8px] text-gray-400 leading-none",children:[G.w,"",G.h]})]},G.key)})})]}),_.jsxs("div",{className:"flex gap-2",children:[_.jsxs("div",{className:"flex-1",children:[_.jsx("label",{className:"text-[10px] text-gray-500 uppercase mb-0.5 block",children:U("assetPanel.width")}),_.jsx("input",{type:"number",min:1,value:z,onChange:G=>{Ye(G.target.value),O(null)},className:"w-full px-2 py-1.5 rounded-md border border-gray-200 text-xs focus:outline-none focus:ring-1 focus:ring-indigo-300"})]}),_.jsxs("div",{className:"flex-1",children:[_.jsx("label",{className:"text-[10px] text-gray-500 uppercase mb-0.5 block",children:U("assetPanel.height")}),_.jsx("input",{type:"number",min:1,value:D,onChange:G=>{R(G.target.value),O(null)},className:"w-full px-2 py-1.5 rounded-md border border-gray-200 text-xs focus:outline-none focus:ring-1 focus:ring-indigo-300"})]})]})]}),_.jsxs("section",{children:[_.jsxs("div",{className:"flex items-center gap-1.5 mb-2",children:[_.jsx(ch,{className:"w-3.5 h-3.5 text-indigo-500"}),_.jsx("h3",{className:"font-semibold text-gray-700 text-xs uppercase tracking-wide",children:U("assetPanel.background")})]}),_.jsx("div",{className:"flex rounded-lg border border-gray-200 overflow-hidden mb-3",children:["solid","gradient","image"].map(G=>_.jsx("button",{onClick:()=>f(G),className:`flex-1 py-2.5 sm:py-1.5 min-h-[44px] sm:min-h-0 text-xs sm:text-[11px] font-medium capitalize transition-colors ${h===G?"bg-indigo-500 text-white":"bg-gray-50 text-gray-600 hover:bg-gray-100"}`,children:U(`assetPanel.${G}`)},G))}),h==="solid"&&_.jsxs("div",{className:"flex flex-col items-center gap-2 px-4 sm:px-0",children:[_.jsx(yu,{color:m,onChange:G=>{x(G),u.current&&clearTimeout(u.current),u.current=setTimeout(()=>De(G),60)},style:{width:"100%",maxWidth:220,height:160}}),_.jsx("input",{type:"text",value:m,onChange:G=>De(G.target.value),className:"w-full max-w-[220px] px-2 py-2 sm:py-1 min-h-[44px] sm:min-h-0 rounded-md border border-gray-200 text-sm sm:text-xs text-center font-mono focus:outline-none focus:ring-1 focus:ring-indigo-300"})]}),h==="gradient"&&_.jsxs("div",{className:"flex flex-col gap-2",children:[_.jsxs("select",{value:k,onChange:G=>{const K=G.target.value;A(K),ue(g,v,K)},className:"w-full px-2 py-2 sm:py-1.5 min-h-[44px] sm:min-h-0 rounded-md border border-gray-200 text-sm sm:text-xs focus:outline-none focus:ring-1 focus:ring-indigo-300",children:[_.jsx("option",{value:"horizontal",children:U("assetPanel.horizontal")}),_.jsx("option",{value:"vertical",children:U("assetPanel.vertical")}),_.jsx("option",{value:"diagonal",children:U("assetPanel.diagonal")})]}),_.jsxs("div",{className:"flex gap-1.5",children:[_.jsxs("button",{onClick:()=>j(1),className:`flex-1 flex items-center justify-center gap-1.5 py-2.5 sm:py-1.5 min-h-[44px] sm:min-h-0 rounded-md text-xs sm:text-[11px] font-medium border ${N===1?"border-indigo-300 bg-indigo-50 text-indigo-700":"border-gray-200 text-gray-600"}`,children:[_.jsx("span",{className:"w-4 h-4 sm:w-3 sm:h-3 rounded-sm border border-gray-300",style:{backgroundColor:g}}),U("assetPanel.color1")]}),_.jsxs("button",{onClick:()=>j(2),className:`flex-1 flex items-center justify-center gap-1.5 py-2.5 sm:py-1.5 min-h-[44px] sm:min-h-0 rounded-md text-xs sm:text-[11px] font-medium border ${N===2?"border-indigo-300 bg-indigo-50 text-indigo-700":"border-gray-200 text-gray-600"}`,children:[_.jsx("span",{className:"w-4 h-4 sm:w-3 sm:h-3 rounded-sm border border-gray-300",style:{backgroundColor:v}}),U("assetPanel.color2")]})]}),_.jsx("div",{className:"px-4 sm:px-0 flex justify-center",children:_.jsx(yu,{color:N===1?g:v,onChange:G=>{N===1?y(G):S(G),u.current&&clearTimeout(u.current),u.current=setTimeout(()=>{N===1?ue(G,v,k):ue(g,G,k)},60)},style:{width:"100%",maxWidth:220,height:160}})}),_.jsx("div",{className:"h-6 rounded-md border border-gray-200",style:{background:k==="horizontal"?`linear-gradient(to right, ${g}, ${v})`:k==="vertical"?`linear-gradient(to bottom, ${g}, ${v})`:`linear-gradient(135deg, ${g}, ${v})`}})]}),h==="image"&&_.jsxs("div",{className:"flex flex-col gap-2.5",children:[_.jsxs("label",{className:"flex items-center justify-center gap-2 w-full px-3 py-4 sm:py-3 min-h-[44px] sm:min-h-0 rounded-lg border-2 border-dashed border-gray-300 hover:border-indigo-300 transition-colors text-sm sm:text-xs font-medium text-gray-500 cursor-pointer",children:[_.jsx(Yb,{className:"w-5 h-5 sm:w-4 sm:h-4"}),U(W?"assetPanel.replaceBackgroundImage":"assetPanel.uploadBackgroundImage"),_.jsx("input",{type:"file",accept:"image/*",className:"hidden",onChange:ce})]}),W&&_.jsxs(_.Fragment,{children:[_.jsx("p",{className:"text-[10px] text-gray-400 text-center",children:U("assetPanel.bgImageHint")}),_.jsx("button",{type:"button",onClick:()=>{ee(null),t({type:"solid",color:m})},className:"text-[11px] text-red-500 hover:text-red-600 font-medium text-center",children:U("assetPanel.removeBackgroundImage")})]})]})]})]})}function Ie(r,e,t){return(e=(function(n){var a=(function(i,o){if(typeof i!="object"||!i)return i;var l=i[Symbol.toPrimitive];if(l!==void 0){var u=l.call(i,o);if(typeof u!="object")return u;throw new TypeError("@@toPrimitive must return a primitive value.")}return(o==="string"?String:Number)(i)})(n,"string");return typeof a=="symbol"?a:a+""})(e))in r?Object.defineProperty(r,e,{value:t,enumerable:!0,configurable:!0,writable:!0}):r[e]=t,r}function f_(r,e){var t=Object.keys(r);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(r);e&&(n=n.filter((function(a){return Object.getOwnPropertyDescriptor(r,a).enumerable}))),t.push.apply(t,n)}return t}function ze(r){for(var e=1;e<arguments.length;e++){var t=arguments[e]!=null?arguments[e]:{};e%2?f_(Object(t),!0).forEach((function(n){Ie(r,n,t[n])})):Object.getOwnPropertyDescriptors?Object.defineProperties(r,Object.getOwnPropertyDescriptors(t)):f_(Object(t)).forEach((function(n){Object.defineProperty(r,n,Object.getOwnPropertyDescriptor(t,n))}))}return r}function On(r,e){if(r==null)return{};var t,n,a=(function(o,l){if(o==null)return{};var u={};for(var h in o)if({}.hasOwnProperty.call(o,h)){if(l.indexOf(h)>=0)continue;u[h]=o[h]}return u})(r,e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(r);for(n=0;n<i.length;n++)t=i[n],e.indexOf(t)>=0||{}.propertyIsEnumerable.call(r,t)&&(a[t]=r[t])}return a}function Ml(r,e){return e||(e=r.slice(0)),Object.freeze(Object.defineProperties(r,{raw:{value:Object.freeze(e)}}))}class d_{constructor(){Ie(this,"browserShadowBlurConstant",1),Ie(this,"DPI",96),Ie(this,"devicePixelRatio",typeof window<"u"?window.devicePixelRatio:1),Ie(this,"perfLimitSizeTotal",2097152),Ie(this,"maxCacheSideLimit",4096),Ie(this,"minCacheSideLimit",256),Ie(this,"disableStyleCopyPaste",!1),Ie(this,"enableGLFiltering",!0),Ie(this,"textureSize",4096),Ie(this,"forceGLPutImageData",!1),Ie(this,"cachesBoundsOfCurve",!1),Ie(this,"fontPaths",{}),Ie(this,"NUM_FRACTION_DIGITS",4)}}const Gr=new class extends d_{constructor(r){super(),this.configure(r)}configure(){let r=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};Object.assign(this,r)}addFonts(){let r=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};this.fontPaths=ze(ze({},this.fontPaths),r)}removeFonts(){(arguments.length>0&&arguments[0]!==void 0?arguments[0]:[]).forEach((r=>{delete this.fontPaths[r]}))}clearFonts(){this.fontPaths={}}restoreDefaults(r){const e=new d_,t=(r==null?void 0:r.reduce(((n,a)=>(n[a]=e[a],n)),{}))||e;this.configure(t)}},ku=function(r){for(var e=arguments.length,t=new Array(e>1?e-1:0),n=1;n<e;n++)t[n-1]=arguments[n];return console[r]("fabric",...t)};let Al=class extends Error{constructor(e,t){super("fabric: ".concat(e),t)}},DR=class extends Al{constructor(e){super("".concat(e," 'options.signal' is in 'aborted' state"))}},LR=class{},FR=class extends LR{testPrecision(e,t){const n="precision ".concat(t,` float;
void main(){}`),a=e.createShader(e.FRAGMENT_SHADER);return!!a&&(e.shaderSource(a,n),e.compileShader(a),!!e.getShaderParameter(a,e.COMPILE_STATUS))}queryWebGL(e){const t=e.getContext("webgl");t&&(this.maxTextureSize=t.getParameter(t.MAX_TEXTURE_SIZE),this.GLPrecision=["highp","mediump","lowp"].find((n=>this.testPrecision(t,n))),t.getExtension("WEBGL_lose_context").loseContext(),ku("log","WebGL: max texture size ".concat(this.maxTextureSize)))}isSupported(e){return!!this.maxTextureSize&&this.maxTextureSize>=e}};const MR={};let g_;const Dl=()=>g_||(g_={document,window,isTouchSupported:"ontouchstart"in window||"ontouchstart"in document||window&&window.navigator&&window.navigator.maxTouchPoints>0,WebGLProbe:new FR,dispose(){},copyPasteData:MR}),c0=()=>Dl().document,Hp=()=>Dl().window,y6=()=>{var r;return Math.max((r=Gr.devicePixelRatio)!==null&&r!==void 0?r:Hp().devicePixelRatio,1)},bd=new class{constructor(){Ie(this,"boundsOfCurveCache",{}),this.charWidthsCache=new Map}getFontCache(r){let{fontFamily:e,fontStyle:t,fontWeight:n}=r;e=e.toLowerCase();const a=this.charWidthsCache;a.has(e)||a.set(e,new Map);const i=a.get(e),o="".concat(t.toLowerCase(),"_").concat((n+"").toLowerCase());return i.has(o)||i.set(o,new Map),i.get(o)}clearFontCache(r){r?this.charWidthsCache.delete((r||"").toLowerCase()):this.charWidthsCache=new Map}limitDimsByArea(r){const{perfLimitSizeTotal:e}=Gr,t=Math.sqrt(e*r);return[Math.floor(t),Math.floor(e/t)]}},Vx="6.9.1";function Vg(){}const Qd=Math.PI/2,bp=2*Math.PI,Yv=Math.PI/180,qi=Object.freeze([1,0,0,1,0,0]),Xv=16,uu=.4477152502,Sr="center",en="left",cs="top",Gx="bottom",oa="right",us="none",Kv=/\r?\n/,b6="moving",qp="scaling",w6="rotating",$v="rotate",_6="skewing",Rd="resizing",jR="modifyPoly",RR="modifyPath",wp="changed",Vp="scale",fs="scaleX",oo="scaleY",u0="skewX",h0="skewY",Ia="fill",hs="stroke",_p="modified",Cf="json",L2="svg",qt=new class{constructor(){this[Cf]=new Map,this[L2]=new Map}has(r){return this[Cf].has(r)}getClass(r){const e=this[Cf].get(r);if(!e)throw new Al("No class registered for ".concat(r));return e}setClass(r,e){e?this[Cf].set(e,r):(this[Cf].set(r.type,r),this[Cf].set(r.type.toLowerCase(),r))}getSVGClass(r){return this[L2].get(r)}setSVGClass(r,e){this[L2].set(e??r.type.toLowerCase(),r)}},Sp=new class extends Array{remove(r){const e=this.indexOf(r);e>-1&&this.splice(e,1)}cancelAll(){const r=this.splice(0);return r.forEach((e=>e.abort())),r}cancelByCanvas(r){if(!r)return[];const e=this.filter((t=>{var n;return t.target===r||typeof t.target=="object"&&((n=t.target)===null||n===void 0?void 0:n.canvas)===r}));return e.forEach((t=>t.abort())),e}cancelByTarget(r){if(!r)return[];const e=this.filter((t=>t.target===r));return e.forEach((t=>t.abort())),e}};let BR=class{constructor(){Ie(this,"__eventListeners",{})}on(e,t){if(this.__eventListeners||(this.__eventListeners={}),typeof e=="object")return Object.entries(e).forEach((n=>{let[a,i]=n;this.on(a,i)})),()=>this.off(e);if(t){const n=e;return this.__eventListeners[n]||(this.__eventListeners[n]=[]),this.__eventListeners[n].push(t),()=>this.off(n,t)}return()=>!1}once(e,t){if(typeof e=="object"){const n=[];return Object.entries(e).forEach((a=>{let[i,o]=a;n.push(this.once(i,o))})),()=>n.forEach((a=>a()))}if(t){const n=this.on(e,(function(){for(var a=arguments.length,i=new Array(a),o=0;o<a;o++)i[o]=arguments[o];t.call(this,...i),n()}));return n}return()=>!1}_removeEventListener(e,t){if(this.__eventListeners[e])if(t){const n=this.__eventListeners[e],a=n.indexOf(t);a>-1&&n.splice(a,1)}else this.__eventListeners[e]=[]}off(e,t){if(this.__eventListeners)if(e===void 0)for(const n in this.__eventListeners)this._removeEventListener(n);else typeof e=="object"?Object.entries(e).forEach((n=>{let[a,i]=n;this._removeEventListener(a,i)})):this._removeEventListener(e,t)}fire(e,t){var n;if(!this.__eventListeners)return;const a=(n=this.__eventListeners[e])===null||n===void 0?void 0:n.concat();if(a)for(let i=0;i<a.length;i++)a[i].call(this,t||{})}};const jf=(r,e)=>{const t=r.indexOf(e);return t!==-1&&r.splice(t,1),r},_c=r=>{if(r===0)return 1;switch(Math.abs(r)/Qd){case 1:case 3:return 0;case 2:return-1}return Math.cos(r)},Sc=r=>{if(r===0)return 0;const e=r/Qd,t=Math.sign(r);switch(e){case 1:return t;case 2:return 0;case 3:return-t}return Math.sin(r)};let ct=class Ri{constructor(){let e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:0,t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0;typeof e=="object"?(this.x=e.x,this.y=e.y):(this.x=e,this.y=t)}add(e){return new Ri(this.x+e.x,this.y+e.y)}addEquals(e){return this.x+=e.x,this.y+=e.y,this}scalarAdd(e){return new Ri(this.x+e,this.y+e)}scalarAddEquals(e){return this.x+=e,this.y+=e,this}subtract(e){return new Ri(this.x-e.x,this.y-e.y)}subtractEquals(e){return this.x-=e.x,this.y-=e.y,this}scalarSubtract(e){return new Ri(this.x-e,this.y-e)}scalarSubtractEquals(e){return this.x-=e,this.y-=e,this}multiply(e){return new Ri(this.x*e.x,this.y*e.y)}scalarMultiply(e){return new Ri(this.x*e,this.y*e)}scalarMultiplyEquals(e){return this.x*=e,this.y*=e,this}divide(e){return new Ri(this.x/e.x,this.y/e.y)}scalarDivide(e){return new Ri(this.x/e,this.y/e)}scalarDivideEquals(e){return this.x/=e,this.y/=e,this}eq(e){return this.x===e.x&&this.y===e.y}lt(e){return this.x<e.x&&this.y<e.y}lte(e){return this.x<=e.x&&this.y<=e.y}gt(e){return this.x>e.x&&this.y>e.y}gte(e){return this.x>=e.x&&this.y>=e.y}lerp(e){let t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:.5;return t=Math.max(Math.min(1,t),0),new Ri(this.x+(e.x-this.x)*t,this.y+(e.y-this.y)*t)}distanceFrom(e){const t=this.x-e.x,n=this.y-e.y;return Math.sqrt(t*t+n*n)}midPointFrom(e){return this.lerp(e)}min(e){return new Ri(Math.min(this.x,e.x),Math.min(this.y,e.y))}max(e){return new Ri(Math.max(this.x,e.x),Math.max(this.y,e.y))}toString(){return"".concat(this.x,",").concat(this.y)}setXY(e,t){return this.x=e,this.y=t,this}setX(e){return this.x=e,this}setY(e){return this.y=e,this}setFromPoint(e){return this.x=e.x,this.y=e.y,this}swap(e){const t=this.x,n=this.y;this.x=e.x,this.y=e.y,e.x=t,e.y=n}clone(){return new Ri(this.x,this.y)}rotate(e){let t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:Zv;const n=Sc(e),a=_c(e),i=this.subtract(t);return new Ri(i.x*a-i.y*n,i.x*n+i.y*a).add(t)}transform(e){let t=arguments.length>1&&arguments[1]!==void 0&&arguments[1];return new Ri(e[0]*this.x+e[2]*this.y+(t?0:e[4]),e[1]*this.x+e[3]*this.y+(t?0:e[5]))}};const Zv=new ct(0,0),Gg=r=>!!r&&Array.isArray(r._objects);function S6(r){class e extends r{constructor(){super(...arguments),Ie(this,"_objects",[])}_onObjectAdded(n){}_onObjectRemoved(n){}_onStackOrderChanged(n){}add(){for(var n=arguments.length,a=new Array(n),i=0;i<n;i++)a[i]=arguments[i];const o=this._objects.push(...a);return a.forEach((l=>this._onObjectAdded(l))),o}insertAt(n){for(var a=arguments.length,i=new Array(a>1?a-1:0),o=1;o<a;o++)i[o-1]=arguments[o];return this._objects.splice(n,0,...i),i.forEach((l=>this._onObjectAdded(l))),this._objects.length}remove(){const n=this._objects,a=[];for(var i=arguments.length,o=new Array(i),l=0;l<i;l++)o[l]=arguments[l];return o.forEach((u=>{const h=n.indexOf(u);h!==-1&&(n.splice(h,1),a.push(u),this._onObjectRemoved(u))})),a}forEachObject(n){this.getObjects().forEach(((a,i,o)=>n(a,i,o)))}getObjects(){for(var n=arguments.length,a=new Array(n),i=0;i<n;i++)a[i]=arguments[i];return a.length===0?[...this._objects]:this._objects.filter((o=>o.isType(...a)))}item(n){return this._objects[n]}isEmpty(){return this._objects.length===0}size(){return this._objects.length}contains(n,a){return!!this._objects.includes(n)||!!a&&this._objects.some((i=>i instanceof e&&i.contains(n,!0)))}complexity(){return this._objects.reduce(((n,a)=>n+=a.complexity?a.complexity():0),0)}sendObjectToBack(n){return!(!n||n===this._objects[0])&&(jf(this._objects,n),this._objects.unshift(n),this._onStackOrderChanged(n),!0)}bringObjectToFront(n){return!(!n||n===this._objects[this._objects.length-1])&&(jf(this._objects,n),this._objects.push(n),this._onStackOrderChanged(n),!0)}sendObjectBackwards(n,a){if(!n)return!1;const i=this._objects.indexOf(n);if(i!==0){const o=this.findNewLowerIndex(n,i,a);return jf(this._objects,n),this._objects.splice(o,0,n),this._onStackOrderChanged(n),!0}return!1}bringObjectForward(n,a){if(!n)return!1;const i=this._objects.indexOf(n);if(i!==this._objects.length-1){const o=this.findNewUpperIndex(n,i,a);return jf(this._objects,n),this._objects.splice(o,0,n),this._onStackOrderChanged(n),!0}return!1}moveObjectTo(n,a){return n!==this._objects[a]&&(jf(this._objects,n),this._objects.splice(a,0,n),this._onStackOrderChanged(n),!0)}findNewLowerIndex(n,a,i){let o;if(i){o=a;for(let l=a-1;l>=0;--l)if(n.isOverlapping(this._objects[l])){o=l;break}}else o=a-1;return o}findNewUpperIndex(n,a,i){let o;if(i){o=a;for(let l=a+1;l<this._objects.length;++l)if(n.isOverlapping(this._objects[l])){o=l;break}}else o=a+1;return o}collectObjects(n){let{left:a,top:i,width:o,height:l}=n,{includeIntersecting:u=!0}=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};const h=[],f=new ct(a,i),m=f.add(new ct(o,l));for(let x=this._objects.length-1;x>=0;x--){const g=this._objects[x];g.selectable&&g.visible&&(u&&g.intersectsWithRect(f,m)||g.isContainedWithinRect(f,m)||u&&g.containsPoint(f)||u&&g.containsPoint(m))&&h.push(g)}return h}}return e}let k6=class extends BR{_setOptions(){let e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};for(const t in e)this.set(t,e[t])}_setObject(e){for(const t in e)this._set(t,e[t])}set(e,t){return typeof e=="object"?this._setObject(e):this._set(e,t),this}_set(e,t){this[e]=t}toggle(e){const t=this.get(e);return typeof t=="boolean"&&this.set(e,!t),this}get(e){return this[e]}};function Wg(r){return Hp().requestAnimationFrame(r)}function PR(r){return Hp().cancelAnimationFrame(r)}let IR=0;const Cu=()=>IR++,kc=()=>{const r=c0().createElement("canvas");if(!r||r.getContext===void 0)throw new Al("Failed to create `canvas` element");return r},UR=()=>c0().createElement("img"),lo=r=>{const e=kc();return e.width=r.width,e.height=r.height,e},C6=(r,e,t)=>r.toDataURL("image/".concat(e),t),T6=(r,e,t)=>new Promise(((n,a)=>{r.toBlob(n,"image/".concat(e),t)})),ha=r=>r*Yv,Cc=r=>r/Yv,zR=r=>r.every(((e,t)=>e===qi[t])),ls=(r,e,t)=>new ct(r).transform(e,t),Xo=r=>{const e=1/(r[0]*r[3]-r[1]*r[2]),t=[e*r[3],-e*r[1],-e*r[2],e*r[0],0,0],{x:n,y:a}=new ct(r[4],r[5]).transform(t,!0);return t[4]=-n,t[5]=-a,t},li=(r,e,t)=>[r[0]*e[0]+r[2]*e[1],r[1]*e[0]+r[3]*e[1],r[0]*e[2]+r[2]*e[3],r[1]*e[2]+r[3]*e[3],t?0:r[0]*e[4]+r[2]*e[5]+r[4],t?0:r[1]*e[4]+r[3]*e[5]+r[5]],Jv=(r,e)=>r.reduceRight(((t,n)=>n&&t?li(n,t,e):n||t),void 0)||qi.concat(),A6=r=>{let[e,t]=r;return Math.atan2(t,e)},kp=r=>{const e=A6(r),t=Math.pow(r[0],2)+Math.pow(r[1],2),n=Math.sqrt(t),a=(r[0]*r[3]-r[2]*r[1])/n,i=Math.atan2(r[0]*r[2]+r[1]*r[3],t);return{angle:Cc(e),scaleX:n,scaleY:a,skewX:Cc(i),skewY:0,translateX:r[4]||0,translateY:r[5]||0}},e1=function(r){return[1,0,0,1,r,arguments.length>1&&arguments[1]!==void 0?arguments[1]:0]};function f0(){let{angle:r=0}=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},{x:e=0,y:t=0}=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};const n=ha(r),a=_c(n),i=Sc(n);return[a,i,-i,a,e?e-(a*e-i*t):0,t?t-(i*e+a*t):0]}const Qv=function(r){return[r,0,0,arguments.length>1&&arguments[1]!==void 0?arguments[1]:r,0,0]},E6=r=>Math.tan(ha(r)),N6=r=>[1,0,E6(r),1,0,0],O6=r=>[1,E6(r),0,1,0,0],Gp=r=>{let{scaleX:e=1,scaleY:t=1,flipX:n=!1,flipY:a=!1,skewX:i=0,skewY:o=0}=r,l=Qv(n?-e:e,a?-t:t);return i&&(l=li(l,N6(i),!0)),o&&(l=li(l,O6(o),!0)),l},HR=r=>{const{translateX:e=0,translateY:t=0,angle:n=0}=r;let a=e1(e,t);n&&(a=li(a,f0({angle:n})));const i=Gp(r);return zR(i)||(a=li(a,i)),a},Yg=function(r){let{signal:e,crossOrigin:t=null}=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};return new Promise((function(n,a){if(e&&e.aborted)return a(new DR("loadImage"));const i=UR();let o;e&&(o=function(u){i.src="",a(u)},e.addEventListener("abort",o,{once:!0}));const l=function(){i.onload=i.onerror=null,o&&(e==null||e.removeEventListener("abort",o)),n(i)};r?(i.onload=l,i.onerror=function(){o&&(e==null||e.removeEventListener("abort",o)),a(new Al("Error loading ".concat(i.src)))},t&&(i.crossOrigin=t),i.src=r):l()}))},Bd=function(r){let{signal:e,reviver:t=Vg}=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};return new Promise(((n,a)=>{const i=[];e&&e.addEventListener("abort",a,{once:!0}),Promise.all(r.map((o=>qt.getClass(o.type).fromObject(o,{signal:e}).then((l=>(t(o,l),i.push(l),l)))))).then(n).catch((o=>{i.forEach((l=>{l.dispose&&l.dispose()})),a(o)})).finally((()=>{e&&e.removeEventListener("abort",a)}))}))},Wp=function(r){let{signal:e}=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};return new Promise(((t,n)=>{const a=[];e&&e.addEventListener("abort",n,{once:!0});const i=Object.values(r).map((l=>l&&l.type&&qt.has(l.type)?Bd([l],{signal:e}).then((u=>{let[h]=u;return a.push(h),h})):l)),o=Object.keys(r);Promise.all(i).then((l=>l.reduce(((u,h,f)=>(u[o[f]]=h,u)),{}))).then(t).catch((l=>{a.forEach((u=>{u.dispose&&u.dispose()})),n(l)})).finally((()=>{e&&e.removeEventListener("abort",n)}))}))},d0=function(r){return(arguments.length>1&&arguments[1]!==void 0?arguments[1]:[]).reduce(((e,t)=>(t in r&&(e[t]=r[t]),e)),{})},ey=(r,e)=>Object.keys(r).reduce(((t,n)=>(e(r[n],n,r)&&(t[n]=r[n]),t)),{}),vn=(r,e)=>parseFloat(Number(r).toFixed(e)),Pd=r=>"matrix("+r.map((e=>vn(e,Gr.NUM_FRACTION_DIGITS))).join(" ")+")",ao=r=>!!r&&r.toLive!==void 0,p_=r=>!!r&&typeof r.toObject=="function",m_=r=>!!r&&r.offsetX!==void 0&&"source"in r,ih=r=>!!r&&"multiSelectionStacking"in r;function D6(r){const e=r&&Go(r);let t=0,n=0;if(!r||!e)return{left:t,top:n};let a=r;const i=e.documentElement,o=e.body||{scrollLeft:0,scrollTop:0};for(;a&&(a.parentNode||a.host)&&(a=a.parentNode||a.host,a===e?(t=o.scrollLeft||i.scrollLeft||0,n=o.scrollTop||i.scrollTop||0):(t+=a.scrollLeft||0,n+=a.scrollTop||0),a.nodeType!==1||a.style.position!=="fixed"););return{left:t,top:n}}const Go=r=>r.ownerDocument||null,L6=r=>{var e;return((e=r.ownerDocument)===null||e===void 0?void 0:e.defaultView)||null},F6=function(r,e,t){let{width:n,height:a}=t,i=arguments.length>3&&arguments[3]!==void 0?arguments[3]:1;r.width=n,r.height=a,i>1&&(r.setAttribute("width",(n*i).toString()),r.setAttribute("height",(a*i).toString()),e.scale(i,i))},Wx=(r,e)=>{let{width:t,height:n}=e;t&&(r.style.width=typeof t=="number"?"".concat(t,"px"):t),n&&(r.style.height=typeof n=="number"?"".concat(n,"px"):n)};function x_(r){return r.onselectstart!==void 0&&(r.onselectstart=()=>!1),r.style.userSelect=us,r}let M6=class{constructor(e){Ie(this,"_originalCanvasStyle",void 0),Ie(this,"lower",void 0);const t=this.createLowerCanvas(e);this.lower={el:t,ctx:t.getContext("2d")}}createLowerCanvas(e){const t=(n=e)&&n.getContext!==void 0?e:e&&c0().getElementById(e)||kc();var n;if(t.hasAttribute("data-fabric"))throw new Al("Trying to initialize a canvas that has already been initialized. Did you forget to dispose the canvas?");return this._originalCanvasStyle=t.style.cssText,t.setAttribute("data-fabric","main"),t.classList.add("lower-canvas"),t}cleanupDOM(e){let{width:t,height:n}=e;const{el:a}=this.lower;a.classList.remove("lower-canvas"),a.removeAttribute("data-fabric"),a.setAttribute("width","".concat(t)),a.setAttribute("height","".concat(n)),a.style.cssText=this._originalCanvasStyle||"",this._originalCanvasStyle=void 0}setDimensions(e,t){const{el:n,ctx:a}=this.lower;F6(n,a,e,t)}setCSSDimensions(e){Wx(this.lower.el,e)}calcOffset(){return(function(e){var t;const n=e&&Go(e),a={left:0,top:0};if(!n)return a;const i=((t=L6(e))===null||t===void 0?void 0:t.getComputedStyle(e,null))||{};a.left+=parseInt(i.borderLeftWidth,10)||0,a.top+=parseInt(i.borderTopWidth,10)||0,a.left+=parseInt(i.paddingLeft,10)||0,a.top+=parseInt(i.paddingTop,10)||0;let o={left:0,top:0};const l=n.documentElement;e.getBoundingClientRect!==void 0&&(o=e.getBoundingClientRect());const u=D6(e);return{left:o.left+u.left-(l.clientLeft||0)+a.left,top:o.top+u.top-(l.clientTop||0)+a.top}})(this.lower.el)}dispose(){Dl().dispose(this.lower.el),delete this.lower}};const qR={backgroundVpt:!0,backgroundColor:"",overlayVpt:!0,overlayColor:"",includeDefaultValues:!0,svgViewportTransformation:!0,renderOnAddRemove:!0,skipOffscreen:!0,enableRetinaScaling:!0,imageSmoothingEnabled:!0,controlsAboveOverlay:!1,allowTouchScrolling:!1,viewportTransform:[...qi]},VR=["objects"];let Yp=class j6 extends S6(k6){get lowerCanvasEl(){var e;return(e=this.elements.lower)===null||e===void 0?void 0:e.el}get contextContainer(){var e;return(e=this.elements.lower)===null||e===void 0?void 0:e.ctx}static getDefaults(){return j6.ownDefaults}constructor(e){let t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};super(),Object.assign(this,this.constructor.getDefaults()),this.set(t),this.initElements(e),this._setDimensionsImpl({width:this.width||this.elements.lower.el.width||0,height:this.height||this.elements.lower.el.height||0}),this.skipControlsDrawing=!1,this.viewportTransform=[...this.viewportTransform],this.calcViewportBoundaries()}initElements(e){this.elements=new M6(e)}add(){const e=super.add(...arguments);return arguments.length>0&&this.renderOnAddRemove&&this.requestRenderAll(),e}insertAt(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),a=1;a<t;a++)n[a-1]=arguments[a];const i=super.insertAt(e,...n);return n.length>0&&this.renderOnAddRemove&&this.requestRenderAll(),i}remove(){const e=super.remove(...arguments);return e.length>0&&this.renderOnAddRemove&&this.requestRenderAll(),e}_onObjectAdded(e){e.canvas&&e.canvas!==this&&(ku("warn",`Canvas is trying to add an object that belongs to a different canvas.
Resulting to default behavior: removing object from previous canvas and adding to new canvas`),e.canvas.remove(e)),e._set("canvas",this),e.setCoords(),this.fire("object:added",{target:e}),e.fire("added",{target:this})}_onObjectRemoved(e){e._set("canvas",void 0),this.fire("object:removed",{target:e}),e.fire("removed",{target:this})}_onStackOrderChanged(){this.renderOnAddRemove&&this.requestRenderAll()}getRetinaScaling(){return this.enableRetinaScaling?y6():1}calcOffset(){return this._offset=this.elements.calcOffset()}getWidth(){return this.width}getHeight(){return this.height}setWidth(e,t){return this.setDimensions({width:e},t)}setHeight(e,t){return this.setDimensions({height:e},t)}_setDimensionsImpl(e){let{cssOnly:t=!1,backstoreOnly:n=!1}=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};if(!t){const a=ze({width:this.width,height:this.height},e);this.elements.setDimensions(a,this.getRetinaScaling()),this.hasLostContext=!0,this.width=a.width,this.height=a.height}n||this.elements.setCSSDimensions(e),this.calcOffset()}setDimensions(e,t){this._setDimensionsImpl(e,t),t&&t.cssOnly||this.requestRenderAll()}getZoom(){return this.viewportTransform[0]}setViewportTransform(e){this.viewportTransform=e,this.calcViewportBoundaries(),this.renderOnAddRemove&&this.requestRenderAll()}zoomToPoint(e,t){const n=e,a=[...this.viewportTransform],i=ls(e,Xo(a));a[0]=t,a[3]=t;const o=ls(i,a);a[4]+=n.x-o.x,a[5]+=n.y-o.y,this.setViewportTransform(a)}setZoom(e){this.zoomToPoint(new ct(0,0),e)}absolutePan(e){const t=[...this.viewportTransform];return t[4]=-e.x,t[5]=-e.y,this.setViewportTransform(t)}relativePan(e){return this.absolutePan(new ct(-e.x-this.viewportTransform[4],-e.y-this.viewportTransform[5]))}getElement(){return this.elements.lower.el}clearContext(e){e.clearRect(0,0,this.width,this.height)}getContext(){return this.elements.lower.ctx}clear(){this.remove(...this.getObjects()),this.backgroundImage=void 0,this.overlayImage=void 0,this.backgroundColor="",this.overlayColor="",this.clearContext(this.getContext()),this.fire("canvas:cleared"),this.renderOnAddRemove&&this.requestRenderAll()}renderAll(){this.cancelRequestedRender(),this.destroyed||this.renderCanvas(this.getContext(),this._objects)}renderAndReset(){this.nextRenderHandle=0,this.renderAll()}requestRenderAll(){this.nextRenderHandle||this.disposed||this.destroyed||(this.nextRenderHandle=Wg((()=>this.renderAndReset())))}calcViewportBoundaries(){const e=this.width,t=this.height,n=Xo(this.viewportTransform),a=ls({x:0,y:0},n),i=ls({x:e,y:t},n),o=a.min(i),l=a.max(i);return this.vptCoords={tl:o,tr:new ct(l.x,o.y),bl:new ct(o.x,l.y),br:l}}cancelRequestedRender(){this.nextRenderHandle&&(PR(this.nextRenderHandle),this.nextRenderHandle=0)}drawControls(e){}renderCanvas(e,t){if(this.destroyed)return;const n=this.viewportTransform,a=this.clipPath;this.calcViewportBoundaries(),this.clearContext(e),e.imageSmoothingEnabled=this.imageSmoothingEnabled,e.patternQuality="best",this.fire("before:render",{ctx:e}),this._renderBackground(e),e.save(),e.transform(n[0],n[1],n[2],n[3],n[4],n[5]),this._renderObjects(e,t),e.restore(),this.controlsAboveOverlay||this.skipControlsDrawing||this.drawControls(e),a&&(a._set("canvas",this),a.shouldCache(),a._transformDone=!0,a.renderCache({forClipping:!0}),this.drawClipPathOnCanvas(e,a)),this._renderOverlay(e),this.controlsAboveOverlay&&!this.skipControlsDrawing&&this.drawControls(e),this.fire("after:render",{ctx:e}),this.__cleanupTask&&(this.__cleanupTask(),this.__cleanupTask=void 0)}drawClipPathOnCanvas(e,t){const n=this.viewportTransform;e.save(),e.transform(...n),e.globalCompositeOperation="destination-in",t.transform(e),e.scale(1/t.zoomX,1/t.zoomY),e.drawImage(t._cacheCanvas,-t.cacheTranslationX,-t.cacheTranslationY),e.restore()}_renderObjects(e,t){for(let n=0,a=t.length;n<a;++n)t[n]&&t[n].render(e)}_renderBackgroundOrOverlay(e,t){const n=this["".concat(t,"Color")],a=this["".concat(t,"Image")],i=this.viewportTransform,o=this["".concat(t,"Vpt")];if(!n&&!a)return;const l=ao(n);if(n){if(e.save(),e.beginPath(),e.moveTo(0,0),e.lineTo(this.width,0),e.lineTo(this.width,this.height),e.lineTo(0,this.height),e.closePath(),e.fillStyle=l?n.toLive(e):n,o&&e.transform(...i),l){e.transform(1,0,0,1,n.offsetX||0,n.offsetY||0);const u=n.gradientTransform||n.patternTransform;u&&e.transform(...u)}e.fill(),e.restore()}if(a){e.save();const{skipOffscreen:u}=this;this.skipOffscreen=o,o&&e.transform(...i),a.render(e),this.skipOffscreen=u,e.restore()}}_renderBackground(e){this._renderBackgroundOrOverlay(e,"background")}_renderOverlay(e){this._renderBackgroundOrOverlay(e,"overlay")}getCenter(){return{top:this.height/2,left:this.width/2}}getCenterPoint(){return new ct(this.width/2,this.height/2)}centerObjectH(e){return this._centerObject(e,new ct(this.getCenterPoint().x,e.getCenterPoint().y))}centerObjectV(e){return this._centerObject(e,new ct(e.getCenterPoint().x,this.getCenterPoint().y))}centerObject(e){return this._centerObject(e,this.getCenterPoint())}viewportCenterObject(e){return this._centerObject(e,this.getVpCenter())}viewportCenterObjectH(e){return this._centerObject(e,new ct(this.getVpCenter().x,e.getCenterPoint().y))}viewportCenterObjectV(e){return this._centerObject(e,new ct(e.getCenterPoint().x,this.getVpCenter().y))}getVpCenter(){return ls(this.getCenterPoint(),Xo(this.viewportTransform))}_centerObject(e,t){e.setXY(t,Sr,Sr),e.setCoords(),this.renderOnAddRemove&&this.requestRenderAll()}toDatalessJSON(e){return this.toDatalessObject(e)}toObject(e){return this._toObjectMethod("toObject",e)}toJSON(){return this.toObject()}toDatalessObject(e){return this._toObjectMethod("toDatalessObject",e)}_toObjectMethod(e,t){const n=this.clipPath,a=n&&!n.excludeFromExport?this._toObject(n,e,t):null;return ze(ze(ze({version:Vx},d0(this,t)),{},{objects:this._objects.filter((i=>!i.excludeFromExport)).map((i=>this._toObject(i,e,t)))},this.__serializeBgOverlay(e,t)),a?{clipPath:a}:null)}_toObject(e,t,n){let a;this.includeDefaultValues||(a=e.includeDefaultValues,e.includeDefaultValues=!1);const i=e[t](n);return this.includeDefaultValues||(e.includeDefaultValues=!!a),i}__serializeBgOverlay(e,t){const n={},a=this.backgroundImage,i=this.overlayImage,o=this.backgroundColor,l=this.overlayColor;return ao(o)?o.excludeFromExport||(n.background=o.toObject(t)):o&&(n.background=o),ao(l)?l.excludeFromExport||(n.overlay=l.toObject(t)):l&&(n.overlay=l),a&&!a.excludeFromExport&&(n.backgroundImage=this._toObject(a,e,t)),i&&!i.excludeFromExport&&(n.overlayImage=this._toObject(i,e,t)),n}toSVG(){let e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},t=arguments.length>1?arguments[1]:void 0;e.reviver=t;const n=[];return this._setSVGPreamble(n,e),this._setSVGHeader(n,e),this.clipPath&&n.push('<g clip-path="url(#'.concat(this.clipPath.clipPathId,`)" >
`)),this._setSVGBgOverlayColor(n,"background"),this._setSVGBgOverlayImage(n,"backgroundImage",t),this._setSVGObjects(n,t),this.clipPath&&n.push(`</g>
`),this._setSVGBgOverlayColor(n,"overlay"),this._setSVGBgOverlayImage(n,"overlayImage",t),n.push("</svg>"),n.join("")}_setSVGPreamble(e,t){t.suppressPreamble||e.push('<?xml version="1.0" encoding="',t.encoding||"UTF-8",`" standalone="no" ?>
`,'<!DOCTYPE svg PUBLIC "-//W3C//DTD SVG 1.1//EN" ',`"http://www.w3.org/Graphics/SVG/1.1/DTD/svg11.dtd">
`)}_setSVGHeader(e,t){const n=t.width||"".concat(this.width),a=t.height||"".concat(this.height),i=Gr.NUM_FRACTION_DIGITS,o=t.viewBox;let l;if(o)l='viewBox="'.concat(o.x," ").concat(o.y," ").concat(o.width," ").concat(o.height,'" ');else if(this.svgViewportTransformation){const u=this.viewportTransform;l='viewBox="'.concat(vn(-u[4]/u[0],i)," ").concat(vn(-u[5]/u[3],i)," ").concat(vn(this.width/u[0],i)," ").concat(vn(this.height/u[3],i),'" ')}else l='viewBox="0 0 '.concat(this.width," ").concat(this.height,'" ');e.push("<svg ",'xmlns="http://www.w3.org/2000/svg" ','xmlns:xlink="http://www.w3.org/1999/xlink" ','version="1.1" ','width="',n,'" ','height="',a,'" ',l,`xml:space="preserve">
`,"<desc>Created with Fabric.js ",Vx,`</desc>
`,`<defs>
`,this.createSVGFontFacesMarkup(),this.createSVGRefElementsMarkup(),this.createSVGClipPathMarkup(t),`</defs>
`)}createSVGClipPathMarkup(e){const t=this.clipPath;return t?(t.clipPathId="CLIPPATH_".concat(Cu()),'<clipPath id="'.concat(t.clipPathId,`" >
`).concat(t.toClipPathSVG(e.reviver),`</clipPath>
`)):""}createSVGRefElementsMarkup(){return["background","overlay"].map((e=>{const t=this["".concat(e,"Color")];if(ao(t)){const n=this["".concat(e,"Vpt")],a=this.viewportTransform,i={isType:()=>!1,width:this.width/(n?a[0]:1),height:this.height/(n?a[3]:1)};return t.toSVG(i,{additionalTransform:n?Pd(a):""})}})).join("")}createSVGFontFacesMarkup(){const e=[],t={},n=Gr.fontPaths;this._objects.forEach((function i(o){e.push(o),Gg(o)&&o._objects.forEach(i)})),e.forEach((i=>{if(!(o=i)||typeof o._renderText!="function")return;var o;const{styles:l,fontFamily:u}=i;!t[u]&&n[u]&&(t[u]=!0,l&&Object.values(l).forEach((h=>{Object.values(h).forEach((f=>{let{fontFamily:m=""}=f;!t[m]&&n[m]&&(t[m]=!0)}))})))}));const a=Object.keys(t).map((i=>`		@font-face {
			font-family: '`.concat(i,`';
			src: url('`).concat(n[i],`');
		}
`))).join("");return a?`	<style type="text/css"><![CDATA[
`.concat(a,`]]></style>
`):""}_setSVGObjects(e,t){this.forEachObject((n=>{n.excludeFromExport||this._setSVGObject(e,n,t)}))}_setSVGObject(e,t,n){e.push(t.toSVG(n))}_setSVGBgOverlayImage(e,t,n){const a=this[t];a&&!a.excludeFromExport&&a.toSVG&&e.push(a.toSVG(n))}_setSVGBgOverlayColor(e,t){const n=this["".concat(t,"Color")];if(n)if(ao(n)){const a=n.repeat||"",i=this.width,o=this.height,l=this["".concat(t,"Vpt")]?Pd(Xo(this.viewportTransform)):"";e.push('<rect transform="'.concat(l," translate(").concat(i/2,",").concat(o/2,')" x="').concat(n.offsetX-i/2,'" y="').concat(n.offsetY-o/2,'" width="').concat(a!=="repeat-y"&&a!=="no-repeat"||!m_(n)?i:n.source.width,'" height="').concat(a!=="repeat-x"&&a!=="no-repeat"||!m_(n)?o:n.source.height,'" fill="url(#SVGID_').concat(n.id,`)"></rect>
`))}else e.push('<rect x="0" y="0" width="100%" height="100%" ','fill="',n,'"',`></rect>
`)}loadFromJSON(e,t){let{signal:n}=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};if(!e)return Promise.reject(new Al("`json` is undefined"));const a=typeof e=="string"?JSON.parse(e):e,{objects:i=[]}=a,o=On(a,VR),{backgroundImage:l,background:u,overlayImage:h,overlay:f,clipPath:m}=o,x=this.renderOnAddRemove;return this.renderOnAddRemove=!1,Promise.all([Bd(i,{reviver:t,signal:n}),Wp({backgroundImage:l,backgroundColor:u,overlayImage:h,overlayColor:f,clipPath:m},{signal:n})]).then((g=>{let[y,v]=g;return this.clear(),this.add(...y),this.set(o),this.set(v),this.renderOnAddRemove=x,this}))}clone(e){const t=this.toObject(e);return this.cloneWithoutData().loadFromJSON(t)}cloneWithoutData(){const e=lo(this);return new this.constructor(e)}toDataURL(){let e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};const{format:t="png",quality:n=1,multiplier:a=1,enableRetinaScaling:i=!1}=e,o=a*(i?this.getRetinaScaling():1);return C6(this.toCanvasElement(o,e),t,n)}toBlob(){let e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};const{format:t="png",quality:n=1,multiplier:a=1,enableRetinaScaling:i=!1}=e,o=a*(i?this.getRetinaScaling():1);return T6(this.toCanvasElement(o,e),t,n)}toCanvasElement(){let e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:1,{width:t,height:n,left:a,top:i,filter:o}=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};const l=(t||this.width)*e,u=(n||this.height)*e,h=this.getZoom(),f=this.width,m=this.height,x=this.skipControlsDrawing,g=h*e,y=this.viewportTransform,v=[g,0,0,g,(y[4]-(a||0))*e,(y[5]-(i||0))*e],S=this.enableRetinaScaling,k=lo({width:l,height:u}),A=o?this._objects.filter((N=>o(N))):this._objects;return this.enableRetinaScaling=!1,this.viewportTransform=v,this.width=l,this.height=u,this.skipControlsDrawing=!0,this.calcViewportBoundaries(),this.renderCanvas(k.getContext("2d"),A),this.viewportTransform=y,this.width=f,this.height=m,this.calcViewportBoundaries(),this.enableRetinaScaling=S,this.skipControlsDrawing=x,k}dispose(){return!this.disposed&&this.elements.cleanupDOM({width:this.width,height:this.height}),Sp.cancelByCanvas(this),this.disposed=!0,new Promise(((e,t)=>{const n=()=>{this.destroy(),e(!0)};n.kill=t,this.__cleanupTask&&this.__cleanupTask.kill("aborted"),this.destroyed?e(!1):this.nextRenderHandle?this.__cleanupTask=n:n()}))}destroy(){this.destroyed=!0,this.cancelRequestedRender(),this.forEachObject((e=>e.dispose())),this._objects=[],this.backgroundImage&&this.backgroundImage.dispose(),this.backgroundImage=void 0,this.overlayImage&&this.overlayImage.dispose(),this.overlayImage=void 0,this.elements.dispose()}toString(){return"#<Canvas (".concat(this.complexity(),"): { objects: ").concat(this._objects.length," }>")}};Ie(Yp,"ownDefaults",qR);const GR=["touchstart","touchmove","touchend"],WR=r=>{const e=D6(r.target),t=(function(n){const a=n.changedTouches;return a&&a[0]?a[0]:n})(r);return new ct(t.clientX+e.left,t.clientY+e.top)},Yx=r=>GR.includes(r.type)||r.pointerType==="touch",v_=r=>{r.preventDefault(),r.stopPropagation()},yc=r=>{let e=0,t=0,n=0,a=0;for(let i=0,o=r.length;i<o;i++){const{x:l,y:u}=r[i];(l>n||!i)&&(n=l),(l<e||!i)&&(e=l),(u>a||!i)&&(a=u),(u<t||!i)&&(t=u)}return{left:e,top:t,width:n-e,height:a-t}},YR=["translateX","translateY","scaleX","scaleY"],XR=(r,e)=>Cp(r,li(e,r.calcOwnMatrix())),Cp=(r,e)=>{const t=kp(e),{translateX:n,translateY:a,scaleX:i,scaleY:o}=t,l=On(t,YR),u=new ct(n,a);r.flipX=!1,r.flipY=!1,Object.assign(r,l),r.set({scaleX:i,scaleY:o}),r.setPositionByOrigin(u,Sr,Sr)},KR=r=>{r.scaleX=1,r.scaleY=1,r.skewX=0,r.skewY=0,r.flipX=!1,r.flipY=!1,r.rotate(0)},R6=r=>({scaleX:r.scaleX,scaleY:r.scaleY,skewX:r.skewX,skewY:r.skewY,angle:r.angle,left:r.left,flipX:r.flipX,flipY:r.flipY,top:r.top}),ty=(r,e,t)=>{const n=r/2,a=e/2,i=[new ct(-n,-a),new ct(n,-a),new ct(-n,a),new ct(n,a)].map((l=>l.transform(t))),o=yc(i);return new ct(o.width,o.height)},Xp=function(){let r=arguments.length>0&&arguments[0]!==void 0?arguments[0]:qi;return li(Xo(arguments.length>1&&arguments[1]!==void 0?arguments[1]:qi),r)},Wf=function(r){let e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:qi,t=arguments.length>2&&arguments[2]!==void 0?arguments[2]:qi;return r.transform(Xp(e,t))},$R=function(r){let e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:qi,t=arguments.length>2&&arguments[2]!==void 0?arguments[2]:qi;return r.transform(Xp(e,t),!0)},ZR=(r,e,t)=>{const n=Xp(e,t);return Cp(r,li(n,r.calcOwnMatrix())),n},B6=(r,e)=>{var t;const{transform:{target:n}}=e;(t=n.canvas)===null||t===void 0||t.fire("object:".concat(r),ze(ze({},e),{},{target:n})),n.fire(r,e)},JR={left:-.5,top:-.5,center:0,bottom:.5,right:.5},Sa=r=>typeof r=="string"?JR[r]:r-.5,Tp="not-allowed";function P6(r){return Sa(r.originX)===Sa(Sr)&&Sa(r.originY)===Sa(Sr)}function y_(r){return .5-Sa(r)}const Jo=(r,e)=>r[e],I6=(r,e,t,n)=>({e:r,transform:e,pointer:new ct(t,n)});function U6(r,e){const t=r.getTotalAngle()+Cc(Math.atan2(e.y,e.x))+360;return Math.round(t%360/45)}function ry(r,e,t,n,a){var i;let{target:o,corner:l}=r;const u=o.controls[l],h=((i=o.canvas)===null||i===void 0?void 0:i.getZoom())||1,f=o.padding/h,m=(function(x,g,y,v){const S=x.getRelativeCenterPoint(),k=y!==void 0&&v!==void 0?x.translateToGivenOrigin(S,Sr,Sr,y,v):new ct(x.left,x.top);return(x.angle?g.rotate(-ha(x.angle),S):g).subtract(k)})(o,new ct(n,a),e,t);return m.x>=f&&(m.x-=f),m.x<=-f&&(m.x+=f),m.y>=f&&(m.y-=f),m.y<=f&&(m.y+=f),m.x-=u.offsetX,m.y-=u.offsetY,m}const QR=(r,e,t,n)=>{const{target:a,offsetX:i,offsetY:o}=e,l=t-i,u=n-o,h=!Jo(a,"lockMovementX")&&a.left!==l,f=!Jo(a,"lockMovementY")&&a.top!==u;return h&&a.set(en,l),f&&a.set(cs,u),(h||f)&&B6(b6,I6(r,e,t,n)),h||f},Ap=r=>r.replace(/\s+/g," "),b_={aliceblue:"#F0F8FF",antiquewhite:"#FAEBD7",aqua:"#0FF",aquamarine:"#7FFFD4",azure:"#F0FFFF",beige:"#F5F5DC",bisque:"#FFE4C4",black:"#000",blanchedalmond:"#FFEBCD",blue:"#00F",blueviolet:"#8A2BE2",brown:"#A52A2A",burlywood:"#DEB887",cadetblue:"#5F9EA0",chartreuse:"#7FFF00",chocolate:"#D2691E",coral:"#FF7F50",cornflowerblue:"#6495ED",cornsilk:"#FFF8DC",crimson:"#DC143C",cyan:"#0FF",darkblue:"#00008B",darkcyan:"#008B8B",darkgoldenrod:"#B8860B",darkgray:"#A9A9A9",darkgrey:"#A9A9A9",darkgreen:"#006400",darkkhaki:"#BDB76B",darkmagenta:"#8B008B",darkolivegreen:"#556B2F",darkorange:"#FF8C00",darkorchid:"#9932CC",darkred:"#8B0000",darksalmon:"#E9967A",darkseagreen:"#8FBC8F",darkslateblue:"#483D8B",darkslategray:"#2F4F4F",darkslategrey:"#2F4F4F",darkturquoise:"#00CED1",darkviolet:"#9400D3",deeppink:"#FF1493",deepskyblue:"#00BFFF",dimgray:"#696969",dimgrey:"#696969",dodgerblue:"#1E90FF",firebrick:"#B22222",floralwhite:"#FFFAF0",forestgreen:"#228B22",fuchsia:"#F0F",gainsboro:"#DCDCDC",ghostwhite:"#F8F8FF",gold:"#FFD700",goldenrod:"#DAA520",gray:"#808080",grey:"#808080",green:"#008000",greenyellow:"#ADFF2F",honeydew:"#F0FFF0",hotpink:"#FF69B4",indianred:"#CD5C5C",indigo:"#4B0082",ivory:"#FFFFF0",khaki:"#F0E68C",lavender:"#E6E6FA",lavenderblush:"#FFF0F5",lawngreen:"#7CFC00",lemonchiffon:"#FFFACD",lightblue:"#ADD8E6",lightcoral:"#F08080",lightcyan:"#E0FFFF",lightgoldenrodyellow:"#FAFAD2",lightgray:"#D3D3D3",lightgrey:"#D3D3D3",lightgreen:"#90EE90",lightpink:"#FFB6C1",lightsalmon:"#FFA07A",lightseagreen:"#20B2AA",lightskyblue:"#87CEFA",lightslategray:"#789",lightslategrey:"#789",lightsteelblue:"#B0C4DE",lightyellow:"#FFFFE0",lime:"#0F0",limegreen:"#32CD32",linen:"#FAF0E6",magenta:"#F0F",maroon:"#800000",mediumaquamarine:"#66CDAA",mediumblue:"#0000CD",mediumorchid:"#BA55D3",mediumpurple:"#9370DB",mediumseagreen:"#3CB371",mediumslateblue:"#7B68EE",mediumspringgreen:"#00FA9A",mediumturquoise:"#48D1CC",mediumvioletred:"#C71585",midnightblue:"#191970",mintcream:"#F5FFFA",mistyrose:"#FFE4E1",moccasin:"#FFE4B5",navajowhite:"#FFDEAD",navy:"#000080",oldlace:"#FDF5E6",olive:"#808000",olivedrab:"#6B8E23",orange:"#FFA500",orangered:"#FF4500",orchid:"#DA70D6",palegoldenrod:"#EEE8AA",palegreen:"#98FB98",paleturquoise:"#AFEEEE",palevioletred:"#DB7093",papayawhip:"#FFEFD5",peachpuff:"#FFDAB9",peru:"#CD853F",pink:"#FFC0CB",plum:"#DDA0DD",powderblue:"#B0E0E6",purple:"#800080",rebeccapurple:"#639",red:"#F00",rosybrown:"#BC8F8F",royalblue:"#4169E1",saddlebrown:"#8B4513",salmon:"#FA8072",sandybrown:"#F4A460",seagreen:"#2E8B57",seashell:"#FFF5EE",sienna:"#A0522D",silver:"#C0C0C0",skyblue:"#87CEEB",slateblue:"#6A5ACD",slategray:"#708090",slategrey:"#708090",snow:"#FFFAFA",springgreen:"#00FF7F",steelblue:"#4682B4",tan:"#D2B48C",teal:"#008080",thistle:"#D8BFD8",tomato:"#FF6347",turquoise:"#40E0D0",violet:"#EE82EE",wheat:"#F5DEB3",white:"#FFF",whitesmoke:"#F5F5F5",yellow:"#FF0",yellowgreen:"#9ACD32"},F2=(r,e,t)=>(t<0&&(t+=1),t>1&&(t-=1),t<1/6?r+6*(e-r)*t:t<.5?e:t<2/3?r+(e-r)*(2/3-t)*6:r),w_=(r,e,t,n)=>{r/=255,e/=255,t/=255;const a=Math.max(r,e,t),i=Math.min(r,e,t);let o,l;const u=(a+i)/2;if(a===i)o=l=0;else{const h=a-i;switch(l=u>.5?h/(2-a-i):h/(a+i),a){case r:o=(e-t)/h+(e<t?6:0);break;case e:o=(t-r)/h+2;break;case t:o=(r-e)/h+4}o/=6}return[Math.round(360*o),Math.round(100*l),Math.round(100*u),n]},__=function(){let r=arguments.length>0&&arguments[0]!==void 0?arguments[0]:"1";return parseFloat(r)/(r.endsWith("%")?100:1)},ig=r=>Math.min(Math.round(r),255).toString(16).toUpperCase().padStart(2,"0"),S_=r=>{let[e,t,n,a=1]=r;const i=Math.round(.3*e+.59*t+.11*n);return[i,i,i,a]};let Rs=class wi{constructor(e){if(Ie(this,"isUnrecognised",!1),e)if(e instanceof wi)this.setSource([...e._source]);else if(Array.isArray(e)){const[t,n,a,i=1]=e;this.setSource([t,n,a,i])}else this.setSource(this._tryParsingColor(e));else this.setSource([0,0,0,1])}_tryParsingColor(e){return(e=e.toLowerCase())in b_&&(e=b_[e]),e==="transparent"?[255,255,255,0]:wi.sourceFromHex(e)||wi.sourceFromRgb(e)||wi.sourceFromHsl(e)||(this.isUnrecognised=!0)&&[0,0,0,1]}getSource(){return this._source}setSource(e){this._source=e}toRgb(){const[e,t,n]=this.getSource();return"rgb(".concat(e,",").concat(t,",").concat(n,")")}toRgba(){return"rgba(".concat(this.getSource().join(","),")")}toHsl(){const[e,t,n]=w_(...this.getSource());return"hsl(".concat(e,",").concat(t,"%,").concat(n,"%)")}toHsla(){const[e,t,n,a]=w_(...this.getSource());return"hsla(".concat(e,",").concat(t,"%,").concat(n,"%,").concat(a,")")}toHex(){return this.toHexa().slice(0,6)}toHexa(){const[e,t,n,a]=this.getSource();return"".concat(ig(e)).concat(ig(t)).concat(ig(n)).concat(ig(Math.round(255*a)))}getAlpha(){return this.getSource()[3]}setAlpha(e){return this._source[3]=e,this}toGrayscale(){return this.setSource(S_(this.getSource())),this}toBlackWhite(e){const[t,,,n]=S_(this.getSource()),a=t<(e||127)?0:255;return this.setSource([a,a,a,n]),this}overlayWith(e){e instanceof wi||(e=new wi(e));const t=this.getSource(),n=e.getSource(),[a,i,o]=t.map(((l,u)=>Math.round(.5*l+.5*n[u])));return this.setSource([a,i,o,t[3]]),this}static fromRgb(e){return wi.fromRgba(e)}static fromRgba(e){return new wi(wi.sourceFromRgb(e))}static sourceFromRgb(e){const t=Ap(e).match(/^rgba?\(\s?(\d{0,3}(?:\.\d+)?%?)\s?[\s|,]\s?(\d{0,3}(?:\.\d+)?%?)\s?[\s|,]\s?(\d{0,3}(?:\.\d+)?%?)\s?(?:\s?[,/]\s?(\d{0,3}(?:\.\d+)?%?)\s?)?\)$/i);if(t){const[n,a,i]=t.slice(1,4).map((o=>{const l=parseFloat(o);return o.endsWith("%")?Math.round(2.55*l):l}));return[n,a,i,__(t[4])]}}static fromHsl(e){return wi.fromHsla(e)}static fromHsla(e){return new wi(wi.sourceFromHsl(e))}static sourceFromHsl(e){const t=Ap(e).match(/^hsla?\(\s?([+-]?\d{0,3}(?:\.\d+)?(?:deg|turn|rad)?)\s?[\s|,]\s?(\d{0,3}(?:\.\d+)?%?)\s?[\s|,]\s?(\d{0,3}(?:\.\d+)?%?)\s?(?:\s?[,/]\s?(\d*(?:\.\d+)?%?)\s?)?\)$/i);if(!t)return;const n=(wi.parseAngletoDegrees(t[1])%360+360)%360/360,a=parseFloat(t[2])/100,i=parseFloat(t[3])/100;let o,l,u;if(a===0)o=l=u=i;else{const h=i<=.5?i*(a+1):i+a-i*a,f=2*i-h;o=F2(f,h,n+1/3),l=F2(f,h,n),u=F2(f,h,n-1/3)}return[Math.round(255*o),Math.round(255*l),Math.round(255*u),__(t[4])]}static fromHex(e){return new wi(wi.sourceFromHex(e))}static sourceFromHex(e){if(e.match(/^#?(([0-9a-f]){3,4}|([0-9a-f]{2}){3,4})$/i)){const t=e.slice(e.indexOf("#")+1);let n;n=t.length<=4?t.split("").map((u=>u+u)):t.match(/.{2}/g);const[a,i,o,l=255]=n.map((u=>parseInt(u,16)));return[a,i,o,l/255]}}static parseAngletoDegrees(e){const t=e.toLowerCase(),n=parseFloat(t);return t.includes("rad")?Cc(n):t.includes("turn")?360*n:n}};const Yf=function(r){let e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:Xv;const t=/\D{0,2}$/.exec(r),n=parseFloat(r),a=Gr.DPI;switch(t==null?void 0:t[0]){case"mm":return n*a/25.4;case"cm":return n*a/2.54;case"in":return n*a;case"pt":return n*a/72;case"pc":return n*a/72*12;case"em":return n*e;default:return n}},e9=r=>{const[e,t]=r.trim().split(" "),[n,a]=(i=e)&&i!==us?[i.slice(1,4),i.slice(5,8)]:i===us?[i,i]:["Mid","Mid"];var i;return{meetOrSlice:t||"meet",alignX:n,alignY:a}},Id=function(r,e){let t,n,a=!(arguments.length>2&&arguments[2]!==void 0)||arguments[2];if(e)if(e.toLive)t="url(#SVGID_".concat(e.id,")");else{const i=new Rs(e),o=i.getAlpha();t=i.toRgb(),o!==1&&(n=o.toString())}else t="none";return a?"".concat(r,": ").concat(t,"; ").concat(n?"".concat(r,"-opacity: ").concat(n,"; "):""):"".concat(r,'="').concat(t,'" ').concat(n?"".concat(r,'-opacity="').concat(n,'" '):"")};class z6{getSvgStyles(e){const t=this.fillRule?this.fillRule:"nonzero",n=this.strokeWidth?this.strokeWidth:"0",a=this.strokeDashArray?this.strokeDashArray.join(" "):us,i=this.strokeDashOffset?this.strokeDashOffset:"0",o=this.strokeLineCap?this.strokeLineCap:"butt",l=this.strokeLineJoin?this.strokeLineJoin:"miter",u=this.strokeMiterLimit?this.strokeMiterLimit:"4",h=this.opacity!==void 0?this.opacity:"1",f=this.visible?"":" visibility: hidden;",m=e?"":this.getSvgFilter(),x=Id(Ia,this.fill);return[Id(hs,this.stroke),"stroke-width: ",n,"; ","stroke-dasharray: ",a,"; ","stroke-linecap: ",o,"; ","stroke-dashoffset: ",i,"; ","stroke-linejoin: ",l,"; ","stroke-miterlimit: ",u,"; ",x,"fill-rule: ",t,"; ","opacity: ",h,";",m,f].join("")}getSvgFilter(){return this.shadow?"filter: url(#SVGID_".concat(this.shadow.id,");"):""}getSvgCommons(){return[this.id?'id="'.concat(this.id,'" '):"",this.clipPath?'clip-path="url(#'.concat(this.clipPath.clipPathId,')" '):""].join("")}getSvgTransform(e){let t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"";const n=e?this.calcTransformMatrix():this.calcOwnMatrix(),a='transform="'.concat(Pd(n));return"".concat(a).concat(t,'" ')}_toSVG(e){return[""]}toSVG(e){return this._createBaseSVGMarkup(this._toSVG(e),{reviver:e})}toClipPathSVG(e){return"	"+this._createBaseClipPathSVGMarkup(this._toSVG(e),{reviver:e})}_createBaseClipPathSVGMarkup(e){let{reviver:t,additionalTransform:n=""}=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};const a=[this.getSvgTransform(!0,n),this.getSvgCommons()].join(""),i=e.indexOf("COMMON_PARTS");return e[i]=a,t?t(e.join("")):e.join("")}_createBaseSVGMarkup(e){let{noStyle:t,reviver:n,withShadow:a,additionalTransform:i}=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};const o=t?"":'style="'.concat(this.getSvgStyles(),'" '),l=a?'style="'.concat(this.getSvgFilter(),'" '):"",u=this.clipPath,h=this.strokeUniform?'vector-effect="non-scaling-stroke" ':"",f=u&&u.absolutePositioned,m=this.stroke,x=this.fill,g=this.shadow,y=[],v=e.indexOf("COMMON_PARTS");let S;u&&(u.clipPathId="CLIPPATH_".concat(Cu()),S='<clipPath id="'.concat(u.clipPathId,`" >
`).concat(u.toClipPathSVG(n),`</clipPath>
`)),f&&y.push("<g ",l,this.getSvgCommons(),` >
`),y.push("<g ",this.getSvgTransform(!1),f?"":l+this.getSvgCommons(),` >
`);const k=[o,h,t?"":this.addPaintOrder()," ",i?'transform="'.concat(i,'" '):""].join("");return e[v]=k,ao(x)&&y.push(x.toSVG(this)),ao(m)&&y.push(m.toSVG(this)),g&&y.push(g.toSVG(this)),u&&y.push(S),y.push(e.join("")),y.push(`</g>
`),f&&y.push(`</g>
`),n?n(y.join("")):y.join("")}addPaintOrder(){return this.paintFirst!==Ia?' paint-order="'.concat(this.paintFirst,'" '):""}}function Kp(r){return new RegExp("^("+r.join("|")+")\\b","i")}const wh="textDecorationThickness",H6=["fontSize","fontWeight","fontFamily","fontStyle"],q6=["underline","overline","linethrough"],V6=[...H6,"lineHeight","text","charSpacing","textAlign","styles","path","pathStartOffset","pathSide","pathAlign"],G6=[...V6,...q6,"textBackgroundColor","direction",wh],t9=[...H6,...q6,hs,"strokeWidth",Ia,"deltaY","textBackgroundColor",wh],r9={_reNewline:Kv,_reSpacesAndTabs:/[ \t\r]/g,_reSpaceAndTab:/[ \t\r]/,_reWords:/\S+/g,fontSize:40,fontWeight:"normal",fontFamily:"Times New Roman",underline:!1,overline:!1,linethrough:!1,textAlign:en,fontStyle:"normal",lineHeight:1.16,textBackgroundColor:"",stroke:null,shadow:null,path:void 0,pathStartOffset:0,pathSide:en,pathAlign:"baseline",charSpacing:0,deltaY:0,direction:"ltr",CACHE_FONT_SIZE:400,MIN_TEXT_WIDTH:2,superscript:{size:.6,baseline:-.35},subscript:{size:.6,baseline:.11},_fontSizeFraction:.222,offsets:{underline:.1,linethrough:-.28167,overline:-.81333},_fontSizeMult:1.13,[wh]:66.667},Tl="justify",Ep="justify-left",wd="justify-right",_d="justify-center";var k_,C_,T_;const Ko=String.raw(k_||(k_=Ml(["[-+]?(?:d*.d+|d+.?)(?:[eE][-+]?d+)?"],["[-+]?(?:\\d*\\.\\d+|\\d+\\.?)(?:[eE][-+]?\\d+)?"]))),M2=String.raw(C_||(C_=Ml(["(?:s*,?s+|s*,s*)"],["(?:\\s*,?\\s+|\\s*,\\s*)"]))),n9=new RegExp("(normal|italic)?\\s*(normal|small-caps)?\\s*(normal|bold|bolder|lighter|100|200|300|400|500|600|700|800|900)?\\s*("+Ko+"(?:px|cm|mm|em|pt|pc|in)*)(?:\\/(normal|"+Ko+"))?\\s+(.*)"),a9={cx:en,x:en,r:"radius",cy:cs,y:cs,display:"visible",visibility:"visible",transform:"transformMatrix","fill-opacity":"fillOpacity","fill-rule":"fillRule","font-family":"fontFamily","font-size":"fontSize","font-style":"fontStyle","font-weight":"fontWeight","letter-spacing":"charSpacing","paint-order":"paintFirst","stroke-dasharray":"strokeDashArray","stroke-dashoffset":"strokeDashOffset","stroke-linecap":"strokeLineCap","stroke-linejoin":"strokeLineJoin","stroke-miterlimit":"strokeMiterLimit","stroke-opacity":"strokeOpacity","stroke-width":"strokeWidth","text-decoration":"textDecoration","text-anchor":"textAnchor",opacity:"opacity","clip-path":"clipPath","clip-rule":"clipRule","vector-effect":"strokeUniform","image-rendering":"imageSmoothing","text-decoration-thickness":wh},j2="font-size",R2="clip-path";Kp(["path","circle","polygon","polyline","ellipse","rect","line","image","text"]);Kp(["symbol","image","marker","pattern","view","svg"]);const A_=Kp(["symbol","g","a","svg","clipPath","defs"]);new RegExp(String.raw(T_||(T_=Ml(["^s*(",")","(",")","(",")","(",")s*$"],["^\\s*(",")","(",")","(",")","(",")\\s*$"])),Ko,M2,Ko,M2,Ko,M2,Ko));const i9=new ct(1,0),W6=new ct,Y6=(r,e)=>r.rotate(e),Xx=(r,e)=>new ct(e).subtract(r),Kx=r=>r.distanceFrom(W6),$x=(r,e)=>Math.atan2(Sd(r,e),o9(r,e)),s9=r=>$x(i9,r),ny=r=>r.eq(W6)?r:r.scalarDivide(Kx(r)),X6=function(r){let e=!(arguments.length>1&&arguments[1]!==void 0)||arguments[1];return ny(new ct(-r.y,r.x).scalarMultiply(e?1:-1))},Sd=(r,e)=>r.x*e.y-r.y*e.x,o9=(r,e)=>r.x*e.x+r.y*e.y,E_=(r,e,t)=>{if(r.eq(e)||r.eq(t))return!0;const n=Sd(e,t),a=Sd(e,r),i=Sd(t,r);return n>=0?a>=0&&i<=0:!(a<=0&&i>=0)},N_="(-?\\d+(?:\\.\\d*)?(?:px)?(?:\\s?|$))?",O_=new RegExp("(?:\\s|^)"+N_+N_+"("+Ko+"?(?:px)?)?(?:\\s?|$)(?:$|\\s)");class bc{constructor(e){const t=typeof e=="string"?bc.parseShadow(e):e;Object.assign(this,bc.ownDefaults,t),this.id=Cu()}static parseShadow(e){const t=e.trim(),[,n=0,a=0,i=0]=(O_.exec(t)||[]).map((o=>parseFloat(o)||0));return{color:(t.replace(O_,"")||"rgb(0,0,0)").trim(),offsetX:n,offsetY:a,blur:i}}toString(){return[this.offsetX,this.offsetY,this.blur,this.color].join("px ")}toSVG(e){const t=Y6(new ct(this.offsetX,this.offsetY),ha(-e.angle)),n=new Rs(this.color);let a=40,i=40;return e.width&&e.height&&(a=100*vn((Math.abs(t.x)+this.blur)/e.width,Gr.NUM_FRACTION_DIGITS)+20,i=100*vn((Math.abs(t.y)+this.blur)/e.height,Gr.NUM_FRACTION_DIGITS)+20),e.flipX&&(t.x*=-1),e.flipY&&(t.y*=-1),'<filter id="SVGID_'.concat(this.id,'" y="-').concat(i,'%" height="').concat(100+2*i,'%" x="-').concat(a,'%" width="').concat(100+2*a,`%" >
	<feGaussianBlur in="SourceAlpha" stdDeviation="`).concat(vn(this.blur?this.blur/2:0,Gr.NUM_FRACTION_DIGITS),`"></feGaussianBlur>
	<feOffset dx="`).concat(vn(t.x,Gr.NUM_FRACTION_DIGITS),'" dy="').concat(vn(t.y,Gr.NUM_FRACTION_DIGITS),`" result="oBlur" ></feOffset>
	<feFlood flood-color="`).concat(n.toRgb(),'" flood-opacity="').concat(n.getAlpha(),`"/>
	<feComposite in2="oBlur" operator="in" />
	<feMerge>
		<feMergeNode></feMergeNode>
		<feMergeNode in="SourceGraphic"></feMergeNode>
	</feMerge>
</filter>
`)}toObject(){const e={color:this.color,blur:this.blur,offsetX:this.offsetX,offsetY:this.offsetY,affectStroke:this.affectStroke,nonScaling:this.nonScaling,type:this.constructor.type},t=bc.ownDefaults;return this.includeDefaultValues?e:ey(e,((n,a)=>n!==t[a]))}static async fromObject(e){return new this(e)}}Ie(bc,"ownDefaults",{color:"rgb(0,0,0)",blur:0,offsetX:0,offsetY:0,affectStroke:!1,includeDefaultValues:!0,nonScaling:!1}),Ie(bc,"type","shadow"),qt.setClass(bc,"shadow");const i0=(r,e,t)=>Math.max(r,Math.min(e,t)),l9=[cs,en,fs,oo,"flipX","flipY","originX","originY","angle","opacity","globalCompositeOperation","shadow","visible",u0,h0],Ac=[Ia,hs,"strokeWidth","strokeDashArray","width","height","paintFirst","strokeUniform","strokeLineCap","strokeDashOffset","strokeLineJoin","strokeMiterLimit","backgroundColor","clipPath"],c9={top:0,left:0,width:0,height:0,angle:0,flipX:!1,flipY:!1,scaleX:1,scaleY:1,minScaleLimit:0,skewX:0,skewY:0,originX:en,originY:cs,strokeWidth:1,strokeUniform:!1,padding:0,opacity:1,paintFirst:Ia,fill:"rgb(0,0,0)",fillRule:"nonzero",stroke:null,strokeDashArray:null,strokeDashOffset:0,strokeLineCap:"butt",strokeLineJoin:"miter",strokeMiterLimit:4,globalCompositeOperation:"source-over",backgroundColor:"",shadow:null,visible:!0,includeDefaultValues:!0,excludeFromExport:!1,objectCaching:!0,clipPath:void 0,inverted:!1,absolutePositioned:!1,centeredRotation:!0,centeredScaling:!1,dirty:!0},u9=(r,e,t,n)=>-t*Math.cos(r/n*Qd)+t+e,h9=()=>!1;class ay{constructor(e){let{startValue:t,byValue:n,duration:a=500,delay:i=0,easing:o=u9,onStart:l=Vg,onChange:u=Vg,onComplete:h=Vg,abort:f=h9,target:m}=e;Ie(this,"_state","pending"),Ie(this,"durationProgress",0),Ie(this,"valueProgress",0),this.tick=this.tick.bind(this),this.duration=a,this.delay=i,this.easing=o,this._onStart=l,this._onChange=u,this._onComplete=h,this._abort=f,this.target=m,this.startValue=t,this.byValue=n,this.value=this.startValue,this.endValue=Object.freeze(this.calculate(this.duration).value)}get state(){return this._state}isDone(){return this._state==="aborted"||this._state==="completed"}start(){const e=t=>{this._state==="pending"&&(this.startTime=t||+new Date,this._state="running",this._onStart(),this.tick(this.startTime))};this.register(),this.delay>0?setTimeout((()=>Wg(e)),this.delay):Wg(e)}tick(e){const t=(e||+new Date)-this.startTime,n=Math.min(t,this.duration);this.durationProgress=n/this.duration;const{value:a,valueProgress:i}=this.calculate(n);this.value=Object.freeze(a),this.valueProgress=i,this._state!=="aborted"&&(this._abort(this.value,this.valueProgress,this.durationProgress)?(this._state="aborted",this.unregister()):t>=this.duration?(this.durationProgress=this.valueProgress=1,this._onChange(this.endValue,this.valueProgress,this.durationProgress),this._state="completed",this._onComplete(this.endValue,this.valueProgress,this.durationProgress),this.unregister()):(this._onChange(this.value,this.valueProgress,this.durationProgress),Wg(this.tick)))}register(){Sp.push(this)}unregister(){Sp.remove(this)}abort(){this._state="aborted",this.unregister()}}const f9=["startValue","endValue"];class d9 extends ay{constructor(e){let{startValue:t=0,endValue:n=100}=e;super(ze(ze({},On(e,f9)),{},{startValue:t,byValue:n-t}))}calculate(e){const t=this.easing(e,this.startValue,this.byValue,this.duration);return{value:t,valueProgress:Math.abs((t-this.startValue)/this.byValue)}}}const g9=["startValue","endValue"];class p9 extends ay{constructor(e){let{startValue:t=[0],endValue:n=[100]}=e;super(ze(ze({},On(e,g9)),{},{startValue:t,byValue:n.map(((a,i)=>a-t[i]))}))}calculate(e){const t=this.startValue.map(((n,a)=>this.easing(e,n,this.byValue[a],this.duration,a)));return{value:t,valueProgress:Math.abs((t[0]-this.startValue[0])/this.byValue[0])}}}const m9=["startValue","endValue","easing","onChange","onComplete","abort"],x9=(r,e,t,n)=>e+t*(1-Math.cos(r/n*Qd)),B2=r=>r&&((e,t,n)=>r(new Rs(e).toRgba(),t,n));class v9 extends ay{constructor(e){let{startValue:t,endValue:n,easing:a=x9,onChange:i,onComplete:o,abort:l}=e,u=On(e,m9);const h=new Rs(t).getSource(),f=new Rs(n).getSource();super(ze(ze({},u),{},{startValue:h,byValue:f.map(((m,x)=>m-h[x])),easing:a,onChange:B2(i),onComplete:B2(o),abort:B2(l)}))}calculate(e){const[t,n,a,i]=this.startValue.map(((l,u)=>this.easing(e,l,this.byValue[u],this.duration,u))),o=[...[t,n,a].map(Math.round),i0(0,i,1)];return{value:o,valueProgress:o.map(((l,u)=>this.byValue[u]!==0?Math.abs((l-this.startValue[u])/this.byValue[u]):0)).find((l=>l!==0))||0}}}function K6(r){const e=(t=>Array.isArray(t.startValue)||Array.isArray(t.endValue))(r)?new p9(r):new d9(r);return e.start(),e}function y9(r){const e=new v9(r);return e.start(),e}class qn{constructor(e){this.status=e,this.points=[]}includes(e){return this.points.some((t=>t.eq(e)))}append(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return this.points=this.points.concat(t.filter((a=>!this.includes(a)))),this}static isPointContained(e,t,n){let a=arguments.length>3&&arguments[3]!==void 0&&arguments[3];if(t.eq(n))return e.eq(t);if(t.x===n.x)return e.x===t.x&&(a||e.y>=Math.min(t.y,n.y)&&e.y<=Math.max(t.y,n.y));if(t.y===n.y)return e.y===t.y&&(a||e.x>=Math.min(t.x,n.x)&&e.x<=Math.max(t.x,n.x));{const i=Xx(t,n),o=Xx(t,e).divide(i);return a?Math.abs(o.x)===Math.abs(o.y):o.x===o.y&&o.x>=0&&o.x<=1}}static isPointInPolygon(e,t){const n=new ct(e).setX(Math.min(e.x-1,...t.map((i=>i.x))));let a=0;for(let i=0;i<t.length;i++){const o=this.intersectSegmentSegment(t[i],t[(i+1)%t.length],e,n);if(o.includes(e))return!0;a+=+(o.status==="Intersection")}return a%2==1}static intersectLineLine(e,t,n,a){let i=!(arguments.length>4&&arguments[4]!==void 0)||arguments[4],o=!(arguments.length>5&&arguments[5]!==void 0)||arguments[5];const l=t.x-e.x,u=t.y-e.y,h=a.x-n.x,f=a.y-n.y,m=e.x-n.x,x=e.y-n.y,g=h*x-f*m,y=l*x-u*m,v=f*l-h*u;if(v!==0){const S=g/v,k=y/v;return(i||0<=S&&S<=1)&&(o||0<=k&&k<=1)?new qn("Intersection").append(new ct(e.x+S*l,e.y+S*u)):new qn}if(g===0||y===0){const S=i||o||qn.isPointContained(e,n,a)||qn.isPointContained(t,n,a)||qn.isPointContained(n,e,t)||qn.isPointContained(a,e,t);return new qn(S?"Coincident":void 0)}return new qn("Parallel")}static intersectSegmentLine(e,t,n,a){return qn.intersectLineLine(e,t,n,a,!1,!0)}static intersectSegmentSegment(e,t,n,a){return qn.intersectLineLine(e,t,n,a,!1,!1)}static intersectLinePolygon(e,t,n){let a=!(arguments.length>3&&arguments[3]!==void 0)||arguments[3];const i=new qn,o=n.length;for(let l,u,h,f=0;f<o;f++){if(l=n[f],u=n[(f+1)%o],h=qn.intersectLineLine(e,t,l,u,a,!1),h.status==="Coincident")return h;i.append(...h.points)}return i.points.length>0&&(i.status="Intersection"),i}static intersectSegmentPolygon(e,t,n){return qn.intersectLinePolygon(e,t,n,!1)}static intersectPolygonPolygon(e,t){const n=new qn,a=e.length,i=[];for(let o=0;o<a;o++){const l=e[o],u=e[(o+1)%a],h=qn.intersectSegmentPolygon(l,u,t);h.status==="Coincident"?(i.push(h),n.append(l,u)):n.append(...h.points)}return i.length>0&&i.length===e.length?new qn("Coincident"):(n.points.length>0&&(n.status="Intersection"),n)}static intersectPolygonRectangle(e,t,n){const a=t.min(n),i=t.max(n),o=new ct(i.x,a.y),l=new ct(a.x,i.y);return qn.intersectPolygonPolygon(e,[a,o,i,l])}}class b9 extends k6{getX(){return this.getXY().x}setX(e){this.setXY(this.getXY().setX(e))}getY(){return this.getXY().y}setY(e){this.setXY(this.getXY().setY(e))}getRelativeX(){return this.left}setRelativeX(e){this.left=e}getRelativeY(){return this.top}setRelativeY(e){this.top=e}getXY(){const e=this.getRelativeXY();return this.group?ls(e,this.group.calcTransformMatrix()):e}setXY(e,t,n){this.group&&(e=ls(e,Xo(this.group.calcTransformMatrix()))),this.setRelativeXY(e,t,n)}getRelativeXY(){return new ct(this.left,this.top)}setRelativeXY(e){let t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:this.originX,n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:this.originY;this.setPositionByOrigin(e,t,n)}isStrokeAccountedForInDimensions(){return!1}getCoords(){const{tl:e,tr:t,br:n,bl:a}=this.aCoords||(this.aCoords=this.calcACoords()),i=[e,t,n,a];if(this.group){const o=this.group.calcTransformMatrix();return i.map((l=>ls(l,o)))}return i}intersectsWithRect(e,t){return qn.intersectPolygonRectangle(this.getCoords(),e,t).status==="Intersection"}intersectsWithObject(e){const t=qn.intersectPolygonPolygon(this.getCoords(),e.getCoords());return t.status==="Intersection"||t.status==="Coincident"||e.isContainedWithinObject(this)||this.isContainedWithinObject(e)}isContainedWithinObject(e){return this.getCoords().every((t=>e.containsPoint(t)))}isContainedWithinRect(e,t){const{left:n,top:a,width:i,height:o}=this.getBoundingRect();return n>=e.x&&n+i<=t.x&&a>=e.y&&a+o<=t.y}isOverlapping(e){return this.intersectsWithObject(e)||this.isContainedWithinObject(e)||e.isContainedWithinObject(this)}containsPoint(e){return qn.isPointInPolygon(e,this.getCoords())}isOnScreen(){if(!this.canvas)return!1;const{tl:e,br:t}=this.canvas.vptCoords;return!!this.getCoords().some((n=>n.x<=t.x&&n.x>=e.x&&n.y<=t.y&&n.y>=e.y))||!!this.intersectsWithRect(e,t)||this.containsPoint(e.midPointFrom(t))}isPartiallyOnScreen(){if(!this.canvas)return!1;const{tl:e,br:t}=this.canvas.vptCoords;return this.intersectsWithRect(e,t)?!0:this.getCoords().every((n=>(n.x>=t.x||n.x<=e.x)&&(n.y>=t.y||n.y<=e.y)))&&this.containsPoint(e.midPointFrom(t))}getBoundingRect(){return yc(this.getCoords())}getScaledWidth(){return this._getTransformedDimensions().x}getScaledHeight(){return this._getTransformedDimensions().y}scale(e){this._set(fs,e),this._set(oo,e),this.setCoords()}scaleToWidth(e){const t=this.getBoundingRect().width/this.getScaledWidth();return this.scale(e/this.width/t)}scaleToHeight(e){const t=this.getBoundingRect().height/this.getScaledHeight();return this.scale(e/this.height/t)}getCanvasRetinaScaling(){var e;return((e=this.canvas)===null||e===void 0?void 0:e.getRetinaScaling())||1}getTotalAngle(){return this.group?Cc(A6(this.calcTransformMatrix())):this.angle}getViewportTransform(){var e;return((e=this.canvas)===null||e===void 0?void 0:e.viewportTransform)||qi.concat()}calcACoords(){const e=f0({angle:this.angle}),{x:t,y:n}=this.getRelativeCenterPoint(),a=e1(t,n),i=li(a,e),o=this._getTransformedDimensions(),l=o.x/2,u=o.y/2;return{tl:ls({x:-l,y:-u},i),tr:ls({x:l,y:-u},i),bl:ls({x:-l,y:u},i),br:ls({x:l,y:u},i)}}setCoords(){this.aCoords=this.calcACoords()}transformMatrixKey(){let e=arguments.length>0&&arguments[0]!==void 0&&arguments[0],t=[];return!e&&this.group&&(t=this.group.transformMatrixKey(e)),t.push(this.top,this.left,this.width,this.height,this.scaleX,this.scaleY,this.angle,this.strokeWidth,this.skewX,this.skewY,+this.flipX,+this.flipY,Sa(this.originX),Sa(this.originY)),t}calcTransformMatrix(){let e=arguments.length>0&&arguments[0]!==void 0&&arguments[0],t=this.calcOwnMatrix();if(e||!this.group)return t;const n=this.transformMatrixKey(e),a=this.matrixCache;return a&&a.key.every(((i,o)=>i===n[o]))?a.value:(this.group&&(t=li(this.group.calcTransformMatrix(!1),t)),this.matrixCache={key:n,value:t},t)}calcOwnMatrix(){const e=this.transformMatrixKey(!0),t=this.ownMatrixCache;if(t&&t.key===e)return t.value;const n=this.getRelativeCenterPoint(),a={angle:this.angle,translateX:n.x,translateY:n.y,scaleX:this.scaleX,scaleY:this.scaleY,skewX:this.skewX,skewY:this.skewY,flipX:this.flipX,flipY:this.flipY},i=HR(a);return this.ownMatrixCache={key:e,value:i},i}_getNonTransformedDimensions(){return new ct(this.width,this.height).scalarAdd(this.strokeWidth)}_calculateCurrentDimensions(e){return this._getTransformedDimensions(e).transform(this.getViewportTransform(),!0).scalarAdd(2*this.padding)}_getTransformedDimensions(){let e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};const t=ze({scaleX:this.scaleX,scaleY:this.scaleY,skewX:this.skewX,skewY:this.skewY,width:this.width,height:this.height,strokeWidth:this.strokeWidth},e),n=t.strokeWidth;let a=n,i=0;this.strokeUniform&&(a=0,i=n);const o=t.width+a,l=t.height+a;let u;return u=t.skewX===0&&t.skewY===0?new ct(o*t.scaleX,l*t.scaleY):ty(o,l,Gp(t)),u.scalarAdd(i)}translateToGivenOrigin(e,t,n,a,i){let o=e.x,l=e.y;const u=Sa(a)-Sa(t),h=Sa(i)-Sa(n);if(u||h){const f=this._getTransformedDimensions();o+=u*f.x,l+=h*f.y}return new ct(o,l)}translateToCenterPoint(e,t,n){if(t===Sr&&n===Sr)return e;const a=this.translateToGivenOrigin(e,t,n,Sr,Sr);return this.angle?a.rotate(ha(this.angle),e):a}translateToOriginPoint(e,t,n){const a=this.translateToGivenOrigin(e,Sr,Sr,t,n);return this.angle?a.rotate(ha(this.angle),e):a}getCenterPoint(){const e=this.getRelativeCenterPoint();return this.group?ls(e,this.group.calcTransformMatrix()):e}getRelativeCenterPoint(){return this.translateToCenterPoint(new ct(this.left,this.top),this.originX,this.originY)}getPointByOrigin(e,t){return this.translateToOriginPoint(this.getRelativeCenterPoint(),e,t)}setPositionByOrigin(e,t,n){const a=this.translateToCenterPoint(e,t,n),i=this.translateToOriginPoint(a,this.originX,this.originY);this.set({left:i.x,top:i.y})}_getLeftTopCoords(){return this.translateToOriginPoint(this.getRelativeCenterPoint(),en,cs)}}const w9=["type"],_9=["extraParam"];let uc=class Xg extends b9{static getDefaults(){return Xg.ownDefaults}get type(){const e=this.constructor.type;return e==="FabricObject"?"object":e.toLowerCase()}set type(e){ku("warn","Setting type has no effect",e)}constructor(e){super(),Ie(this,"_cacheContext",null),Object.assign(this,Xg.ownDefaults),this.setOptions(e)}_createCacheCanvas(){this._cacheCanvas=kc(),this._cacheContext=this._cacheCanvas.getContext("2d"),this._updateCacheCanvas(),this.dirty=!0}_limitCacheSize(e){const t=e.width,n=e.height,a=Gr.maxCacheSideLimit,i=Gr.minCacheSideLimit;if(t<=a&&n<=a&&t*n<=Gr.perfLimitSizeTotal)return t<i&&(e.width=i),n<i&&(e.height=i),e;const o=t/n,[l,u]=bd.limitDimsByArea(o),h=i0(i,l,a),f=i0(i,u,a);return t>h&&(e.zoomX/=t/h,e.width=h,e.capped=!0),n>f&&(e.zoomY/=n/f,e.height=f,e.capped=!0),e}_getCacheCanvasDimensions(){const e=this.getTotalObjectScaling(),t=this._getTransformedDimensions({skewX:0,skewY:0}),n=t.x*e.x/this.scaleX,a=t.y*e.y/this.scaleY;return{width:Math.ceil(n+2),height:Math.ceil(a+2),zoomX:e.x,zoomY:e.y,x:n,y:a}}_updateCacheCanvas(){const e=this._cacheCanvas,t=this._cacheContext,{width:n,height:a,zoomX:i,zoomY:o,x:l,y:u}=this._limitCacheSize(this._getCacheCanvasDimensions()),h=n!==e.width||a!==e.height,f=this.zoomX!==i||this.zoomY!==o;if(!e||!t)return!1;if(h||f){n!==e.width||a!==e.height?(e.width=n,e.height=a):(t.setTransform(1,0,0,1,0,0),t.clearRect(0,0,e.width,e.height));const m=l/2,x=u/2;return this.cacheTranslationX=Math.round(e.width/2-m)+m,this.cacheTranslationY=Math.round(e.height/2-x)+x,t.translate(this.cacheTranslationX,this.cacheTranslationY),t.scale(i,o),this.zoomX=i,this.zoomY=o,!0}return!1}setOptions(){let e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};this._setOptions(e)}transform(e){const t=this.group&&!this.group._transformDone||this.group&&this.canvas&&e===this.canvas.contextTop,n=this.calcTransformMatrix(!t);e.transform(n[0],n[1],n[2],n[3],n[4],n[5])}getObjectScaling(){if(!this.group)return new ct(Math.abs(this.scaleX),Math.abs(this.scaleY));const e=kp(this.calcTransformMatrix());return new ct(Math.abs(e.scaleX),Math.abs(e.scaleY))}getTotalObjectScaling(){const e=this.getObjectScaling();if(this.canvas){const t=this.canvas.getZoom(),n=this.getCanvasRetinaScaling();return e.scalarMultiply(t*n)}return e}getObjectOpacity(){let e=this.opacity;return this.group&&(e*=this.group.getObjectOpacity()),e}_constrainScale(e){return Math.abs(e)<this.minScaleLimit?e<0?-this.minScaleLimit:this.minScaleLimit:e===0?1e-4:e}_set(e,t){e!==fs&&e!==oo||(t=this._constrainScale(t)),e===fs&&t<0?(this.flipX=!this.flipX,t*=-1):e==="scaleY"&&t<0?(this.flipY=!this.flipY,t*=-1):e!=="shadow"||!t||t instanceof bc||(t=new bc(t));const n=this[e]!==t;return this[e]=t,n&&this.constructor.cacheProperties.includes(e)&&(this.dirty=!0),this.parent&&(this.dirty||n&&this.constructor.stateProperties.includes(e))&&this.parent._set("dirty",!0),this}isNotVisible(){return this.opacity===0||!this.width&&!this.height&&this.strokeWidth===0||!this.visible}render(e){this.isNotVisible()||this.canvas&&this.canvas.skipOffscreen&&!this.group&&!this.isOnScreen()||(e.save(),this._setupCompositeOperation(e),this.drawSelectionBackground(e),this.transform(e),this._setOpacity(e),this._setShadow(e),this.shouldCache()?(this.renderCache(),this.drawCacheOnCanvas(e)):(this._removeCacheCanvas(),this.drawObject(e,!1,{}),this.dirty=!1),e.restore())}drawSelectionBackground(e){}renderCache(e){if(e=e||{},this._cacheCanvas&&this._cacheContext||this._createCacheCanvas(),this.isCacheDirty()&&this._cacheContext){const{zoomX:t,zoomY:n,cacheTranslationX:a,cacheTranslationY:i}=this,{width:o,height:l}=this._cacheCanvas;this.drawObject(this._cacheContext,e.forClipping,{zoomX:t,zoomY:n,cacheTranslationX:a,cacheTranslationY:i,width:o,height:l,parentClipPaths:[]}),this.dirty=!1}}_removeCacheCanvas(){this._cacheCanvas=void 0,this._cacheContext=null}hasStroke(){return this.stroke&&this.stroke!=="transparent"&&this.strokeWidth!==0}hasFill(){return this.fill&&this.fill!=="transparent"}needsItsOwnCache(){return!!(this.paintFirst===hs&&this.hasFill()&&this.hasStroke()&&this.shadow)||!!this.clipPath}shouldCache(){return this.ownCaching=this.objectCaching&&(!this.parent||!this.parent.isOnACache())||this.needsItsOwnCache(),this.ownCaching}willDrawShadow(){return!!this.shadow&&(this.shadow.offsetX!==0||this.shadow.offsetY!==0)}drawClipPathOnCache(e,t,n){e.save(),t.inverted?e.globalCompositeOperation="destination-out":e.globalCompositeOperation="destination-in",e.setTransform(1,0,0,1,0,0),e.drawImage(n,0,0),e.restore()}drawObject(e,t,n){const a=this.fill,i=this.stroke;t?(this.fill="black",this.stroke="",this._setClippingProperties(e)):this._renderBackground(e),this._render(e),this._drawClipPath(e,this.clipPath,n),this.fill=a,this.stroke=i}createClipPathLayer(e,t){const n=lo(t),a=n.getContext("2d");if(a.translate(t.cacheTranslationX,t.cacheTranslationY),a.scale(t.zoomX,t.zoomY),e._cacheCanvas=n,t.parentClipPaths.forEach((i=>{i.transform(a)})),t.parentClipPaths.push(e),e.absolutePositioned){const i=Xo(this.calcTransformMatrix());a.transform(i[0],i[1],i[2],i[3],i[4],i[5])}return e.transform(a),e.drawObject(a,!0,t),n}_drawClipPath(e,t,n){if(!t)return;t._transformDone=!0;const a=this.createClipPathLayer(t,n);this.drawClipPathOnCache(e,t,a)}drawCacheOnCanvas(e){e.scale(1/this.zoomX,1/this.zoomY),e.drawImage(this._cacheCanvas,-this.cacheTranslationX,-this.cacheTranslationY)}isCacheDirty(){let e=arguments.length>0&&arguments[0]!==void 0&&arguments[0];if(this.isNotVisible())return!1;const t=this._cacheCanvas,n=this._cacheContext;return!(!t||!n||e||!this._updateCacheCanvas())||!!(this.dirty||this.clipPath&&this.clipPath.absolutePositioned)&&(t&&n&&!e&&(n.save(),n.setTransform(1,0,0,1,0,0),n.clearRect(0,0,t.width,t.height),n.restore()),!0)}_renderBackground(e){if(!this.backgroundColor)return;const t=this._getNonTransformedDimensions();e.fillStyle=this.backgroundColor,e.fillRect(-t.x/2,-t.y/2,t.x,t.y),this._removeShadow(e)}_setOpacity(e){this.group&&!this.group._transformDone?e.globalAlpha=this.getObjectOpacity():e.globalAlpha*=this.opacity}_setStrokeStyles(e,t){const n=t.stroke;n&&(e.lineWidth=t.strokeWidth,e.lineCap=t.strokeLineCap,e.lineDashOffset=t.strokeDashOffset,e.lineJoin=t.strokeLineJoin,e.miterLimit=t.strokeMiterLimit,ao(n)?n.gradientUnits==="percentage"||n.gradientTransform||n.patternTransform?this._applyPatternForTransformedGradient(e,n):(e.strokeStyle=n.toLive(e),this._applyPatternGradientTransform(e,n)):e.strokeStyle=t.stroke)}_setFillStyles(e,t){let{fill:n}=t;n&&(ao(n)?(e.fillStyle=n.toLive(e),this._applyPatternGradientTransform(e,n)):e.fillStyle=n)}_setClippingProperties(e){e.globalAlpha=1,e.strokeStyle="transparent",e.fillStyle="#000000"}_setLineDash(e,t){t&&t.length!==0&&e.setLineDash(t)}_setShadow(e){if(!this.shadow)return;const t=this.shadow,n=this.canvas,a=this.getCanvasRetinaScaling(),[i,,,o]=(n==null?void 0:n.viewportTransform)||qi,l=i*a,u=o*a,h=t.nonScaling?new ct(1,1):this.getObjectScaling();e.shadowColor=t.color,e.shadowBlur=t.blur*Gr.browserShadowBlurConstant*(l+u)*(h.x+h.y)/4,e.shadowOffsetX=t.offsetX*l*h.x,e.shadowOffsetY=t.offsetY*u*h.y}_removeShadow(e){this.shadow&&(e.shadowColor="",e.shadowBlur=e.shadowOffsetX=e.shadowOffsetY=0)}_applyPatternGradientTransform(e,t){if(!ao(t))return{offsetX:0,offsetY:0};const n=t.gradientTransform||t.patternTransform,a=-this.width/2+t.offsetX||0,i=-this.height/2+t.offsetY||0;return t.gradientUnits==="percentage"?e.transform(this.width,0,0,this.height,a,i):e.transform(1,0,0,1,a,i),n&&e.transform(n[0],n[1],n[2],n[3],n[4],n[5]),{offsetX:a,offsetY:i}}_renderPaintInOrder(e){this.paintFirst===hs?(this._renderStroke(e),this._renderFill(e)):(this._renderFill(e),this._renderStroke(e))}_render(e){}_renderFill(e){this.fill&&(e.save(),this._setFillStyles(e,this),this.fillRule==="evenodd"?e.fill("evenodd"):e.fill(),e.restore())}_renderStroke(e){if(this.stroke&&this.strokeWidth!==0){if(this.shadow&&!this.shadow.affectStroke&&this._removeShadow(e),e.save(),this.strokeUniform){const t=this.getObjectScaling();e.scale(1/t.x,1/t.y)}this._setLineDash(e,this.strokeDashArray),this._setStrokeStyles(e,this),e.stroke(),e.restore()}}_applyPatternForTransformedGradient(e,t){var n;const a=this._limitCacheSize(this._getCacheCanvasDimensions()),i=this.getCanvasRetinaScaling(),o=a.x/this.scaleX/i,l=a.y/this.scaleY/i,u=lo({width:Math.ceil(o),height:Math.ceil(l)}),h=u.getContext("2d");h&&(h.beginPath(),h.moveTo(0,0),h.lineTo(o,0),h.lineTo(o,l),h.lineTo(0,l),h.closePath(),h.translate(o/2,l/2),h.scale(a.zoomX/this.scaleX/i,a.zoomY/this.scaleY/i),this._applyPatternGradientTransform(h,t),h.fillStyle=t.toLive(e),h.fill(),e.translate(-this.width/2-this.strokeWidth/2,-this.height/2-this.strokeWidth/2),e.scale(i*this.scaleX/a.zoomX,i*this.scaleY/a.zoomY),e.strokeStyle=(n=h.createPattern(u,"no-repeat"))!==null&&n!==void 0?n:"")}_findCenterFromElement(){return new ct(this.left+this.width/2,this.top+this.height/2)}clone(e){const t=this.toObject(e);return this.constructor.fromObject(t)}cloneAsImage(e){const t=this.toCanvasElement(e);return new(qt.getClass("image"))(t)}toCanvasElement(){let e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};const t=R6(this),n=this.group,a=this.shadow,i=Math.abs,o=e.enableRetinaScaling?y6():1,l=(e.multiplier||1)*o,u=e.canvasProvider||(A=>new Yp(A,{enableRetinaScaling:!1,renderOnAddRemove:!1,skipOffscreen:!1}));delete this.group,e.withoutTransform&&KR(this),e.withoutShadow&&(this.shadow=null),e.viewportTransform&&ZR(this,this.getViewportTransform()),this.setCoords();const h=kc(),f=this.getBoundingRect(),m=this.shadow,x=new ct;if(m){const A=m.blur,N=m.nonScaling?new ct(1,1):this.getObjectScaling();x.x=2*Math.round(i(m.offsetX)+A)*i(N.x),x.y=2*Math.round(i(m.offsetY)+A)*i(N.y)}const g=f.width+x.x,y=f.height+x.y;h.width=Math.ceil(g),h.height=Math.ceil(y);const v=u(h);e.format==="jpeg"&&(v.backgroundColor="#fff"),this.setPositionByOrigin(new ct(v.width/2,v.height/2),Sr,Sr);const S=this.canvas;v._objects=[this],this.set("canvas",v),this.setCoords();const k=v.toCanvasElement(l||1,e);return this.set("canvas",S),this.shadow=a,n&&(this.group=n),this.set(t),this.setCoords(),v._objects=[],v.destroy(),k}toDataURL(){let e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};return C6(this.toCanvasElement(e),e.format||"png",e.quality||1)}toBlob(){let e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};return T6(this.toCanvasElement(e),e.format||"png",e.quality||1)}isType(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return t.includes(this.constructor.type)||t.includes(this.type)}complexity(){return 1}toJSON(){return this.toObject()}rotate(e){const{centeredRotation:t,originX:n,originY:a}=this;if(t){const{x:i,y:o}=this.getRelativeCenterPoint();this.originX=Sr,this.originY=Sr,this.left=i,this.top=o}if(this.set("angle",e),t){const{x:i,y:o}=this.translateToOriginPoint(this.getRelativeCenterPoint(),n,a);this.left=i,this.top=o,this.originX=n,this.originY=a}}setOnGroup(){}_setupCompositeOperation(e){this.globalCompositeOperation&&(e.globalCompositeOperation=this.globalCompositeOperation)}dispose(){Sp.cancelByTarget(this),this.off(),this._set("canvas",void 0),this._cacheCanvas&&Dl().dispose(this._cacheCanvas),this._cacheCanvas=void 0,this._cacheContext=null}animate(e,t){return Object.entries(e).reduce(((n,a)=>{let[i,o]=a;return n[i]=this._animate(i,o,t),n}),{})}_animate(e,t){let n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};const a=e.split("."),i=this.constructor.colorProperties.includes(a[a.length-1]),{abort:o,startValue:l,onChange:u,onComplete:h}=n,f=ze(ze({},n),{},{target:this,startValue:l??a.reduce(((m,x)=>m[x]),this),endValue:t,abort:o==null?void 0:o.bind(this),onChange:(m,x,g)=>{a.reduce(((y,v,S)=>(S===a.length-1&&(y[v]=m),y[v])),this),u&&u(m,x,g)},onComplete:(m,x,g)=>{this.setCoords(),h&&h(m,x,g)}});return i?y9(f):K6(f)}isDescendantOf(e){const{parent:t,group:n}=this;return t===e||n===e||!!t&&t.isDescendantOf(e)||!!n&&n!==t&&n.isDescendantOf(e)}getAncestors(){const e=[];let t=this;do t=t.parent,t&&e.push(t);while(t);return e}findCommonAncestors(e){if(this===e)return{fork:[],otherFork:[],common:[this,...this.getAncestors()]};const t=this.getAncestors(),n=e.getAncestors();if(t.length===0&&n.length>0&&this===n[n.length-1])return{fork:[],otherFork:[e,...n.slice(0,n.length-1)],common:[this]};for(let a,i=0;i<t.length;i++){if(a=t[i],a===e)return{fork:[this,...t.slice(0,i)],otherFork:[],common:t.slice(i)};for(let o=0;o<n.length;o++){if(this===n[o])return{fork:[],otherFork:[e,...n.slice(0,o)],common:[this,...t]};if(a===n[o])return{fork:[this,...t.slice(0,i)],otherFork:[e,...n.slice(0,o)],common:t.slice(i)}}}return{fork:[this,...t],otherFork:[e,...n],common:[]}}hasCommonAncestors(e){const t=this.findCommonAncestors(e);return t&&!!t.common.length}isInFrontOf(e){if(this===e)return;const t=this.findCommonAncestors(e);if(t.fork.includes(e))return!0;if(t.otherFork.includes(this))return!1;const n=t.common[0]||this.canvas;if(!n)return;const a=t.fork.pop(),i=t.otherFork.pop(),o=n._objects.indexOf(a),l=n._objects.indexOf(i);return o>-1&&o>l}toObject(){const e=(arguments.length>0&&arguments[0]!==void 0?arguments[0]:[]).concat(Xg.customProperties,this.constructor.customProperties||[]);let t;const n=Gr.NUM_FRACTION_DIGITS,{clipPath:a,fill:i,stroke:o,shadow:l,strokeDashArray:u,left:h,top:f,originX:m,originY:x,width:g,height:y,strokeWidth:v,strokeLineCap:S,strokeDashOffset:k,strokeLineJoin:A,strokeUniform:N,strokeMiterLimit:j,scaleX:W,scaleY:ee,angle:z,flipX:B,flipY:D,opacity:Z,visible:q,backgroundColor:O,fillRule:V,paintFirst:F,globalCompositeOperation:re,skewX:ae,skewY:J}=this;a&&!a.excludeFromExport&&(t=a.toObject(e.concat("inverted","absolutePositioned")));const ge=ke=>vn(ke,n),te=ze(ze({},d0(this,e)),{},{type:this.constructor.type,version:Vx,originX:m,originY:x,left:ge(h),top:ge(f),width:ge(g),height:ge(y),fill:p_(i)?i.toObject():i,stroke:p_(o)?o.toObject():o,strokeWidth:ge(v),strokeDashArray:u&&u.concat(),strokeLineCap:S,strokeDashOffset:k,strokeLineJoin:A,strokeUniform:N,strokeMiterLimit:ge(j),scaleX:ge(W),scaleY:ge(ee),angle:ge(z),flipX:B,flipY:D,opacity:ge(Z),shadow:l&&l.toObject(),visible:q,backgroundColor:O,fillRule:V,paintFirst:F,globalCompositeOperation:re,skewX:ge(ae),skewY:ge(J)},t?{clipPath:t}:null);return this.includeDefaultValues?te:this._removeDefaultValues(te)}toDatalessObject(e){return this.toObject(e)}_removeDefaultValues(e){const t=this.constructor.getDefaults(),n=Object.keys(t).length>0?t:Object.getPrototypeOf(this);return ey(e,((a,i)=>{if(i===en||i===cs||i==="type")return!0;const o=n[i];return a!==o&&!(Array.isArray(a)&&Array.isArray(o)&&a.length===0&&o.length===0)}))}toString(){return"#<".concat(this.constructor.type,">")}static _fromObject(e){let t=On(e,w9),n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},{extraParam:a}=n,i=On(n,_9);return Wp(t,i).then((o=>a?(delete o[a],new this(t[a],o)):new this(o)))}static fromObject(e,t){return this._fromObject(e,t)}};Ie(uc,"stateProperties",l9),Ie(uc,"cacheProperties",Ac),Ie(uc,"ownDefaults",c9),Ie(uc,"type","FabricObject"),Ie(uc,"colorProperties",[Ia,hs,"backgroundColor"]),Ie(uc,"customProperties",[]),qt.setClass(uc),qt.setClass(uc,"object");const g0=(r,e,t)=>(n,a,i,o)=>{const l=e(n,a,i,o);return l&&B6(r,ze(ze({},I6(n,a,i,o)),t)),l};function p0(r){return(e,t,n,a)=>{const{target:i,originX:o,originY:l}=t,u=i.getRelativeCenterPoint(),h=i.translateToOriginPoint(u,o,l),f=r(e,t,n,a);return i.setPositionByOrigin(h,t.originX,t.originY),f}}const D_=g0(Rd,p0(((r,e,t,n)=>{const a=ry(e,e.originX,e.originY,t,n);if(Sa(e.originX)===Sa(Sr)||Sa(e.originX)===Sa(oa)&&a.x<0||Sa(e.originX)===Sa(en)&&a.x>0){const{target:i}=e,o=i.strokeWidth/(i.strokeUniform?i.scaleX:1),l=P6(e)?2:1,u=i.width,h=Math.abs(a.x*l/i.scaleX)-o;return i.set("width",Math.max(h,1)),u!==i.width}return!1})));function S9(r,e,t,n,a){n=n||{};const i=this.sizeX||n.cornerSize||a.cornerSize,o=this.sizeY||n.cornerSize||a.cornerSize,l=n.transparentCorners!==void 0?n.transparentCorners:a.transparentCorners,u=l?hs:Ia,h=!l&&(n.cornerStrokeColor||a.cornerStrokeColor);let f,m=e,x=t;r.save(),r.fillStyle=n.cornerColor||a.cornerColor||"",r.strokeStyle=n.cornerStrokeColor||a.cornerStrokeColor||"",i>o?(f=i,r.scale(1,o/i),x=t*i/o):o>i?(f=o,r.scale(i/o,1),m=e*o/i):f=i,r.beginPath(),r.arc(m,x,f/2,0,bp,!1),r[u](),h&&r.stroke(),r.restore()}function k9(r,e,t,n,a){n=n||{};const i=this.sizeX||n.cornerSize||a.cornerSize,o=this.sizeY||n.cornerSize||a.cornerSize,l=n.transparentCorners!==void 0?n.transparentCorners:a.transparentCorners,u=l?hs:Ia,h=!l&&(n.cornerStrokeColor||a.cornerStrokeColor),f=i/2,m=o/2;r.save(),r.fillStyle=n.cornerColor||a.cornerColor||"",r.strokeStyle=n.cornerStrokeColor||a.cornerStrokeColor||"",r.translate(e,t);const x=a.getTotalAngle();r.rotate(ha(x)),r["".concat(u,"Rect")](-f,-m,i,o),h&&r.strokeRect(-f,-m,i,o),r.restore()}class Ho{constructor(e){Ie(this,"visible",!0),Ie(this,"actionName",Vp),Ie(this,"angle",0),Ie(this,"x",0),Ie(this,"y",0),Ie(this,"offsetX",0),Ie(this,"offsetY",0),Ie(this,"sizeX",0),Ie(this,"sizeY",0),Ie(this,"touchSizeX",0),Ie(this,"touchSizeY",0),Ie(this,"cursorStyle","crosshair"),Ie(this,"withConnection",!1),Object.assign(this,e)}shouldActivate(e,t,n,a){var i;let{tl:o,tr:l,br:u,bl:h}=a;return((i=t.canvas)===null||i===void 0?void 0:i.getActiveObject())===t&&t.isControlVisible(e)&&qn.isPointInPolygon(n,[o,l,u,h])}getActionHandler(e,t,n){return this.actionHandler}getMouseDownHandler(e,t,n){return this.mouseDownHandler}getMouseUpHandler(e,t,n){return this.mouseUpHandler}cursorStyleHandler(e,t,n){return t.cursorStyle}getActionName(e,t,n){return t.actionName}getVisibility(e,t){var n,a;return(n=(a=e._controlsVisibility)===null||a===void 0?void 0:a[t])!==null&&n!==void 0?n:this.visible}setVisibility(e,t,n){this.visible=e}positionHandler(e,t,n,a){return new ct(this.x*e.x+this.offsetX,this.y*e.y+this.offsetY).transform(t)}calcCornerCoords(e,t,n,a,i,o){const l=Jv([e1(n,a),f0({angle:e}),Qv((i?this.touchSizeX:this.sizeX)||t,(i?this.touchSizeY:this.sizeY)||t)]);return{tl:new ct(-.5,-.5).transform(l),tr:new ct(.5,-.5).transform(l),br:new ct(.5,.5).transform(l),bl:new ct(-.5,.5).transform(l)}}render(e,t,n,a,i){((a=a||{}).cornerStyle||i.cornerStyle)==="circle"?S9.call(this,e,t,n,a,i):k9.call(this,e,t,n,a,i)}}const C9=(r,e,t)=>t.lockRotation?Tp:e.cursorStyle,T9=g0(w6,p0(((r,e,t,n)=>{let{target:a,ex:i,ey:o,theta:l,originX:u,originY:h}=e;const f=a.translateToOriginPoint(a.getRelativeCenterPoint(),u,h);if(Jo(a,"lockRotation"))return!1;const m=Math.atan2(o-f.y,i-f.x),x=Math.atan2(n-f.y,t-f.x);let g=Cc(x-m+l);if(a.snapAngle&&a.snapAngle>0){const v=a.snapAngle,S=a.snapThreshold||v,k=Math.ceil(g/v)*v,A=Math.floor(g/v)*v;Math.abs(g-A)<S?g=A:Math.abs(g-k)<S&&(g=k)}g<0&&(g=360+g),g%=360;const y=a.angle!==g;return a.angle=g,y})));function $6(r,e){const t=e.canvas,n=r[t.uniScaleKey];return t.uniformScaling&&!n||!t.uniformScaling&&n}function Z6(r,e,t){const n=Jo(r,"lockScalingX"),a=Jo(r,"lockScalingY");if(n&&a||!e&&(n||a)&&t||n&&e==="x"||a&&e==="y")return!0;const{width:i,height:o,strokeWidth:l}=r;return i===0&&l===0&&e!=="y"||o===0&&l===0&&e!=="x"}const A9=["e","se","s","sw","w","nw","n","ne","e"],ld=(r,e,t)=>{const n=$6(r,t);if(Z6(t,e.x!==0&&e.y===0?"x":e.x===0&&e.y!==0?"y":"",n))return Tp;const a=U6(t,e);return"".concat(A9[a],"-resize")};function iy(r,e,t,n){let a=arguments.length>4&&arguments[4]!==void 0?arguments[4]:{};const i=e.target,o=a.by,l=$6(r,i);let u,h,f,m,x,g;if(Z6(i,o,l))return!1;if(e.gestureScale)h=e.scaleX*e.gestureScale,f=e.scaleY*e.gestureScale;else{if(u=ry(e,e.originX,e.originY,t,n),x=o!=="y"?Math.sign(u.x||e.signX||1):1,g=o!=="x"?Math.sign(u.y||e.signY||1):1,e.signX||(e.signX=x),e.signY||(e.signY=g),Jo(i,"lockScalingFlip")&&(e.signX!==x||e.signY!==g))return!1;if(m=i._getTransformedDimensions(),l&&!o){const S=Math.abs(u.x)+Math.abs(u.y),{original:k}=e,A=S/(Math.abs(m.x*k.scaleX/i.scaleX)+Math.abs(m.y*k.scaleY/i.scaleY));h=k.scaleX*A,f=k.scaleY*A}else h=Math.abs(u.x*i.scaleX/m.x),f=Math.abs(u.y*i.scaleY/m.y);P6(e)&&(h*=2,f*=2),e.signX!==x&&o!=="y"&&(e.originX=y_(e.originX),h*=-1,e.signX=x),e.signY!==g&&o!=="x"&&(e.originY=y_(e.originY),f*=-1,e.signY=g)}const y=i.scaleX,v=i.scaleY;return o?(o==="x"&&i.set(fs,h),o==="y"&&i.set(oo,f)):(!Jo(i,"lockScalingX")&&i.set(fs,h),!Jo(i,"lockScalingY")&&i.set(oo,f)),y!==i.scaleX||v!==i.scaleY}const sg=g0(qp,p0(((r,e,t,n)=>iy(r,e,t,n)))),E9=g0(qp,p0(((r,e,t,n)=>iy(r,e,t,n,{by:"x"})))),N9=g0(qp,p0(((r,e,t,n)=>iy(r,e,t,n,{by:"y"})))),O9=["target","ex","ey","skewingSide"],P2={x:{counterAxis:"y",scale:fs,skew:u0,lockSkewing:"lockSkewingX",origin:"originX",flip:"flipX"},y:{counterAxis:"x",scale:oo,skew:h0,lockSkewing:"lockSkewingY",origin:"originY",flip:"flipY"}},D9=["ns","nesw","ew","nwse"],L9=(r,e,t)=>{if(e.x!==0&&Jo(t,"lockSkewingY")||e.y!==0&&Jo(t,"lockSkewingX"))return Tp;const n=U6(t,e)%4;return"".concat(D9[n],"-resize")};function J6(r,e,t,n,a){const{target:i}=t,{counterAxis:o,origin:l,lockSkewing:u,skew:h,flip:f}=P2[r];if(Jo(i,u))return!1;const{origin:m,flip:x}=P2[o],g=Sa(t[m])*(i[x]?-1:1),y=-Math.sign(g)*(i[f]?-1:1),v=.5*-((i[h]===0&&ry(t,Sr,Sr,n,a)[r]>0||i[h]>0?1:-1)*y)+.5;return g0(_6,p0(((k,A,N,j)=>(function(W,ee,z){let{target:B,ex:D,ey:Z,skewingSide:q}=ee,O=On(ee,O9);const{skew:V}=P2[W],F=z.subtract(new ct(D,Z)).divide(new ct(B.scaleX,B.scaleY))[W],re=B[V],ae=O[V],J=Math.tan(ha(ae)),ge=W==="y"?B._getTransformedDimensions({scaleX:1,scaleY:1,skewX:0}).x:B._getTransformedDimensions({scaleX:1,scaleY:1}).y,te=2*F*q/Math.max(ge,1)+J,ke=Cc(Math.atan(te));B.set(V,ke);const Y=re!==B[V];if(Y&&W==="y"){const{skewX:w,scaleX:L}=B,P=B._getTransformedDimensions({skewY:re}),U=B._getTransformedDimensions(),ie=w!==0?P.x/U.x:1;ie!==1&&B.set(fs,ie*L)}return Y})(r,A,new ct(N,j)))))(e,ze(ze({},t),{},{[l]:v,skewingSide:y}),n,a)}const F9=(r,e,t,n)=>J6("x",r,e,t,n),M9=(r,e,t,n)=>J6("y",r,e,t,n);function $p(r,e){return r[e.canvas.altActionKey]}const og=(r,e,t)=>{const n=$p(r,t);return e.x===0?n?u0:oo:e.y===0?n?h0:fs:""},If=(r,e,t)=>$p(r,t)?L9(0,e,t):ld(r,e,t),L_=(r,e,t,n)=>$p(r,e.target)?M9(r,e,t,n):E9(r,e,t,n),F_=(r,e,t,n)=>$p(r,e.target)?F9(r,e,t,n):N9(r,e,t,n),Q6=()=>({ml:new Ho({x:-.5,y:0,cursorStyleHandler:If,actionHandler:L_,getActionName:og}),mr:new Ho({x:.5,y:0,cursorStyleHandler:If,actionHandler:L_,getActionName:og}),mb:new Ho({x:0,y:.5,cursorStyleHandler:If,actionHandler:F_,getActionName:og}),mt:new Ho({x:0,y:-.5,cursorStyleHandler:If,actionHandler:F_,getActionName:og}),tl:new Ho({x:-.5,y:-.5,cursorStyleHandler:ld,actionHandler:sg}),tr:new Ho({x:.5,y:-.5,cursorStyleHandler:ld,actionHandler:sg}),bl:new Ho({x:-.5,y:.5,cursorStyleHandler:ld,actionHandler:sg}),br:new Ho({x:.5,y:.5,cursorStyleHandler:ld,actionHandler:sg}),mtr:new Ho({x:0,y:-.5,actionHandler:T9,cursorStyleHandler:C9,offsetY:-40,withConnection:!0,actionName:$v})}),j9=()=>({mr:new Ho({x:.5,y:0,actionHandler:D_,cursorStyleHandler:If,actionName:Rd}),ml:new Ho({x:-.5,y:0,actionHandler:D_,cursorStyleHandler:If,actionName:Rd})}),R9=()=>ze(ze({},Q6()),j9());class Ud extends uc{static getDefaults(){return ze(ze({},super.getDefaults()),Ud.ownDefaults)}constructor(e){super(),Object.assign(this,this.constructor.createControls(),Ud.ownDefaults),this.setOptions(e)}static createControls(){return{controls:Q6()}}_updateCacheCanvas(){const e=this.canvas;if(this.noScaleCache&&e&&e._currentTransform){const t=e._currentTransform,n=t.target,a=t.action;if(this===n&&a&&a.startsWith(Vp))return!1}return super._updateCacheCanvas()}getActiveControl(){const e=this.__corner;return e?{key:e,control:this.controls[e],coord:this.oCoords[e]}:void 0}findControl(e){let t=arguments.length>1&&arguments[1]!==void 0&&arguments[1];if(!this.hasControls||!this.canvas)return;this.__corner=void 0;const n=Object.entries(this.oCoords);for(let a=n.length-1;a>=0;a--){const[i,o]=n[a],l=this.controls[i];if(l.shouldActivate(i,this,e,t?o.touchCorner:o.corner))return this.__corner=i,{key:i,control:l,coord:this.oCoords[i]}}}calcOCoords(){const e=this.getViewportTransform(),t=this.getCenterPoint(),n=e1(t.x,t.y),a=f0({angle:this.getTotalAngle()-(this.group&&this.flipX?180:0)}),i=li(n,a),o=li(e,i),l=li(o,[1/e[0],0,0,1/e[3],0,0]),u=this.group?kp(this.calcTransformMatrix()):void 0;u&&(u.scaleX=Math.abs(u.scaleX),u.scaleY=Math.abs(u.scaleY));const h=this._calculateCurrentDimensions(u),f={};return this.forEachControl(((m,x)=>{const g=m.positionHandler(h,l,this,m);f[x]=Object.assign(g,this._calcCornerCoords(m,g))})),f}_calcCornerCoords(e,t){const n=this.getTotalAngle();return{corner:e.calcCornerCoords(n,this.cornerSize,t.x,t.y,!1,this),touchCorner:e.calcCornerCoords(n,this.touchCornerSize,t.x,t.y,!0,this)}}setCoords(){super.setCoords(),this.canvas&&(this.oCoords=this.calcOCoords())}forEachControl(e){for(const t in this.controls)e(this.controls[t],t,this)}drawSelectionBackground(e){if(!this.selectionBackgroundColor||this.canvas&&this.canvas._activeObject!==this)return;e.save();const t=this.getRelativeCenterPoint(),n=this._calculateCurrentDimensions(),a=this.getViewportTransform();e.translate(t.x,t.y),e.scale(1/a[0],1/a[3]),e.rotate(ha(this.angle)),e.fillStyle=this.selectionBackgroundColor,e.fillRect(-n.x/2,-n.y/2,n.x,n.y),e.restore()}strokeBorders(e,t){e.strokeRect(-t.x/2,-t.y/2,t.x,t.y)}_drawBorders(e,t){let n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};const a=ze({hasControls:this.hasControls,borderColor:this.borderColor,borderDashArray:this.borderDashArray},n);e.save(),e.strokeStyle=a.borderColor,this._setLineDash(e,a.borderDashArray),this.strokeBorders(e,t),a.hasControls&&this.drawControlsConnectingLines(e,t),e.restore()}_renderControls(e){let t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};const{hasBorders:n,hasControls:a}=this,i=ze({hasBorders:n,hasControls:a},t),o=this.getViewportTransform(),l=i.hasBorders,u=i.hasControls,h=li(o,this.calcTransformMatrix()),f=kp(h);e.save(),e.translate(f.translateX,f.translateY),e.lineWidth=this.borderScaleFactor,this.group===this.parent&&(e.globalAlpha=this.isMoving?this.borderOpacityWhenMoving:1),this.flipX&&(f.angle-=180),e.rotate(ha(this.group?f.angle:this.angle)),l&&this.drawBorders(e,f,t),u&&this.drawControls(e,t),e.restore()}drawBorders(e,t,n){let a;if(n&&n.forActiveSelection||this.group){const i=ty(this.width,this.height,Gp(t)),o=this.isStrokeAccountedForInDimensions()?Zv:(this.strokeUniform?new ct().scalarAdd(this.canvas?this.canvas.getZoom():1):new ct(t.scaleX,t.scaleY)).scalarMultiply(this.strokeWidth);a=i.add(o).scalarAdd(this.borderScaleFactor).scalarAdd(2*this.padding)}else a=this._calculateCurrentDimensions().scalarAdd(this.borderScaleFactor);this._drawBorders(e,a,n)}drawControlsConnectingLines(e,t){let n=!1;e.beginPath(),this.forEachControl(((a,i)=>{a.withConnection&&a.getVisibility(this,i)&&(n=!0,e.moveTo(a.x*t.x,a.y*t.y),e.lineTo(a.x*t.x+a.offsetX,a.y*t.y+a.offsetY))})),n&&e.stroke()}drawControls(e){let t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};e.save();const n=this.getCanvasRetinaScaling(),{cornerStrokeColor:a,cornerDashArray:i,cornerColor:o}=this,l=ze({cornerStrokeColor:a,cornerDashArray:i,cornerColor:o},t);e.setTransform(n,0,0,n,0,0),e.strokeStyle=e.fillStyle=l.cornerColor,this.transparentCorners||(e.strokeStyle=l.cornerStrokeColor),this._setLineDash(e,l.cornerDashArray),this.forEachControl(((u,h)=>{if(u.getVisibility(this,h)){const f=this.oCoords[h];u.render(e,f.x,f.y,l,this)}})),e.restore()}isControlVisible(e){return this.controls[e]&&this.controls[e].getVisibility(this,e)}setControlVisible(e,t){this._controlsVisibility||(this._controlsVisibility={}),this._controlsVisibility[e]=t}setControlsVisibility(){let e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};Object.entries(e).forEach((t=>{let[n,a]=t;return this.setControlVisible(n,a)}))}clearContextTop(e){if(!this.canvas)return;const t=this.canvas.contextTop;if(!t)return;const n=this.canvas.viewportTransform;t.save(),t.transform(n[0],n[1],n[2],n[3],n[4],n[5]),this.transform(t);const a=this.width+4,i=this.height+4;return t.clearRect(-a/2,-i/2,a,i),e||t.restore(),t}onDeselect(e){return!1}onSelect(e){return!1}shouldStartDragging(e){return!1}onDragStart(e){return!1}canDrop(e){return!1}renderDragSourceEffect(e){}renderDropTargetEffect(e){}}function ek(r,e){return e.forEach((t=>{Object.getOwnPropertyNames(t.prototype).forEach((n=>{n!=="constructor"&&Object.defineProperty(r.prototype,n,Object.getOwnPropertyDescriptor(t.prototype,n)||Object.create(null))}))})),r}Ie(Ud,"ownDefaults",{noScaleCache:!0,lockMovementX:!1,lockMovementY:!1,lockRotation:!1,lockScalingX:!1,lockScalingY:!1,lockSkewingX:!1,lockSkewingY:!1,lockScalingFlip:!1,cornerSize:13,touchCornerSize:24,transparentCorners:!0,cornerColor:"rgb(178,204,255)",cornerStrokeColor:"",cornerStyle:"rect",cornerDashArray:null,hasControls:!0,borderColor:"rgb(178,204,255)",borderDashArray:null,borderOpacityWhenMoving:.4,borderScaleFactor:1,hasBorders:!0,selectionBackgroundColor:"",selectable:!0,evented:!0,perPixelTargetFind:!1,activeOn:"down",hoverCursor:null,moveCursor:null});class Ti extends Ud{}ek(Ti,[z6]),qt.setClass(Ti),qt.setClass(Ti,"object");const B9=(r,e,t,n)=>{const a=2*(n=Math.round(n))+1,{data:i}=r.getImageData(e-n,t-n,a,a);for(let o=3;o<i.length;o+=4)if(i[o]>0)return!1;return!0};class tk{constructor(e){this.options=e,this.strokeProjectionMagnitude=this.options.strokeWidth/2,this.scale=new ct(this.options.scaleX,this.options.scaleY),this.strokeUniformScalar=this.options.strokeUniform?new ct(1/this.options.scaleX,1/this.options.scaleY):new ct(1,1)}createSideVector(e,t){const n=Xx(e,t);return this.options.strokeUniform?n.multiply(this.scale):n}projectOrthogonally(e,t,n){return this.applySkew(e.add(this.calcOrthogonalProjection(e,t,n)))}isSkewed(){return this.options.skewX!==0||this.options.skewY!==0}applySkew(e){const t=new ct(e);return t.y+=t.x*Math.tan(ha(this.options.skewY)),t.x+=t.y*Math.tan(ha(this.options.skewX)),t}scaleUnitVector(e,t){return e.multiply(this.strokeUniformScalar).scalarMultiply(t)}}const P9=new ct;class Xf extends tk{static getOrthogonalRotationFactor(e,t){const n=t?$x(e,t):s9(e);return Math.abs(n)<Qd?-1:1}constructor(e,t,n,a){super(a),Ie(this,"AB",void 0),Ie(this,"AC",void 0),Ie(this,"alpha",void 0),Ie(this,"bisector",void 0),this.A=new ct(e),this.B=new ct(t),this.C=new ct(n),this.AB=this.createSideVector(this.A,this.B),this.AC=this.createSideVector(this.A,this.C),this.alpha=$x(this.AB,this.AC),this.bisector=ny(Y6(this.AB.eq(P9)?this.AC:this.AB,this.alpha/2))}calcOrthogonalProjection(e,t){let n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:this.strokeProjectionMagnitude;const a=this.createSideVector(e,t),i=X6(a),o=Xf.getOrthogonalRotationFactor(i,this.bisector);return this.scaleUnitVector(i,n*o)}projectBevel(){const e=[];return(this.alpha%bp==0?[this.B]:[this.B,this.C]).forEach((t=>{e.push(this.projectOrthogonally(this.A,t)),e.push(this.projectOrthogonally(this.A,t,-this.strokeProjectionMagnitude))})),e}projectMiter(){const e=[],t=Math.abs(this.alpha),n=1/Math.sin(t/2),a=this.scaleUnitVector(this.bisector,-this.strokeProjectionMagnitude*n),i=this.options.strokeUniform?Kx(this.scaleUnitVector(this.bisector,this.options.strokeMiterLimit)):this.options.strokeMiterLimit;return Kx(a)/this.strokeProjectionMagnitude<=i&&e.push(this.applySkew(this.A.add(a))),e.push(...this.projectBevel()),e}projectRoundNoSkew(e,t){const n=[],a=new ct(Xf.getOrthogonalRotationFactor(this.bisector),Xf.getOrthogonalRotationFactor(new ct(this.bisector.y,this.bisector.x)));return[new ct(1,0).scalarMultiply(this.strokeProjectionMagnitude).multiply(this.strokeUniformScalar).multiply(a),new ct(0,1).scalarMultiply(this.strokeProjectionMagnitude).multiply(this.strokeUniformScalar).multiply(a)].forEach((i=>{E_(i,e,t)&&n.push(this.A.add(i))})),n}projectRoundWithSkew(e,t){const n=[],{skewX:a,skewY:i,scaleX:o,scaleY:l,strokeUniform:u}=this.options,h=new ct(Math.tan(ha(a)),Math.tan(ha(i))),f=this.strokeProjectionMagnitude,m=u?f/l/Math.sqrt(1/l**2+1/o**2*h.y**2):f/Math.sqrt(1+h.y**2),x=new ct(Math.sqrt(Math.max(f**2-m**2,0)),m),g=u?f/Math.sqrt(1+h.x**2*(1/l)**2/(1/o+1/o*h.x*h.y)**2):f/Math.sqrt(1+h.x**2/(1+h.x*h.y)**2),y=new ct(g,Math.sqrt(Math.max(f**2-g**2,0)));return[y,y.scalarMultiply(-1),x,x.scalarMultiply(-1)].map((v=>this.applySkew(u?v.multiply(this.strokeUniformScalar):v))).forEach((v=>{E_(v,e,t)&&n.push(this.applySkew(this.A).add(v))})),n}projectRound(){const e=[];e.push(...this.projectBevel());const t=this.alpha%bp==0,n=this.applySkew(this.A),a=e[t?0:2].subtract(n),i=e[t?1:0].subtract(n),o=t?this.applySkew(this.AB.scalarMultiply(-1)):this.applySkew(this.bisector.multiply(this.strokeUniformScalar).scalarMultiply(-1)),l=Sd(a,o)>0,u=l?a:i,h=l?i:a;return this.isSkewed()?e.push(...this.projectRoundWithSkew(u,h)):e.push(...this.projectRoundNoSkew(u,h)),e}projectPoints(){switch(this.options.strokeLineJoin){case"miter":return this.projectMiter();case"round":return this.projectRound();default:return this.projectBevel()}}project(){return this.projectPoints().map((e=>({originPoint:this.A,projectedPoint:e,angle:this.alpha,bisector:this.bisector})))}}class M_ extends tk{constructor(e,t,n){super(n),this.A=new ct(e),this.T=new ct(t)}calcOrthogonalProjection(e,t){let n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:this.strokeProjectionMagnitude;const a=this.createSideVector(e,t);return this.scaleUnitVector(X6(a),n)}projectButt(){return[this.projectOrthogonally(this.A,this.T,this.strokeProjectionMagnitude),this.projectOrthogonally(this.A,this.T,-this.strokeProjectionMagnitude)]}projectRound(){const e=[];if(!this.isSkewed()&&this.A.eq(this.T)){const t=new ct(1,1).scalarMultiply(this.strokeProjectionMagnitude).multiply(this.strokeUniformScalar);e.push(this.applySkew(this.A.add(t)),this.applySkew(this.A.subtract(t)))}else e.push(...new Xf(this.A,this.T,this.T,this.options).projectRound());return e}projectSquare(){const e=[];if(this.A.eq(this.T)){const t=new ct(1,1).scalarMultiply(this.strokeProjectionMagnitude).multiply(this.strokeUniformScalar);e.push(this.A.add(t),this.A.subtract(t))}else{const t=this.calcOrthogonalProjection(this.A,this.T,this.strokeProjectionMagnitude),n=this.scaleUnitVector(ny(this.createSideVector(this.A,this.T)),-this.strokeProjectionMagnitude),a=this.A.add(n);e.push(a.add(t),a.subtract(t))}return e.map((t=>this.applySkew(t)))}projectPoints(){switch(this.options.strokeLineCap){case"round":return this.projectRound();case"square":return this.projectSquare();default:return this.projectButt()}}project(){return this.projectPoints().map((e=>({originPoint:this.A,projectedPoint:e})))}}const I9=function(r,e){let t=arguments.length>2&&arguments[2]!==void 0&&arguments[2];const n=[];if(r.length===0)return n;const a=r.reduce(((i,o)=>(i[i.length-1].eq(o)||i.push(new ct(o)),i)),[new ct(r[0])]);if(a.length===1)t=!0;else if(!t){const i=a[0],o=((l,u)=>{for(let h=l.length-1;h>=0;h--)if(u(l[h],h,l))return h;return-1})(a,(l=>!l.eq(i)));a.splice(o+1)}return a.forEach(((i,o,l)=>{let u,h;o===0?(h=l[1],u=t?i:l[l.length-1]):o===l.length-1?(u=l[o-1],h=t?i:l[0]):(u=l[o-1],h=l[o+1]),t&&l.length===1?n.push(...new M_(i,i,e).project()):!t||o!==0&&o!==l.length-1?n.push(...new Xf(i,u,h,e).project()):n.push(...new M_(i,o===0?h:u,e).project())})),n},sy=r=>{const e={};return Object.keys(r).forEach((t=>{e[t]={},Object.keys(r[t]).forEach((n=>{e[t][n]=ze({},r[t][n])}))})),e},U9=r=>r.replace(/&/g,"&amp;").replace(/"/g,"&quot;").replace(/'/g,"&apos;").replace(/</g,"&lt;").replace(/>/g,"&gt;");let ed;const oy=r=>{if(ed||ed||(ed="Intl"in Hp()&&"Segmenter"in Intl&&new Intl.Segmenter(void 0,{granularity:"grapheme"})),ed){const e=ed.segment(r);return Array.from(e).map((t=>{let{segment:n}=t;return n}))}return z9(r)},z9=r=>{const e=[];for(let t,n=0;n<r.length;n++)(t=H9(r,n))!==!1&&e.push(t);return e},H9=(r,e)=>{const t=r.charCodeAt(e);if(isNaN(t))return"";if(t<55296||t>57343)return r.charAt(e);if(55296<=t&&t<=56319){if(r.length<=e+1)throw"High surrogate without following low surrogate";const a=r.charCodeAt(e+1);if(56320>a||a>57343)throw"High surrogate without following low surrogate";return r.charAt(e)+r.charAt(e+1)}if(e===0)throw"Low surrogate without preceding high surrogate";const n=r.charCodeAt(e-1);if(55296>n||n>56319)throw"Low surrogate without preceding high surrogate";return!1},ly=function(r,e){let t=arguments.length>2&&arguments[2]!==void 0&&arguments[2];return r.fill!==e.fill||r.stroke!==e.stroke||r.strokeWidth!==e.strokeWidth||r.fontSize!==e.fontSize||r.fontFamily!==e.fontFamily||r.fontWeight!==e.fontWeight||r.fontStyle!==e.fontStyle||r.textDecorationThickness!==e.textDecorationThickness||r.textBackgroundColor!==e.textBackgroundColor||r.deltaY!==e.deltaY||t&&(r.overline!==e.overline||r.underline!==e.underline||r.linethrough!==e.linethrough)},q9=(r,e)=>{const t=e.split(`
`),n=[];let a=-1,i={};r=sy(r);for(let o=0;o<t.length;o++){const l=oy(t[o]);if(r[o])for(let u=0;u<l.length;u++){a++;const h=r[o][u];h&&Object.keys(h).length>0&&(ly(i,h,!0)?n.push({start:a,end:a+1,style:h}):n[n.length-1].end++),i=h||{}}else a+=l.length,i={}}return n},V9=(r,e)=>{if(!Array.isArray(r))return sy(r);const t=e.split(Kv),n={};let a=-1,i=0;for(let o=0;o<t.length;o++){const l=oy(t[o]);for(let u=0;u<l.length;u++)a++,r[i]&&r[i].start<=a&&a<r[i].end&&(n[o]=n[o]||{},n[o][u]=ze({},r[i].style),a===r[i].end-1&&i++)}return n},Eu=["display","transform",Ia,"fill-opacity","fill-rule","opacity",hs,"stroke-dasharray","stroke-linecap","stroke-dashoffset","stroke-linejoin","stroke-miterlimit","stroke-opacity","stroke-width","id","paint-order","vector-effect","instantiated_by_use","clip-path"];function j_(r,e){const t=r.nodeName,n=r.getAttribute("class"),a=r.getAttribute("id"),i="(?![a-zA-Z\\-]+)";let o;if(o=new RegExp("^"+t,"i"),e=e.replace(o,""),a&&e.length&&(o=new RegExp("#"+a+i,"i"),e=e.replace(o,"")),n&&e.length){const l=n.split(" ");for(let u=l.length;u--;)o=new RegExp("\\."+l[u]+i,"i"),e=e.replace(o,"")}return e.length===0}function G9(r,e){let t=!0;const n=j_(r,e.pop());return n&&e.length&&(t=(function(a,i){let o,l=!0;for(;a.parentElement&&a.parentElement.nodeType===1&&i.length;)l&&(o=i.pop()),l=j_(a=a.parentElement,o);return i.length===0})(r,e)),n&&t&&e.length===0}const W9=r=>{var e;return(e=a9[r])!==null&&e!==void 0?e:r},Y9=new RegExp("(".concat(Ko,")"),"gi"),X9=r=>Ap(r.replace(Y9," $1 ").replace(/,/gi," "));var R_,B_,P_,I_,U_,z_,H_;const Ii="(".concat(Ko,")"),K9=String.raw(R_||(R_=Ml(["(skewX)(",")"],["(skewX)\\(","\\)"])),Ii),$9=String.raw(B_||(B_=Ml(["(skewY)(",")"],["(skewY)\\(","\\)"])),Ii),Z9=String.raw(P_||(P_=Ml(["(rotate)(","(?: "," ",")?)"],["(rotate)\\(","(?: "," ",")?\\)"])),Ii,Ii,Ii),J9=String.raw(I_||(I_=Ml(["(scale)(","(?: ",")?)"],["(scale)\\(","(?: ",")?\\)"])),Ii,Ii),Q9=String.raw(U_||(U_=Ml(["(translate)(","(?: ",")?)"],["(translate)\\(","(?: ",")?\\)"])),Ii,Ii),eB=String.raw(z_||(z_=Ml(["(matrix)("," "," "," "," "," ",")"],["(matrix)\\("," "," "," "," "," ","\\)"])),Ii,Ii,Ii,Ii,Ii,Ii),cy="(?:".concat(eB,"|").concat(Q9,"|").concat(Z9,"|").concat(J9,"|").concat(K9,"|").concat($9,")"),tB="(?:".concat(cy,"*)"),rB=String.raw(H_||(H_=Ml(["^s*(?:","?)s*$"],["^\\s*(?:","?)\\s*$"])),tB),nB=new RegExp(rB),aB=new RegExp(cy),iB=new RegExp(cy,"g");function Zx(r){const e=[];if(!(r=X9(r).replace(/\s*([()])\s*/gi,"$1"))||r&&!nB.test(r))return[...qi];for(const t of r.matchAll(iB)){const n=aB.exec(t[0]);if(!n)continue;let a=qi;const i=n.filter((y=>!!y)),[,o,...l]=i,[u,h,f,m,x,g]=l.map((y=>parseFloat(y)));switch(o){case"translate":a=e1(u,h);break;case $v:a=f0({angle:u},{x:h,y:f});break;case Vp:a=Qv(u,h);break;case u0:a=N6(u);break;case h0:a=O6(u);break;case"matrix":a=[u,h,f,m,x,g]}e.push(a)}return Jv(e)}function sB(r,e,t,n){const a=Array.isArray(e);let i,o=e;if(r!==Ia&&r!==hs||e!==us){if(r==="strokeUniform")return e==="non-scaling-stroke";if(r==="strokeDashArray")o=e===us?null:e.replace(/,/g," ").split(/\s+/).map(parseFloat);else if(r==="transformMatrix")o=t&&t.transformMatrix?li(t.transformMatrix,Zx(e)):Zx(e);else if(r==="visible")o=e!==us&&e!=="hidden",t&&t.visible===!1&&(o=!1);else if(r==="opacity")o=parseFloat(e),t&&t.opacity!==void 0&&(o*=t.opacity);else if(r==="textAnchor")o=e==="start"?en:e==="end"?oa:Sr;else if(r==="charSpacing"||r===wh)i=Yf(e,n)/n*1e3;else if(r==="paintFirst"){const l=e.indexOf(Ia),u=e.indexOf(hs);o=Ia,(l>-1&&u>-1&&u<l||l===-1&&u>-1)&&(o=hs)}else{if(r==="href"||r==="xlink:href"||r==="font"||r==="id")return e;if(r==="imageSmoothing")return e==="optimizeQuality";i=a?e.map(Yf):Yf(e,n)}}else o="";return!a&&isNaN(i)?o:i}function oB(r,e){const t=r.match(n9);if(!t)return;const n=t[1],a=t[3],i=t[4],o=t[5],l=t[6];n&&(e.fontStyle=n),a&&(e.fontWeight=isNaN(parseFloat(a))?a:parseFloat(a)),i&&(e.fontSize=Yf(i)),l&&(e.fontFamily=l),o&&(e.lineHeight=o==="normal"?1:o)}function lB(r,e){r.replace(/;\s*$/,"").split(";").forEach((t=>{if(!t)return;const[n,a]=t.split(":");e[n.trim().toLowerCase()]=a.trim()}))}function cB(r){const e={},t=r.getAttribute("style");return t&&(typeof t=="string"?lB(t,e):(function(n,a){Object.entries(n).forEach((i=>{let[o,l]=i;l!==void 0&&(a[o.toLowerCase()]=l)}))})(t,e)),e}const uB={stroke:"strokeOpacity",fill:"fillOpacity"};function Ec(r,e,t){if(!r)return{};let n,a={},i=Xv;r.parentNode&&A_.test(r.parentNode.nodeName)&&(a=Ec(r.parentElement,e,t),a.fontSize&&(n=i=Yf(a.fontSize)));const o=ze(ze(ze({},e.reduce(((h,f)=>{const m=r.getAttribute(f);return m&&(h[f]=m),h}),{})),(function(h){let f=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},m={};for(const x in f)G9(h,x.split(" "))&&(m=ze(ze({},m),f[x]));return m})(r,t)),cB(r));o[R2]&&r.setAttribute(R2,o[R2]),o[j2]&&(n=Yf(o[j2],i),o[j2]="".concat(n));const l={};for(const h in o){const f=W9(h),m=sB(f,o[h],a,n);l[f]=m}l&&l.font&&oB(l.font,l);const u=ze(ze({},a),l);return A_.test(r.nodeName)?u:(function(h){const f=Ti.getDefaults();return Object.entries(uB).forEach((m=>{let[x,g]=m;if(h[g]===void 0||h[x]==="")return;if(h[x]===void 0){if(!f[x])return;h[x]=f[x]}if(h[x].indexOf("url(")===0)return;const y=new Rs(h[x]);h[x]=y.setAlpha(vn(y.getAlpha()*h[g],2)).toRgba()})),h})(u)}const hB=["left","top","width","height","visible"],rk=["rx","ry"];class ka extends Ti{static getDefaults(){return ze(ze({},super.getDefaults()),ka.ownDefaults)}constructor(e){super(),Object.assign(this,ka.ownDefaults),this.setOptions(e),this._initRxRy()}_initRxRy(){const{rx:e,ry:t}=this;e&&!t?this.ry=e:t&&!e&&(this.rx=t)}_render(e){const{width:t,height:n}=this,a=-t/2,i=-n/2,o=this.rx?Math.min(this.rx,t/2):0,l=this.ry?Math.min(this.ry,n/2):0,u=o!==0||l!==0;e.beginPath(),e.moveTo(a+o,i),e.lineTo(a+t-o,i),u&&e.bezierCurveTo(a+t-uu*o,i,a+t,i+uu*l,a+t,i+l),e.lineTo(a+t,i+n-l),u&&e.bezierCurveTo(a+t,i+n-uu*l,a+t-uu*o,i+n,a+t-o,i+n),e.lineTo(a+o,i+n),u&&e.bezierCurveTo(a+uu*o,i+n,a,i+n-uu*l,a,i+n-l),e.lineTo(a,i+l),u&&e.bezierCurveTo(a,i+uu*l,a+uu*o,i,a+o,i),e.closePath(),this._renderPaintInOrder(e)}toObject(){let e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[];return super.toObject([...rk,...e])}_toSVG(){const{width:e,height:t,rx:n,ry:a}=this;return["<rect ","COMMON_PARTS",'x="'.concat(-e/2,'" y="').concat(-t/2,'" rx="').concat(n,'" ry="').concat(a,'" width="').concat(e,'" height="').concat(t,`" />
`)]}static async fromElement(e,t,n){const a=Ec(e,this.ATTRIBUTE_NAMES,n),{left:i=0,top:o=0,width:l=0,height:u=0,visible:h=!0}=a,f=On(a,hB);return new this(ze(ze(ze({},t),f),{},{left:i,top:o,width:l,height:u,visible:!!(h&&l&&u)}))}}Ie(ka,"type","Rect"),Ie(ka,"cacheProperties",[...Ac,...rk]),Ie(ka,"ownDefaults",{rx:0,ry:0}),Ie(ka,"ATTRIBUTE_NAMES",[...Eu,"x","y","rx","ry","width","height"]),qt.setClass(ka),qt.setSVGClass(ka);const pc="initialization",Np="added",uy="removed",Op="imperative",nk=(r,e)=>{const{strokeUniform:t,strokeWidth:n,width:a,height:i,group:o}=e,l=o&&o!==r?Xp(o.calcTransformMatrix(),r.calcTransformMatrix()):null,u=l?e.getRelativeCenterPoint().transform(l):e.getRelativeCenterPoint(),h=!e.isStrokeAccountedForInDimensions(),f=t&&h?$R(new ct(n,n),void 0,r.calcTransformMatrix()):Zv,m=!t&&h?n:0,x=ty(a+m,i+m,Jv([l,e.calcOwnMatrix()],!0)).add(f).scalarDivide(2);return[u.subtract(x),u.add(x)]};class Zp{calcLayoutResult(e,t){if(this.shouldPerformLayout(e))return this.calcBoundingBox(t,e)}shouldPerformLayout(e){let{type:t,prevStrategy:n,strategy:a}=e;return t===pc||t===Op||!!n&&a!==n}shouldLayoutClipPath(e){let{type:t,target:{clipPath:n}}=e;return t!==pc&&n&&!n.absolutePositioned}getInitialSize(e,t){return t.size}calcBoundingBox(e,t){const{type:n,target:a}=t;if(n===Op&&t.overrides)return t.overrides;if(e.length===0)return;const{left:i,top:o,width:l,height:u}=yc(e.map((m=>nk(a,m))).reduce(((m,x)=>m.concat(x)),[])),h=new ct(l,u),f=new ct(i,o).add(h.scalarDivide(2));if(n===pc){const m=this.getInitialSize(t,{size:h,center:f});return{center:f,relativeCorrection:new ct(0,0),size:m}}return{center:f.transform(a.calcOwnMatrix()),size:h}}}Ie(Zp,"type","strategy");class Jx extends Zp{shouldPerformLayout(e){return!0}}Ie(Jx,"type","fit-content"),qt.setClass(Jx);const fB=["strategy"],dB=["target","strategy","bubbles","prevStrategy"],ak="layoutManager";class zd{constructor(){let e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:new Jx;Ie(this,"strategy",void 0),this.strategy=e,this._subscriptions=new Map}performLayout(e){const t=ze(ze({bubbles:!0,strategy:this.strategy},e),{},{prevStrategy:this._prevLayoutStrategy,stopPropagation(){this.bubbles=!1}});this.onBeforeLayout(t);const n=this.getLayoutResult(t);n&&this.commitLayout(t,n),this.onAfterLayout(t,n),this._prevLayoutStrategy=t.strategy}attachHandlers(e,t){const{target:n}=t;return[_p,b6,Rd,w6,qp,_6,wp,jR,RR].map((a=>e.on(a,(i=>this.performLayout(a===_p?{type:"object_modified",trigger:a,e:i,target:n}:{type:"object_modifying",trigger:a,e:i,target:n})))))}subscribe(e,t){this.unsubscribe(e,t);const n=this.attachHandlers(e,t);this._subscriptions.set(e,n)}unsubscribe(e,t){(this._subscriptions.get(e)||[]).forEach((n=>n())),this._subscriptions.delete(e)}unsubscribeTargets(e){e.targets.forEach((t=>this.unsubscribe(t,e)))}subscribeTargets(e){e.targets.forEach((t=>this.subscribe(t,e)))}onBeforeLayout(e){const{target:t,type:n}=e,{canvas:a}=t;if(n===pc||n===Np?this.subscribeTargets(e):n===uy&&this.unsubscribeTargets(e),t.fire("layout:before",{context:e}),a&&a.fire("object:layout:before",{target:t,context:e}),n===Op&&e.deep){const i=On(e,fB);t.forEachObject((o=>o.layoutManager&&o.layoutManager.performLayout(ze(ze({},i),{},{bubbles:!1,target:o}))))}}getLayoutResult(e){const{target:t,strategy:n,type:a}=e,i=n.calcLayoutResult(e,t.getObjects());if(!i)return;const o=a===pc?new ct:t.getRelativeCenterPoint(),{center:l,correction:u=new ct,relativeCorrection:h=new ct}=i,f=o.subtract(l).add(u).transform(a===pc?qi:Xo(t.calcOwnMatrix()),!0).add(h);return{result:i,prevCenter:o,nextCenter:l,offset:f}}commitLayout(e,t){const{target:n}=e,{result:{size:a},nextCenter:i}=t;var o,l;n.set({width:a.x,height:a.y}),this.layoutObjects(e,t),e.type===pc?n.set({left:(o=e.x)!==null&&o!==void 0?o:i.x+a.x*Sa(n.originX),top:(l=e.y)!==null&&l!==void 0?l:i.y+a.y*Sa(n.originY)}):(n.setPositionByOrigin(i,Sr,Sr),n.setCoords(),n.set("dirty",!0))}layoutObjects(e,t){const{target:n}=e;n.forEachObject((a=>{a.group===n&&this.layoutObject(e,t,a)})),e.strategy.shouldLayoutClipPath(e)&&this.layoutObject(e,t,n.clipPath)}layoutObject(e,t,n){let{offset:a}=t;n.set({left:n.left+a.x,top:n.top+a.y})}onAfterLayout(e,t){const{target:n,strategy:a,bubbles:i,prevStrategy:o}=e,l=On(e,dB),{canvas:u}=n;n.fire("layout:after",{context:e,result:t}),u&&u.fire("object:layout:after",{context:e,result:t,target:n});const h=n.parent;i&&h!=null&&h.layoutManager&&((l.path||(l.path=[])).push(n),h.layoutManager.performLayout(ze(ze({},l),{},{target:h}))),n.set("dirty",!0)}dispose(){const{_subscriptions:e}=this;e.forEach((t=>t.forEach((n=>n())))),e.clear()}toObject(){return{type:ak,strategy:this.strategy.constructor.type}}toJSON(){return this.toObject()}}qt.setClass(zd,ak);const gB=["type","objects","layoutManager"];class pB extends zd{performLayout(){}}class $o extends S6(Ti){static getDefaults(){return ze(ze({},super.getDefaults()),$o.ownDefaults)}constructor(){let e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[],t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};super(),Ie(this,"_activeObjects",[]),Ie(this,"__objectSelectionTracker",void 0),Ie(this,"__objectSelectionDisposer",void 0),Object.assign(this,$o.ownDefaults),this.setOptions(t),this.groupInit(e,t)}groupInit(e,t){var n;this._objects=[...e],this.__objectSelectionTracker=this.__objectSelectionMonitor.bind(this,!0),this.__objectSelectionDisposer=this.__objectSelectionMonitor.bind(this,!1),this.forEachObject((a=>{this.enterGroup(a,!1)})),this.layoutManager=(n=t.layoutManager)!==null&&n!==void 0?n:new zd,this.layoutManager.performLayout({type:pc,target:this,targets:[...e],x:t.left,y:t.top})}canEnterGroup(e){return e===this||this.isDescendantOf(e)?(ku("error","Group: circular object trees are not supported, this call has no effect"),!1):this._objects.indexOf(e)===-1||(ku("error","Group: duplicate objects are not supported inside group, this call has no effect"),!1)}_filterObjectsBeforeEnteringGroup(e){return e.filter(((t,n,a)=>this.canEnterGroup(t)&&a.indexOf(t)===n))}add(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];const a=this._filterObjectsBeforeEnteringGroup(t),i=super.add(...a);return this._onAfterObjectsChange(Np,a),i}insertAt(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),a=1;a<t;a++)n[a-1]=arguments[a];const i=this._filterObjectsBeforeEnteringGroup(n),o=super.insertAt(e,...i);return this._onAfterObjectsChange(Np,i),o}remove(){const e=super.remove(...arguments);return this._onAfterObjectsChange(uy,e),e}_onObjectAdded(e){this.enterGroup(e,!0),this.fire("object:added",{target:e}),e.fire("added",{target:this})}_onObjectRemoved(e,t){this.exitGroup(e,t),this.fire("object:removed",{target:e}),e.fire("removed",{target:this})}_onAfterObjectsChange(e,t){this.layoutManager.performLayout({type:e,targets:t,target:this})}_onStackOrderChanged(){this._set("dirty",!0)}_set(e,t){const n=this[e];return super._set(e,t),e==="canvas"&&n!==t&&(this._objects||[]).forEach((a=>{a._set(e,t)})),this}_shouldSetNestedCoords(){return this.subTargetCheck}removeAll(){return this._activeObjects=[],this.remove(...this._objects)}__objectSelectionMonitor(e,t){let{target:n}=t;const a=this._activeObjects;if(e)a.push(n),this._set("dirty",!0);else if(a.length>0){const i=a.indexOf(n);i>-1&&(a.splice(i,1),this._set("dirty",!0))}}_watchObject(e,t){e&&this._watchObject(!1,t),e?(t.on("selected",this.__objectSelectionTracker),t.on("deselected",this.__objectSelectionDisposer)):(t.off("selected",this.__objectSelectionTracker),t.off("deselected",this.__objectSelectionDisposer))}enterGroup(e,t){e.group&&e.group.remove(e),e._set("parent",this),this._enterGroup(e,t)}_enterGroup(e,t){t&&Cp(e,li(Xo(this.calcTransformMatrix()),e.calcTransformMatrix())),this._shouldSetNestedCoords()&&e.setCoords(),e._set("group",this),e._set("canvas",this.canvas),this._watchObject(!0,e);const n=this.canvas&&this.canvas.getActiveObject&&this.canvas.getActiveObject();n&&(n===e||e.isDescendantOf(n))&&this._activeObjects.push(e)}exitGroup(e,t){this._exitGroup(e,t),e._set("parent",void 0),e._set("canvas",void 0)}_exitGroup(e,t){e._set("group",void 0),t||(Cp(e,li(this.calcTransformMatrix(),e.calcTransformMatrix())),e.setCoords()),this._watchObject(!1,e);const n=this._activeObjects.length>0?this._activeObjects.indexOf(e):-1;n>-1&&this._activeObjects.splice(n,1)}shouldCache(){const e=Ti.prototype.shouldCache.call(this);if(e){for(let t=0;t<this._objects.length;t++)if(this._objects[t].willDrawShadow())return this.ownCaching=!1,!1}return e}willDrawShadow(){if(super.willDrawShadow())return!0;for(let e=0;e<this._objects.length;e++)if(this._objects[e].willDrawShadow())return!0;return!1}isOnACache(){return this.ownCaching||!!this.parent&&this.parent.isOnACache()}drawObject(e,t,n){this._renderBackground(e);for(let i=0;i<this._objects.length;i++){var a;const o=this._objects[i];(a=this.canvas)!==null&&a!==void 0&&a.preserveObjectStacking&&o.group!==this?(e.save(),e.transform(...Xo(this.calcTransformMatrix())),o.render(e),e.restore()):o.group===this&&o.render(e)}this._drawClipPath(e,this.clipPath,n)}setCoords(){super.setCoords(),this._shouldSetNestedCoords()&&this.forEachObject((e=>e.setCoords()))}triggerLayout(){let e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};this.layoutManager.performLayout(ze({target:this,type:Op},e))}render(e){this._transformDone=!0,super.render(e),this._transformDone=!1}__serializeObjects(e,t){const n=this.includeDefaultValues;return this._objects.filter((function(a){return!a.excludeFromExport})).map((function(a){const i=a.includeDefaultValues;a.includeDefaultValues=n;const o=a[e||"toObject"](t);return a.includeDefaultValues=i,o}))}toObject(){let e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[];const t=this.layoutManager.toObject();return ze(ze(ze({},super.toObject(["subTargetCheck","interactive",...e])),t.strategy!=="fit-content"||this.includeDefaultValues?{layoutManager:t}:{}),{},{objects:this.__serializeObjects("toObject",e)})}toString(){return"#<Group: (".concat(this.complexity(),")>")}dispose(){this.layoutManager.unsubscribeTargets({targets:this.getObjects(),target:this}),this._activeObjects=[],this.forEachObject((e=>{this._watchObject(!1,e),e.dispose()})),super.dispose()}_createSVGBgRect(e){if(!this.backgroundColor)return"";const t=ka.prototype._toSVG.call(this),n=t.indexOf("COMMON_PARTS");t[n]='for="group" ';const a=t.join("");return e?e(a):a}_toSVG(e){const t=["<g ","COMMON_PARTS",` >
`],n=this._createSVGBgRect(e);n&&t.push("		",n);for(let a=0;a<this._objects.length;a++)t.push("		",this._objects[a].toSVG(e));return t.push(`</g>
`),t}getSvgStyles(){const e=this.opacity!==void 0&&this.opacity!==1?"opacity: ".concat(this.opacity,";"):"",t=this.visible?"":" visibility: hidden;";return[e,this.getSvgFilter(),t].join("")}toClipPathSVG(e){const t=[],n=this._createSVGBgRect(e);n&&t.push("	",n);for(let a=0;a<this._objects.length;a++)t.push("	",this._objects[a].toClipPathSVG(e));return this._createBaseClipPathSVGMarkup(t,{reviver:e})}static fromObject(e,t){let{type:n,objects:a=[],layoutManager:i}=e,o=On(e,gB);return Promise.all([Bd(a,t),Wp(o,t)]).then((l=>{let[u,h]=l;const f=new this(u,ze(ze(ze({},o),h),{},{layoutManager:new pB}));if(i){const m=qt.getClass(i.type),x=qt.getClass(i.strategy);f.layoutManager=new m(new x)}else f.layoutManager=new zd;return f.layoutManager.subscribeTargets({type:pc,target:f,targets:f.getObjects()}),f.setCoords(),f}))}}Ie($o,"type","Group"),Ie($o,"ownDefaults",{strokeWidth:0,subTargetCheck:!1,interactive:!1}),qt.setClass($o);const mB=(r,e)=>Math.min(e.width/r.width,e.height/r.height),xB=(r,e)=>Math.max(e.width/r.width,e.height/r.height),Qx="\\s*,?\\s*",td="".concat(Qx,"(").concat(Ko,")"),vB="".concat(td).concat(td).concat(td).concat(Qx,"([01])").concat(Qx,"([01])").concat(td).concat(td),yB={m:"l",M:"L"},bB=(r,e,t,n,a,i,o,l,u,h,f)=>{const m=_c(r),x=Sc(r),g=_c(e),y=Sc(e),v=t*a*g-n*i*y+o,S=n*a*g+t*i*y+l;return["C",h+u*(-t*a*x-n*i*m),f+u*(-n*a*x+t*i*m),v+u*(t*a*y+n*i*g),S+u*(n*a*y-t*i*g),v,S]},q_=(r,e,t,n)=>{const a=Math.atan2(e,r),i=Math.atan2(n,t);return i>=a?i-a:2*Math.PI-(a-i)};function V_(r,e,t,n,a,i,o,l){let u;if(Gr.cachesBoundsOfCurve&&(u=[...arguments].join(),bd.boundsOfCurveCache[u]))return bd.boundsOfCurveCache[u];const h=Math.sqrt,f=Math.abs,m=[],x=[[0,0],[0,0]];let g=6*r-12*t+6*a,y=-3*r+9*t-9*a+3*o,v=3*t-3*r;for(let j=0;j<2;++j){if(j>0&&(g=6*e-12*n+6*i,y=-3*e+9*n-9*i+3*l,v=3*n-3*e),f(y)<1e-12){if(f(g)<1e-12)continue;const D=-v/g;0<D&&D<1&&m.push(D);continue}const W=g*g-4*v*y;if(W<0)continue;const ee=h(W),z=(-g+ee)/(2*y);0<z&&z<1&&m.push(z);const B=(-g-ee)/(2*y);0<B&&B<1&&m.push(B)}let S=m.length;const k=S,A=ik(r,e,t,n,a,i,o,l);for(;S--;){const{x:j,y:W}=A(m[S]);x[0][S]=j,x[1][S]=W}x[0][k]=r,x[1][k]=e,x[0][k+1]=o,x[1][k+1]=l;const N=[new ct(Math.min(...x[0]),Math.min(...x[1])),new ct(Math.max(...x[0]),Math.max(...x[1]))];return Gr.cachesBoundsOfCurve&&(bd.boundsOfCurveCache[u]=N),N}const wB=(r,e,t)=>{let[n,a,i,o,l,u,h,f]=t;const m=((x,g,y,v,S,k,A)=>{if(y===0||v===0)return[];let N=0,j=0,W=0;const ee=Math.PI,z=A*Yv,B=Sc(z),D=_c(z),Z=.5*(-D*x-B*g),q=.5*(-D*g+B*x),O=y**2,V=v**2,F=q**2,re=Z**2,ae=O*V-O*F-V*re;let J=Math.abs(y),ge=Math.abs(v);if(ae<0){const ce=Math.sqrt(1-ae/(O*V));J*=ce,ge*=ce}else W=(S===k?-1:1)*Math.sqrt(ae/(O*F+V*re));const te=W*J*q/ge,ke=-W*ge*Z/J,Y=D*te-B*ke+.5*x,w=B*te+D*ke+.5*g;let L=q_(1,0,(Z-te)/J,(q-ke)/ge),P=q_((Z-te)/J,(q-ke)/ge,(-Z-te)/J,(-q-ke)/ge);k===0&&P>0?P-=2*ee:k===1&&P<0&&(P+=2*ee);const U=Math.ceil(Math.abs(P/ee*2)),ie=[],fe=P/U,xe=8/3*Math.sin(fe/4)*Math.sin(fe/4)/Math.sin(fe/2);let ve=L+fe;for(let ce=0;ce<U;ce++)ie[ce]=bB(L,ve,D,B,J,ge,Y,w,xe,N,j),N=ie[ce][5],j=ie[ce][6],L=ve,ve+=fe;return ie})(h-r,f-e,a,i,l,u,o);for(let x=0,g=m.length;x<g;x++)m[x][1]+=r,m[x][2]+=e,m[x][3]+=r,m[x][4]+=e,m[x][5]+=r,m[x][6]+=e;return m},_B=r=>{let e=0,t=0,n=0,a=0;const i=[];let o,l=0,u=0;for(const h of r){const f=[...h];let m;switch(f[0]){case"l":f[1]+=e,f[2]+=t;case"L":e=f[1],t=f[2],m=["L",e,t];break;case"h":f[1]+=e;case"H":e=f[1],m=["L",e,t];break;case"v":f[1]+=t;case"V":t=f[1],m=["L",e,t];break;case"m":f[1]+=e,f[2]+=t;case"M":e=f[1],t=f[2],n=f[1],a=f[2],m=["M",e,t];break;case"c":f[1]+=e,f[2]+=t,f[3]+=e,f[4]+=t,f[5]+=e,f[6]+=t;case"C":l=f[3],u=f[4],e=f[5],t=f[6],m=["C",f[1],f[2],l,u,e,t];break;case"s":f[1]+=e,f[2]+=t,f[3]+=e,f[4]+=t;case"S":o==="C"?(l=2*e-l,u=2*t-u):(l=e,u=t),e=f[3],t=f[4],m=["C",l,u,f[1],f[2],e,t],l=m[3],u=m[4];break;case"q":f[1]+=e,f[2]+=t,f[3]+=e,f[4]+=t;case"Q":l=f[1],u=f[2],e=f[3],t=f[4],m=["Q",l,u,e,t];break;case"t":f[1]+=e,f[2]+=t;case"T":o==="Q"?(l=2*e-l,u=2*t-u):(l=e,u=t),e=f[1],t=f[2],m=["Q",l,u,e,t];break;case"a":f[6]+=e,f[7]+=t;case"A":wB(e,t,f).forEach((x=>i.push(x))),e=f[6],t=f[7];break;case"z":case"Z":e=n,t=a,m=["Z"]}m?(i.push(m),o=m[0]):o=""}return i},Dp=(r,e,t,n)=>Math.sqrt((t-r)**2+(n-e)**2),ik=(r,e,t,n,a,i,o,l)=>u=>{const h=u**3,f=(g=>3*g**2*(1-g))(u),m=(g=>3*g*(1-g)**2)(u),x=(g=>(1-g)**3)(u);return new ct(o*h+a*f+t*m+r*x,l*h+i*f+n*m+e*x)},sk=r=>r**2,ok=r=>2*r*(1-r),lk=r=>(1-r)**2,SB=(r,e,t,n,a,i,o,l)=>u=>{const h=sk(u),f=ok(u),m=lk(u),x=3*(m*(t-r)+f*(a-t)+h*(o-a)),g=3*(m*(n-e)+f*(i-n)+h*(l-i));return Math.atan2(g,x)},kB=(r,e,t,n,a,i)=>o=>{const l=sk(o),u=ok(o),h=lk(o);return new ct(a*l+t*u+r*h,i*l+n*u+e*h)},CB=(r,e,t,n,a,i)=>o=>{const l=1-o,u=2*(l*(t-r)+o*(a-t)),h=2*(l*(n-e)+o*(i-n));return Math.atan2(h,u)},G_=(r,e,t)=>{let n=new ct(e,t),a=0;for(let i=1;i<=100;i+=1){const o=r(i/100);a+=Dp(n.x,n.y,o.x,o.y),n=o}return a},TB=(r,e)=>{let t,n=0,a=0,i={x:r.x,y:r.y},o=ze({},i),l=.01,u=0;const h=r.iterator,f=r.angleFinder;for(;a<e&&l>1e-4;)o=h(n),u=n,t=Dp(i.x,i.y,o.x,o.y),t+a>e?(n-=l,l/=2):(i=o,n+=l,a+=t);return ze(ze({},o),{},{angle:f(u)})},ck=r=>{let e,t,n=0,a=0,i=0,o=0,l=0;const u=[];for(const h of r){const f={x:a,y:i,command:h[0],length:0};switch(h[0]){case"M":t=f,t.x=o=a=h[1],t.y=l=i=h[2];break;case"L":t=f,t.length=Dp(a,i,h[1],h[2]),a=h[1],i=h[2];break;case"C":e=ik(a,i,h[1],h[2],h[3],h[4],h[5],h[6]),t=f,t.iterator=e,t.angleFinder=SB(a,i,h[1],h[2],h[3],h[4],h[5],h[6]),t.length=G_(e,a,i),a=h[5],i=h[6];break;case"Q":e=kB(a,i,h[1],h[2],h[3],h[4]),t=f,t.iterator=e,t.angleFinder=CB(a,i,h[1],h[2],h[3],h[4]),t.length=G_(e,a,i),a=h[3],i=h[4];break;case"Z":t=f,t.destX=o,t.destY=l,t.length=Dp(a,i,o,l),a=o,i=l}n+=t.length,u.push(t)}return u.push({length:n,x:a,y:i}),u},AB=function(r,e){let t=arguments.length>2&&arguments[2]!==void 0?arguments[2]:ck(r),n=0;for(;e-t[n].length>0&&n<t.length-2;)e-=t[n].length,n++;const a=t[n],i=e/a.length,o=r[n];switch(a.command){case"M":return{x:a.x,y:a.y,angle:0};case"Z":return ze(ze({},new ct(a.x,a.y).lerp(new ct(a.destX,a.destY),i)),{},{angle:Math.atan2(a.destY-a.y,a.destX-a.x)});case"L":return ze(ze({},new ct(a.x,a.y).lerp(new ct(o[1],o[2]),i)),{},{angle:Math.atan2(o[2]-a.y,o[1]-a.x)});case"C":case"Q":return TB(a,e)}},EB=new RegExp("[mzlhvcsqta][^mzlhvcsqta]*","gi"),W_=new RegExp(vB,"g"),NB=new RegExp(Ko,"gi"),OB={m:2,l:2,h:1,v:1,c:6,s:4,q:4,t:2,a:7},DB=r=>{var e;const t=[],n=(e=r.match(EB))!==null&&e!==void 0?e:[];for(const a of n){const i=a[0];if(i==="z"||i==="Z"){t.push([i]);continue}const o=OB[i.toLowerCase()];let l=[];if(i==="a"||i==="A"){W_.lastIndex=0;for(let u=null;u=W_.exec(a);)l.push(...u.slice(1))}else l=a.match(NB)||[];for(let u=0;u<l.length;u+=o){const h=new Array(o),f=yB[i];h[0]=u>0&&f?f:i;for(let m=0;m<o;m++)h[m+1]=parseFloat(l[u+m]);t.push(h)}}return t},LB=(r,e)=>r.map((t=>t.map(((n,a)=>a===0||e===void 0?n:vn(n,e))).join(" "))).join(" ");function ev(r,e){const t=r.style;t&&e&&(typeof e=="string"?t.cssText+=";"+e:Object.entries(e).forEach((n=>{let[a,i]=n;return t.setProperty(a,i)})))}class FB extends M6{constructor(e){let{allowTouchScrolling:t=!1,containerClass:n=""}=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};super(e),Ie(this,"upper",void 0),Ie(this,"container",void 0);const{el:a}=this.lower,i=this.createUpperCanvas();this.upper={el:i,ctx:i.getContext("2d")},this.applyCanvasStyle(a,{allowTouchScrolling:t}),this.applyCanvasStyle(i,{allowTouchScrolling:t,styles:{position:"absolute",left:"0",top:"0"}});const o=this.createContainerElement();o.classList.add(n),a.parentNode&&a.parentNode.replaceChild(o,a),o.append(a,i),this.container=o}createUpperCanvas(){const{el:e}=this.lower,t=kc();return t.className=e.className,t.classList.remove("lower-canvas"),t.classList.add("upper-canvas"),t.setAttribute("data-fabric","top"),t.style.cssText=e.style.cssText,t.setAttribute("draggable","true"),t}createContainerElement(){const e=c0().createElement("div");return e.setAttribute("data-fabric","wrapper"),ev(e,{position:"relative"}),x_(e),e}applyCanvasStyle(e,t){const{styles:n,allowTouchScrolling:a}=t;ev(e,ze(ze({},n),{},{"touch-action":a?"manipulation":us})),x_(e)}setDimensions(e,t){super.setDimensions(e,t);const{el:n,ctx:a}=this.upper;F6(n,a,e,t)}setCSSDimensions(e){super.setCSSDimensions(e),Wx(this.upper.el,e),Wx(this.container,e)}cleanupDOM(e){const t=this.container,{el:n}=this.lower,{el:a}=this.upper;super.cleanupDOM(e),t.removeChild(a),t.removeChild(n),t.parentNode&&t.parentNode.replaceChild(n,t)}dispose(){super.dispose(),Dl().dispose(this.upper.el),delete this.upper,delete this.container}}class Jp extends Yp{constructor(){super(...arguments),Ie(this,"targets",[]),Ie(this,"_hoveredTargets",[]),Ie(this,"_currentTransform",null),Ie(this,"_groupSelector",null),Ie(this,"contextTopDirty",!1)}static getDefaults(){return ze(ze({},super.getDefaults()),Jp.ownDefaults)}get upperCanvasEl(){var e;return(e=this.elements.upper)===null||e===void 0?void 0:e.el}get contextTop(){var e;return(e=this.elements.upper)===null||e===void 0?void 0:e.ctx}get wrapperEl(){return this.elements.container}initElements(e){this.elements=new FB(e,{allowTouchScrolling:this.allowTouchScrolling,containerClass:this.containerClass}),this._createCacheCanvas()}_onObjectAdded(e){this._objectsToRender=void 0,super._onObjectAdded(e)}_onObjectRemoved(e){this._objectsToRender=void 0,e===this._activeObject&&(this.fire("before:selection:cleared",{deselected:[e]}),this._discardActiveObject(),this.fire("selection:cleared",{deselected:[e]}),e.fire("deselected",{target:e})),e===this._hoveredTarget&&(this._hoveredTarget=void 0,this._hoveredTargets=[]),super._onObjectRemoved(e)}_onStackOrderChanged(){this._objectsToRender=void 0,super._onStackOrderChanged()}_chooseObjectsToRender(){const e=this._activeObject;return!this.preserveObjectStacking&&e?this._objects.filter((t=>!t.group&&t!==e)).concat(e):this._objects}renderAll(){this.cancelRequestedRender(),this.destroyed||(!this.contextTopDirty||this._groupSelector||this.isDrawingMode||(this.clearContext(this.contextTop),this.contextTopDirty=!1),this.hasLostContext&&(this.renderTopLayer(this.contextTop),this.hasLostContext=!1),!this._objectsToRender&&(this._objectsToRender=this._chooseObjectsToRender()),this.renderCanvas(this.getContext(),this._objectsToRender))}renderTopLayer(e){e.save(),this.isDrawingMode&&this._isCurrentlyDrawing&&(this.freeDrawingBrush&&this.freeDrawingBrush._render(),this.contextTopDirty=!0),this.selection&&this._groupSelector&&(this._drawSelection(e),this.contextTopDirty=!0),e.restore()}renderTop(){const e=this.contextTop;this.clearContext(e),this.renderTopLayer(e),this.fire("after:render",{ctx:e})}setTargetFindTolerance(e){e=Math.round(e),this.targetFindTolerance=e;const t=this.getRetinaScaling(),n=Math.ceil((2*e+1)*t);this.pixelFindCanvasEl.width=this.pixelFindCanvasEl.height=n,this.pixelFindContext.scale(t,t)}isTargetTransparent(e,t,n){const a=this.targetFindTolerance,i=this.pixelFindContext;this.clearContext(i),i.save(),i.translate(-t+a,-n+a),i.transform(...this.viewportTransform);const o=e.selectionBackgroundColor;e.selectionBackgroundColor="",e.render(i),e.selectionBackgroundColor=o,i.restore();const l=Math.round(a*this.getRetinaScaling());return B9(i,l,l,l)}_isSelectionKeyPressed(e){const t=this.selectionKey;return!!t&&(Array.isArray(t)?!!t.find((n=>!!n&&e[n]===!0)):e[t])}_shouldClearSelection(e,t){const n=this.getActiveObjects(),a=this._activeObject;return!!(!t||t&&a&&n.length>1&&n.indexOf(t)===-1&&a!==t&&!this._isSelectionKeyPressed(e)||t&&!t.evented||t&&!t.selectable&&a&&a!==t)}_shouldCenterTransform(e,t,n){if(!e)return;let a;return t===Vp||t===fs||t===oo||t===Rd?a=this.centeredScaling||e.centeredScaling:t===$v&&(a=this.centeredRotation||e.centeredRotation),a?!n:n}_getOriginFromCorner(e,t){const n={x:e.originX,y:e.originY};return t&&(["ml","tl","bl"].includes(t)?n.x=oa:["mr","tr","br"].includes(t)&&(n.x=en),["tl","mt","tr"].includes(t)?n.y=Gx:["bl","mb","br"].includes(t)&&(n.y=cs)),n}_setupCurrentTransform(e,t,n){var a;const i=t.group?Wf(this.getScenePoint(e),void 0,t.group.calcTransformMatrix()):this.getScenePoint(e),{key:o="",control:l}=t.getActiveControl()||{},u=n&&l?(a=l.getActionHandler(e,t,l))===null||a===void 0?void 0:a.bind(l):QR,h=((g,y,v,S)=>{if(!y||!g)return"drag";const k=S.controls[y];return k.getActionName(v,k,S)})(n,o,e,t),f=e[this.centeredKey],m=this._shouldCenterTransform(t,h,f)?{x:Sr,y:Sr}:this._getOriginFromCorner(t,o),x={target:t,action:h,actionHandler:u,actionPerformed:!1,corner:o,scaleX:t.scaleX,scaleY:t.scaleY,skewX:t.skewX,skewY:t.skewY,offsetX:i.x-t.left,offsetY:i.y-t.top,originX:m.x,originY:m.y,ex:i.x,ey:i.y,lastX:i.x,lastY:i.y,theta:ha(t.angle),width:t.width,height:t.height,shiftKey:e.shiftKey,altKey:f,original:ze(ze({},R6(t)),{},{originX:m.x,originY:m.y})};this._currentTransform=x,this.fire("before:transform",{e,transform:x})}setCursor(e){this.upperCanvasEl.style.cursor=e}_drawSelection(e){const{x:t,y:n,deltaX:a,deltaY:i}=this._groupSelector,o=new ct(t,n).transform(this.viewportTransform),l=new ct(t+a,n+i).transform(this.viewportTransform),u=this.selectionLineWidth/2;let h=Math.min(o.x,l.x),f=Math.min(o.y,l.y),m=Math.max(o.x,l.x),x=Math.max(o.y,l.y);this.selectionColor&&(e.fillStyle=this.selectionColor,e.fillRect(h,f,m-h,x-f)),this.selectionLineWidth&&this.selectionBorderColor&&(e.lineWidth=this.selectionLineWidth,e.strokeStyle=this.selectionBorderColor,h+=u,f+=u,m-=u,x-=u,Ti.prototype._setLineDash.call(this,e,this.selectionDashArray),e.strokeRect(h,f,m-h,x-f))}findTarget(e){if(this.skipTargetFind)return;const t=this.getViewportPoint(e),n=this._activeObject,a=this.getActiveObjects();if(this.targets=[],n&&a.length>=1){if(n.findControl(t,Yx(e))||a.length>1&&this.searchPossibleTargets([n],t))return n;if(n===this.searchPossibleTargets([n],t)){if(this.preserveObjectStacking){const i=this.targets;this.targets=[];const o=this.searchPossibleTargets(this._objects,t);return e[this.altSelectionKey]&&o&&o!==n?(this.targets=i,n):o}return n}}return this.searchPossibleTargets(this._objects,t)}_pointIsInObjectSelectionArea(e,t){let n=e.getCoords();const a=this.getZoom(),i=e.padding/a;if(i){const[o,l,u,h]=n,f=Math.atan2(l.y-o.y,l.x-o.x),m=_c(f)*i,x=Sc(f)*i,g=m+x,y=m-x;n=[new ct(o.x-y,o.y-g),new ct(l.x+g,l.y-y),new ct(u.x+y,u.y+g),new ct(h.x-g,h.y+y)]}return qn.isPointInPolygon(t,n)}_checkTarget(e,t){return!!(e&&e.visible&&e.evented&&this._pointIsInObjectSelectionArea(e,Wf(t,void 0,this.viewportTransform))&&(!this.perPixelTargetFind&&!e.perPixelTargetFind||e.isEditing||!this.isTargetTransparent(e,t.x,t.y)))}_searchPossibleTargets(e,t){let n=e.length;for(;n--;){const a=e[n];if(this._checkTarget(a,t)){if(Gg(a)&&a.subTargetCheck){const i=this._searchPossibleTargets(a._objects,t);i&&this.targets.push(i)}return a}}}searchPossibleTargets(e,t){const n=this._searchPossibleTargets(e,t);if(n&&Gg(n)&&n.interactive&&this.targets[0]){const a=this.targets;for(let i=a.length-1;i>0;i--){const o=a[i];if(!Gg(o)||!o.interactive)return o}return a[0]}return n}getViewportPoint(e){return this._pointer?this._pointer:this.getPointer(e,!0)}getScenePoint(e){return this._absolutePointer?this._absolutePointer:this.getPointer(e)}getPointer(e){let t=arguments.length>1&&arguments[1]!==void 0&&arguments[1];const n=this.upperCanvasEl,a=n.getBoundingClientRect();let i=WR(e),o=a.width||0,l=a.height||0;o&&l||(cs in a&&Gx in a&&(l=Math.abs(a.top-a.bottom)),oa in a&&en in a&&(o=Math.abs(a.right-a.left))),this.calcOffset(),i.x=i.x-this._offset.left,i.y=i.y-this._offset.top,t||(i=Wf(i,void 0,this.viewportTransform));const u=this.getRetinaScaling();u!==1&&(i.x/=u,i.y/=u);const h=o===0||l===0?new ct(1,1):new ct(n.width/o,n.height/l);return i.multiply(h)}_setDimensionsImpl(e,t){this._resetTransformEventData(),super._setDimensionsImpl(e,t),this._isCurrentlyDrawing&&this.freeDrawingBrush&&this.freeDrawingBrush._setBrushStyles(this.contextTop)}_createCacheCanvas(){this.pixelFindCanvasEl=kc(),this.pixelFindContext=this.pixelFindCanvasEl.getContext("2d",{willReadFrequently:!0}),this.setTargetFindTolerance(this.targetFindTolerance)}getTopContext(){return this.elements.upper.ctx}getSelectionContext(){return this.elements.upper.ctx}getSelectionElement(){return this.elements.upper.el}getActiveObject(){return this._activeObject}getActiveObjects(){const e=this._activeObject;return ih(e)?e.getObjects():e?[e]:[]}_fireSelectionEvents(e,t){let n=!1,a=!1;const i=this.getActiveObjects(),o=[],l=[];e.forEach((u=>{i.includes(u)||(n=!0,u.fire("deselected",{e:t,target:u}),l.push(u))})),i.forEach((u=>{e.includes(u)||(n=!0,u.fire("selected",{e:t,target:u}),o.push(u))})),e.length>0&&i.length>0?(a=!0,n&&this.fire("selection:updated",{e:t,selected:o,deselected:l})):i.length>0?(a=!0,this.fire("selection:created",{e:t,selected:o})):e.length>0&&(a=!0,this.fire("selection:cleared",{e:t,deselected:l})),a&&(this._objectsToRender=void 0)}setActiveObject(e,t){const n=this.getActiveObjects(),a=this._setActiveObject(e,t);return this._fireSelectionEvents(n,t),a}_setActiveObject(e,t){const n=this._activeObject;return n!==e&&!(!this._discardActiveObject(t,e)&&this._activeObject)&&!e.onSelect({e:t})&&(this._activeObject=e,ih(e)&&n!==e&&e.set("canvas",this),e.setCoords(),!0)}_discardActiveObject(e,t){const n=this._activeObject;return!!n&&!n.onDeselect({e,object:t})&&(this._currentTransform&&this._currentTransform.target===n&&this.endCurrentTransform(e),ih(n)&&n===this._hoveredTarget&&(this._hoveredTarget=void 0),this._activeObject=void 0,!0)}discardActiveObject(e){const t=this.getActiveObjects(),n=this.getActiveObject();t.length&&this.fire("before:selection:cleared",{e,deselected:[n]});const a=this._discardActiveObject(e);return this._fireSelectionEvents(t,e),a}endCurrentTransform(e){const t=this._currentTransform;this._finalizeCurrentTransform(e),t&&t.target&&(t.target.isMoving=!1),this._currentTransform=null}_finalizeCurrentTransform(e){const t=this._currentTransform,n=t.target,a={e,target:n,transform:t,action:t.action};n._scaling&&(n._scaling=!1),n.setCoords(),t.actionPerformed&&(this.fire("object:modified",a),n.fire(_p,a))}setViewportTransform(e){super.setViewportTransform(e);const t=this._activeObject;t&&t.setCoords()}destroy(){const e=this._activeObject;ih(e)&&(e.removeAll(),e.dispose()),delete this._activeObject,super.destroy(),this.pixelFindContext=null,this.pixelFindCanvasEl=void 0}clear(){this.discardActiveObject(),this._activeObject=void 0,this.clearContext(this.contextTop),super.clear()}drawControls(e){const t=this._activeObject;t&&t._renderControls(e)}_toObject(e,t,n){const a=this._realizeGroupTransformOnObject(e),i=super._toObject(e,t,n);return e.set(a),i}_realizeGroupTransformOnObject(e){const{group:t}=e;if(t&&ih(t)&&this._activeObject===t){const n=d0(e,["angle","flipX","flipY",en,fs,oo,u0,h0,cs]);return XR(e,t.calcOwnMatrix()),n}return{}}_setSVGObject(e,t,n){const a=this._realizeGroupTransformOnObject(t);super._setSVGObject(e,t,n),t.set(a)}}Ie(Jp,"ownDefaults",{uniformScaling:!0,uniScaleKey:"shiftKey",centeredScaling:!1,centeredRotation:!1,centeredKey:"altKey",altActionKey:"shiftKey",selection:!0,selectionKey:"shiftKey",selectionColor:"rgba(100, 100, 255, 0.3)",selectionDashArray:[],selectionBorderColor:"rgba(255, 255, 255, 0.3)",selectionLineWidth:1,selectionFullyContained:!1,hoverCursor:"move",moveCursor:"move",defaultCursor:"default",freeDrawingCursor:"crosshair",notAllowedCursor:"not-allowed",perPixelTargetFind:!1,targetFindTolerance:0,skipTargetFind:!1,stopContextMenu:!1,fireRightClick:!1,fireMiddleClick:!1,enablePointerEvents:!1,containerClass:"canvas-container",preserveObjectStacking:!1});class MB{constructor(e){Ie(this,"targets",[]),Ie(this,"__disposer",void 0);const t=()=>{const{hiddenTextarea:a}=e.getActiveObject()||{};a&&a.focus()},n=e.upperCanvasEl;n.addEventListener("click",t),this.__disposer=()=>n.removeEventListener("click",t)}exitTextEditing(){this.target=void 0,this.targets.forEach((e=>{e.isEditing&&e.exitEditing()}))}add(e){this.targets.push(e)}remove(e){this.unregister(e),jf(this.targets,e)}register(e){this.target=e}unregister(e){e===this.target&&(this.target=void 0)}onMouseMove(e){var t;!((t=this.target)===null||t===void 0)&&t.isEditing&&this.target.updateSelectionOnMouseMove(e)}clear(){this.targets=[],this.target=void 0}dispose(){this.clear(),this.__disposer(),delete this.__disposer}}const jB=["target","oldTarget","fireCanvas","e"],Es={passive:!1},Tf=(r,e)=>{const t=r.getViewportPoint(e),n=r.getScenePoint(e);return{viewportPoint:t,scenePoint:n,pointer:t,absolutePointer:n}},hu=function(r){for(var e=arguments.length,t=new Array(e>1?e-1:0),n=1;n<e;n++)t[n-1]=arguments[n];return r.addEventListener(...t)},eo=function(r){for(var e=arguments.length,t=new Array(e>1?e-1:0),n=1;n<e;n++)t[n-1]=arguments[n];return r.removeEventListener(...t)},RB={mouse:{in:"over",out:"out",targetIn:"mouseover",targetOut:"mouseout",canvasIn:"mouse:over",canvasOut:"mouse:out"},drag:{in:"enter",out:"leave",targetIn:"dragenter",targetOut:"dragleave",canvasIn:"drag:enter",canvasOut:"drag:leave"}};class tv extends Jp{constructor(e){super(e,arguments.length>1&&arguments[1]!==void 0?arguments[1]:{}),Ie(this,"_isClick",void 0),Ie(this,"textEditingManager",new MB(this)),["_onMouseDown","_onTouchStart","_onMouseMove","_onMouseUp","_onTouchEnd","_onResize","_onMouseWheel","_onMouseOut","_onMouseEnter","_onContextMenu","_onClick","_onDragStart","_onDragEnd","_onDragProgress","_onDragOver","_onDragEnter","_onDragLeave","_onDrop"].forEach((t=>{this[t]=this[t].bind(this)})),this.addOrRemove(hu,"add")}_getEventPrefix(){return this.enablePointerEvents?"pointer":"mouse"}addOrRemove(e,t){const n=this.upperCanvasEl,a=this._getEventPrefix();e(L6(n),"resize",this._onResize),e(n,a+"down",this._onMouseDown),e(n,"".concat(a,"move"),this._onMouseMove,Es),e(n,"".concat(a,"out"),this._onMouseOut),e(n,"".concat(a,"enter"),this._onMouseEnter),e(n,"wheel",this._onMouseWheel,{passive:!1}),e(n,"contextmenu",this._onContextMenu),e(n,"click",this._onClick),e(n,"dblclick",this._onClick),e(n,"dragstart",this._onDragStart),e(n,"dragend",this._onDragEnd),e(n,"dragover",this._onDragOver),e(n,"dragenter",this._onDragEnter),e(n,"dragleave",this._onDragLeave),e(n,"drop",this._onDrop),this.enablePointerEvents||e(n,"touchstart",this._onTouchStart,Es)}removeListeners(){this.addOrRemove(eo,"remove");const e=this._getEventPrefix(),t=Go(this.upperCanvasEl);eo(t,"".concat(e,"up"),this._onMouseUp),eo(t,"touchend",this._onTouchEnd,Es),eo(t,"".concat(e,"move"),this._onMouseMove,Es),eo(t,"touchmove",this._onMouseMove,Es),clearTimeout(this._willAddMouseDown)}_onMouseWheel(e){this.__onMouseWheel(e)}_onMouseOut(e){const t=this._hoveredTarget,n=ze({e},Tf(this,e));this.fire("mouse:out",ze(ze({},n),{},{target:t})),this._hoveredTarget=void 0,t&&t.fire("mouseout",ze({},n)),this._hoveredTargets.forEach((a=>{this.fire("mouse:out",ze(ze({},n),{},{target:a})),a&&a.fire("mouseout",ze({},n))})),this._hoveredTargets=[]}_onMouseEnter(e){this._currentTransform||this.findTarget(e)||(this.fire("mouse:over",ze({e},Tf(this,e))),this._hoveredTarget=void 0,this._hoveredTargets=[])}_onDragStart(e){this._isClick=!1;const t=this.getActiveObject();if(t&&t.onDragStart(e)){this._dragSource=t;const n={e,target:t};return this.fire("dragstart",n),t.fire("dragstart",n),void hu(this.upperCanvasEl,"drag",this._onDragProgress)}v_(e)}_renderDragEffects(e,t,n){let a=!1;const i=this._dropTarget;i&&i!==t&&i!==n&&(i.clearContextTop(),a=!0),t==null||t.clearContextTop(),n!==t&&(n==null||n.clearContextTop());const o=this.contextTop;o.save(),o.transform(...this.viewportTransform),t&&(o.save(),t.transform(o),t.renderDragSourceEffect(e),o.restore(),a=!0),n&&(o.save(),n.transform(o),n.renderDropTargetEffect(e),o.restore(),a=!0),o.restore(),a&&(this.contextTopDirty=!0)}_onDragEnd(e){const t=!!e.dataTransfer&&e.dataTransfer.dropEffect!==us,n=t?this._activeObject:void 0,a={e,target:this._dragSource,subTargets:this.targets,dragSource:this._dragSource,didDrop:t,dropTarget:n};eo(this.upperCanvasEl,"drag",this._onDragProgress),this.fire("dragend",a),this._dragSource&&this._dragSource.fire("dragend",a),delete this._dragSource,this._onMouseUp(e)}_onDragProgress(e){const t={e,target:this._dragSource,dragSource:this._dragSource,dropTarget:this._draggedoverTarget};this.fire("drag",t),this._dragSource&&this._dragSource.fire("drag",t)}findDragTargets(e){return this.targets=[],{target:this._searchPossibleTargets(this._objects,this.getViewportPoint(e)),targets:[...this.targets]}}_onDragOver(e){const t="dragover",{target:n,targets:a}=this.findDragTargets(e),i=this._dragSource,o={e,target:n,subTargets:a,dragSource:i,canDrop:!1,dropTarget:void 0};let l;this.fire(t,o),this._fireEnterLeaveEvents(n,o),n&&(n.canDrop(e)&&(l=n),n.fire(t,o));for(let u=0;u<a.length;u++){const h=a[u];h.canDrop(e)&&(l=h),h.fire(t,o)}this._renderDragEffects(e,i,l),this._dropTarget=l}_onDragEnter(e){const{target:t,targets:n}=this.findDragTargets(e),a={e,target:t,subTargets:n,dragSource:this._dragSource};this.fire("dragenter",a),this._fireEnterLeaveEvents(t,a)}_onDragLeave(e){const t={e,target:this._draggedoverTarget,subTargets:this.targets,dragSource:this._dragSource};this.fire("dragleave",t),this._fireEnterLeaveEvents(void 0,t),this._renderDragEffects(e,this._dragSource),this._dropTarget=void 0,this.targets=[],this._hoveredTargets=[]}_onDrop(e){const{target:t,targets:n}=this.findDragTargets(e),a=this._basicEventHandler("drop:before",ze({e,target:t,subTargets:n,dragSource:this._dragSource},Tf(this,e)));a.didDrop=!1,a.dropTarget=void 0,this._basicEventHandler("drop",a),this.fire("drop:after",a)}_onContextMenu(e){const t=this.findTarget(e),n=this.targets||[],a=this._basicEventHandler("contextmenu:before",{e,target:t,subTargets:n});return this.stopContextMenu&&v_(e),this._basicEventHandler("contextmenu",a),!1}_onClick(e){const t=e.detail;t>3||t<2||(this._cacheTransformEventData(e),t==2&&e.type==="dblclick"&&this._handleEvent(e,"dblclick"),t==3&&this._handleEvent(e,"tripleclick"),this._resetTransformEventData())}getPointerId(e){const t=e.changedTouches;return t?t[0]&&t[0].identifier:this.enablePointerEvents?e.pointerId:-1}_isMainEvent(e){return e.isPrimary===!0||e.isPrimary!==!1&&(e.type==="touchend"&&e.touches.length===0||!e.changedTouches||e.changedTouches[0].identifier===this.mainTouchId)}_onTouchStart(e){let t=!this.allowTouchScrolling;const n=this._activeObject;this.mainTouchId===void 0&&(this.mainTouchId=this.getPointerId(e)),this.__onMouseDown(e),(this.isDrawingMode||n&&this._target===n)&&(t=!0),t&&e.preventDefault(),this._resetTransformEventData();const a=this.upperCanvasEl,i=this._getEventPrefix(),o=Go(a);hu(o,"touchend",this._onTouchEnd,Es),t&&hu(o,"touchmove",this._onMouseMove,Es),eo(a,"".concat(i,"down"),this._onMouseDown)}_onMouseDown(e){this.__onMouseDown(e),this._resetTransformEventData();const t=this.upperCanvasEl,n=this._getEventPrefix();eo(t,"".concat(n,"move"),this._onMouseMove,Es);const a=Go(t);hu(a,"".concat(n,"up"),this._onMouseUp),hu(a,"".concat(n,"move"),this._onMouseMove,Es)}_onTouchEnd(e){if(e.touches.length>0)return;this.__onMouseUp(e),this._resetTransformEventData(),delete this.mainTouchId;const t=this._getEventPrefix(),n=Go(this.upperCanvasEl);eo(n,"touchend",this._onTouchEnd,Es),eo(n,"touchmove",this._onMouseMove,Es),this._willAddMouseDown&&clearTimeout(this._willAddMouseDown),this._willAddMouseDown=setTimeout((()=>{hu(this.upperCanvasEl,"".concat(t,"down"),this._onMouseDown),this._willAddMouseDown=0}),400)}_onMouseUp(e){this.__onMouseUp(e),this._resetTransformEventData();const t=this.upperCanvasEl,n=this._getEventPrefix();if(this._isMainEvent(e)){const a=Go(this.upperCanvasEl);eo(a,"".concat(n,"up"),this._onMouseUp),eo(a,"".concat(n,"move"),this._onMouseMove,Es),hu(t,"".concat(n,"move"),this._onMouseMove,Es)}}_onMouseMove(e){const t=this.getActiveObject();!this.allowTouchScrolling&&(!t||!t.shouldStartDragging(e))&&e.preventDefault&&e.preventDefault(),this.__onMouseMove(e)}_onResize(){this.calcOffset(),this._resetTransformEventData()}_shouldRender(e){const t=this.getActiveObject();return!!t!=!!e||t&&e&&t!==e}__onMouseUp(e){var t;this._cacheTransformEventData(e),this._handleEvent(e,"up:before");const n=this._currentTransform,a=this._isClick,i=this._target,{button:o}=e;if(o)return(this.fireMiddleClick&&o===1||this.fireRightClick&&o===2)&&this._handleEvent(e,"up"),void this._resetTransformEventData();if(this.isDrawingMode&&this._isCurrentlyDrawing)return void this._onMouseUpInDrawingMode(e);if(!this._isMainEvent(e))return;let l,u,h=!1;if(n&&(this._finalizeCurrentTransform(e),h=n.actionPerformed),!a){const f=i===this._activeObject;this.handleSelection(e),h||(h=this._shouldRender(i)||!f&&i===this._activeObject)}if(i){const f=i.findControl(this.getViewportPoint(e),Yx(e)),{key:m,control:x}=f||{};if(u=m,i.selectable&&i!==this._activeObject&&i.activeOn==="up")this.setActiveObject(i,e),h=!0;else if(x){const g=x.getMouseUpHandler(e,i,x);g&&(l=this.getScenePoint(e),g.call(x,e,n,l.x,l.y))}i.isMoving=!1}if(n&&(n.target!==i||n.corner!==u)){const f=n.target&&n.target.controls[n.corner],m=f&&f.getMouseUpHandler(e,n.target,f);l=l||this.getScenePoint(e),m&&m.call(f,e,n,l.x,l.y)}this._setCursorFromEvent(e,i),this._handleEvent(e,"up"),this._groupSelector=null,this._currentTransform=null,i&&(i.__corner=void 0),h?this.requestRenderAll():a||(t=this._activeObject)!==null&&t!==void 0&&t.isEditing||this.renderTop()}_basicEventHandler(e,t){const{target:n,subTargets:a=[]}=t;this.fire(e,t),n&&n.fire(e,t);for(let i=0;i<a.length;i++)a[i]!==n&&a[i].fire(e,t);return t}_handleEvent(e,t,n){const a=this._target,i=this.targets||[],o=ze(ze(ze({e,target:a,subTargets:i},Tf(this,e)),{},{transform:this._currentTransform},t==="up:before"||t==="up"?{isClick:this._isClick,currentTarget:this.findTarget(e),currentSubTargets:this.targets}:{}),t==="down:before"||t==="down"?n:{});this.fire("mouse:".concat(t),o),a&&a.fire("mouse".concat(t),o);for(let l=0;l<i.length;l++)i[l]!==a&&i[l].fire("mouse".concat(t),o)}_onMouseDownInDrawingMode(e){this._isCurrentlyDrawing=!0,this.getActiveObject()&&(this.discardActiveObject(e),this.requestRenderAll());const t=this.getScenePoint(e);this.freeDrawingBrush&&this.freeDrawingBrush.onMouseDown(t,{e,pointer:t}),this._handleEvent(e,"down",{alreadySelected:!1})}_onMouseMoveInDrawingMode(e){if(this._isCurrentlyDrawing){const t=this.getScenePoint(e);this.freeDrawingBrush&&this.freeDrawingBrush.onMouseMove(t,{e,pointer:t})}this.setCursor(this.freeDrawingCursor),this._handleEvent(e,"move")}_onMouseUpInDrawingMode(e){const t=this.getScenePoint(e);this.freeDrawingBrush?this._isCurrentlyDrawing=!!this.freeDrawingBrush.onMouseUp({e,pointer:t}):this._isCurrentlyDrawing=!1,this._handleEvent(e,"up")}__onMouseDown(e){this._isClick=!0,this._cacheTransformEventData(e),this._handleEvent(e,"down:before");let t=this._target,n=!!t&&t===this._activeObject;const{button:a}=e;if(a)return(this.fireMiddleClick&&a===1||this.fireRightClick&&a===2)&&this._handleEvent(e,"down",{alreadySelected:n}),void this._resetTransformEventData();if(this.isDrawingMode)return void this._onMouseDownInDrawingMode(e);if(!this._isMainEvent(e)||this._currentTransform)return;let i=this._shouldRender(t),o=!1;if(this.handleMultiSelection(e,t)?(t=this._activeObject,o=!0,i=!0):this._shouldClearSelection(e,t)&&this.discardActiveObject(e),this.selection&&(!t||!t.selectable&&!t.isEditing&&t!==this._activeObject)){const l=this.getScenePoint(e);this._groupSelector={x:l.x,y:l.y,deltaY:0,deltaX:0}}if(n=!!t&&t===this._activeObject,t){t.selectable&&t.activeOn==="down"&&this.setActiveObject(t,e);const l=t.findControl(this.getViewportPoint(e),Yx(e));if(t===this._activeObject&&(l||!o)){this._setupCurrentTransform(e,t,n);const u=l?l.control:void 0,h=this.getScenePoint(e),f=u&&u.getMouseDownHandler(e,t,u);f&&f.call(u,e,this._currentTransform,h.x,h.y)}}i&&(this._objectsToRender=void 0),this._handleEvent(e,"down",{alreadySelected:n}),i&&this.requestRenderAll()}_resetTransformEventData(){this._target=this._pointer=this._absolutePointer=void 0}_cacheTransformEventData(e){this._resetTransformEventData(),this._pointer=this.getViewportPoint(e),this._absolutePointer=Wf(this._pointer,void 0,this.viewportTransform),this._target=this._currentTransform?this._currentTransform.target:this.findTarget(e)}__onMouseMove(e){if(this._isClick=!1,this._cacheTransformEventData(e),this._handleEvent(e,"move:before"),this.isDrawingMode)return void this._onMouseMoveInDrawingMode(e);if(!this._isMainEvent(e))return;const t=this._groupSelector;if(t){const n=this.getScenePoint(e);t.deltaX=n.x-t.x,t.deltaY=n.y-t.y,this.renderTop()}else if(this._currentTransform)this._transformObject(e);else{const n=this.findTarget(e);this._setCursorFromEvent(e,n),this._fireOverOutEvents(e,n)}this.textEditingManager.onMouseMove(e),this._handleEvent(e,"move"),this._resetTransformEventData()}_fireOverOutEvents(e,t){const n=this._hoveredTarget,a=this._hoveredTargets,i=this.targets,o=Math.max(a.length,i.length);this.fireSyntheticInOutEvents("mouse",{e,target:t,oldTarget:n,fireCanvas:!0});for(let l=0;l<o;l++)i[l]===t||a[l]&&a[l]===n||this.fireSyntheticInOutEvents("mouse",{e,target:i[l],oldTarget:a[l]});this._hoveredTarget=t,this._hoveredTargets=this.targets.concat()}_fireEnterLeaveEvents(e,t){const n=this._draggedoverTarget,a=this._hoveredTargets,i=this.targets,o=Math.max(a.length,i.length);this.fireSyntheticInOutEvents("drag",ze(ze({},t),{},{target:e,oldTarget:n,fireCanvas:!0}));for(let l=0;l<o;l++)this.fireSyntheticInOutEvents("drag",ze(ze({},t),{},{target:i[l],oldTarget:a[l]}));this._draggedoverTarget=e}fireSyntheticInOutEvents(e,t){let{target:n,oldTarget:a,fireCanvas:i,e:o}=t,l=On(t,jB);const{targetIn:u,targetOut:h,canvasIn:f,canvasOut:m}=RB[e],x=a!==n;if(a&&x){const g=ze(ze({},l),{},{e:o,target:a,nextTarget:n},Tf(this,o));i&&this.fire(m,g),a.fire(h,g)}if(n&&x){const g=ze(ze({},l),{},{e:o,target:n,previousTarget:a},Tf(this,o));i&&this.fire(f,g),n.fire(u,g)}}__onMouseWheel(e){this._cacheTransformEventData(e),this._handleEvent(e,"wheel"),this._resetTransformEventData()}_transformObject(e){const t=this.getScenePoint(e),n=this._currentTransform,a=n.target,i=a.group?Wf(t,void 0,a.group.calcTransformMatrix()):t;n.shiftKey=e.shiftKey,n.altKey=!!this.centeredKey&&e[this.centeredKey],this._performTransformAction(e,n,i),n.actionPerformed&&this.requestRenderAll()}_performTransformAction(e,t,n){const{action:a,actionHandler:i,target:o}=t,l=!!i&&i(e,t,n.x,n.y);l&&o.setCoords(),a==="drag"&&l&&(t.target.isMoving=!0,this.setCursor(t.target.moveCursor||this.moveCursor)),t.actionPerformed=t.actionPerformed||l}_setCursorFromEvent(e,t){if(!t)return void this.setCursor(this.defaultCursor);let n=t.hoverCursor||this.hoverCursor;const a=ih(this._activeObject)?this._activeObject:null,i=(!a||t.group!==a)&&t.findControl(this.getViewportPoint(e));if(i){const o=i.control;this.setCursor(o.cursorStyleHandler(e,o,t))}else t.subTargetCheck&&this.targets.concat().reverse().map((o=>{n=o.hoverCursor||n})),this.setCursor(n)}handleMultiSelection(e,t){const n=this._activeObject,a=ih(n);if(n&&this._isSelectionKeyPressed(e)&&this.selection&&t&&t.selectable&&(n!==t||a)&&(a||!t.isDescendantOf(n)&&!n.isDescendantOf(t))&&!t.onSelect({e})&&!n.getActiveControl()){if(a){const i=n.getObjects();if(t===n){const o=this.getViewportPoint(e);if(!(t=this.searchPossibleTargets(i,o)||this.searchPossibleTargets(this._objects,o))||!t.selectable)return!1}t.group===n?(n.remove(t),this._hoveredTarget=t,this._hoveredTargets=[...this.targets],n.size()===1&&this._setActiveObject(n.item(0),e)):(n.multiSelectAdd(t),this._hoveredTarget=n,this._hoveredTargets=[...this.targets]),this._fireSelectionEvents(i,e)}else{n.isEditing&&n.exitEditing();const i=new(qt.getClass("ActiveSelection"))([],{canvas:this});i.multiSelectAdd(n,t),this._hoveredTarget=i,this._setActiveObject(i,e),this._fireSelectionEvents([n],e)}return!0}return!1}handleSelection(e){if(!this.selection||!this._groupSelector)return!1;const{x:t,y:n,deltaX:a,deltaY:i}=this._groupSelector,o=new ct(t,n),l=o.add(new ct(a,i)),u=o.min(l),h=o.max(l).subtract(u),f=this.collectObjects({left:u.x,top:u.y,width:h.x,height:h.y},{includeIntersecting:!this.selectionFullyContained}),m=o.eq(l)?f[0]?[f[0]]:[]:f.length>1?f.filter((x=>!x.onSelect({e}))).reverse():f;if(m.length===1)this.setActiveObject(m[0],e);else if(m.length>1){const x=qt.getClass("ActiveSelection");this.setActiveObject(new x(m,{canvas:this}),e)}return this._groupSelector=null,!0}toCanvasElement(){let e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:1,t=arguments.length>1?arguments[1]:void 0;const{upper:n}=this.elements;n.ctx=void 0;const a=super.toCanvasElement(e,t);return n.ctx=n.el.getContext("2d"),a}clear(){this.textEditingManager.clear(),super.clear()}destroy(){this.removeListeners(),this.textEditingManager.dispose(),super.destroy()}}const uk={x1:0,y1:0,x2:0,y2:0},BB=ze(ze({},uk),{},{r1:0,r2:0}),Uf=(r,e)=>isNaN(r)&&typeof e=="number"?e:r;function hk(r){return r&&/%$/.test(r)&&Number.isFinite(parseFloat(r))}function fk(r,e){const t=typeof r=="number"?r:typeof r=="string"?parseFloat(r)/(hk(r)?100:1):NaN;return i0(0,Uf(t,e),1)}const PB=/\s*;\s*/,IB=/\s*:\s*/;function UB(r,e){let t,n;const a=r.getAttribute("style");if(a){const o=a.split(PB);o[o.length-1]===""&&o.pop();for(let l=o.length;l--;){const[u,h]=o[l].split(IB).map((f=>f.trim()));u==="stop-color"?t=h:u==="stop-opacity"&&(n=h)}}const i=new Rs(t||r.getAttribute("stop-color")||"rgb(0,0,0)");return{offset:fk(r.getAttribute("offset"),0),color:i.toRgb(),opacity:Uf(parseFloat(n||r.getAttribute("stop-opacity")||""),1)*i.getAlpha()*e}}function zB(r,e){const t=[],n=r.getElementsByTagName("stop"),a=fk(e,1);for(let i=n.length;i--;)t.push(UB(n[i],a));return t}function dk(r){return r.nodeName==="linearGradient"||r.nodeName==="LINEARGRADIENT"?"linear":"radial"}function gk(r){return r.getAttribute("gradientUnits")==="userSpaceOnUse"?"pixels":"percentage"}function Uo(r,e){return r.getAttribute(e)}function HB(r,e){return(function(t,n){let a,{width:i,height:o,gradientUnits:l}=n;return Object.entries(t).reduce(((u,h)=>{let[f,m]=h;if(m==="Infinity")a=1;else if(m==="-Infinity")a=0;else{const x=typeof m=="string";a=x?parseFloat(m):m,x&&hk(m)&&(a*=.01,l==="pixels"&&(f!=="x1"&&f!=="x2"&&f!=="r2"||(a*=i),f!=="y1"&&f!=="y2"||(a*=o)))}return u[f]=a,u}),{})})(dk(r)==="linear"?(function(t){return{x1:Uo(t,"x1")||0,y1:Uo(t,"y1")||0,x2:Uo(t,"x2")||"100%",y2:Uo(t,"y2")||0}})(r):(function(t){return{x1:Uo(t,"fx")||Uo(t,"cx")||"50%",y1:Uo(t,"fy")||Uo(t,"cy")||"50%",r1:0,x2:Uo(t,"cx")||"50%",y2:Uo(t,"cy")||"50%",r2:Uo(t,"r")||"50%"}})(r),ze(ze({},e),{},{gradientUnits:gk(r)}))}class hh{constructor(e){const{type:t="linear",gradientUnits:n="pixels",coords:a={},colorStops:i=[],offsetX:o=0,offsetY:l=0,gradientTransform:u,id:h}=e||{};Object.assign(this,{type:t,gradientUnits:n,coords:ze(ze({},t==="radial"?BB:uk),a),colorStops:i,offsetX:o,offsetY:l,gradientTransform:u,id:h?"".concat(h,"_").concat(Cu()):Cu()})}addColorStop(e){for(const t in e){const n=new Rs(e[t]);this.colorStops.push({offset:parseFloat(t),color:n.toRgb(),opacity:n.getAlpha()})}return this}toObject(e){return ze(ze({},d0(this,e)),{},{type:this.type,coords:ze({},this.coords),colorStops:this.colorStops.map((t=>ze({},t))),offsetX:this.offsetX,offsetY:this.offsetY,gradientUnits:this.gradientUnits,gradientTransform:this.gradientTransform?[...this.gradientTransform]:void 0})}toSVG(e){let{additionalTransform:t}=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};const n=[],a=this.gradientTransform?this.gradientTransform.concat():qi.concat(),i=this.gradientUnits==="pixels"?"userSpaceOnUse":"objectBoundingBox",o=this.colorStops.map((m=>ze({},m))).sort(((m,x)=>m.offset-x.offset));let l=-this.offsetX,u=-this.offsetY;var h;i==="objectBoundingBox"?(l/=e.width,u/=e.height):(l+=e.width/2,u+=e.height/2),(h=e)&&typeof h._renderPathCommands=="function"&&this.gradientUnits!=="percentage"&&(l-=e.pathOffset.x,u-=e.pathOffset.y),a[4]-=l,a[5]-=u;const f=['id="SVGID_'.concat(this.id,'"'),'gradientUnits="'.concat(i,'"'),'gradientTransform="'.concat(t?t+" ":"").concat(Pd(a),'"'),""].join(" ");if(this.type==="linear"){const{x1:m,y1:x,x2:g,y2:y}=this.coords;n.push("<linearGradient ",f,' x1="',m,'" y1="',x,'" x2="',g,'" y2="',y,`">
`)}else if(this.type==="radial"){const{x1:m,y1:x,x2:g,y2:y,r1:v,r2:S}=this.coords,k=v>S;n.push("<radialGradient ",f,' cx="',k?m:g,'" cy="',k?x:y,'" r="',k?v:S,'" fx="',k?g:m,'" fy="',k?y:x,`">
`),k&&(o.reverse(),o.forEach((N=>{N.offset=1-N.offset})));const A=Math.min(v,S);if(A>0){const N=A/Math.max(v,S);o.forEach((j=>{j.offset+=N*(1-j.offset)}))}}return o.forEach((m=>{let{color:x,offset:g,opacity:y}=m;n.push("<stop ",'offset="',100*g+"%",'" style="stop-color:',x,y!==void 0?";stop-opacity: "+y:";",`"/>
`)})),n.push(this.type==="linear"?"</linearGradient>":"</radialGradient>",`
`),n.join("")}toLive(e){const{x1:t,y1:n,x2:a,y2:i,r1:o,r2:l}=this.coords,u=this.type==="linear"?e.createLinearGradient(t,n,a,i):e.createRadialGradient(t,n,o,a,i,l);return this.colorStops.forEach((h=>{let{color:f,opacity:m,offset:x}=h;u.addColorStop(x,m!==void 0?new Rs(f).setAlpha(m).toRgba():f)})),u}static async fromObject(e){const{colorStops:t,gradientTransform:n}=e;return new this(ze(ze({},e),{},{colorStops:t?t.map((a=>ze({},a))):void 0,gradientTransform:n?[...n]:void 0}))}static fromElement(e,t,n){const a=gk(e),i=t._findCenterFromElement();return new this(ze({id:e.getAttribute("id")||void 0,type:dk(e),coords:HB(e,{width:n.viewBoxWidth||n.width,height:n.viewBoxHeight||n.height}),colorStops:zB(e,n.opacity),gradientUnits:a,gradientTransform:Zx(e.getAttribute("gradientTransform")||"")},a==="pixels"?{offsetX:t.width/2-i.x,offsetY:t.height/2-i.y}:{offsetX:0,offsetY:0}))}}Ie(hh,"type","Gradient"),qt.setClass(hh,"gradient"),qt.setClass(hh,"linear"),qt.setClass(hh,"radial");const qB=["type","source","patternTransform"];class I2{get type(){return"pattern"}set type(e){ku("warn","Setting type has no effect",e)}constructor(e){Ie(this,"repeat","repeat"),Ie(this,"offsetX",0),Ie(this,"offsetY",0),Ie(this,"crossOrigin",""),this.id=Cu(),Object.assign(this,e)}isImageSource(){return!!this.source&&typeof this.source.src=="string"}isCanvasSource(){return!!this.source&&!!this.source.toDataURL}sourceToString(){return this.isImageSource()?this.source.src:this.isCanvasSource()?this.source.toDataURL():""}toLive(e){return this.source&&(!this.isImageSource()||this.source.complete&&this.source.naturalWidth!==0&&this.source.naturalHeight!==0)?e.createPattern(this.source,this.repeat):null}toObject(){let e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[];const{repeat:t,crossOrigin:n}=this;return ze(ze({},d0(this,e)),{},{type:"pattern",source:this.sourceToString(),repeat:t,crossOrigin:n,offsetX:vn(this.offsetX,Gr.NUM_FRACTION_DIGITS),offsetY:vn(this.offsetY,Gr.NUM_FRACTION_DIGITS),patternTransform:this.patternTransform?[...this.patternTransform]:null})}toSVG(e){let{width:t,height:n}=e;const{source:a,repeat:i,id:o}=this,l=Uf(this.offsetX/t,0),u=Uf(this.offsetY/n,0),h=i==="repeat-y"||i==="no-repeat"?1+Math.abs(l||0):Uf(a.width/t,0),f=i==="repeat-x"||i==="no-repeat"?1+Math.abs(u||0):Uf(a.height/n,0);return['<pattern id="SVGID_'.concat(o,'" x="').concat(l,'" y="').concat(u,'" width="').concat(h,'" height="').concat(f,'">'),'<image x="0" y="0" width="'.concat(a.width,'" height="').concat(a.height,'" xlink:href="').concat(this.sourceToString(),'"></image>'),"</pattern>",""].join(`
`)}static async fromObject(e,t){let{type:n,source:a,patternTransform:i}=e,o=On(e,qB);const l=await Yg(a,ze(ze({},t),{},{crossOrigin:o.crossOrigin}));return new this(ze(ze({},o),{},{patternTransform:i&&i.slice(0),source:l}))}}Ie(I2,"type","Pattern"),qt.setClass(I2),qt.setClass(I2,"pattern");const VB=["path","left","top"],GB=["d"];class sh extends Ti{constructor(e){let t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},{path:n,left:a,top:i}=t,o=On(t,VB);super(),Object.assign(this,sh.ownDefaults),this.setOptions(o),this._setPath(e||[],!0),typeof a=="number"&&this.set(en,a),typeof i=="number"&&this.set(cs,i)}_setPath(e,t){this.path=_B(Array.isArray(e)?e:DB(e)),this.setBoundingBox(t)}_findCenterFromElement(){const e=this._calcBoundsFromPath();return new ct(e.left+e.width/2,e.top+e.height/2)}_renderPathCommands(e){const t=-this.pathOffset.x,n=-this.pathOffset.y;e.beginPath();for(const a of this.path)switch(a[0]){case"L":e.lineTo(a[1]+t,a[2]+n);break;case"M":e.moveTo(a[1]+t,a[2]+n);break;case"C":e.bezierCurveTo(a[1]+t,a[2]+n,a[3]+t,a[4]+n,a[5]+t,a[6]+n);break;case"Q":e.quadraticCurveTo(a[1]+t,a[2]+n,a[3]+t,a[4]+n);break;case"Z":e.closePath()}}_render(e){this._renderPathCommands(e),this._renderPaintInOrder(e)}toString(){return"#<Path (".concat(this.complexity(),'): { "top": ').concat(this.top,', "left": ').concat(this.left," }>")}toObject(){let e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[];return ze(ze({},super.toObject(e)),{},{path:this.path.map((t=>t.slice()))})}toDatalessObject(){let e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[];const t=this.toObject(e);return this.sourcePath&&(delete t.path,t.sourcePath=this.sourcePath),t}_toSVG(){const e=LB(this.path,Gr.NUM_FRACTION_DIGITS);return["<path ","COMMON_PARTS",'d="'.concat(e,`" stroke-linecap="round" />
`)]}_getOffsetTransform(){const e=Gr.NUM_FRACTION_DIGITS;return" translate(".concat(vn(-this.pathOffset.x,e),", ").concat(vn(-this.pathOffset.y,e),")")}toClipPathSVG(e){const t=this._getOffsetTransform();return"	"+this._createBaseClipPathSVGMarkup(this._toSVG(),{reviver:e,additionalTransform:t})}toSVG(e){const t=this._getOffsetTransform();return this._createBaseSVGMarkup(this._toSVG(),{reviver:e,additionalTransform:t})}complexity(){return this.path.length}setDimensions(){this.setBoundingBox()}setBoundingBox(e){const{width:t,height:n,pathOffset:a}=this._calcDimensions();this.set({width:t,height:n,pathOffset:a}),e&&this.setPositionByOrigin(a,Sr,Sr)}_calcBoundsFromPath(){const e=[];let t=0,n=0,a=0,i=0;for(const o of this.path)switch(o[0]){case"L":a=o[1],i=o[2],e.push({x:t,y:n},{x:a,y:i});break;case"M":a=o[1],i=o[2],t=a,n=i;break;case"C":e.push(...V_(a,i,o[1],o[2],o[3],o[4],o[5],o[6])),a=o[5],i=o[6];break;case"Q":e.push(...V_(a,i,o[1],o[2],o[1],o[2],o[3],o[4])),a=o[3],i=o[4];break;case"Z":a=t,i=n}return yc(e)}_calcDimensions(){const e=this._calcBoundsFromPath();return ze(ze({},e),{},{pathOffset:new ct(e.left+e.width/2,e.top+e.height/2)})}static fromObject(e){return this._fromObject(e,{extraParam:"path"})}static async fromElement(e,t,n){const a=Ec(e,this.ATTRIBUTE_NAMES,n),{d:i}=a;return new this(i,ze(ze(ze({},On(a,GB)),t),{},{left:void 0,top:void 0}))}}Ie(sh,"type","Path"),Ie(sh,"cacheProperties",[...Ac,"path","fillRule"]),Ie(sh,"ATTRIBUTE_NAMES",[...Eu,"d"]),qt.setClass(sh),qt.setSVGClass(sh);const WB=["left","top","radius"],pk=["radius","startAngle","endAngle","counterClockwise"];class hc extends Ti{static getDefaults(){return ze(ze({},super.getDefaults()),hc.ownDefaults)}constructor(e){super(),Object.assign(this,hc.ownDefaults),this.setOptions(e)}_set(e,t){return super._set(e,t),e==="radius"&&this.setRadius(t),this}_render(e){e.beginPath(),e.arc(0,0,this.radius,ha(this.startAngle),ha(this.endAngle),this.counterClockwise),this._renderPaintInOrder(e)}getRadiusX(){return this.get("radius")*this.get(fs)}getRadiusY(){return this.get("radius")*this.get(oo)}setRadius(e){this.radius=e,this.set({width:2*e,height:2*e})}toObject(){let e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[];return super.toObject([...pk,...e])}_toSVG(){const e=(this.endAngle-this.startAngle)%360;if(e===0)return["<circle ","COMMON_PARTS",'cx="0" cy="0" ','r="',"".concat(this.radius),`" />
`];{const{radius:t}=this,n=ha(this.startAngle),a=ha(this.endAngle),i=_c(n)*t,o=Sc(n)*t,l=_c(a)*t,u=Sc(a)*t,h=e>180?1:0,f=this.counterClockwise?0:1;return['<path d="M '.concat(i," ").concat(o," A ").concat(t," ").concat(t," 0 ").concat(h," ").concat(f," ").concat(l," ").concat(u,'" '),"COMMON_PARTS",` />
`]}}static async fromElement(e,t,n){const a=Ec(e,this.ATTRIBUTE_NAMES,n),{left:i=0,top:o=0,radius:l=0}=a;return new this(ze(ze({},On(a,WB)),{},{radius:l,left:i-l,top:o-l}))}static fromObject(e){return super._fromObject(e)}}Ie(hc,"type","Circle"),Ie(hc,"cacheProperties",[...Ac,...pk]),Ie(hc,"ownDefaults",{radius:0,startAngle:0,endAngle:360,counterClockwise:!1}),Ie(hc,"ATTRIBUTE_NAMES",["cx","cy","r",...Eu]),qt.setClass(hc),qt.setSVGClass(hc);const YB=["x1","y1","x2","y2"],XB=["x1","y1","x2","y2"],rv=["x1","x2","y1","y2"];class Ls extends Ti{constructor(){let[e,t,n,a]=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[0,0,0,0],i=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};super(),Object.assign(this,Ls.ownDefaults),this.setOptions(i),this.x1=e,this.x2=n,this.y1=t,this.y2=a,this._setWidthHeight();const{left:o,top:l}=i;typeof o=="number"&&this.set(en,o),typeof l=="number"&&this.set(cs,l)}_setWidthHeight(){const{x1:e,y1:t,x2:n,y2:a}=this;this.width=Math.abs(n-e),this.height=Math.abs(a-t);const{left:i,top:o,width:l,height:u}=yc([{x:e,y:t},{x:n,y:a}]),h=new ct(i+l/2,o+u/2);this.setPositionByOrigin(h,Sr,Sr)}_set(e,t){return super._set(e,t),rv.includes(e)&&this._setWidthHeight(),this}_render(e){e.beginPath();const t=this.calcLinePoints();e.moveTo(t.x1,t.y1),e.lineTo(t.x2,t.y2),e.lineWidth=this.strokeWidth;const n=e.strokeStyle;var a;ao(this.stroke)?e.strokeStyle=this.stroke.toLive(e):e.strokeStyle=(a=this.stroke)!==null&&a!==void 0?a:e.fillStyle,this.stroke&&this._renderStroke(e),e.strokeStyle=n}_findCenterFromElement(){return new ct((this.x1+this.x2)/2,(this.y1+this.y2)/2)}toObject(){let e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[];return ze(ze({},super.toObject(e)),this.calcLinePoints())}_getNonTransformedDimensions(){const e=super._getNonTransformedDimensions();return this.strokeLineCap==="butt"&&(this.width===0&&(e.y-=this.strokeWidth),this.height===0&&(e.x-=this.strokeWidth)),e}calcLinePoints(){const{x1:e,x2:t,y1:n,y2:a,width:i,height:o}=this,l=e<=t?-1:1,u=n<=a?-1:1;return{x1:l*i/2,x2:l*-i/2,y1:u*o/2,y2:u*-o/2}}_toSVG(){const{x1:e,x2:t,y1:n,y2:a}=this.calcLinePoints();return["<line ","COMMON_PARTS",'x1="'.concat(e,'" y1="').concat(n,'" x2="').concat(t,'" y2="').concat(a,`" />
`)]}static async fromElement(e,t,n){const a=Ec(e,this.ATTRIBUTE_NAMES,n),{x1:i=0,y1:o=0,x2:l=0,y2:u=0}=a;return new this([i,o,l,u],On(a,YB))}static fromObject(e){let{x1:t,y1:n,x2:a,y2:i}=e,o=On(e,XB);return this._fromObject(ze(ze({},o),{},{points:[t,n,a,i]}),{extraParam:"points"})}}Ie(Ls,"type","Line"),Ie(Ls,"cacheProperties",[...Ac,...rv]),Ie(Ls,"ATTRIBUTE_NAMES",Eu.concat(rv)),qt.setClass(Ls),qt.setSVGClass(Ls);class fh extends Ti{static getDefaults(){return ze(ze({},super.getDefaults()),fh.ownDefaults)}constructor(e){super(),Object.assign(this,fh.ownDefaults),this.setOptions(e)}_render(e){const t=this.width/2,n=this.height/2;e.beginPath(),e.moveTo(-t,n),e.lineTo(0,-n),e.lineTo(t,n),e.closePath(),this._renderPaintInOrder(e)}_toSVG(){const e=this.width/2,t=this.height/2;return["<polygon ","COMMON_PARTS",'points="',"".concat(-e," ").concat(t,",0 ").concat(-t,",").concat(e," ").concat(t),'" />']}}Ie(fh,"type","Triangle"),Ie(fh,"ownDefaults",{width:100,height:100}),qt.setClass(fh),qt.setSVGClass(fh);const mk=["rx","ry"];class fc extends Ti{static getDefaults(){return ze(ze({},super.getDefaults()),fc.ownDefaults)}constructor(e){super(),Object.assign(this,fc.ownDefaults),this.setOptions(e)}_set(e,t){switch(super._set(e,t),e){case"rx":this.rx=t,this.set("width",2*t);break;case"ry":this.ry=t,this.set("height",2*t)}return this}getRx(){return this.get("rx")*this.get(fs)}getRy(){return this.get("ry")*this.get(oo)}toObject(){let e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[];return super.toObject([...mk,...e])}_toSVG(){return["<ellipse ","COMMON_PARTS",'cx="0" cy="0" rx="'.concat(this.rx,'" ry="').concat(this.ry,`" />
`)]}_render(e){e.beginPath(),e.save(),e.transform(1,0,0,this.ry/this.rx,0,0),e.arc(0,0,this.rx,0,bp,!1),e.restore(),this._renderPaintInOrder(e)}static async fromElement(e,t,n){const a=Ec(e,this.ATTRIBUTE_NAMES,n);return a.left=(a.left||0)-a.rx,a.top=(a.top||0)-a.ry,new this(a)}}function KB(r){if(!r)return[];const e=r.replace(/,/g," ").trim().split(/\s+/),t=[];for(let n=0;n<e.length;n+=2)t.push({x:parseFloat(e[n]),y:parseFloat(e[n+1])});return t}Ie(fc,"type","Ellipse"),Ie(fc,"cacheProperties",[...Ac,...mk]),Ie(fc,"ownDefaults",{rx:0,ry:0}),Ie(fc,"ATTRIBUTE_NAMES",[...Eu,"cx","cy","rx","ry"]),qt.setClass(fc),qt.setSVGClass(fc);const $B=["left","top"],xk={exactBoundingBox:!1};class qo extends Ti{static getDefaults(){return ze(ze({},super.getDefaults()),qo.ownDefaults)}constructor(){let e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[],t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};super(),Ie(this,"strokeDiff",void 0),Object.assign(this,qo.ownDefaults),this.setOptions(t),this.points=e;const{left:n,top:a}=t;this.initialized=!0,this.setBoundingBox(!0),typeof n=="number"&&this.set(en,n),typeof a=="number"&&this.set(cs,a)}isOpen(){return!0}_projectStrokeOnPoints(e){return I9(this.points,e,this.isOpen())}_calcDimensions(e){e=ze({scaleX:this.scaleX,scaleY:this.scaleY,skewX:this.skewX,skewY:this.skewY,strokeLineCap:this.strokeLineCap,strokeLineJoin:this.strokeLineJoin,strokeMiterLimit:this.strokeMiterLimit,strokeUniform:this.strokeUniform,strokeWidth:this.strokeWidth},e||{});const t=this.exactBoundingBox?this._projectStrokeOnPoints(e).map((h=>h.projectedPoint)):this.points;if(t.length===0)return{left:0,top:0,width:0,height:0,pathOffset:new ct,strokeOffset:new ct,strokeDiff:new ct};const n=yc(t),a=Gp(ze(ze({},e),{},{scaleX:1,scaleY:1})),i=yc(this.points.map((h=>ls(h,a,!0)))),o=new ct(this.scaleX,this.scaleY);let l=n.left+n.width/2,u=n.top+n.height/2;return this.exactBoundingBox&&(l-=u*Math.tan(ha(this.skewX)),u-=l*Math.tan(ha(this.skewY))),ze(ze({},n),{},{pathOffset:new ct(l,u),strokeOffset:new ct(i.left,i.top).subtract(new ct(n.left,n.top)).multiply(o),strokeDiff:new ct(n.width,n.height).subtract(new ct(i.width,i.height)).multiply(o)})}_findCenterFromElement(){const e=yc(this.points);return new ct(e.left+e.width/2,e.top+e.height/2)}setDimensions(){this.setBoundingBox()}setBoundingBox(e){const{left:t,top:n,width:a,height:i,pathOffset:o,strokeOffset:l,strokeDiff:u}=this._calcDimensions();this.set({width:a,height:i,pathOffset:o,strokeOffset:l,strokeDiff:u}),e&&this.setPositionByOrigin(new ct(t+a/2,n+i/2),Sr,Sr)}isStrokeAccountedForInDimensions(){return this.exactBoundingBox}_getNonTransformedDimensions(){return this.exactBoundingBox?new ct(this.width,this.height):super._getNonTransformedDimensions()}_getTransformedDimensions(){let e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};if(this.exactBoundingBox){let o;if(Object.keys(e).some((l=>this.strokeUniform||this.constructor.layoutProperties.includes(l)))){var t,n;const{width:l,height:u}=this._calcDimensions(e);o=new ct((t=e.width)!==null&&t!==void 0?t:l,(n=e.height)!==null&&n!==void 0?n:u)}else{var a,i;o=new ct((a=e.width)!==null&&a!==void 0?a:this.width,(i=e.height)!==null&&i!==void 0?i:this.height)}return o.multiply(new ct(e.scaleX||this.scaleX,e.scaleY||this.scaleY))}return super._getTransformedDimensions(e)}_set(e,t){const n=this.initialized&&this[e]!==t,a=super._set(e,t);return this.exactBoundingBox&&n&&((e===fs||e===oo)&&this.strokeUniform&&this.constructor.layoutProperties.includes("strokeUniform")||this.constructor.layoutProperties.includes(e))&&this.setDimensions(),a}toObject(){let e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[];return ze(ze({},super.toObject(e)),{},{points:this.points.map((t=>{let{x:n,y:a}=t;return{x:n,y:a}}))})}_toSVG(){const e=[],t=this.pathOffset.x,n=this.pathOffset.y,a=Gr.NUM_FRACTION_DIGITS;for(let i=0,o=this.points.length;i<o;i++)e.push(vn(this.points[i].x-t,a),",",vn(this.points[i].y-n,a)," ");return["<".concat(this.constructor.type.toLowerCase()," "),"COMMON_PARTS",'points="'.concat(e.join(""),`" />
`)]}_render(e){const t=this.points.length,n=this.pathOffset.x,a=this.pathOffset.y;if(t&&!isNaN(this.points[t-1].y)){e.beginPath(),e.moveTo(this.points[0].x-n,this.points[0].y-a);for(let i=0;i<t;i++){const o=this.points[i];e.lineTo(o.x-n,o.y-a)}!this.isOpen()&&e.closePath(),this._renderPaintInOrder(e)}}complexity(){return this.points.length}static async fromElement(e,t,n){return new this(KB(e.getAttribute("points")),ze(ze({},On(Ec(e,this.ATTRIBUTE_NAMES,n),$B)),t))}static fromObject(e){return this._fromObject(e,{extraParam:"points"})}}Ie(qo,"ownDefaults",xk),Ie(qo,"type","Polyline"),Ie(qo,"layoutProperties",[u0,h0,"strokeLineCap","strokeLineJoin","strokeMiterLimit","strokeWidth","strokeUniform","points"]),Ie(qo,"cacheProperties",[...Ac,"points"]),Ie(qo,"ATTRIBUTE_NAMES",[...Eu]),qt.setClass(qo),qt.setSVGClass(qo);class lg extends qo{isOpen(){return!1}}Ie(lg,"ownDefaults",xk),Ie(lg,"type","Polygon"),qt.setClass(lg),qt.setSVGClass(lg);class vk extends Ti{isEmptyStyles(e){if(!this.styles||e!==void 0&&!this.styles[e])return!0;const t=e===void 0?this.styles:{line:this.styles[e]};for(const n in t)for(const a in t[n])for(const i in t[n][a])return!1;return!0}styleHas(e,t){if(!this.styles||t!==void 0&&!this.styles[t])return!1;const n=t===void 0?this.styles:{0:this.styles[t]};for(const a in n)for(const i in n[a])if(n[a][i][e]!==void 0)return!0;return!1}cleanStyle(e){if(!this.styles)return!1;const t=this.styles;let n,a,i=0,o=!0,l=0;for(const u in t){n=0;for(const h in t[u]){const f=t[u][h]||{};i++,f[e]!==void 0?(a?f[e]!==a&&(o=!1):a=f[e],f[e]===this[e]&&delete f[e]):o=!1,Object.keys(f).length!==0?n++:delete t[u][h]}n===0&&delete t[u]}for(let u=0;u<this._textLines.length;u++)l+=this._textLines[u].length;o&&i===l&&(this[e]=a,this.removeStyle(e))}removeStyle(e){if(!this.styles)return;const t=this.styles;let n,a,i;for(a in t){for(i in n=t[a],n)delete n[i][e],Object.keys(n[i]).length===0&&delete n[i];Object.keys(n).length===0&&delete t[a]}}_extendStyles(e,t){const{lineIndex:n,charIndex:a}=this.get2DCursorLocation(e);this._getLineStyle(n)||this._setLineStyle(n);const i=ey(ze(ze({},this._getStyleDeclaration(n,a)),t),(o=>o!==void 0));this._setStyleDeclaration(n,a,i)}getSelectionStyles(e,t,n){const a=[];for(let i=e;i<(t||e);i++)a.push(this.getStyleAtPosition(i,n));return a}getStyleAtPosition(e,t){const{lineIndex:n,charIndex:a}=this.get2DCursorLocation(e);return t?this.getCompleteStyleDeclaration(n,a):this._getStyleDeclaration(n,a)}setSelectionStyles(e,t,n){for(let a=t;a<(n||t);a++)this._extendStyles(a,e);this._forceClearCache=!0}_getStyleDeclaration(e,t){var n;const a=this.styles&&this.styles[e];return a&&(n=a[t])!==null&&n!==void 0?n:{}}getCompleteStyleDeclaration(e,t){return ze(ze({},d0(this,this.constructor._styleProperties)),this._getStyleDeclaration(e,t))}_setStyleDeclaration(e,t,n){this.styles[e][t]=n}_deleteStyleDeclaration(e,t){delete this.styles[e][t]}_getLineStyle(e){return!!this.styles[e]}_setLineStyle(e){this.styles[e]={}}_deleteLineStyle(e){delete this.styles[e]}}Ie(vk,"_styleProperties",t9);const ZB=/  +/g,JB=/"/g;function U2(r,e,t,n,a){return"		".concat((function(i,o){let{left:l,top:u,width:h,height:f}=o,m=arguments.length>2&&arguments[2]!==void 0?arguments[2]:Gr.NUM_FRACTION_DIGITS;const x=Id(Ia,i,!1),[g,y,v,S]=[l,u,h,f].map((k=>vn(k,m)));return"<rect ".concat(x,' x="').concat(g,'" y="').concat(y,'" width="').concat(v,'" height="').concat(S,'"></rect>')})(r,{left:e,top:t,width:n,height:a}),`
`)}const QB=["textAnchor","textDecoration","dx","dy","top","left","fontSize","strokeWidth"];let z2;class _a extends vk{static getDefaults(){return ze(ze({},super.getDefaults()),_a.ownDefaults)}constructor(e,t){super(),Ie(this,"__charBounds",[]),Object.assign(this,_a.ownDefaults),this.setOptions(t),this.styles||(this.styles={}),this.text=e,this.initialized=!0,this.path&&this.setPathInfo(),this.initDimensions(),this.setCoords()}setPathInfo(){const e=this.path;e&&(e.segmentsInfo=ck(e.path))}_splitText(){const e=this._splitTextIntoLines(this.text);return this.textLines=e.lines,this._textLines=e.graphemeLines,this._unwrappedTextLines=e._unwrappedLines,this._text=e.graphemeText,e}initDimensions(){this._splitText(),this._clearCache(),this.dirty=!0,this.path?(this.width=this.path.width,this.height=this.path.height):(this.width=this.calcTextWidth()||this.cursorWidth||this.MIN_TEXT_WIDTH,this.height=this.calcTextHeight()),this.textAlign.includes(Tl)&&this.enlargeSpaces()}enlargeSpaces(){let e,t,n,a,i,o,l;for(let u=0,h=this._textLines.length;u<h;u++)if((this.textAlign===Tl||u!==h-1&&!this.isEndOfWrapping(u))&&(a=0,i=this._textLines[u],t=this.getLineWidth(u),t<this.width&&(l=this.textLines[u].match(this._reSpacesAndTabs)))){n=l.length,e=(this.width-t)/n;for(let f=0;f<=i.length;f++)o=this.__charBounds[u][f],this._reSpaceAndTab.test(i[f])?(o.width+=e,o.kernedWidth+=e,o.left+=a,a+=e):o.left+=a}}isEndOfWrapping(e){return e===this._textLines.length-1}missingNewlineOffset(e){return 1}get2DCursorLocation(e,t){const n=t?this._unwrappedTextLines:this._textLines;let a;for(a=0;a<n.length;a++){if(e<=n[a].length)return{lineIndex:a,charIndex:e};e-=n[a].length+this.missingNewlineOffset(a,t)}return{lineIndex:a-1,charIndex:n[a-1].length<e?n[a-1].length:e}}toString(){return"#<Text (".concat(this.complexity(),'): { "text": "').concat(this.text,'", "fontFamily": "').concat(this.fontFamily,'" }>')}_getCacheCanvasDimensions(){const e=super._getCacheCanvasDimensions(),t=this.fontSize;return e.width+=t*e.zoomX,e.height+=t*e.zoomY,e}_render(e){const t=this.path;t&&!t.isNotVisible()&&t._render(e),this._setTextStyles(e),this._renderTextLinesBackground(e),this._renderTextDecoration(e,"underline"),this._renderText(e),this._renderTextDecoration(e,"overline"),this._renderTextDecoration(e,"linethrough")}_renderText(e){this.paintFirst===hs?(this._renderTextStroke(e),this._renderTextFill(e)):(this._renderTextFill(e),this._renderTextStroke(e))}_setTextStyles(e,t,n){if(e.textBaseline="alphabetic",this.path)switch(this.pathAlign){case Sr:e.textBaseline="middle";break;case"ascender":e.textBaseline=cs;break;case"descender":e.textBaseline=Gx}e.font=this._getFontDeclaration(t,n)}calcTextWidth(){let e=this.getLineWidth(0);for(let t=1,n=this._textLines.length;t<n;t++){const a=this.getLineWidth(t);a>e&&(e=a)}return e}_renderTextLine(e,t,n,a,i,o){this._renderChars(e,t,n,a,i,o)}_renderTextLinesBackground(e){if(!this.textBackgroundColor&&!this.styleHas("textBackgroundColor"))return;const t=e.fillStyle,n=this._getLeftOffset();let a=this._getTopOffset();for(let i=0,o=this._textLines.length;i<o;i++){const l=this.getHeightOfLine(i);if(!this.textBackgroundColor&&!this.styleHas("textBackgroundColor",i)){a+=l;continue}const u=this._textLines[i].length,h=this._getLineLeftOffset(i);let f,m,x=0,g=0,y=this.getValueOfPropertyAt(i,0,"textBackgroundColor");const v=this.getHeightOfLineImpl(i);for(let S=0;S<u;S++){const k=this.__charBounds[i][S];m=this.getValueOfPropertyAt(i,S,"textBackgroundColor"),this.path?(e.save(),e.translate(k.renderLeft,k.renderTop),e.rotate(k.angle),e.fillStyle=m,m&&e.fillRect(-k.width/2,-v*(1-this._fontSizeFraction),k.width,v),e.restore()):m!==y?(f=n+h+g,this.direction==="rtl"&&(f=this.width-f-x),e.fillStyle=y,y&&e.fillRect(f,a,x,v),g=k.left,x=k.width,y=m):x+=k.kernedWidth}m&&!this.path&&(f=n+h+g,this.direction==="rtl"&&(f=this.width-f-x),e.fillStyle=m,e.fillRect(f,a,x,v)),a+=l}e.fillStyle=t,this._removeShadow(e)}_measureChar(e,t,n,a){const i=bd.getFontCache(t),o=this._getFontDeclaration(t),l=n?n+e:e,u=n&&o===this._getFontDeclaration(a),h=t.fontSize/this.CACHE_FONT_SIZE;let f,m,x,g;if(n&&i.has(n)&&(x=i.get(n)),i.has(e)&&(g=f=i.get(e)),u&&i.has(l)&&(m=i.get(l),g=m-x),f===void 0||x===void 0||m===void 0){const y=(function(){return z2||(z2=lo({width:0,height:0}).getContext("2d")),z2})();this._setTextStyles(y,t,!0),f===void 0&&(g=f=y.measureText(e).width,i.set(e,f)),x===void 0&&u&&n&&(x=y.measureText(n).width,i.set(n,x)),u&&m===void 0&&(m=y.measureText(l).width,i.set(l,m),g=m-x)}return{width:f*h,kernedWidth:g*h}}getHeightOfChar(e,t){return this.getValueOfPropertyAt(e,t,"fontSize")}measureLine(e){const t=this._measureLine(e);return this.charSpacing!==0&&(t.width-=this._getWidthOfCharSpacing()),t.width<0&&(t.width=0),t}_measureLine(e){let t,n,a=0;const i=this.pathSide===oa,o=this.path,l=this._textLines[e],u=l.length,h=new Array(u);this.__charBounds[e]=h;for(let f=0;f<u;f++){const m=l[f];n=this._getGraphemeBox(m,e,f,t),h[f]=n,a+=n.kernedWidth,t=m}if(h[u]={left:n?n.left+n.width:0,width:0,kernedWidth:0,height:this.fontSize,deltaY:0},o&&o.segmentsInfo){let f=0;const m=o.segmentsInfo[o.segmentsInfo.length-1].length;switch(this.textAlign){case en:f=i?m-a:0;break;case Sr:f=(m-a)/2;break;case oa:f=i?0:m-a}f+=this.pathStartOffset*(i?-1:1);for(let x=i?u-1:0;i?x>=0:x<u;i?x--:x++)n=h[x],f>m?f%=m:f<0&&(f+=m),this._setGraphemeOnPath(f,n),f+=n.kernedWidth}return{width:a,numOfSpaces:0}}_setGraphemeOnPath(e,t){const n=e+t.kernedWidth/2,a=this.path,i=AB(a.path,n,a.segmentsInfo);t.renderLeft=i.x-a.pathOffset.x,t.renderTop=i.y-a.pathOffset.y,t.angle=i.angle+(this.pathSide===oa?Math.PI:0)}_getGraphemeBox(e,t,n,a,i){const o=this.getCompleteStyleDeclaration(t,n),l=a?this.getCompleteStyleDeclaration(t,n-1):{},u=this._measureChar(e,o,a,l);let h,f=u.kernedWidth,m=u.width;this.charSpacing!==0&&(h=this._getWidthOfCharSpacing(),m+=h,f+=h);const x={width:m,left:0,height:o.fontSize,kernedWidth:f,deltaY:o.deltaY};if(n>0&&!i){const g=this.__charBounds[t][n-1];x.left=g.left+g.width+u.kernedWidth-u.width}return x}getHeightOfLineImpl(e){const t=this.__lineHeights;if(t[e])return t[e];let n=this.getHeightOfChar(e,0);for(let a=1,i=this._textLines[e].length;a<i;a++)n=Math.max(this.getHeightOfChar(e,a),n);return t[e]=n*this._fontSizeMult}getHeightOfLine(e){return this.getHeightOfLineImpl(e)*this.lineHeight}calcTextHeight(){let e=0;for(let t=0,n=this._textLines.length;t<n;t++)e+=t===n-1?this.getHeightOfLineImpl(t):this.getHeightOfLine(t);return e}_getLeftOffset(){return this.direction==="ltr"?-this.width/2:this.width/2}_getTopOffset(){return-this.height/2}_renderTextCommon(e,t){e.save();let n=0;const a=this._getLeftOffset(),i=this._getTopOffset();for(let o=0,l=this._textLines.length;o<l;o++)this._renderTextLine(t,e,this._textLines[o],a+this._getLineLeftOffset(o),i+n+this.getHeightOfLineImpl(o),o),n+=this.getHeightOfLine(o);e.restore()}_renderTextFill(e){(this.fill||this.styleHas(Ia))&&this._renderTextCommon(e,"fillText")}_renderTextStroke(e){(this.stroke&&this.strokeWidth!==0||!this.isEmptyStyles())&&(this.shadow&&!this.shadow.affectStroke&&this._removeShadow(e),e.save(),this._setLineDash(e,this.strokeDashArray),e.beginPath(),this._renderTextCommon(e,"strokeText"),e.closePath(),e.restore())}_renderChars(e,t,n,a,i,o){const l=this.textAlign.includes(Tl),u=this.path,h=!l&&this.charSpacing===0&&this.isEmptyStyles(o)&&!u,f=this.direction==="ltr",m=this.direction==="ltr"?1:-1,x=t.direction;let g,y,v,S,k,A="",N=0;if(t.save(),x!==this.direction&&(t.canvas.setAttribute("dir",f?"ltr":"rtl"),t.direction=f?"ltr":"rtl",t.textAlign=f?en:oa),i-=this.getHeightOfLineImpl(o)*this._fontSizeFraction,h)return this._renderChar(e,t,o,0,n.join(""),a,i),void t.restore();for(let j=0,W=n.length-1;j<=W;j++)S=j===W||this.charSpacing||u,A+=n[j],v=this.__charBounds[o][j],N===0?(a+=m*(v.kernedWidth-v.width),N+=v.width):N+=v.kernedWidth,l&&!S&&this._reSpaceAndTab.test(n[j])&&(S=!0),S||(g=g||this.getCompleteStyleDeclaration(o,j),y=this.getCompleteStyleDeclaration(o,j+1),S=ly(g,y,!1)),S&&(u?(t.save(),t.translate(v.renderLeft,v.renderTop),t.rotate(v.angle),this._renderChar(e,t,o,j,A,-N/2,0),t.restore()):(k=a,this._renderChar(e,t,o,j,A,k,i)),A="",g=y,a+=m*N,N=0);t.restore()}_applyPatternGradientTransformText(e){const t=this.width+this.strokeWidth,n=this.height+this.strokeWidth,a=lo({width:t,height:n}),i=a.getContext("2d");return a.width=t,a.height=n,i.beginPath(),i.moveTo(0,0),i.lineTo(t,0),i.lineTo(t,n),i.lineTo(0,n),i.closePath(),i.translate(t/2,n/2),i.fillStyle=e.toLive(i),this._applyPatternGradientTransform(i,e),i.fill(),i.createPattern(a,"no-repeat")}handleFiller(e,t,n){let a,i;return ao(n)?n.gradientUnits==="percentage"||n.gradientTransform||n.patternTransform?(a=-this.width/2,i=-this.height/2,e.translate(a,i),e[t]=this._applyPatternGradientTransformText(n),{offsetX:a,offsetY:i}):(e[t]=n.toLive(e),this._applyPatternGradientTransform(e,n)):(e[t]=n,{offsetX:0,offsetY:0})}_setStrokeStyles(e,t){let{stroke:n,strokeWidth:a}=t;return e.lineWidth=a,e.lineCap=this.strokeLineCap,e.lineDashOffset=this.strokeDashOffset,e.lineJoin=this.strokeLineJoin,e.miterLimit=this.strokeMiterLimit,this.handleFiller(e,"strokeStyle",n)}_setFillStyles(e,t){let{fill:n}=t;return this.handleFiller(e,"fillStyle",n)}_renderChar(e,t,n,a,i,o,l){const u=this._getStyleDeclaration(n,a),h=this.getCompleteStyleDeclaration(n,a),f=e==="fillText"&&h.fill,m=e==="strokeText"&&h.stroke&&h.strokeWidth;if(m||f){if(t.save(),t.font=this._getFontDeclaration(h),u.textBackgroundColor&&this._removeShadow(t),u.deltaY&&(l+=u.deltaY),f){const x=this._setFillStyles(t,h);t.fillText(i,o-x.offsetX,l-x.offsetY)}if(m){const x=this._setStrokeStyles(t,h);t.strokeText(i,o-x.offsetX,l-x.offsetY)}t.restore()}}setSuperscript(e,t){this._setScript(e,t,this.superscript)}setSubscript(e,t){this._setScript(e,t,this.subscript)}_setScript(e,t,n){const a=this.get2DCursorLocation(e,!0),i=this.getValueOfPropertyAt(a.lineIndex,a.charIndex,"fontSize"),o=this.getValueOfPropertyAt(a.lineIndex,a.charIndex,"deltaY"),l={fontSize:i*n.size,deltaY:o+i*n.baseline};this.setSelectionStyles(l,e,t)}_getLineLeftOffset(e){const t=this.getLineWidth(e),n=this.width-t,a=this.textAlign,i=this.direction,o=this.isEndOfWrapping(e);let l=0;return a===Tl||a===_d&&!o||a===wd&&!o||a===Ep&&!o?0:(a===Sr&&(l=n/2),a===oa&&(l=n),a===_d&&(l=n/2),a===wd&&(l=n),i==="rtl"&&(a===oa||a===Tl||a===wd?l=0:a===en||a===Ep?l=-n:a!==Sr&&a!==_d||(l=-n/2)),l)}_clearCache(){this._forceClearCache=!1,this.__lineWidths=[],this.__lineHeights=[],this.__charBounds=[]}getLineWidth(e){if(this.__lineWidths[e]!==void 0)return this.__lineWidths[e];const{width:t}=this.measureLine(e);return this.__lineWidths[e]=t,t}_getWidthOfCharSpacing(){return this.charSpacing!==0?this.fontSize*this.charSpacing/1e3:0}getValueOfPropertyAt(e,t,n){var a;return(a=this._getStyleDeclaration(e,t)[n])!==null&&a!==void 0?a:this[n]}_renderTextDecoration(e,t){if(!this[t]&&!this.styleHas(t))return;let n=this._getTopOffset();const a=this._getLeftOffset(),i=this.path,o=this._getWidthOfCharSpacing(),l=t==="linethrough"?.5:t==="overline"?1:0,u=this.offsets[t];for(let h=0,f=this._textLines.length;h<f;h++){const m=this.getHeightOfLine(h);if(!this[t]&&!this.styleHas(t,h)){n+=m;continue}const x=this._textLines[h],g=m/this.lineHeight,y=this._getLineLeftOffset(h);let v=0,S=0,k=this.getValueOfPropertyAt(h,0,t),A=this.getValueOfPropertyAt(h,0,Ia),N=this.getValueOfPropertyAt(h,0,wh),j=k,W=A,ee=N;const z=n+g*(1-this._fontSizeFraction);let B=this.getHeightOfChar(h,0),D=this.getValueOfPropertyAt(h,0,"deltaY");for(let O=0,V=x.length;O<V;O++){const F=this.__charBounds[h][O];j=this.getValueOfPropertyAt(h,O,t),W=this.getValueOfPropertyAt(h,O,Ia),ee=this.getValueOfPropertyAt(h,O,wh);const re=this.getHeightOfChar(h,O),ae=this.getValueOfPropertyAt(h,O,"deltaY");if(i&&j&&W){const J=this.fontSize*ee/1e3;e.save(),e.fillStyle=A,e.translate(F.renderLeft,F.renderTop),e.rotate(F.angle),e.fillRect(-F.kernedWidth/2,u*re+ae-l*J,F.kernedWidth,J),e.restore()}else if((j!==k||W!==A||re!==B||ee!==N||ae!==D)&&S>0){const J=this.fontSize*N/1e3;let ge=a+y+v;this.direction==="rtl"&&(ge=this.width-ge-S),k&&A&&N&&(e.fillStyle=A,e.fillRect(ge,z+u*B+D-l*J,S,J)),v=F.left,S=F.width,k=j,N=ee,A=W,B=re,D=ae}else S+=F.kernedWidth}let Z=a+y+v;this.direction==="rtl"&&(Z=this.width-Z-S),e.fillStyle=W;const q=this.fontSize*ee/1e3;j&&W&&ee&&e.fillRect(Z,z+u*B+D-l*q,S-o,q),n+=m}this._removeShadow(e)}_getFontDeclaration(){let{fontFamily:e=this.fontFamily,fontStyle:t=this.fontStyle,fontWeight:n=this.fontWeight,fontSize:a=this.fontSize}=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},i=arguments.length>1?arguments[1]:void 0;const o=e.includes("'")||e.includes('"')||e.includes(",")||_a.genericFonts.includes(e.toLowerCase())?e:'"'.concat(e,'"');return[t,n,"".concat(i?this.CACHE_FONT_SIZE:a,"px"),o].join(" ")}render(e){this.visible&&(this.canvas&&this.canvas.skipOffscreen&&!this.group&&!this.isOnScreen()||(this._forceClearCache&&this.initDimensions(),super.render(e)))}graphemeSplit(e){return oy(e)}_splitTextIntoLines(e){const t=e.split(this._reNewline),n=new Array(t.length),a=[`
`];let i=[];for(let o=0;o<t.length;o++)n[o]=this.graphemeSplit(t[o]),i=i.concat(n[o],a);return i.pop(),{_unwrappedLines:n,lines:t,graphemeText:i,graphemeLines:n}}toObject(){let e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[];return ze(ze({},super.toObject([...G6,...e])),{},{styles:q9(this.styles,this.text)},this.path?{path:this.path.toObject()}:{})}set(e,t){const{textLayoutProperties:n}=this.constructor;super.set(e,t);let a=!1,i=!1;if(typeof e=="object")for(const o in e)o==="path"&&this.setPathInfo(),a=a||n.includes(o),i=i||o==="path";else a=n.includes(e),i=e==="path";return i&&this.setPathInfo(),a&&this.initialized&&(this.initDimensions(),this.setCoords()),this}complexity(){return 1}static async fromElement(e,t,n){const a=Ec(e,_a.ATTRIBUTE_NAMES,n),i=ze(ze({},t),a),{textAnchor:o=en,textDecoration:l="",dx:u=0,dy:h=0,top:f=0,left:m=0,fontSize:x=Xv,strokeWidth:g=1}=i,y=On(i,QB),v=new this(Ap(e.textContent||"").trim(),ze({left:m+u,top:f+h,underline:l.includes("underline"),overline:l.includes("overline"),linethrough:l.includes("line-through"),strokeWidth:0,fontSize:x},y)),S=v.getScaledHeight()/v.height,k=((v.height+v.strokeWidth)*v.lineHeight-v.height)*S,A=v.getScaledHeight()+k;let N=0;return o===Sr&&(N=v.getScaledWidth()/2),o===oa&&(N=v.getScaledWidth()),v.set({left:v.left-N,top:v.top-(A-v.fontSize*(.07+v._fontSizeFraction))/v.lineHeight,strokeWidth:g}),v}static fromObject(e){return this._fromObject(ze(ze({},e),{},{styles:V9(e.styles||{},e.text)}),{extraParam:"text"})}}Ie(_a,"textLayoutProperties",V6),Ie(_a,"cacheProperties",[...Ac,...G6]),Ie(_a,"ownDefaults",r9),Ie(_a,"type","Text"),Ie(_a,"genericFonts",["serif","sans-serif","monospace","cursive","fantasy","system-ui","ui-serif","ui-sans-serif","ui-monospace","ui-rounded","math","emoji","fangsong"]),Ie(_a,"ATTRIBUTE_NAMES",Eu.concat("x","y","dx","dy","font-family","font-style","font-weight","font-size","letter-spacing","text-decoration","text-anchor")),ek(_a,[class extends z6{_toSVG(){const r=this._getSVGLeftTopOffsets(),e=this._getSVGTextAndBg(r.textTop,r.textLeft);return this._wrapSVGTextAndBg(e)}toSVG(r){const e=this._createBaseSVGMarkup(this._toSVG(),{reviver:r,noStyle:!0,withShadow:!0}),t=this.path;return t?e+t._createBaseSVGMarkup(t._toSVG(),{reviver:r,withShadow:!0,additionalTransform:Pd(this.calcOwnMatrix())}):e}_getSVGLeftTopOffsets(){return{textLeft:-this.width/2,textTop:-this.height/2,lineTop:this.getHeightOfLine(0)}}_wrapSVGTextAndBg(r){let{textBgRects:e,textSpans:t}=r;const n=this.getSvgTextDecoration(this);return[e.join(""),'		<text xml:space="preserve" ','font-family="'.concat(this.fontFamily.replace(JB,"'"),'" '),'font-size="'.concat(this.fontSize,'" '),this.fontStyle?'font-style="'.concat(this.fontStyle,'" '):"",this.fontWeight?'font-weight="'.concat(this.fontWeight,'" '):"",n?'text-decoration="'.concat(n,'" '):"",this.direction==="rtl"?'direction="'.concat(this.direction,'" '):"",'style="',this.getSvgStyles(!0),'"',this.addPaintOrder()," >",t.join(""),`</text>
`]}_getSVGTextAndBg(r,e){const t=[],n=[];let a,i=r;this.backgroundColor&&n.push(...U2(this.backgroundColor,-this.width/2,-this.height/2,this.width,this.height));for(let o=0,l=this._textLines.length;o<l;o++)a=this._getLineLeftOffset(o),this.direction==="rtl"&&(a+=this.width),(this.textBackgroundColor||this.styleHas("textBackgroundColor",o))&&this._setSVGTextLineBg(n,o,e+a,i),this._setSVGTextLineText(t,o,e+a,i),i+=this.getHeightOfLine(o);return{textSpans:t,textBgRects:n}}_createTextCharSpan(r,e,t,n,a){const i=Gr.NUM_FRACTION_DIGITS,o=this.getSvgSpanStyles(e,r!==r.trim()||!!r.match(ZB)),l=o?'style="'.concat(o,'"'):"",u=e.deltaY,h=u?' dy="'.concat(vn(u,i),'" '):"",{angle:f,renderLeft:m,renderTop:x,width:g}=a;let y="";if(m!==void 0){const v=g/2;f&&(y=' rotate="'.concat(vn(Cc(f),i),'"'));const S=f0({angle:Cc(f)});S[4]=m,S[5]=x;const k=new ct(-v,0).transform(S);t=k.x,n=k.y}return'<tspan x="'.concat(vn(t,i),'" y="').concat(vn(n,i),'" ').concat(h).concat(y).concat(l,">").concat(U9(r),"</tspan>")}_setSVGTextLineText(r,e,t,n){const a=this.getHeightOfLine(e),i=this.textAlign.includes(Tl),o=this._textLines[e];let l,u,h,f,m,x="",g=0;n+=a*(1-this._fontSizeFraction)/this.lineHeight;for(let y=0,v=o.length-1;y<=v;y++)m=y===v||this.charSpacing||this.path,x+=o[y],h=this.__charBounds[e][y],g===0?(t+=h.kernedWidth-h.width,g+=h.width):g+=h.kernedWidth,i&&!m&&this._reSpaceAndTab.test(o[y])&&(m=!0),m||(l=l||this.getCompleteStyleDeclaration(e,y),u=this.getCompleteStyleDeclaration(e,y+1),m=ly(l,u,!0)),m&&(f=this._getStyleDeclaration(e,y),r.push(this._createTextCharSpan(x,f,t,n,h)),x="",l=u,this.direction==="rtl"?t-=g:t+=g,g=0)}_setSVGTextLineBg(r,e,t,n){const a=this._textLines[e],i=this.getHeightOfLine(e)/this.lineHeight;let o,l=0,u=0,h=this.getValueOfPropertyAt(e,0,"textBackgroundColor");for(let f=0;f<a.length;f++){const{left:m,width:x,kernedWidth:g}=this.__charBounds[e][f];o=this.getValueOfPropertyAt(e,f,"textBackgroundColor"),o!==h?(h&&r.push(...U2(h,t+u,n,l,i)),u=m,l=x,h=o):l+=g}o&&r.push(...U2(h,t+u,n,l,i))}_getSVGLineTopOffset(r){let e,t=0;for(e=0;e<r;e++)t+=this.getHeightOfLine(e);const n=this.getHeightOfLine(e);return{lineTop:t,offset:(this._fontSizeMult-this._fontSizeFraction)*n/(this.lineHeight*this._fontSizeMult)}}getSvgStyles(r){return"".concat(super.getSvgStyles(r)," text-decoration-thickness: ").concat(vn(this.textDecorationThickness*this.getObjectScaling().y/10,Gr.NUM_FRACTION_DIGITS),"%; white-space: pre;")}getSvgSpanStyles(r,e){const{fontFamily:t,strokeWidth:n,stroke:a,fill:i,fontSize:o,fontStyle:l,fontWeight:u,deltaY:h,textDecorationThickness:f,linethrough:m,overline:x,underline:g}=r,y=this.getSvgTextDecoration({underline:g??this.underline,overline:x??this.overline,linethrough:m??this.linethrough}),v=f||this.textDecorationThickness;return[a?Id(hs,a):"",n?"stroke-width: ".concat(n,"; "):"",t?"font-family: ".concat(t.includes("'")||t.includes('"')?t:"'".concat(t,"'"),"; "):"",o?"font-size: ".concat(o,"px; "):"",l?"font-style: ".concat(l,"; "):"",u?"font-weight: ".concat(u,"; "):"",y?"text-decoration: ".concat(y,"; text-decoration-thickness: ").concat(vn(v*this.getObjectScaling().y/10,Gr.NUM_FRACTION_DIGITS),"%; "):"",i?Id(Ia,i):"",h?"baseline-shift: ".concat(-h,"; "):"",e?"white-space: pre; ":""].join("")}getSvgTextDecoration(r){return["overline","underline","line-through"].filter((e=>r[e.replace("-","")])).join(" ")}}]),qt.setClass(_a),qt.setSVGClass(_a);class eP{constructor(e){Ie(this,"target",void 0),Ie(this,"__mouseDownInPlace",!1),Ie(this,"__dragStartFired",!1),Ie(this,"__isDraggingOver",!1),Ie(this,"__dragStartSelection",void 0),Ie(this,"__dragImageDisposer",void 0),Ie(this,"_dispose",void 0),this.target=e;const t=[this.target.on("dragenter",this.dragEnterHandler.bind(this)),this.target.on("dragover",this.dragOverHandler.bind(this)),this.target.on("dragleave",this.dragLeaveHandler.bind(this)),this.target.on("dragend",this.dragEndHandler.bind(this)),this.target.on("drop",this.dropHandler.bind(this))];this._dispose=()=>{t.forEach((n=>n())),this._dispose=void 0}}isPointerOverSelection(e){const t=this.target,n=t.getSelectionStartFromPointer(e);return t.isEditing&&n>=t.selectionStart&&n<=t.selectionEnd&&t.selectionStart<t.selectionEnd}start(e){return this.__mouseDownInPlace=this.isPointerOverSelection(e)}isActive(){return this.__mouseDownInPlace}end(e){const t=this.isActive();return t&&!this.__dragStartFired&&(this.target.setCursorByClick(e),this.target.initDelayedCursor(!0)),this.__mouseDownInPlace=!1,this.__dragStartFired=!1,this.__isDraggingOver=!1,t}getDragStartSelection(){return this.__dragStartSelection}setDragImage(e,t){var n;let{selectionStart:a,selectionEnd:i}=t;const o=this.target,l=o.canvas,u=new ct(o.flipX?-1:1,o.flipY?-1:1),h=o._getCursorBoundaries(a),f=new ct(h.left+h.leftOffset,h.top+h.topOffset).multiply(u).transform(o.calcTransformMatrix()),m=l.getScenePoint(e).subtract(f),x=o.getCanvasRetinaScaling(),g=o.getBoundingRect(),y=f.subtract(new ct(g.left,g.top)),v=l.viewportTransform,S=y.add(m).transform(v,!0),k=o.backgroundColor,A=sy(o.styles);o.backgroundColor="";const N={stroke:"transparent",fill:"transparent",textBackgroundColor:"transparent"};o.setSelectionStyles(N,0,a),o.setSelectionStyles(N,i,o.text.length),o.dirty=!0;const j=o.toCanvasElement({enableRetinaScaling:l.enableRetinaScaling,viewportTransform:!0});o.backgroundColor=k,o.styles=A,o.dirty=!0,ev(j,{position:"fixed",left:"".concat(-j.width,"px"),border:us,width:"".concat(j.width/x,"px"),height:"".concat(j.height/x,"px")}),this.__dragImageDisposer&&this.__dragImageDisposer(),this.__dragImageDisposer=()=>{j.remove()},Go(e.target||this.target.hiddenTextarea).body.appendChild(j),(n=e.dataTransfer)===null||n===void 0||n.setDragImage(j,S.x,S.y)}onDragStart(e){this.__dragStartFired=!0;const t=this.target,n=this.isActive();if(n&&e.dataTransfer){const a=this.__dragStartSelection={selectionStart:t.selectionStart,selectionEnd:t.selectionEnd},i=t._text.slice(a.selectionStart,a.selectionEnd).join(""),o=ze({text:t.text,value:i},a);e.dataTransfer.setData("text/plain",i),e.dataTransfer.setData("application/fabric",JSON.stringify({value:i,styles:t.getSelectionStyles(a.selectionStart,a.selectionEnd,!0)})),e.dataTransfer.effectAllowed="copyMove",this.setDragImage(e,o)}return t.abortCursorAnimation(),n}canDrop(e){if(this.target.editable&&!this.target.getActiveControl()&&!e.defaultPrevented){if(this.isActive()&&this.__dragStartSelection){const t=this.target.getSelectionStartFromPointer(e),n=this.__dragStartSelection;return t<n.selectionStart||t>n.selectionEnd}return!0}return!1}targetCanDrop(e){return this.target.canDrop(e)}dragEnterHandler(e){let{e:t}=e;const n=this.targetCanDrop(t);!this.__isDraggingOver&&n&&(this.__isDraggingOver=!0)}dragOverHandler(e){const{e:t}=e,n=this.targetCanDrop(t);!this.__isDraggingOver&&n?this.__isDraggingOver=!0:this.__isDraggingOver&&!n&&(this.__isDraggingOver=!1),this.__isDraggingOver&&(t.preventDefault(),e.canDrop=!0,e.dropTarget=this.target)}dragLeaveHandler(){(this.__isDraggingOver||this.isActive())&&(this.__isDraggingOver=!1)}dropHandler(e){var t;const{e:n}=e,a=n.defaultPrevented;this.__isDraggingOver=!1,n.preventDefault();let i=(t=n.dataTransfer)===null||t===void 0?void 0:t.getData("text/plain");if(i&&!a){const o=this.target,l=o.canvas;let u=o.getSelectionStartFromPointer(n);const{styles:h}=n.dataTransfer.types.includes("application/fabric")?JSON.parse(n.dataTransfer.getData("application/fabric")):{},f=i[Math.max(0,i.length-1)],m=0;if(this.__dragStartSelection){const x=this.__dragStartSelection.selectionStart,g=this.__dragStartSelection.selectionEnd;u>x&&u<=g?u=x:u>g&&(u-=g-x),o.removeChars(x,g),delete this.__dragStartSelection}o._reNewline.test(f)&&(o._reNewline.test(o._text[u])||u===o._text.length)&&(i=i.trimEnd()),e.didDrop=!0,e.dropTarget=o,o.insertChars(i,h,u),l.setActiveObject(o),o.enterEditing(n),o.selectionStart=Math.min(u+m,o._text.length),o.selectionEnd=Math.min(o.selectionStart+i.length,o._text.length),o.hiddenTextarea.value=o.text,o._updateTextarea(),o.hiddenTextarea.focus(),o.fire(wp,{index:u+m,action:"drop"}),l.fire("text:changed",{target:o}),l.contextTopDirty=!0,l.requestRenderAll()}}dragEndHandler(e){let{e:t}=e;if(this.isActive()&&this.__dragStartFired&&this.__dragStartSelection){var n;const a=this.target,i=this.target.canvas,{selectionStart:o,selectionEnd:l}=this.__dragStartSelection,u=((n=t.dataTransfer)===null||n===void 0?void 0:n.dropEffect)||us;u===us?(a.selectionStart=o,a.selectionEnd=l,a._updateTextarea(),a.hiddenTextarea.focus()):(a.clearContextTop(),u==="move"&&(a.removeChars(o,l),a.selectionStart=a.selectionEnd=o,a.hiddenTextarea&&(a.hiddenTextarea.value=a.text),a._updateTextarea(),a.fire(wp,{index:o,action:"dragend"}),i.fire("text:changed",{target:a}),i.requestRenderAll()),a.exitEditing())}this.__dragImageDisposer&&this.__dragImageDisposer(),delete this.__dragImageDisposer,delete this.__dragStartSelection,this.__isDraggingOver=!1}dispose(){this._dispose&&this._dispose()}}const Y_=/[ \n\.,;!\?\-]/;class tP extends _a{constructor(){super(...arguments),Ie(this,"_currentCursorOpacity",1)}initBehavior(){this._tick=this._tick.bind(this),this._onTickComplete=this._onTickComplete.bind(this),this.updateSelectionOnMouseMove=this.updateSelectionOnMouseMove.bind(this)}onDeselect(e){return this.isEditing&&this.exitEditing(),this.selected=!1,super.onDeselect(e)}_animateCursor(e){let{toValue:t,duration:n,delay:a,onComplete:i}=e;return K6({startValue:this._currentCursorOpacity,endValue:t,duration:n,delay:a,onComplete:i,abort:()=>!this.canvas||this.selectionStart!==this.selectionEnd,onChange:o=>{this._currentCursorOpacity=o,this.renderCursorOrSelection()}})}_tick(e){this._currentTickState=this._animateCursor({toValue:0,duration:this.cursorDuration/2,delay:Math.max(e||0,100),onComplete:this._onTickComplete})}_onTickComplete(){var e;(e=this._currentTickCompleteState)===null||e===void 0||e.abort(),this._currentTickCompleteState=this._animateCursor({toValue:1,duration:this.cursorDuration,onComplete:this._tick})}initDelayedCursor(e){this.abortCursorAnimation(),this._tick(e?0:this.cursorDelay)}abortCursorAnimation(){let e=!1;[this._currentTickState,this._currentTickCompleteState].forEach((t=>{t&&!t.isDone()&&(e=!0,t.abort())})),this._currentCursorOpacity=1,e&&this.clearContextTop()}restartCursorIfNeeded(){[this._currentTickState,this._currentTickCompleteState].some((e=>!e||e.isDone()))&&this.initDelayedCursor()}selectAll(){return this.selectionStart=0,this.selectionEnd=this._text.length,this._fireSelectionChanged(),this._updateTextarea(),this}cmdAll(){this.selectAll(),this.renderCursorOrSelection()}getSelectedText(){return this._text.slice(this.selectionStart,this.selectionEnd).join("")}findWordBoundaryLeft(e){let t=0,n=e-1;if(this._reSpace.test(this._text[n]))for(;this._reSpace.test(this._text[n]);)t++,n--;for(;/\S/.test(this._text[n])&&n>-1;)t++,n--;return e-t}findWordBoundaryRight(e){let t=0,n=e;if(this._reSpace.test(this._text[n]))for(;this._reSpace.test(this._text[n]);)t++,n++;for(;/\S/.test(this._text[n])&&n<this._text.length;)t++,n++;return e+t}findLineBoundaryLeft(e){let t=0,n=e-1;for(;!/\n/.test(this._text[n])&&n>-1;)t++,n--;return e-t}findLineBoundaryRight(e){let t=0,n=e;for(;!/\n/.test(this._text[n])&&n<this._text.length;)t++,n++;return e+t}searchWordBoundary(e,t){const n=this._text;let a=e>0&&this._reSpace.test(n[e])&&(t===-1||!Kv.test(n[e-1]))?e-1:e,i=n[a];for(;a>0&&a<n.length&&!Y_.test(i);)a+=t,i=n[a];return t===-1&&Y_.test(i)&&a++,a}selectWord(e){var t;e=(t=e)!==null&&t!==void 0?t:this.selectionStart;const n=this.searchWordBoundary(e,-1),a=Math.max(n,this.searchWordBoundary(e,1));this.selectionStart=n,this.selectionEnd=a,this._fireSelectionChanged(),this._updateTextarea(),this.renderCursorOrSelection()}selectLine(e){var t;e=(t=e)!==null&&t!==void 0?t:this.selectionStart;const n=this.findLineBoundaryLeft(e),a=this.findLineBoundaryRight(e);this.selectionStart=n,this.selectionEnd=a,this._fireSelectionChanged(),this._updateTextarea()}enterEditing(e){!this.isEditing&&this.editable&&(this.enterEditingImpl(),this.fire("editing:entered",e?{e}:void 0),this._fireSelectionChanged(),this.canvas&&(this.canvas.fire("text:editing:entered",{target:this,e}),this.canvas.requestRenderAll()))}enterEditingImpl(){this.canvas&&(this.canvas.calcOffset(),this.canvas.textEditingManager.exitTextEditing()),this.isEditing=!0,this.initHiddenTextarea(),this.hiddenTextarea.focus(),this.hiddenTextarea.value=this.text,this._updateTextarea(),this._saveEditingProps(),this._setEditingProps(),this._textBeforeEdit=this.text,this._tick()}updateSelectionOnMouseMove(e){if(this.getActiveControl())return;const t=this.hiddenTextarea;Go(t).activeElement!==t&&t.focus();const n=this.getSelectionStartFromPointer(e),a=this.selectionStart,i=this.selectionEnd;(n===this.__selectionStartOnMouseDown&&a!==i||a!==n&&i!==n)&&(n>this.__selectionStartOnMouseDown?(this.selectionStart=this.__selectionStartOnMouseDown,this.selectionEnd=n):(this.selectionStart=n,this.selectionEnd=this.__selectionStartOnMouseDown),this.selectionStart===a&&this.selectionEnd===i||(this._fireSelectionChanged(),this._updateTextarea(),this.renderCursorOrSelection()))}_setEditingProps(){this.hoverCursor="text",this.canvas&&(this.canvas.defaultCursor=this.canvas.moveCursor="text"),this.borderColor=this.editingBorderColor,this.hasControls=this.selectable=!1,this.lockMovementX=this.lockMovementY=!0}fromStringToGraphemeSelection(e,t,n){const a=n.slice(0,e),i=this.graphemeSplit(a).length;if(e===t)return{selectionStart:i,selectionEnd:i};const o=n.slice(e,t);return{selectionStart:i,selectionEnd:i+this.graphemeSplit(o).length}}fromGraphemeToStringSelection(e,t,n){const a=n.slice(0,e).join("").length;return e===t?{selectionStart:a,selectionEnd:a}:{selectionStart:a,selectionEnd:a+n.slice(e,t).join("").length}}_updateTextarea(){if(this.cursorOffsetCache={},this.hiddenTextarea){if(!this.inCompositionMode){const e=this.fromGraphemeToStringSelection(this.selectionStart,this.selectionEnd,this._text);this.hiddenTextarea.selectionStart=e.selectionStart,this.hiddenTextarea.selectionEnd=e.selectionEnd}this.updateTextareaPosition()}}updateFromTextArea(){if(!this.hiddenTextarea)return;this.cursorOffsetCache={};const e=this.hiddenTextarea;this.text=e.value,this.set("dirty",!0),this.initDimensions(),this.setCoords();const t=this.fromStringToGraphemeSelection(e.selectionStart,e.selectionEnd,e.value);this.selectionEnd=this.selectionStart=t.selectionEnd,this.inCompositionMode||(this.selectionStart=t.selectionStart),this.updateTextareaPosition()}updateTextareaPosition(){if(this.selectionStart===this.selectionEnd){const e=this._calcTextareaPosition();this.hiddenTextarea.style.left=e.left,this.hiddenTextarea.style.top=e.top}}_calcTextareaPosition(){if(!this.canvas)return{left:"1px",top:"1px"};const e=this.inCompositionMode?this.compositionStart:this.selectionStart,t=this._getCursorBoundaries(e),n=this.get2DCursorLocation(e),a=n.lineIndex,i=n.charIndex,o=this.getValueOfPropertyAt(a,i,"fontSize")*this.lineHeight,l=t.leftOffset,u=this.getCanvasRetinaScaling(),h=this.canvas.upperCanvasEl,f=h.width/u,m=h.height/u,x=f-o,g=m-o,y=new ct(t.left+l,t.top+t.topOffset+o).transform(this.calcTransformMatrix()).transform(this.canvas.viewportTransform).multiply(new ct(h.clientWidth/f,h.clientHeight/m));return y.x<0&&(y.x=0),y.x>x&&(y.x=x),y.y<0&&(y.y=0),y.y>g&&(y.y=g),y.x+=this.canvas._offset.left,y.y+=this.canvas._offset.top,{left:"".concat(y.x,"px"),top:"".concat(y.y,"px"),fontSize:"".concat(o,"px"),charHeight:o}}_saveEditingProps(){this._savedProps={hasControls:this.hasControls,borderColor:this.borderColor,lockMovementX:this.lockMovementX,lockMovementY:this.lockMovementY,hoverCursor:this.hoverCursor,selectable:this.selectable,defaultCursor:this.canvas&&this.canvas.defaultCursor,moveCursor:this.canvas&&this.canvas.moveCursor}}_restoreEditingProps(){this._savedProps&&(this.hoverCursor=this._savedProps.hoverCursor,this.hasControls=this._savedProps.hasControls,this.borderColor=this._savedProps.borderColor,this.selectable=this._savedProps.selectable,this.lockMovementX=this._savedProps.lockMovementX,this.lockMovementY=this._savedProps.lockMovementY,this.canvas&&(this.canvas.defaultCursor=this._savedProps.defaultCursor||this.canvas.defaultCursor,this.canvas.moveCursor=this._savedProps.moveCursor||this.canvas.moveCursor),delete this._savedProps)}_exitEditing(){const e=this.hiddenTextarea;this.selected=!1,this.isEditing=!1,e&&(e.blur&&e.blur(),e.parentNode&&e.parentNode.removeChild(e)),this.hiddenTextarea=null,this.abortCursorAnimation(),this.selectionStart!==this.selectionEnd&&this.clearContextTop()}exitEditingImpl(){this._exitEditing(),this.selectionEnd=this.selectionStart,this._restoreEditingProps(),this._forceClearCache&&(this.initDimensions(),this.setCoords())}exitEditing(){const e=this._textBeforeEdit!==this.text;return this.exitEditingImpl(),this.fire("editing:exited"),e&&this.fire(_p),this.canvas&&(this.canvas.fire("text:editing:exited",{target:this}),e&&this.canvas.fire("object:modified",{target:this})),this}_removeExtraneousStyles(){for(const e in this.styles)this._textLines[e]||delete this.styles[e]}removeStyleFromTo(e,t){const{lineIndex:n,charIndex:a}=this.get2DCursorLocation(e,!0),{lineIndex:i,charIndex:o}=this.get2DCursorLocation(t,!0);if(n!==i){if(this.styles[n])for(let l=a;l<this._unwrappedTextLines[n].length;l++)delete this.styles[n][l];if(this.styles[i])for(let l=o;l<this._unwrappedTextLines[i].length;l++){const u=this.styles[i][l];u&&(this.styles[n]||(this.styles[n]={}),this.styles[n][a+l-o]=u)}for(let l=n+1;l<=i;l++)delete this.styles[l];this.shiftLineStyles(i,n-i)}else if(this.styles[n]){const l=this.styles[n],u=o-a;for(let h=a;h<o;h++)delete l[h];for(const h in this.styles[n]){const f=parseInt(h,10);f>=o&&(l[f-u]=l[h],delete l[h])}}}shiftLineStyles(e,t){const n=Object.assign({},this.styles);for(const a in this.styles){const i=parseInt(a,10);i>e&&(this.styles[i+t]=n[i],n[i-t]||delete this.styles[i])}}insertNewlineStyleObject(e,t,n,a){const i={},o=this._unwrappedTextLines[e].length,l=o===t;let u=!1;n||(n=1),this.shiftLineStyles(e,n);const h=this.styles[e]?this.styles[e][t===0?t:t-1]:void 0;for(const m in this.styles[e]){const x=parseInt(m,10);x>=t&&(u=!0,i[x-t]=this.styles[e][m],l&&t===0||delete this.styles[e][m])}let f=!1;for(u&&!l&&(this.styles[e+n]=i,f=!0),(f||o>t)&&n--;n>0;)a&&a[n-1]?this.styles[e+n]={0:ze({},a[n-1])}:h?this.styles[e+n]={0:ze({},h)}:delete this.styles[e+n],n--;this._forceClearCache=!0}insertCharStyleObject(e,t,n,a){this.styles||(this.styles={});const i=this.styles[e],o=i?ze({},i):{};n||(n=1);for(const u in o){const h=parseInt(u,10);h>=t&&(i[h+n]=o[h],o[h-n]||delete i[h])}if(this._forceClearCache=!0,a){for(;n--;)Object.keys(a[n]).length&&(this.styles[e]||(this.styles[e]={}),this.styles[e][t+n]=ze({},a[n]));return}if(!i)return;const l=i[t?t-1:1];for(;l&&n--;)this.styles[e][t+n]=ze({},l)}insertNewStyleBlock(e,t,n){const a=this.get2DCursorLocation(t,!0),i=[0];let o,l=0;for(let u=0;u<e.length;u++)e[u]===`
`?(l++,i[l]=0):i[l]++;for(i[0]>0&&(this.insertCharStyleObject(a.lineIndex,a.charIndex,i[0],n),n=n&&n.slice(i[0]+1)),l&&this.insertNewlineStyleObject(a.lineIndex,a.charIndex+i[0],l),o=1;o<l;o++)i[o]>0?this.insertCharStyleObject(a.lineIndex+o,0,i[o],n):n&&this.styles[a.lineIndex+o]&&n[0]&&(this.styles[a.lineIndex+o][0]=n[0]),n=n&&n.slice(i[o]+1);i[o]>0&&this.insertCharStyleObject(a.lineIndex+o,0,i[o],n)}removeChars(e){let t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:e+1;this.removeStyleFromTo(e,t),this._text.splice(e,t-e),this.text=this._text.join(""),this.set("dirty",!0),this.initDimensions(),this.setCoords(),this._removeExtraneousStyles()}insertChars(e,t,n){let a=arguments.length>3&&arguments[3]!==void 0?arguments[3]:n;a>n&&this.removeStyleFromTo(n,a);const i=this.graphemeSplit(e);this.insertNewStyleBlock(i,n,t),this._text=[...this._text.slice(0,n),...i,...this._text.slice(a)],this.text=this._text.join(""),this.set("dirty",!0),this.initDimensions(),this.setCoords(),this._removeExtraneousStyles()}setSelectionStartEndWithShift(e,t,n){n<=e?(t===e?this._selectionDirection=en:this._selectionDirection===oa&&(this._selectionDirection=en,this.selectionEnd=e),this.selectionStart=n):n>e&&n<t?this._selectionDirection===oa?this.selectionEnd=n:this.selectionStart=n:(t===e?this._selectionDirection=oa:this._selectionDirection===en&&(this._selectionDirection=oa,this.selectionStart=t),this.selectionEnd=n)}}class rP extends tP{initHiddenTextarea(){const e=this.canvas&&Go(this.canvas.getElement())||c0(),t=e.createElement("textarea");Object.entries({autocapitalize:"off",autocorrect:"off",autocomplete:"off",spellcheck:"false","data-fabric":"textarea",wrap:"off",name:"fabricTextarea"}).map((o=>{let[l,u]=o;return t.setAttribute(l,u)}));const{top:n,left:a,fontSize:i}=this._calcTextareaPosition();t.style.cssText="position: absolute; top: ".concat(n,"; left: ").concat(a,"; z-index: -999; opacity: 0; width: 1px; height: 1px; font-size: 1px; padding-top: ").concat(i,";"),(this.hiddenTextareaContainer||e.body).appendChild(t),Object.entries({blur:"blur",keydown:"onKeyDown",keyup:"onKeyUp",input:"onInput",copy:"copy",cut:"copy",paste:"paste",compositionstart:"onCompositionStart",compositionupdate:"onCompositionUpdate",compositionend:"onCompositionEnd"}).map((o=>{let[l,u]=o;return t.addEventListener(l,this[u].bind(this))})),this.hiddenTextarea=t}blur(){this.abortCursorAnimation()}onKeyDown(e){if(!this.isEditing)return;const t=this.direction==="rtl"?this.keysMapRtl:this.keysMap;if(e.keyCode in t)this[t[e.keyCode]](e);else{if(!(e.keyCode in this.ctrlKeysMapDown)||!e.ctrlKey&&!e.metaKey)return;this[this.ctrlKeysMapDown[e.keyCode]](e)}e.stopImmediatePropagation(),e.preventDefault(),e.keyCode>=33&&e.keyCode<=40?(this.inCompositionMode=!1,this.clearContextTop(),this.renderCursorOrSelection()):this.canvas&&this.canvas.requestRenderAll()}onKeyUp(e){!this.isEditing||this._copyDone||this.inCompositionMode?this._copyDone=!1:e.keyCode in this.ctrlKeysMapUp&&(e.ctrlKey||e.metaKey)&&(this[this.ctrlKeysMapUp[e.keyCode]](e),e.stopImmediatePropagation(),e.preventDefault(),this.canvas&&this.canvas.requestRenderAll())}onInput(e){const t=this.fromPaste,{value:n,selectionStart:a,selectionEnd:i}=this.hiddenTextarea;if(this.fromPaste=!1,e&&e.stopPropagation(),!this.isEditing)return;const o=()=>{this.updateFromTextArea(),this.fire(wp),this.canvas&&(this.canvas.fire("text:changed",{target:this}),this.canvas.requestRenderAll())};if(this.hiddenTextarea.value==="")return this.styles={},void o();const l=this._splitTextIntoLines(n).graphemeText,u=this._text.length,h=l.length,f=this.selectionStart,m=this.selectionEnd,x=f!==m;let g,y,v,S,k=h-u;const A=this.fromStringToGraphemeSelection(a,i,n),N=f>A.selectionStart;x?(y=this._text.slice(f,m),k+=m-f):h<u&&(y=N?this._text.slice(m+k,m):this._text.slice(f,f-k));const j=l.slice(A.selectionEnd-k,A.selectionEnd);if(y&&y.length&&(j.length&&(g=this.getSelectionStyles(f,f+1,!1),g=j.map((()=>g[0]))),x?(v=f,S=m):N?(v=m-y.length,S=m):(v=m,S=m+y.length),this.removeStyleFromTo(v,S)),j.length){const{copyPasteData:W}=Dl();t&&j.join("")===W.copiedText&&!Gr.disableStyleCopyPaste&&(g=W.copiedTextStyle),this.insertNewStyleBlock(j,f,g)}o()}onCompositionStart(){this.inCompositionMode=!0}onCompositionEnd(){this.inCompositionMode=!1}onCompositionUpdate(e){let{target:t}=e;const{selectionStart:n,selectionEnd:a}=t;this.compositionStart=n,this.compositionEnd=a,this.updateTextareaPosition()}copy(){if(this.selectionStart===this.selectionEnd)return;const{copyPasteData:e}=Dl();e.copiedText=this.getSelectedText(),Gr.disableStyleCopyPaste?e.copiedTextStyle=void 0:e.copiedTextStyle=this.getSelectionStyles(this.selectionStart,this.selectionEnd,!0),this._copyDone=!0}paste(){this.fromPaste=!0}_getWidthBeforeCursor(e,t){let n,a=this._getLineLeftOffset(e);return t>0&&(n=this.__charBounds[e][t-1],a+=n.left+n.width),a}getDownCursorOffset(e,t){const n=this._getSelectionForOffset(e,t),a=this.get2DCursorLocation(n),i=a.lineIndex;if(i===this._textLines.length-1||e.metaKey||e.keyCode===34)return this._text.length-n;const o=a.charIndex,l=this._getWidthBeforeCursor(i,o),u=this._getIndexOnLine(i+1,l);return this._textLines[i].slice(o).length+u+1+this.missingNewlineOffset(i)}_getSelectionForOffset(e,t){return e.shiftKey&&this.selectionStart!==this.selectionEnd&&t?this.selectionEnd:this.selectionStart}getUpCursorOffset(e,t){const n=this._getSelectionForOffset(e,t),a=this.get2DCursorLocation(n),i=a.lineIndex;if(i===0||e.metaKey||e.keyCode===33)return-n;const o=a.charIndex,l=this._getWidthBeforeCursor(i,o),u=this._getIndexOnLine(i-1,l),h=this._textLines[i].slice(0,o),f=this.missingNewlineOffset(i-1);return-this._textLines[i-1].length+u-h.length+(1-f)}_getIndexOnLine(e,t){const n=this._textLines[e];let a,i,o=this._getLineLeftOffset(e),l=0;for(let u=0,h=n.length;u<h;u++)if(a=this.__charBounds[e][u].width,o+=a,o>t){i=!0;const f=o-a,m=o,x=Math.abs(f-t);l=Math.abs(m-t)<x?u:u-1;break}return i||(l=n.length-1),l}moveCursorDown(e){this.selectionStart>=this._text.length&&this.selectionEnd>=this._text.length||this._moveCursorUpOrDown("Down",e)}moveCursorUp(e){this.selectionStart===0&&this.selectionEnd===0||this._moveCursorUpOrDown("Up",e)}_moveCursorUpOrDown(e,t){const n=this["get".concat(e,"CursorOffset")](t,this._selectionDirection===oa);if(t.shiftKey?this.moveCursorWithShift(n):this.moveCursorWithoutShift(n),n!==0){const a=this.text.length;this.selectionStart=i0(0,this.selectionStart,a),this.selectionEnd=i0(0,this.selectionEnd,a),this.abortCursorAnimation(),this.initDelayedCursor(),this._fireSelectionChanged(),this._updateTextarea()}}moveCursorWithShift(e){const t=this._selectionDirection===en?this.selectionStart+e:this.selectionEnd+e;return this.setSelectionStartEndWithShift(this.selectionStart,this.selectionEnd,t),e!==0}moveCursorWithoutShift(e){return e<0?(this.selectionStart+=e,this.selectionEnd=this.selectionStart):(this.selectionEnd+=e,this.selectionStart=this.selectionEnd),e!==0}moveCursorLeft(e){this.selectionStart===0&&this.selectionEnd===0||this._moveCursorLeftOrRight("Left",e)}_move(e,t,n){let a;if(e.altKey)a=this["findWordBoundary".concat(n)](this[t]);else{if(!e.metaKey&&e.keyCode!==35&&e.keyCode!==36)return this[t]+=n==="Left"?-1:1,!0;a=this["findLineBoundary".concat(n)](this[t])}return a!==void 0&&this[t]!==a&&(this[t]=a,!0)}_moveLeft(e,t){return this._move(e,t,"Left")}_moveRight(e,t){return this._move(e,t,"Right")}moveCursorLeftWithoutShift(e){let t=!0;return this._selectionDirection=en,this.selectionEnd===this.selectionStart&&this.selectionStart!==0&&(t=this._moveLeft(e,"selectionStart")),this.selectionEnd=this.selectionStart,t}moveCursorLeftWithShift(e){return this._selectionDirection===oa&&this.selectionStart!==this.selectionEnd?this._moveLeft(e,"selectionEnd"):this.selectionStart!==0?(this._selectionDirection=en,this._moveLeft(e,"selectionStart")):void 0}moveCursorRight(e){this.selectionStart>=this._text.length&&this.selectionEnd>=this._text.length||this._moveCursorLeftOrRight("Right",e)}_moveCursorLeftOrRight(e,t){const n="moveCursor".concat(e).concat(t.shiftKey?"WithShift":"WithoutShift");this._currentCursorOpacity=1,this[n](t)&&(this.abortCursorAnimation(),this.initDelayedCursor(),this._fireSelectionChanged(),this._updateTextarea())}moveCursorRightWithShift(e){return this._selectionDirection===en&&this.selectionStart!==this.selectionEnd?this._moveRight(e,"selectionStart"):this.selectionEnd!==this._text.length?(this._selectionDirection=oa,this._moveRight(e,"selectionEnd")):void 0}moveCursorRightWithoutShift(e){let t=!0;return this._selectionDirection=oa,this.selectionStart===this.selectionEnd?(t=this._moveRight(e,"selectionStart"),this.selectionEnd=this.selectionStart):this.selectionStart=this.selectionEnd,t}}const X_=r=>!!r.button;class nP extends rP{constructor(){super(...arguments),Ie(this,"draggableTextDelegate",void 0)}initBehavior(){this.on("mousedown",this._mouseDownHandler),this.on("mouseup",this.mouseUpHandler),this.on("mousedblclick",this.doubleClickHandler),this.on("mousetripleclick",this.tripleClickHandler),this.draggableTextDelegate=new eP(this),super.initBehavior()}shouldStartDragging(){return this.draggableTextDelegate.isActive()}onDragStart(e){return this.draggableTextDelegate.onDragStart(e)}canDrop(e){return this.draggableTextDelegate.canDrop(e)}doubleClickHandler(e){this.isEditing&&(this.selectWord(this.getSelectionStartFromPointer(e.e)),this.renderCursorOrSelection())}tripleClickHandler(e){this.isEditing&&(this.selectLine(this.getSelectionStartFromPointer(e.e)),this.renderCursorOrSelection())}_mouseDownHandler(e){let{e:t,alreadySelected:n}=e;this.canvas&&this.editable&&!X_(t)&&!this.getActiveControl()&&(this.draggableTextDelegate.start(t)||(this.canvas.textEditingManager.register(this),n&&(this.inCompositionMode=!1,this.setCursorByClick(t)),this.isEditing&&(this.__selectionStartOnMouseDown=this.selectionStart,this.selectionStart===this.selectionEnd&&this.abortCursorAnimation(),this.renderCursorOrSelection()),this.selected||(this.selected=n||this.isEditing)))}mouseUpHandler(e){let{e:t,transform:n}=e;const a=this.draggableTextDelegate.end(t);if(this.canvas){this.canvas.textEditingManager.unregister(this);const i=this.canvas._activeObject;if(i&&i!==this)return}!this.editable||this.group&&!this.group.interactive||n&&n.actionPerformed||X_(t)||a||this.selected&&!this.getActiveControl()&&(this.enterEditing(t),this.selectionStart===this.selectionEnd?this.initDelayedCursor(!0):this.renderCursorOrSelection())}setCursorByClick(e){const t=this.getSelectionStartFromPointer(e),n=this.selectionStart,a=this.selectionEnd;e.shiftKey?this.setSelectionStartEndWithShift(n,a,t):(this.selectionStart=t,this.selectionEnd=t),this.isEditing&&(this._fireSelectionChanged(),this._updateTextarea())}getSelectionStartFromPointer(e){const t=this.canvas.getScenePoint(e).transform(Xo(this.calcTransformMatrix())).add(new ct(-this._getLeftOffset(),-this._getTopOffset()));let n=0,a=0,i=0;for(let h=0;h<this._textLines.length&&n<=t.y;h++)n+=this.getHeightOfLine(h),i=h,h>0&&(a+=this._textLines[h-1].length+this.missingNewlineOffset(h-1));let o=Math.abs(this._getLineLeftOffset(i));const l=this._textLines[i].length,u=this.__charBounds[i];for(let h=0;h<l;h++){const f=o+u[h].kernedWidth;if(t.x<=f){Math.abs(t.x-f)<=Math.abs(t.x-o)&&a++;break}o=f,a++}return Math.min(this.flipX?l-a:a,this._text.length)}}const cg="moveCursorUp",ug="moveCursorDown",hg="moveCursorLeft",fg="moveCursorRight",dg="exitEditing",K_=(r,e)=>{const t=e.getRetinaScaling();r.setTransform(t,0,0,t,0,0);const n=e.viewportTransform;r.transform(n[0],n[1],n[2],n[3],n[4],n[5])},aP=ze({selectionStart:0,selectionEnd:0,selectionColor:"rgba(17,119,255,0.3)",isEditing:!1,editable:!0,editingBorderColor:"rgba(102,153,255,0.25)",cursorWidth:2,cursorColor:"",cursorDelay:1e3,cursorDuration:600,caching:!0,hiddenTextareaContainer:null,keysMap:{9:dg,27:dg,33:cg,34:ug,35:fg,36:hg,37:hg,38:cg,39:fg,40:ug},keysMapRtl:{9:dg,27:dg,33:cg,34:ug,35:hg,36:fg,37:fg,38:cg,39:hg,40:ug},ctrlKeysMapDown:{65:"cmdAll"},ctrlKeysMapUp:{67:"copy",88:"cut"}},{_selectionDirection:null,_reSpace:/\s|\r?\n/,inCompositionMode:!1});class mc extends nP{static getDefaults(){return ze(ze({},super.getDefaults()),mc.ownDefaults)}get type(){const e=super.type;return e==="itext"?"i-text":e}constructor(e,t){super(e,ze(ze({},mc.ownDefaults),t)),this.initBehavior()}_set(e,t){return this.isEditing&&this._savedProps&&e in this._savedProps?(this._savedProps[e]=t,this):(e==="canvas"&&(this.canvas instanceof tv&&this.canvas.textEditingManager.remove(this),t instanceof tv&&t.textEditingManager.add(this)),super._set(e,t))}setSelectionStart(e){e=Math.max(e,0),this._updateAndFire("selectionStart",e)}setSelectionEnd(e){e=Math.min(e,this.text.length),this._updateAndFire("selectionEnd",e)}_updateAndFire(e,t){this[e]!==t&&(this._fireSelectionChanged(),this[e]=t),this._updateTextarea()}_fireSelectionChanged(){this.fire("selection:changed"),this.canvas&&this.canvas.fire("text:selection:changed",{target:this})}initDimensions(){this.isEditing&&this.initDelayedCursor(),super.initDimensions()}getSelectionStyles(){let e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:this.selectionStart||0,t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:this.selectionEnd,n=arguments.length>2?arguments[2]:void 0;return super.getSelectionStyles(e,t,n)}setSelectionStyles(e){let t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:this.selectionStart||0,n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:this.selectionEnd;return super.setSelectionStyles(e,t,n)}get2DCursorLocation(){let e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:this.selectionStart,t=arguments.length>1?arguments[1]:void 0;return super.get2DCursorLocation(e,t)}render(e){super.render(e),this.cursorOffsetCache={},this.renderCursorOrSelection()}toCanvasElement(e){const t=this.isEditing;this.isEditing=!1;const n=super.toCanvasElement(e);return this.isEditing=t,n}renderCursorOrSelection(){if(!this.isEditing||!this.canvas)return;const e=this.clearContextTop(!0);if(!e)return;const t=this._getCursorBoundaries(),n=this.findAncestorsWithClipPath(),a=n.length>0;let i,o=e;if(a){i=lo(e.canvas),o=i.getContext("2d"),K_(o,this.canvas);const l=this.calcTransformMatrix();o.transform(l[0],l[1],l[2],l[3],l[4],l[5])}if(this.selectionStart!==this.selectionEnd||this.inCompositionMode?this.renderSelection(o,t):this.renderCursor(o,t),a)for(const l of n){const u=l.clipPath,h=lo(e.canvas),f=h.getContext("2d");if(K_(f,this.canvas),!u.absolutePositioned){const m=l.calcTransformMatrix();f.transform(m[0],m[1],m[2],m[3],m[4],m[5])}u.transform(f),u.drawObject(f,!0,{}),this.drawClipPathOnCache(o,u,h)}a&&(e.setTransform(1,0,0,1,0,0),e.drawImage(i,0,0)),this.canvas.contextTopDirty=!0,e.restore()}findAncestorsWithClipPath(){const e=[];let t=this;for(;t;)t.clipPath&&e.push(t),t=t.parent;return e}_getCursorBoundaries(){let e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:this.selectionStart,t=arguments.length>1?arguments[1]:void 0;const n=this._getLeftOffset(),a=this._getTopOffset(),i=this._getCursorBoundariesOffsets(e,t);return{left:n,top:a,leftOffset:i.left,topOffset:i.top}}_getCursorBoundariesOffsets(e,t){return t?this.__getCursorBoundariesOffsets(e):this.cursorOffsetCache&&"top"in this.cursorOffsetCache?this.cursorOffsetCache:this.cursorOffsetCache=this.__getCursorBoundariesOffsets(e)}__getCursorBoundariesOffsets(e){let t=0,n=0;const{charIndex:a,lineIndex:i}=this.get2DCursorLocation(e);for(let h=0;h<i;h++)t+=this.getHeightOfLine(h);const o=this._getLineLeftOffset(i),l=this.__charBounds[i][a];l&&(n=l.left),this.charSpacing!==0&&a===this._textLines[i].length&&(n-=this._getWidthOfCharSpacing());const u={top:t,left:o+(n>0?n:0)};return this.direction==="rtl"&&(this.textAlign===oa||this.textAlign===Tl||this.textAlign===wd?u.left*=-1:this.textAlign===en||this.textAlign===Ep?u.left=o-(n>0?n:0):this.textAlign!==Sr&&this.textAlign!==_d||(u.left=o-(n>0?n:0))),u}renderCursorAt(e){this._renderCursor(this.canvas.contextTop,this._getCursorBoundaries(e,!0),e)}renderCursor(e,t){this._renderCursor(e,t,this.selectionStart)}getCursorRenderingData(){let e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:this.selectionStart,t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:this._getCursorBoundaries(e);const n=this.get2DCursorLocation(e),a=n.lineIndex,i=n.charIndex>0?n.charIndex-1:0,o=this.getValueOfPropertyAt(a,i,"fontSize"),l=this.getObjectScaling().x*this.canvas.getZoom(),u=this.cursorWidth/l,h=this.getValueOfPropertyAt(a,i,"deltaY"),f=t.topOffset+(1-this._fontSizeFraction)*this.getHeightOfLine(a)/this.lineHeight-o*(1-this._fontSizeFraction);return{color:this.cursorColor||this.getValueOfPropertyAt(a,i,"fill"),opacity:this._currentCursorOpacity,left:t.left+t.leftOffset-u/2,top:f+t.top+h,width:u,height:o}}_renderCursor(e,t,n){const{color:a,opacity:i,left:o,top:l,width:u,height:h}=this.getCursorRenderingData(n,t);e.fillStyle=a,e.globalAlpha=i,e.fillRect(o,l,u,h)}renderSelection(e,t){const n={selectionStart:this.inCompositionMode?this.hiddenTextarea.selectionStart:this.selectionStart,selectionEnd:this.inCompositionMode?this.hiddenTextarea.selectionEnd:this.selectionEnd};this._renderSelection(e,n,t)}renderDragSourceEffect(){const e=this.draggableTextDelegate.getDragStartSelection();this._renderSelection(this.canvas.contextTop,e,this._getCursorBoundaries(e.selectionStart,!0))}renderDropTargetEffect(e){const t=this.getSelectionStartFromPointer(e);this.renderCursorAt(t)}_renderSelection(e,t,n){const a=t.selectionStart,i=t.selectionEnd,o=this.textAlign.includes(Tl),l=this.get2DCursorLocation(a),u=this.get2DCursorLocation(i),h=l.lineIndex,f=u.lineIndex,m=l.charIndex<0?0:l.charIndex,x=u.charIndex<0?0:u.charIndex;for(let g=h;g<=f;g++){const y=this._getLineLeftOffset(g)||0;let v=this.getHeightOfLine(g),S=0,k=0,A=0;if(g===h&&(k=this.__charBounds[h][m].left),g>=h&&g<f)A=o&&!this.isEndOfWrapping(g)?this.width:this.getLineWidth(g)||5;else if(g===f)if(x===0)A=this.__charBounds[f][x].left;else{const z=this._getWidthOfCharSpacing();A=this.__charBounds[f][x-1].left+this.__charBounds[f][x-1].width-z}S=v,(this.lineHeight<1||g===f&&this.lineHeight>1)&&(v/=this.lineHeight);let N=n.left+y+k,j=v,W=0;const ee=A-k;this.inCompositionMode?(e.fillStyle=this.compositionColor||"black",j=1,W=v):e.fillStyle=this.selectionColor,this.direction==="rtl"&&(this.textAlign===oa||this.textAlign===Tl||this.textAlign===wd?N=this.width-N-ee:this.textAlign===en||this.textAlign===Ep?N=n.left+y-A:this.textAlign!==Sr&&this.textAlign!==_d||(N=n.left+y-A)),e.fillRect(N,n.top+n.topOffset+W,ee,j),n.topOffset+=S}}getCurrentCharFontSize(){const e=this._getCurrentCharIndex();return this.getValueOfPropertyAt(e.l,e.c,"fontSize")}getCurrentCharColor(){const e=this._getCurrentCharIndex();return this.getValueOfPropertyAt(e.l,e.c,Ia)}_getCurrentCharIndex(){const e=this.get2DCursorLocation(this.selectionStart,!0),t=e.charIndex>0?e.charIndex-1:0;return{l:e.lineIndex,c:t}}dispose(){this.exitEditingImpl(),this.draggableTextDelegate.dispose(),super.dispose()}}Ie(mc,"ownDefaults",aP),Ie(mc,"type","IText"),qt.setClass(mc),qt.setClass(mc,"i-text");class io extends mc{static getDefaults(){return ze(ze({},super.getDefaults()),io.ownDefaults)}constructor(e,t){super(e,ze(ze({},io.ownDefaults),t))}static createControls(){return{controls:R9()}}initDimensions(){this.initialized&&(this.isEditing&&this.initDelayedCursor(),this._clearCache(),this.dynamicMinWidth=0,this._styleMap=this._generateStyleMap(this._splitText()),this.dynamicMinWidth>this.width&&this._set("width",this.dynamicMinWidth),this.textAlign.includes(Tl)&&this.enlargeSpaces(),this.height=this.calcTextHeight())}_generateStyleMap(e){let t=0,n=0,a=0;const i={};for(let o=0;o<e.graphemeLines.length;o++)e.graphemeText[a]===`
`&&o>0?(n=0,a++,t++):!this.splitByGrapheme&&this._reSpaceAndTab.test(e.graphemeText[a])&&o>0&&(n++,a++),i[o]={line:t,offset:n},a+=e.graphemeLines[o].length,n+=e.graphemeLines[o].length;return i}styleHas(e,t){if(this._styleMap&&!this.isWrapping){const n=this._styleMap[t];n&&(t=n.line)}return super.styleHas(e,t)}isEmptyStyles(e){if(!this.styles)return!0;let t,n=0,a=e+1,i=!1;const o=this._styleMap[e],l=this._styleMap[e+1];o&&(e=o.line,n=o.offset),l&&(a=l.line,i=a===e,t=l.offset);const u=e===void 0?this.styles:{line:this.styles[e]};for(const h in u)for(const f in u[h]){const m=parseInt(f,10);if(m>=n&&(!i||m<t))for(const x in u[h][f])return!1}return!0}_getStyleDeclaration(e,t){if(this._styleMap&&!this.isWrapping){const n=this._styleMap[e];if(!n)return{};e=n.line,t=n.offset+t}return super._getStyleDeclaration(e,t)}_setStyleDeclaration(e,t,n){const a=this._styleMap[e];super._setStyleDeclaration(a.line,a.offset+t,n)}_deleteStyleDeclaration(e,t){const n=this._styleMap[e];super._deleteStyleDeclaration(n.line,n.offset+t)}_getLineStyle(e){const t=this._styleMap[e];return!!this.styles[t.line]}_setLineStyle(e){const t=this._styleMap[e];super._setLineStyle(t.line)}_wrapText(e,t){this.isWrapping=!0;const n=this.getGraphemeDataForRender(e),a=[];for(let i=0;i<n.wordsData.length;i++)a.push(...this._wrapLine(i,t,n));return this.isWrapping=!1,a}getGraphemeDataForRender(e){const t=this.splitByGrapheme,n=t?"":" ";let a=0;return{wordsData:e.map(((i,o)=>{let l=0;const u=t?this.graphemeSplit(i):this.wordSplit(i);return u.length===0?[{word:[],width:0}]:u.map((h=>{const f=t?[h]:this.graphemeSplit(h),m=this._measureWord(f,o,l);return a=Math.max(m,a),l+=f.length+n.length,{word:f,width:m}}))})),largestWordWidth:a}}_measureWord(e,t){let n,a=arguments.length>2&&arguments[2]!==void 0?arguments[2]:0,i=0;for(let o=0,l=e.length;o<l;o++)i+=this._getGraphemeBox(e[o],t,o+a,n,!0).kernedWidth,n=e[o];return i}wordSplit(e){return e.split(this._wordJoiners)}_wrapLine(e,t,n){let{largestWordWidth:a,wordsData:i}=n,o=arguments.length>3&&arguments[3]!==void 0?arguments[3]:0;const l=this._getWidthOfCharSpacing(),u=this.splitByGrapheme,h=[],f=u?"":" ";let m=0,x=[],g=0,y=0,v=!0;t-=o;const S=Math.max(t,a,this.dynamicMinWidth),k=i[e];let A;for(g=0,A=0;A<k.length;A++){const{word:N,width:j}=k[A];g+=N.length,m+=y+j-l,m>S&&!v?(h.push(x),x=[],m=j,v=!0):m+=l,v||u||x.push(f),x=x.concat(N),y=u?0:this._measureWord([f],e,g),g++,v=!1}return A&&h.push(x),a+o>this.dynamicMinWidth&&(this.dynamicMinWidth=a-l+o),h}isEndOfWrapping(e){return!this._styleMap[e+1]||this._styleMap[e+1].line!==this._styleMap[e].line}missingNewlineOffset(e,t){return this.splitByGrapheme&&!t?this.isEndOfWrapping(e)?1:0:1}_splitTextIntoLines(e){const t=super._splitTextIntoLines(e),n=this._wrapText(t.lines,this.width),a=new Array(n.length);for(let i=0;i<n.length;i++)a[i]=n[i].join("");return t.lines=a,t.graphemeLines=n,t}getMinWidth(){return Math.max(this.minWidth,this.dynamicMinWidth)}_removeExtraneousStyles(){const e=new Map;for(const t in this._styleMap){const n=parseInt(t,10);if(this._textLines[n]){const a=this._styleMap[t].line;e.set("".concat(a),!0)}}for(const t in this.styles)e.has(t)||delete this.styles[t]}toObject(){let e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[];return super.toObject(["minWidth","splitByGrapheme",...e])}}Ie(io,"type","Textbox"),Ie(io,"textLayoutProperties",[...mc.textLayoutProperties,"width"]),Ie(io,"ownDefaults",{minWidth:20,dynamicMinWidth:2,lockScalingFlip:!0,noScaleCache:!1,_wordJoiners:/[ \t\r]/,splitByGrapheme:!1}),qt.setClass(io);class $_ extends Zp{shouldPerformLayout(e){return!!e.target.clipPath&&super.shouldPerformLayout(e)}shouldLayoutClipPath(){return!1}calcLayoutResult(e,t){const{target:n}=e,{clipPath:a,group:i}=n;if(!a||!this.shouldPerformLayout(e))return;const{width:o,height:l}=yc(nk(n,a)),u=new ct(o,l);if(a.absolutePositioned)return{center:Wf(a.getRelativeCenterPoint(),void 0,i?i.calcTransformMatrix():void 0),size:u};{const h=a.getRelativeCenterPoint().transform(n.calcOwnMatrix(),!0);if(this.shouldPerformLayout(e)){const{center:f=new ct,correction:m=new ct}=this.calcBoundingBox(t,e)||{};return{center:f.add(h),correction:m.subtract(h),size:u}}return{center:n.getRelativeCenterPoint().add(h),size:u}}}}Ie($_,"type","clip-path"),qt.setClass($_);class Z_ extends Zp{getInitialSize(e,t){let{target:n}=e,{size:a}=t;return new ct(n.width||a.x,n.height||a.y)}}Ie(Z_,"type","fixed"),qt.setClass(Z_);class iP extends zd{subscribeTargets(e){const t=e.target;e.targets.reduce(((n,a)=>(a.parent&&n.add(a.parent),n)),new Set).forEach((n=>{n.layoutManager.subscribeTargets({target:n,targets:[t]})}))}unsubscribeTargets(e){const t=e.target,n=t.getObjects();e.targets.reduce(((a,i)=>(i.parent&&a.add(i.parent),a)),new Set).forEach((a=>{!n.some((i=>i.parent===a))&&a.layoutManager.unsubscribeTargets({target:a,targets:[t]})}))}}class dh extends $o{static getDefaults(){return ze(ze({},super.getDefaults()),dh.ownDefaults)}constructor(){let e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[],t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};super(),Object.assign(this,dh.ownDefaults),this.setOptions(t);const{left:n,top:a,layoutManager:i}=t;this.groupInit(e,{left:n,top:a,layoutManager:i??new iP})}_shouldSetNestedCoords(){return!0}__objectSelectionMonitor(){}multiSelectAdd(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];this.multiSelectionStacking==="selection-order"?this.add(...t):t.forEach((a=>{const i=this._objects.findIndex((l=>l.isInFrontOf(a))),o=i===-1?this.size():i;this.insertAt(o,a)}))}canEnterGroup(e){return this.getObjects().some((t=>t.isDescendantOf(e)||e.isDescendantOf(t)))?(ku("error","ActiveSelection: circular object trees are not supported, this call has no effect"),!1):super.canEnterGroup(e)}enterGroup(e,t){e.parent&&e.parent===e.group?e.parent._exitGroup(e):e.group&&e.parent!==e.group&&e.group.remove(e),this._enterGroup(e,t)}exitGroup(e,t){this._exitGroup(e,t),e.parent&&e.parent._enterGroup(e,!0)}_onAfterObjectsChange(e,t){super._onAfterObjectsChange(e,t);const n=new Set;t.forEach((a=>{const{parent:i}=a;i&&n.add(i)})),e===uy?n.forEach((a=>{a._onAfterObjectsChange(Np,t)})):n.forEach((a=>{a._set("dirty",!0)}))}onDeselect(){return this.removeAll(),!1}toString(){return"#<ActiveSelection: (".concat(this.complexity(),")>")}shouldCache(){return!1}isOnACache(){return!1}_renderControls(e,t,n){e.save(),e.globalAlpha=this.isMoving?this.borderOpacityWhenMoving:1;const a=ze(ze({hasControls:!1},n),{},{forActiveSelection:!0});for(let i=0;i<this._objects.length;i++)this._objects[i]._renderControls(e,a);super._renderControls(e,t),e.restore()}}Ie(dh,"type","ActiveSelection"),Ie(dh,"ownDefaults",{multiSelectionStacking:"canvas-stacking"}),qt.setClass(dh),qt.setClass(dh,"activeSelection");class sP{constructor(){Ie(this,"resources",{})}applyFilters(e,t,n,a,i){const o=i.getContext("2d");if(!o)return;o.drawImage(t,0,0,n,a);const l={sourceWidth:n,sourceHeight:a,imageData:o.getImageData(0,0,n,a),originalEl:t,originalImageData:o.getImageData(0,0,n,a),canvasEl:i,ctx:o,filterBackend:this};e.forEach((h=>{h.applyTo(l)}));const{imageData:u}=l;return u.width===n&&u.height===a||(i.width=u.width,i.height=u.height),o.putImageData(u,0,0),l}}class yk{constructor(){let{tileSize:e=Gr.textureSize}=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};Ie(this,"aPosition",new Float32Array([0,0,0,1,1,0,1,1])),Ie(this,"resources",{}),this.tileSize=e,this.setupGLContext(e,e),this.captureGPUInfo()}setupGLContext(e,t){this.dispose(),this.createWebGLCanvas(e,t)}createWebGLCanvas(e,t){const n=lo({width:e,height:t}),a=n.getContext("webgl",{alpha:!0,premultipliedAlpha:!1,depth:!1,stencil:!1,antialias:!1});a&&(a.clearColor(0,0,0,0),this.canvas=n,this.gl=a)}applyFilters(e,t,n,a,i,o){const l=this.gl,u=i.getContext("2d");if(!l||!u)return;let h;o&&(h=this.getCachedTexture(o,t));const f={originalWidth:t.width||t.naturalWidth||0,originalHeight:t.height||t.naturalHeight||0,sourceWidth:n,sourceHeight:a,destinationWidth:n,destinationHeight:a,context:l,sourceTexture:this.createTexture(l,n,a,h?void 0:t),targetTexture:this.createTexture(l,n,a),originalTexture:h||this.createTexture(l,n,a,h?void 0:t),passes:e.length,webgl:!0,aPosition:this.aPosition,programCache:this.programCache,pass:0,filterBackend:this,targetCanvas:i},m=l.createFramebuffer();return l.bindFramebuffer(l.FRAMEBUFFER,m),e.forEach((x=>{x&&x.applyTo(f)})),(function(x){const g=x.targetCanvas,y=g.width,v=g.height,S=x.destinationWidth,k=x.destinationHeight;y===S&&v===k||(g.width=S,g.height=k)})(f),this.copyGLTo2D(l,f),l.bindTexture(l.TEXTURE_2D,null),l.deleteTexture(f.sourceTexture),l.deleteTexture(f.targetTexture),l.deleteFramebuffer(m),u.setTransform(1,0,0,1,0,0),f}dispose(){this.canvas&&(this.canvas=null,this.gl=null),this.clearWebGLCaches()}clearWebGLCaches(){this.programCache={},this.textureCache={}}createTexture(e,t,n,a,i){const{NEAREST:o,TEXTURE_2D:l,RGBA:u,UNSIGNED_BYTE:h,CLAMP_TO_EDGE:f,TEXTURE_MAG_FILTER:m,TEXTURE_MIN_FILTER:x,TEXTURE_WRAP_S:g,TEXTURE_WRAP_T:y}=e,v=e.createTexture();return e.bindTexture(l,v),e.texParameteri(l,m,i||o),e.texParameteri(l,x,i||o),e.texParameteri(l,g,f),e.texParameteri(l,y,f),a?e.texImage2D(l,0,u,u,h,a):e.texImage2D(l,0,u,t,n,0,u,h,null),v}getCachedTexture(e,t,n){const{textureCache:a}=this;if(a[e])return a[e];{const i=this.createTexture(this.gl,t.width,t.height,t,n);return i&&(a[e]=i),i}}evictCachesForKey(e){this.textureCache[e]&&(this.gl.deleteTexture(this.textureCache[e]),delete this.textureCache[e])}copyGLTo2D(e,t){const n=e.canvas,a=t.targetCanvas,i=a.getContext("2d");if(!i)return;i.translate(0,a.height),i.scale(1,-1);const o=n.height-a.height;i.drawImage(n,0,o,a.width,a.height,0,0,a.width,a.height)}copyGLTo2DPutImageData(e,t){const n=t.targetCanvas.getContext("2d"),a=t.destinationWidth,i=t.destinationHeight,o=a*i*4;if(!n)return;const l=new Uint8Array(this.imageBuffer,0,o),u=new Uint8ClampedArray(this.imageBuffer,0,o);e.readPixels(0,0,a,i,e.RGBA,e.UNSIGNED_BYTE,l);const h=new ImageData(u,a,i);n.putImageData(h,0,0)}captureGPUInfo(){if(this.gpuInfo)return this.gpuInfo;const e=this.gl,t={renderer:"",vendor:""};if(!e)return t;const n=e.getExtension("WEBGL_debug_renderer_info");if(n){const a=e.getParameter(n.UNMASKED_RENDERER_WEBGL),i=e.getParameter(n.UNMASKED_VENDOR_WEBGL);a&&(t.renderer=a.toLowerCase()),i&&(t.vendor=i.toLowerCase())}return this.gpuInfo=t,t}}let H2;function oP(){const{WebGLProbe:r}=Dl();return r.queryWebGL(kc()),Gr.enableGLFiltering&&r.isSupported(Gr.textureSize)?new yk({tileSize:Gr.textureSize}):new sP}function q2(){return!H2&&(!(arguments.length>0&&arguments[0]!==void 0)||arguments[0])&&(H2=oP()),H2}const lP=["filters","resizeFilter","src","crossOrigin","type"],bk=["cropX","cropY"];class En extends Ti{static getDefaults(){return ze(ze({},super.getDefaults()),En.ownDefaults)}constructor(e,t){super(),Ie(this,"_lastScaleX",1),Ie(this,"_lastScaleY",1),Ie(this,"_filterScalingX",1),Ie(this,"_filterScalingY",1),this.filters=[],Object.assign(this,En.ownDefaults),this.setOptions(t),this.cacheKey="texture".concat(Cu()),this.setElement(typeof e=="string"?(this.canvas&&Go(this.canvas.getElement())||c0()).getElementById(e):e,t)}getElement(){return this._element}setElement(e){var t;let n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};this.removeTexture(this.cacheKey),this.removeTexture("".concat(this.cacheKey,"_filtered")),this._element=e,this._originalElement=e,this._setWidthHeight(n),(t=e.classList)===null||t===void 0||t.add(En.CSS_CANVAS),this.filters.length!==0&&this.applyFilters(),this.resizeFilter&&this.applyResizeFilters()}removeTexture(e){const t=q2(!1);t instanceof yk&&t.evictCachesForKey(e)}dispose(){super.dispose(),this.removeTexture(this.cacheKey),this.removeTexture("".concat(this.cacheKey,"_filtered")),this._cacheContext=null,["_originalElement","_element","_filteredEl","_cacheCanvas"].forEach((e=>{const t=this[e];t&&Dl().dispose(t),this[e]=void 0}))}getCrossOrigin(){return this._originalElement&&(this._originalElement.crossOrigin||null)}getOriginalSize(){const e=this.getElement();return e?{width:e.naturalWidth||e.width,height:e.naturalHeight||e.height}:{width:0,height:0}}_stroke(e){if(!this.stroke||this.strokeWidth===0)return;const t=this.width/2,n=this.height/2;e.beginPath(),e.moveTo(-t,-n),e.lineTo(t,-n),e.lineTo(t,n),e.lineTo(-t,n),e.lineTo(-t,-n),e.closePath()}toObject(){let e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[];const t=[];return this.filters.forEach((n=>{n&&t.push(n.toObject())})),ze(ze({},super.toObject([...bk,...e])),{},{src:this.getSrc(),crossOrigin:this.getCrossOrigin(),filters:t},this.resizeFilter?{resizeFilter:this.resizeFilter.toObject()}:{})}hasCrop(){return!!this.cropX||!!this.cropY||this.width<this._element.width||this.height<this._element.height}_toSVG(){const e=[],t=this._element,n=-this.width/2,a=-this.height/2;let i=[],o=[],l="",u="";if(!t)return[];if(this.hasCrop()){const h=Cu();i.push('<clipPath id="imageCrop_'+h+`">
`,'	<rect x="'+n+'" y="'+a+'" width="'+this.width+'" height="'+this.height+`" />
`,`</clipPath>
`),l=' clip-path="url(#imageCrop_'+h+')" '}if(this.imageSmoothing||(u=' image-rendering="optimizeSpeed"'),e.push("	<image ","COMMON_PARTS",'xlink:href="'.concat(this.getSvgSrc(!0),'" x="').concat(n-this.cropX,'" y="').concat(a-this.cropY,'" width="').concat(t.width||t.naturalWidth,'" height="').concat(t.height||t.naturalHeight,'"').concat(u).concat(l,`></image>
`)),this.stroke||this.strokeDashArray){const h=this.fill;this.fill=null,o=['	<rect x="'.concat(n,'" y="').concat(a,'" width="').concat(this.width,'" height="').concat(this.height,'" style="').concat(this.getSvgStyles(),`" />
`)],this.fill=h}return i=this.paintFirst!==Ia?i.concat(o,e):i.concat(e,o),i}getSrc(e){const t=e?this._element:this._originalElement;return t?t.toDataURL?t.toDataURL():this.srcFromAttribute?t.getAttribute("src")||"":t.src:this.src||""}getSvgSrc(e){return this.getSrc(e)}setSrc(e){let{crossOrigin:t,signal:n}=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};return Yg(e,{crossOrigin:t,signal:n}).then((a=>{t!==void 0&&this.set({crossOrigin:t}),this.setElement(a)}))}toString(){return'#<Image: { src: "'.concat(this.getSrc(),'" }>')}applyResizeFilters(){const e=this.resizeFilter,t=this.minimumScaleTrigger,n=this.getTotalObjectScaling(),a=n.x,i=n.y,o=this._filteredEl||this._originalElement;if(this.group&&this.set("dirty",!0),!e||a>t&&i>t)return this._element=o,this._filterScalingX=1,this._filterScalingY=1,this._lastScaleX=a,void(this._lastScaleY=i);const l=lo(o),{width:u,height:h}=o;this._element=l,this._lastScaleX=e.scaleX=a,this._lastScaleY=e.scaleY=i,q2().applyFilters([e],o,u,h,this._element),this._filterScalingX=l.width/this._originalElement.width,this._filterScalingY=l.height/this._originalElement.height}applyFilters(){let e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:this.filters||[];if(e=e.filter((i=>i&&!i.isNeutralState())),this.set("dirty",!0),this.removeTexture("".concat(this.cacheKey,"_filtered")),e.length===0)return this._element=this._originalElement,this._filteredEl=void 0,this._filterScalingX=1,void(this._filterScalingY=1);const t=this._originalElement,n=t.naturalWidth||t.width,a=t.naturalHeight||t.height;if(this._element===this._originalElement){const i=lo({width:n,height:a});this._element=i,this._filteredEl=i}else this._filteredEl&&(this._element=this._filteredEl,this._filteredEl.getContext("2d").clearRect(0,0,n,a),this._lastScaleX=1,this._lastScaleY=1);q2().applyFilters(e,this._originalElement,n,a,this._element,this.cacheKey),this._originalElement.width===this._element.width&&this._originalElement.height===this._element.height||(this._filterScalingX=this._element.width/this._originalElement.width,this._filterScalingY=this._element.height/this._originalElement.height)}_render(e){e.imageSmoothingEnabled=this.imageSmoothing,this.isMoving!==!0&&this.resizeFilter&&this._needsResize()&&this.applyResizeFilters(),this._stroke(e),this._renderPaintInOrder(e)}drawCacheOnCanvas(e){e.imageSmoothingEnabled=this.imageSmoothing,super.drawCacheOnCanvas(e)}shouldCache(){return this.needsItsOwnCache()}_renderFill(e){const t=this._element;if(!t)return;const n=this._filterScalingX,a=this._filterScalingY,i=this.width,o=this.height,l=Math.max(this.cropX,0),u=Math.max(this.cropY,0),h=t.naturalWidth||t.width,f=t.naturalHeight||t.height,m=l*n,x=u*a,g=Math.min(i*n,h-m),y=Math.min(o*a,f-x),v=-i/2,S=-o/2,k=Math.min(i,h/n-l),A=Math.min(o,f/a-u);t&&e.drawImage(t,m,x,g,y,v,S,k,A)}_needsResize(){const e=this.getTotalObjectScaling();return e.x!==this._lastScaleX||e.y!==this._lastScaleY}_resetWidthHeight(){this.set(this.getOriginalSize())}_setWidthHeight(){let{width:e,height:t}=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};const n=this.getOriginalSize();this.width=e||n.width,this.height=t||n.height}parsePreserveAspectRatioAttribute(){const e=e9(this.preserveAspectRatio||""),t=this.width,n=this.height,a={width:t,height:n};let i,o=this._element.width,l=this._element.height,u=1,h=1,f=0,m=0,x=0,g=0;return!e||e.alignX===us&&e.alignY===us?(u=t/o,h=n/l):(e.meetOrSlice==="meet"&&(u=h=mB(this._element,a),i=(t-o*u)/2,e.alignX==="Min"&&(f=-i),e.alignX==="Max"&&(f=i),i=(n-l*h)/2,e.alignY==="Min"&&(m=-i),e.alignY==="Max"&&(m=i)),e.meetOrSlice==="slice"&&(u=h=xB(this._element,a),i=o-t/u,e.alignX==="Mid"&&(x=i/2),e.alignX==="Max"&&(x=i),i=l-n/h,e.alignY==="Mid"&&(g=i/2),e.alignY==="Max"&&(g=i),o=t/u,l=n/h)),{width:o,height:l,scaleX:u,scaleY:h,offsetLeft:f,offsetTop:m,cropX:x,cropY:g}}static fromObject(e,t){let{filters:n,resizeFilter:a,src:i,crossOrigin:o,type:l}=e,u=On(e,lP);return Promise.all([Yg(i,ze(ze({},t),{},{crossOrigin:o})),n&&Bd(n,t),a&&Bd([a],t),Wp(u,t)]).then((h=>{let[f,m=[],[x]=[],g={}]=h;return new this(f,ze(ze({},u),{},{src:i,filters:m,resizeFilter:x},g))}))}static fromURL(e){let{crossOrigin:t=null,signal:n}=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},a=arguments.length>2?arguments[2]:void 0;return Yg(e,{crossOrigin:t,signal:n}).then((i=>new this(i,a)))}static async fromElement(e){let t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},n=arguments.length>2?arguments[2]:void 0;const a=Ec(e,this.ATTRIBUTE_NAMES,n);return this.fromURL(a["xlink:href"]||a.href,t,a).catch((i=>(ku("log","Unable to parse Image",i),null)))}}Ie(En,"type","Image"),Ie(En,"cacheProperties",[...Ac,...bk]),Ie(En,"ownDefaults",{strokeWidth:0,srcFromAttribute:!1,minimumScaleTrigger:.5,cropX:0,cropY:0,imageSmoothing:!0}),Ie(En,"CSS_CANVAS","canvas-img"),Ie(En,"ATTRIBUTE_NAMES",[...Eu,"x","y","width","height","preserveAspectRatio","xlink:href","href","crossOrigin","image-rendering"]),qt.setClass(En),qt.setSVGClass(En);Kp(["pattern","defs","symbol","metadata","clipPath","mask","desc"]);const Qp=r=>r.webgl!==void 0,hy="precision highp float",cP=`
    `.concat(hy,`;
    varying vec2 vTexCoord;
    uniform sampler2D uTexture;
    void main() {
      gl_FragColor = texture2D(uTexture, vTexCoord);
    }`),uP=["type"],hP=["type"],fP=new RegExp(hy,"g");class Ua{get type(){return this.constructor.type}constructor(){let e=On(arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},uP);Object.assign(this,this.constructor.defaults,e)}getFragmentSource(){return cP}getVertexSource(){return`
    attribute vec2 aPosition;
    varying vec2 vTexCoord;
    void main() {
      vTexCoord = aPosition;
      gl_Position = vec4(aPosition * 2.0 - 1.0, 0.0, 1.0);
    }`}createProgram(e){let t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:this.getFragmentSource(),n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:this.getVertexSource();const{WebGLProbe:{GLPrecision:a="highp"}}=Dl();a!=="highp"&&(t=t.replace(fP,hy.replace("highp",a)));const i=e.createShader(e.VERTEX_SHADER),o=e.createShader(e.FRAGMENT_SHADER),l=e.createProgram();if(!i||!o||!l)throw new Al("Vertex, fragment shader or program creation error");if(e.shaderSource(i,n),e.compileShader(i),!e.getShaderParameter(i,e.COMPILE_STATUS))throw new Al("Vertex shader compile error for ".concat(this.type,": ").concat(e.getShaderInfoLog(i)));if(e.shaderSource(o,t),e.compileShader(o),!e.getShaderParameter(o,e.COMPILE_STATUS))throw new Al("Fragment shader compile error for ".concat(this.type,": ").concat(e.getShaderInfoLog(o)));if(e.attachShader(l,i),e.attachShader(l,o),e.linkProgram(l),!e.getProgramParameter(l,e.LINK_STATUS))throw new Al('Shader link error for "'.concat(this.type,'" ').concat(e.getProgramInfoLog(l)));const u=this.getUniformLocations(e,l)||{};return u.uStepW=e.getUniformLocation(l,"uStepW"),u.uStepH=e.getUniformLocation(l,"uStepH"),{program:l,attributeLocations:this.getAttributeLocations(e,l),uniformLocations:u}}getAttributeLocations(e,t){return{aPosition:e.getAttribLocation(t,"aPosition")}}getUniformLocations(e,t){const n=this.constructor.uniformLocations,a={};for(let i=0;i<n.length;i++)a[n[i]]=e.getUniformLocation(t,n[i]);return a}sendAttributeData(e,t,n){const a=t.aPosition,i=e.createBuffer();e.bindBuffer(e.ARRAY_BUFFER,i),e.enableVertexAttribArray(a),e.vertexAttribPointer(a,2,e.FLOAT,!1,0,0),e.bufferData(e.ARRAY_BUFFER,n,e.STATIC_DRAW)}_setupFrameBuffer(e){const t=e.context;if(e.passes>1){const n=e.destinationWidth,a=e.destinationHeight;e.sourceWidth===n&&e.sourceHeight===a||(t.deleteTexture(e.targetTexture),e.targetTexture=e.filterBackend.createTexture(t,n,a)),t.framebufferTexture2D(t.FRAMEBUFFER,t.COLOR_ATTACHMENT0,t.TEXTURE_2D,e.targetTexture,0)}else t.bindFramebuffer(t.FRAMEBUFFER,null),t.finish()}_swapTextures(e){e.passes--,e.pass++;const t=e.targetTexture;e.targetTexture=e.sourceTexture,e.sourceTexture=t}isNeutralState(e){return!1}applyTo(e){Qp(e)?(this._setupFrameBuffer(e),this.applyToWebGL(e),this._swapTextures(e)):this.applyTo2d(e)}applyTo2d(e){}getCacheKey(){return this.type}retrieveShader(e){const t=this.getCacheKey();return e.programCache[t]||(e.programCache[t]=this.createProgram(e.context)),e.programCache[t]}applyToWebGL(e){const t=e.context,n=this.retrieveShader(e);e.pass===0&&e.originalTexture?t.bindTexture(t.TEXTURE_2D,e.originalTexture):t.bindTexture(t.TEXTURE_2D,e.sourceTexture),t.useProgram(n.program),this.sendAttributeData(t,n.attributeLocations,e.aPosition),t.uniform1f(n.uniformLocations.uStepW,1/e.sourceWidth),t.uniform1f(n.uniformLocations.uStepH,1/e.sourceHeight),this.sendUniformData(t,n.uniformLocations),t.viewport(0,0,e.destinationWidth,e.destinationHeight),t.drawArrays(t.TRIANGLE_STRIP,0,4)}bindAdditionalTexture(e,t,n){e.activeTexture(n),e.bindTexture(e.TEXTURE_2D,t),e.activeTexture(e.TEXTURE0)}unbindAdditionalTexture(e,t){e.activeTexture(t),e.bindTexture(e.TEXTURE_2D,null),e.activeTexture(e.TEXTURE0)}sendUniformData(e,t){}createHelpLayer(e){if(!e.helpLayer){const{sourceWidth:t,sourceHeight:n}=e,a=lo({width:t,height:n});e.helpLayer=a}}toObject(){const e=Object.keys(this.constructor.defaults||{});return ze({type:this.type},e.reduce(((t,n)=>(t[n]=this[n],t)),{}))}toJSON(){return this.toObject()}static async fromObject(e,t){return new this(On(e,hP))}}Ie(Ua,"type","BaseFilter"),Ie(Ua,"uniformLocations",[]);const dP={multiply:`gl_FragColor.rgb *= uColor.rgb;
`,screen:`gl_FragColor.rgb = 1.0 - (1.0 - gl_FragColor.rgb) * (1.0 - uColor.rgb);
`,add:`gl_FragColor.rgb += uColor.rgb;
`,difference:`gl_FragColor.rgb = abs(gl_FragColor.rgb - uColor.rgb);
`,subtract:`gl_FragColor.rgb -= uColor.rgb;
`,lighten:`gl_FragColor.rgb = max(gl_FragColor.rgb, uColor.rgb);
`,darken:`gl_FragColor.rgb = min(gl_FragColor.rgb, uColor.rgb);
`,exclusion:`gl_FragColor.rgb += uColor.rgb - 2.0 * (uColor.rgb * gl_FragColor.rgb);
`,overlay:`
    if (uColor.r < 0.5) {
      gl_FragColor.r *= 2.0 * uColor.r;
    } else {
      gl_FragColor.r = 1.0 - 2.0 * (1.0 - gl_FragColor.r) * (1.0 - uColor.r);
    }
    if (uColor.g < 0.5) {
      gl_FragColor.g *= 2.0 * uColor.g;
    } else {
      gl_FragColor.g = 1.0 - 2.0 * (1.0 - gl_FragColor.g) * (1.0 - uColor.g);
    }
    if (uColor.b < 0.5) {
      gl_FragColor.b *= 2.0 * uColor.b;
    } else {
      gl_FragColor.b = 1.0 - 2.0 * (1.0 - gl_FragColor.b) * (1.0 - uColor.b);
    }
    `,tint:`
    gl_FragColor.rgb *= (1.0 - uColor.a);
    gl_FragColor.rgb += uColor.rgb;
    `};class gg extends Ua{getCacheKey(){return"".concat(this.type,"_").concat(this.mode)}getFragmentSource(){return`
      precision highp float;
      uniform sampler2D uTexture;
      uniform vec4 uColor;
      varying vec2 vTexCoord;
      void main() {
        vec4 color = texture2D(uTexture, vTexCoord);
        gl_FragColor = color;
        if (color.a > 0.0) {
          `.concat(dP[this.mode],`
        }
      }
      `)}applyTo2d(e){let{imageData:{data:t}}=e;const n=new Rs(this.color).getSource(),a=this.alpha,i=n[0]*a,o=n[1]*a,l=n[2]*a,u=1-a;for(let h=0;h<t.length;h+=4){const f=t[h],m=t[h+1],x=t[h+2];let g,y,v;switch(this.mode){case"multiply":g=f*i/255,y=m*o/255,v=x*l/255;break;case"screen":g=255-(255-f)*(255-i)/255,y=255-(255-m)*(255-o)/255,v=255-(255-x)*(255-l)/255;break;case"add":g=f+i,y=m+o,v=x+l;break;case"difference":g=Math.abs(f-i),y=Math.abs(m-o),v=Math.abs(x-l);break;case"subtract":g=f-i,y=m-o,v=x-l;break;case"darken":g=Math.min(f,i),y=Math.min(m,o),v=Math.min(x,l);break;case"lighten":g=Math.max(f,i),y=Math.max(m,o),v=Math.max(x,l);break;case"overlay":g=i<128?2*f*i/255:255-2*(255-f)*(255-i)/255,y=o<128?2*m*o/255:255-2*(255-m)*(255-o)/255,v=l<128?2*x*l/255:255-2*(255-x)*(255-l)/255;break;case"exclusion":g=i+f-2*i*f/255,y=o+m-2*o*m/255,v=l+x-2*l*x/255;break;case"tint":g=i+f*u,y=o+m*u,v=l+x*u}t[h]=g,t[h+1]=y,t[h+2]=v}}sendUniformData(e,t){const n=new Rs(this.color).getSource();n[0]=this.alpha*n[0]/255,n[1]=this.alpha*n[1]/255,n[2]=this.alpha*n[2]/255,n[3]=this.alpha,e.uniform4fv(t.uColor,n)}}Ie(gg,"defaults",{color:"#F95C63",mode:"multiply",alpha:1}),Ie(gg,"type","BlendColor"),Ie(gg,"uniformLocations",["uColor"]),qt.setClass(gg);const gP={multiply:`
    precision highp float;
    uniform sampler2D uTexture;
    uniform sampler2D uImage;
    uniform vec4 uColor;
    varying vec2 vTexCoord;
    varying vec2 vTexCoord2;
    void main() {
      vec4 color = texture2D(uTexture, vTexCoord);
      vec4 color2 = texture2D(uImage, vTexCoord2);
      color.rgba *= color2.rgba;
      gl_FragColor = color;
    }
    `,mask:`
    precision highp float;
    uniform sampler2D uTexture;
    uniform sampler2D uImage;
    uniform vec4 uColor;
    varying vec2 vTexCoord;
    varying vec2 vTexCoord2;
    void main() {
      vec4 color = texture2D(uTexture, vTexCoord);
      vec4 color2 = texture2D(uImage, vTexCoord2);
      color.a = color2.a;
      gl_FragColor = color;
    }
    `},pP=["type","image"];class pg extends Ua{getCacheKey(){return"".concat(this.type,"_").concat(this.mode)}getFragmentSource(){return gP[this.mode]}getVertexSource(){return`
    attribute vec2 aPosition;
    varying vec2 vTexCoord;
    varying vec2 vTexCoord2;
    uniform mat3 uTransformMatrix;
    void main() {
      vTexCoord = aPosition;
      vTexCoord2 = (uTransformMatrix * vec3(aPosition, 1.0)).xy;
      gl_Position = vec4(aPosition * 2.0 - 1.0, 0.0, 1.0);
    }
    `}applyToWebGL(e){const t=e.context,n=this.createTexture(e.filterBackend,this.image);this.bindAdditionalTexture(t,n,t.TEXTURE1),super.applyToWebGL(e),this.unbindAdditionalTexture(t,t.TEXTURE1)}createTexture(e,t){return e.getCachedTexture(t.cacheKey,t.getElement())}calculateMatrix(){const e=this.image,{width:t,height:n}=e.getElement();return[1/e.scaleX,0,0,0,1/e.scaleY,0,-e.left/t,-e.top/n,1]}applyTo2d(e){let{imageData:{data:t,width:n,height:a},filterBackend:{resources:i}}=e;const o=this.image;i.blendImage||(i.blendImage=kc());const l=i.blendImage,u=l.getContext("2d");l.width!==n||l.height!==a?(l.width=n,l.height=a):u.clearRect(0,0,n,a),u.setTransform(o.scaleX,0,0,o.scaleY,o.left,o.top),u.drawImage(o.getElement(),0,0,n,a);const h=u.getImageData(0,0,n,a).data;for(let f=0;f<t.length;f+=4){const m=t[f],x=t[f+1],g=t[f+2],y=t[f+3],v=h[f],S=h[f+1],k=h[f+2],A=h[f+3];switch(this.mode){case"multiply":t[f]=m*v/255,t[f+1]=x*S/255,t[f+2]=g*k/255,t[f+3]=y*A/255;break;case"mask":t[f+3]=A}}}sendUniformData(e,t){const n=this.calculateMatrix();e.uniform1i(t.uImage,1),e.uniformMatrix3fv(t.uTransformMatrix,!1,n)}toObject(){return ze(ze({},super.toObject()),{},{image:this.image&&this.image.toObject()})}static async fromObject(e,t){let{type:n,image:a}=e,i=On(e,pP);return En.fromObject(a,t).then((o=>new this(ze(ze({},i),{},{image:o}))))}}Ie(pg,"type","BlendImage"),Ie(pg,"defaults",{mode:"multiply",alpha:1}),Ie(pg,"uniformLocations",["uTransformMatrix","uImage"]),qt.setClass(pg);class mg extends Ua{getFragmentSource(){return`
    precision highp float;
    uniform sampler2D uTexture;
    uniform vec2 uDelta;
    varying vec2 vTexCoord;
    const float nSamples = 15.0;
    vec3 v3offset = vec3(12.9898, 78.233, 151.7182);
    float random(vec3 scale) {
      /* use the fragment position for a different seed per-pixel */
      return fract(sin(dot(gl_FragCoord.xyz, scale)) * 43758.5453);
    }
    void main() {
      vec4 color = vec4(0.0);
      float totalC = 0.0;
      float totalA = 0.0;
      float offset = random(v3offset);
      for (float t = -nSamples; t <= nSamples; t++) {
        float percent = (t + offset - 0.5) / nSamples;
        vec4 sample = texture2D(uTexture, vTexCoord + uDelta * percent);
        float weight = 1.0 - abs(percent);
        float alpha = weight * sample.a;
        color.rgb += sample.rgb * alpha;
        color.a += alpha;
        totalA += weight;
        totalC += alpha;
      }
      gl_FragColor.rgb = color.rgb / totalC;
      gl_FragColor.a = color.a / totalA;
    }
  `}applyTo(e){Qp(e)?(this.aspectRatio=e.sourceWidth/e.sourceHeight,e.passes++,this._setupFrameBuffer(e),this.horizontal=!0,this.applyToWebGL(e),this._swapTextures(e),this._setupFrameBuffer(e),this.horizontal=!1,this.applyToWebGL(e),this._swapTextures(e)):this.applyTo2d(e)}applyTo2d(e){let{imageData:{data:t,width:n,height:a}}=e;this.aspectRatio=n/a,this.horizontal=!0;let i=this.getBlurValue()*n;const o=new Uint8ClampedArray(t),l=15,u=4*n;for(let h=0;h<t.length;h+=4){let f=0,m=0,x=0,g=0,y=0;const v=h-h%u,S=v+u;for(let k=-14;k<l;k++){const A=k/l,N=4*Math.floor(i*A),j=1-Math.abs(A);let W=h+N;W<v?W=v:W>S&&(W=S);const ee=t[W+3]*j;f+=t[W]*ee,m+=t[W+1]*ee,x+=t[W+2]*ee,g+=ee,y+=j}o[h]=f/g,o[h+1]=m/g,o[h+2]=x/g,o[h+3]=g/y}this.horizontal=!1,i=this.getBlurValue()*a;for(let h=0;h<o.length;h+=4){let f=0,m=0,x=0,g=0,y=0;const v=h%u,S=o.length-u+v;for(let k=-14;k<l;k++){const A=k/l,N=Math.floor(i*A)*u,j=1-Math.abs(A);let W=h+N;W<v?W=v:W>S&&(W=S);const ee=o[W+3]*j;f+=o[W]*ee,m+=o[W+1]*ee,x+=o[W+2]*ee,g+=ee,y+=j}t[h]=f/g,t[h+1]=m/g,t[h+2]=x/g,t[h+3]=g/y}}sendUniformData(e,t){const n=this.chooseRightDelta();e.uniform2fv(t.uDelta,n)}isNeutralState(){return this.blur===0}getBlurValue(){let e=1;const{horizontal:t,aspectRatio:n}=this;return t?n>1&&(e=1/n):n<1&&(e=n),e*this.blur*.12}chooseRightDelta(){const e=this.getBlurValue();return this.horizontal?[e,0]:[0,e]}}Ie(mg,"type","Blur"),Ie(mg,"defaults",{blur:0}),Ie(mg,"uniformLocations",["uDelta"]),qt.setClass(mg);class xg extends Ua{getFragmentSource(){return`
  precision highp float;
  uniform sampler2D uTexture;
  uniform float uBrightness;
  varying vec2 vTexCoord;
  void main() {
    vec4 color = texture2D(uTexture, vTexCoord);
    color.rgb += uBrightness;
    gl_FragColor = color;
  }
`}applyTo2d(e){let{imageData:{data:t}}=e;const n=Math.round(255*this.brightness);for(let a=0;a<t.length;a+=4)t[a]+=n,t[a+1]+=n,t[a+2]+=n}isNeutralState(){return this.brightness===0}sendUniformData(e,t){e.uniform1f(t.uBrightness,this.brightness)}}Ie(xg,"type","Brightness"),Ie(xg,"defaults",{brightness:0}),Ie(xg,"uniformLocations",["uBrightness"]),qt.setClass(xg);const wk={matrix:[1,0,0,0,0,0,1,0,0,0,0,0,1,0,0,0,0,0,1,0],colorsOnly:!0};class zf extends Ua{getFragmentSource(){return`
  precision highp float;
  uniform sampler2D uTexture;
  varying vec2 vTexCoord;
  uniform mat4 uColorMatrix;
  uniform vec4 uConstants;
  void main() {
    vec4 color = texture2D(uTexture, vTexCoord);
    color *= uColorMatrix;
    color += uConstants;
    gl_FragColor = color;
  }`}applyTo2d(e){const t=e.imageData.data,n=this.matrix,a=this.colorsOnly;for(let i=0;i<t.length;i+=4){const o=t[i],l=t[i+1],u=t[i+2];if(t[i]=o*n[0]+l*n[1]+u*n[2]+255*n[4],t[i+1]=o*n[5]+l*n[6]+u*n[7]+255*n[9],t[i+2]=o*n[10]+l*n[11]+u*n[12]+255*n[14],!a){const h=t[i+3];t[i]+=h*n[3],t[i+1]+=h*n[8],t[i+2]+=h*n[13],t[i+3]=o*n[15]+l*n[16]+u*n[17]+h*n[18]+255*n[19]}}}sendUniformData(e,t){const n=this.matrix,a=[n[0],n[1],n[2],n[3],n[5],n[6],n[7],n[8],n[10],n[11],n[12],n[13],n[15],n[16],n[17],n[18]],i=[n[4],n[9],n[14],n[19]];e.uniformMatrix4fv(t.uColorMatrix,!1,a),e.uniform4fv(t.uConstants,i)}toObject(){return ze(ze({},super.toObject()),{},{matrix:[...this.matrix]})}}function Dh(r,e){var t;const n=(Ie(t=class extends zf{toObject(){return{type:this.type,colorsOnly:this.colorsOnly}}},"type",r),Ie(t,"defaults",{colorsOnly:!1,matrix:e}),t);return qt.setClass(n,r),n}Ie(zf,"type","ColorMatrix"),Ie(zf,"defaults",wk),Ie(zf,"uniformLocations",["uColorMatrix","uConstants"]),qt.setClass(zf);Dh("Brownie",[.5997,.34553,-.27082,0,.186,-.0377,.86095,.15059,0,-.1449,.24113,-.07441,.44972,0,-.02965,0,0,0,1,0]);Dh("Vintage",[.62793,.32021,-.03965,0,.03784,.02578,.64411,.03259,0,.02926,.0466,-.08512,.52416,0,.02023,0,0,0,1,0]);Dh("Kodachrome",[1.12855,-.39673,-.03992,0,.24991,-.16404,1.08352,-.05498,0,.09698,-.16786,-.56034,1.60148,0,.13972,0,0,0,1,0]);Dh("Technicolor",[1.91252,-.85453,-.09155,0,.04624,-.30878,1.76589,-.10601,0,-.27589,-.2311,-.75018,1.84759,0,.12137,0,0,0,1,0]);Dh("Polaroid",[1.438,-.062,-.062,0,0,-.122,1.378,-.122,0,0,-.016,-.016,1.483,0,0,0,0,0,1,0]);Dh("Sepia",[.393,.769,.189,0,0,.349,.686,.168,0,0,.272,.534,.131,0,0,0,0,0,1,0]);Dh("BlackWhite",[1.5,1.5,1.5,0,-1,1.5,1.5,1.5,0,-1,1.5,1.5,1.5,0,-1,0,0,0,1,0]);class J_ extends Ua{constructor(){let e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};super(e),this.subFilters=e.subFilters||[]}applyTo(e){Qp(e)&&(e.passes+=this.subFilters.length-1),this.subFilters.forEach((t=>{t.applyTo(e)}))}toObject(){return{type:this.type,subFilters:this.subFilters.map((e=>e.toObject()))}}isNeutralState(){return!this.subFilters.some((e=>!e.isNeutralState()))}static fromObject(e,t){return Promise.all((e.subFilters||[]).map((n=>qt.getClass(n.type).fromObject(n,t)))).then((n=>new this({subFilters:n})))}}Ie(J_,"type","Composed"),qt.setClass(J_);class vg extends Ua{getFragmentSource(){return`
  precision highp float;
  uniform sampler2D uTexture;
  uniform float uContrast;
  varying vec2 vTexCoord;
  void main() {
    vec4 color = texture2D(uTexture, vTexCoord);
    float contrastF = 1.015 * (uContrast + 1.0) / (1.0 * (1.015 - uContrast));
    color.rgb = contrastF * (color.rgb - 0.5) + 0.5;
    gl_FragColor = color;
  }`}isNeutralState(){return this.contrast===0}applyTo2d(e){let{imageData:{data:t}}=e;const n=Math.floor(255*this.contrast),a=259*(n+255)/(255*(259-n));for(let i=0;i<t.length;i+=4)t[i]=a*(t[i]-128)+128,t[i+1]=a*(t[i+1]-128)+128,t[i+2]=a*(t[i+2]-128)+128}sendUniformData(e,t){e.uniform1f(t.uContrast,this.contrast)}}Ie(vg,"type","Contrast"),Ie(vg,"defaults",{contrast:0}),Ie(vg,"uniformLocations",["uContrast"]),qt.setClass(vg);const mP={Convolute_3_1:`
    precision highp float;
    uniform sampler2D uTexture;
    uniform float uMatrix[9];
    uniform float uStepW;
    uniform float uStepH;
    varying vec2 vTexCoord;
    void main() {
      vec4 color = vec4(0, 0, 0, 0);
      for (float h = 0.0; h < 3.0; h+=1.0) {
        for (float w = 0.0; w < 3.0; w+=1.0) {
          vec2 matrixPos = vec2(uStepW * (w - 1), uStepH * (h - 1));
          color += texture2D(uTexture, vTexCoord + matrixPos) * uMatrix[int(h * 3.0 + w)];
        }
      }
      gl_FragColor = color;
    }
    `,Convolute_3_0:`
    precision highp float;
    uniform sampler2D uTexture;
    uniform float uMatrix[9];
    uniform float uStepW;
    uniform float uStepH;
    varying vec2 vTexCoord;
    void main() {
      vec4 color = vec4(0, 0, 0, 1);
      for (float h = 0.0; h < 3.0; h+=1.0) {
        for (float w = 0.0; w < 3.0; w+=1.0) {
          vec2 matrixPos = vec2(uStepW * (w - 1.0), uStepH * (h - 1.0));
          color.rgb += texture2D(uTexture, vTexCoord + matrixPos).rgb * uMatrix[int(h * 3.0 + w)];
        }
      }
      float alpha = texture2D(uTexture, vTexCoord).a;
      gl_FragColor = color;
      gl_FragColor.a = alpha;
    }
    `,Convolute_5_1:`
    precision highp float;
    uniform sampler2D uTexture;
    uniform float uMatrix[25];
    uniform float uStepW;
    uniform float uStepH;
    varying vec2 vTexCoord;
    void main() {
      vec4 color = vec4(0, 0, 0, 0);
      for (float h = 0.0; h < 5.0; h+=1.0) {
        for (float w = 0.0; w < 5.0; w+=1.0) {
          vec2 matrixPos = vec2(uStepW * (w - 2.0), uStepH * (h - 2.0));
          color += texture2D(uTexture, vTexCoord + matrixPos) * uMatrix[int(h * 5.0 + w)];
        }
      }
      gl_FragColor = color;
    }
    `,Convolute_5_0:`
    precision highp float;
    uniform sampler2D uTexture;
    uniform float uMatrix[25];
    uniform float uStepW;
    uniform float uStepH;
    varying vec2 vTexCoord;
    void main() {
      vec4 color = vec4(0, 0, 0, 1);
      for (float h = 0.0; h < 5.0; h+=1.0) {
        for (float w = 0.0; w < 5.0; w+=1.0) {
          vec2 matrixPos = vec2(uStepW * (w - 2.0), uStepH * (h - 2.0));
          color.rgb += texture2D(uTexture, vTexCoord + matrixPos).rgb * uMatrix[int(h * 5.0 + w)];
        }
      }
      float alpha = texture2D(uTexture, vTexCoord).a;
      gl_FragColor = color;
      gl_FragColor.a = alpha;
    }
    `,Convolute_7_1:`
    precision highp float;
    uniform sampler2D uTexture;
    uniform float uMatrix[49];
    uniform float uStepW;
    uniform float uStepH;
    varying vec2 vTexCoord;
    void main() {
      vec4 color = vec4(0, 0, 0, 0);
      for (float h = 0.0; h < 7.0; h+=1.0) {
        for (float w = 0.0; w < 7.0; w+=1.0) {
          vec2 matrixPos = vec2(uStepW * (w - 3.0), uStepH * (h - 3.0));
          color += texture2D(uTexture, vTexCoord + matrixPos) * uMatrix[int(h * 7.0 + w)];
        }
      }
      gl_FragColor = color;
    }
    `,Convolute_7_0:`
    precision highp float;
    uniform sampler2D uTexture;
    uniform float uMatrix[49];
    uniform float uStepW;
    uniform float uStepH;
    varying vec2 vTexCoord;
    void main() {
      vec4 color = vec4(0, 0, 0, 1);
      for (float h = 0.0; h < 7.0; h+=1.0) {
        for (float w = 0.0; w < 7.0; w+=1.0) {
          vec2 matrixPos = vec2(uStepW * (w - 3.0), uStepH * (h - 3.0));
          color.rgb += texture2D(uTexture, vTexCoord + matrixPos).rgb * uMatrix[int(h * 7.0 + w)];
        }
      }
      float alpha = texture2D(uTexture, vTexCoord).a;
      gl_FragColor = color;
      gl_FragColor.a = alpha;
    }
    `,Convolute_9_1:`
    precision highp float;
    uniform sampler2D uTexture;
    uniform float uMatrix[81];
    uniform float uStepW;
    uniform float uStepH;
    varying vec2 vTexCoord;
    void main() {
      vec4 color = vec4(0, 0, 0, 0);
      for (float h = 0.0; h < 9.0; h+=1.0) {
        for (float w = 0.0; w < 9.0; w+=1.0) {
          vec2 matrixPos = vec2(uStepW * (w - 4.0), uStepH * (h - 4.0));
          color += texture2D(uTexture, vTexCoord + matrixPos) * uMatrix[int(h * 9.0 + w)];
        }
      }
      gl_FragColor = color;
    }
    `,Convolute_9_0:`
    precision highp float;
    uniform sampler2D uTexture;
    uniform float uMatrix[81];
    uniform float uStepW;
    uniform float uStepH;
    varying vec2 vTexCoord;
    void main() {
      vec4 color = vec4(0, 0, 0, 1);
      for (float h = 0.0; h < 9.0; h+=1.0) {
        for (float w = 0.0; w < 9.0; w+=1.0) {
          vec2 matrixPos = vec2(uStepW * (w - 4.0), uStepH * (h - 4.0));
          color.rgb += texture2D(uTexture, vTexCoord + matrixPos).rgb * uMatrix[int(h * 9.0 + w)];
        }
      }
      float alpha = texture2D(uTexture, vTexCoord).a;
      gl_FragColor = color;
      gl_FragColor.a = alpha;
    }
    `};class yg extends Ua{getCacheKey(){return"".concat(this.type,"_").concat(Math.sqrt(this.matrix.length),"_").concat(this.opaque?1:0)}getFragmentSource(){return mP[this.getCacheKey()]}applyTo2d(e){const t=e.imageData,n=t.data,a=this.matrix,i=Math.round(Math.sqrt(a.length)),o=Math.floor(i/2),l=t.width,u=t.height,h=e.ctx.createImageData(l,u),f=h.data,m=this.opaque?1:0;let x,g,y,v,S,k,A,N,j,W,ee,z,B;for(ee=0;ee<u;ee++)for(W=0;W<l;W++){for(S=4*(ee*l+W),x=0,g=0,y=0,v=0,B=0;B<i;B++)for(z=0;z<i;z++)A=ee+B-o,k=W+z-o,A<0||A>=u||k<0||k>=l||(N=4*(A*l+k),j=a[B*i+z],x+=n[N]*j,g+=n[N+1]*j,y+=n[N+2]*j,m||(v+=n[N+3]*j));f[S]=x,f[S+1]=g,f[S+2]=y,f[S+3]=m?n[S+3]:v}e.imageData=h}sendUniformData(e,t){e.uniform1fv(t.uMatrix,this.matrix)}toObject(){return ze(ze({},super.toObject()),{},{opaque:this.opaque,matrix:[...this.matrix]})}}Ie(yg,"type","Convolute"),Ie(yg,"defaults",{opaque:!1,matrix:[0,0,0,0,1,0,0,0,0]}),Ie(yg,"uniformLocations",["uMatrix","uOpaque","uHalfSize","uSize"]),qt.setClass(yg);const _k="Gamma";class bg extends Ua{getFragmentSource(){return`
  precision highp float;
  uniform sampler2D uTexture;
  uniform vec3 uGamma;
  varying vec2 vTexCoord;
  void main() {
    vec4 color = texture2D(uTexture, vTexCoord);
    vec3 correction = (1.0 / uGamma);
    color.r = pow(color.r, correction.r);
    color.g = pow(color.g, correction.g);
    color.b = pow(color.b, correction.b);
    gl_FragColor = color;
    gl_FragColor.rgb *= color.a;
  }
`}constructor(){let e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};super(e),this.gamma=e.gamma||this.constructor.defaults.gamma.concat()}applyTo2d(e){let{imageData:{data:t}}=e;const n=this.gamma,a=1/n[0],i=1/n[1],o=1/n[2];this.rgbValues||(this.rgbValues={r:new Uint8Array(256),g:new Uint8Array(256),b:new Uint8Array(256)});const l=this.rgbValues;for(let u=0;u<256;u++)l.r[u]=255*Math.pow(u/255,a),l.g[u]=255*Math.pow(u/255,i),l.b[u]=255*Math.pow(u/255,o);for(let u=0;u<t.length;u+=4)t[u]=l.r[t[u]],t[u+1]=l.g[t[u+1]],t[u+2]=l.b[t[u+2]]}sendUniformData(e,t){e.uniform3fv(t.uGamma,this.gamma)}isNeutralState(){const{gamma:e}=this;return e[0]===1&&e[1]===1&&e[2]===1}toObject(){return{type:_k,gamma:this.gamma.concat()}}}Ie(bg,"type",_k),Ie(bg,"defaults",{gamma:[1,1,1]}),Ie(bg,"uniformLocations",["uGamma"]),qt.setClass(bg);const xP={average:`
    precision highp float;
    uniform sampler2D uTexture;
    varying vec2 vTexCoord;
    void main() {
      vec4 color = texture2D(uTexture, vTexCoord);
      float average = (color.r + color.b + color.g) / 3.0;
      gl_FragColor = vec4(average, average, average, color.a);
    }
    `,lightness:`
    precision highp float;
    uniform sampler2D uTexture;
    uniform int uMode;
    varying vec2 vTexCoord;
    void main() {
      vec4 col = texture2D(uTexture, vTexCoord);
      float average = (max(max(col.r, col.g),col.b) + min(min(col.r, col.g),col.b)) / 2.0;
      gl_FragColor = vec4(average, average, average, col.a);
    }
    `,luminosity:`
    precision highp float;
    uniform sampler2D uTexture;
    uniform int uMode;
    varying vec2 vTexCoord;
    void main() {
      vec4 col = texture2D(uTexture, vTexCoord);
      float average = 0.21 * col.r + 0.72 * col.g + 0.07 * col.b;
      gl_FragColor = vec4(average, average, average, col.a);
    }
    `};class wg extends Ua{applyTo2d(e){let{imageData:{data:t}}=e;for(let n,a=0;a<t.length;a+=4){const i=t[a],o=t[a+1],l=t[a+2];switch(this.mode){case"average":n=(i+o+l)/3;break;case"lightness":n=(Math.min(i,o,l)+Math.max(i,o,l))/2;break;case"luminosity":n=.21*i+.72*o+.07*l}t[a+2]=t[a+1]=t[a]=n}}getCacheKey(){return"".concat(this.type,"_").concat(this.mode)}getFragmentSource(){return xP[this.mode]}sendUniformData(e,t){e.uniform1i(t.uMode,1)}isNeutralState(){return!1}}Ie(wg,"type","Grayscale"),Ie(wg,"defaults",{mode:"average"}),Ie(wg,"uniformLocations",["uMode"]),qt.setClass(wg);const vP=ze(ze({},wk),{},{rotation:0});class V2 extends zf{calculateMatrix(){const e=this.rotation*Math.PI,t=_c(e),n=Sc(e),a=1/3,i=Math.sqrt(a)*n,o=1-t;this.matrix=[t+o/3,a*o-i,a*o+i,0,0,a*o+i,t+a*o,a*o-i,0,0,a*o-i,a*o+i,t+a*o,0,0,0,0,0,1,0]}isNeutralState(){return this.rotation===0}applyTo(e){this.calculateMatrix(),super.applyTo(e)}toObject(){return{type:this.type,rotation:this.rotation}}}Ie(V2,"type","HueRotation"),Ie(V2,"defaults",vP),qt.setClass(V2);class _g extends Ua{applyTo2d(e){let{imageData:{data:t}}=e;for(let n=0;n<t.length;n+=4)t[n]=255-t[n],t[n+1]=255-t[n+1],t[n+2]=255-t[n+2],this.alpha&&(t[n+3]=255-t[n+3])}getFragmentSource(){return`
  precision highp float;
  uniform sampler2D uTexture;
  uniform int uInvert;
  uniform int uAlpha;
  varying vec2 vTexCoord;
  void main() {
    vec4 color = texture2D(uTexture, vTexCoord);
    if (uInvert == 1) {
      if (uAlpha == 1) {
        gl_FragColor = vec4(1.0 - color.r,1.0 -color.g,1.0 -color.b,1.0 -color.a);
      } else {
        gl_FragColor = vec4(1.0 - color.r,1.0 -color.g,1.0 -color.b,color.a);
      }
    } else {
      gl_FragColor = color;
    }
  }
`}isNeutralState(){return!this.invert}sendUniformData(e,t){e.uniform1i(t.uInvert,Number(this.invert)),e.uniform1i(t.uAlpha,Number(this.alpha))}}Ie(_g,"type","Invert"),Ie(_g,"defaults",{alpha:!1,invert:!0}),Ie(_g,"uniformLocations",["uInvert","uAlpha"]),qt.setClass(_g);class Sg extends Ua{getFragmentSource(){return`
  precision highp float;
  uniform sampler2D uTexture;
  uniform float uStepH;
  uniform float uNoise;
  uniform float uSeed;
  varying vec2 vTexCoord;
  float rand(vec2 co, float seed, float vScale) {
    return fract(sin(dot(co.xy * vScale ,vec2(12.9898 , 78.233))) * 43758.5453 * (seed + 0.01) / 2.0);
  }
  void main() {
    vec4 color = texture2D(uTexture, vTexCoord);
    color.rgb += (0.5 - rand(vTexCoord, uSeed, 0.1 / uStepH)) * uNoise;
    gl_FragColor = color;
  }
`}applyTo2d(e){let{imageData:{data:t}}=e;const n=this.noise;for(let a=0;a<t.length;a+=4){const i=(.5-Math.random())*n;t[a]+=i,t[a+1]+=i,t[a+2]+=i}}sendUniformData(e,t){e.uniform1f(t.uNoise,this.noise/255),e.uniform1f(t.uSeed,Math.random())}isNeutralState(){return this.noise===0}}Ie(Sg,"type","Noise"),Ie(Sg,"defaults",{noise:0}),Ie(Sg,"uniformLocations",["uNoise","uSeed"]),qt.setClass(Sg);class kg extends Ua{applyTo2d(e){let{imageData:{data:t,width:n,height:a}}=e;for(let i=0;i<a;i+=this.blocksize)for(let o=0;o<n;o+=this.blocksize){const l=4*i*n+4*o,u=t[l],h=t[l+1],f=t[l+2],m=t[l+3];for(let x=i;x<Math.min(i+this.blocksize,a);x++)for(let g=o;g<Math.min(o+this.blocksize,n);g++){const y=4*x*n+4*g;t[y]=u,t[y+1]=h,t[y+2]=f,t[y+3]=m}}}isNeutralState(){return this.blocksize===1}getFragmentSource(){return`
  precision highp float;
  uniform sampler2D uTexture;
  uniform float uBlocksize;
  uniform float uStepW;
  uniform float uStepH;
  varying vec2 vTexCoord;
  void main() {
    float blockW = uBlocksize * uStepW;
    float blockH = uBlocksize * uStepH;
    int posX = int(vTexCoord.x / blockW);
    int posY = int(vTexCoord.y / blockH);
    float fposX = float(posX);
    float fposY = float(posY);
    vec2 squareCoords = vec2(fposX * blockW, fposY * blockH);
    vec4 color = texture2D(uTexture, squareCoords);
    gl_FragColor = color;
  }
`}sendUniformData(e,t){e.uniform1f(t.uBlocksize,this.blocksize)}}Ie(kg,"type","Pixelate"),Ie(kg,"defaults",{blocksize:4}),Ie(kg,"uniformLocations",["uBlocksize"]),qt.setClass(kg);class Cg extends Ua{getFragmentSource(){return`
precision highp float;
uniform sampler2D uTexture;
uniform vec4 uLow;
uniform vec4 uHigh;
varying vec2 vTexCoord;
void main() {
  gl_FragColor = texture2D(uTexture, vTexCoord);
  if(all(greaterThan(gl_FragColor.rgb,uLow.rgb)) && all(greaterThan(uHigh.rgb,gl_FragColor.rgb))) {
    gl_FragColor.a = 0.0;
  }
}
`}applyTo2d(e){let{imageData:{data:t}}=e;const n=255*this.distance,a=new Rs(this.color).getSource(),i=[a[0]-n,a[1]-n,a[2]-n],o=[a[0]+n,a[1]+n,a[2]+n];for(let l=0;l<t.length;l+=4){const u=t[l],h=t[l+1],f=t[l+2];u>i[0]&&h>i[1]&&f>i[2]&&u<o[0]&&h<o[1]&&f<o[2]&&(t[l+3]=0)}}sendUniformData(e,t){const n=new Rs(this.color).getSource(),a=this.distance,i=[0+n[0]/255-a,0+n[1]/255-a,0+n[2]/255-a,1],o=[n[0]/255+a,n[1]/255+a,n[2]/255+a,1];e.uniform4fv(t.uLow,i),e.uniform4fv(t.uHigh,o)}}Ie(Cg,"type","RemoveColor"),Ie(Cg,"defaults",{color:"#FFFFFF",distance:.02,useAlpha:!1}),Ie(Cg,"uniformLocations",["uLow","uHigh"]),qt.setClass(Cg);class Tg extends Ua{sendUniformData(e,t){e.uniform2fv(t.uDelta,this.horizontal?[1/this.width,0]:[0,1/this.height]),e.uniform1fv(t.uTaps,this.taps)}getFilterWindow(){const e=this.tempScale;return Math.ceil(this.lanczosLobes/e)}getCacheKey(){const e=this.getFilterWindow();return"".concat(this.type,"_").concat(e)}getFragmentSource(){const e=this.getFilterWindow();return this.generateShader(e)}getTaps(){const e=this.lanczosCreate(this.lanczosLobes),t=this.tempScale,n=this.getFilterWindow(),a=new Array(n);for(let i=1;i<=n;i++)a[i-1]=e(i*t);return a}generateShader(e){const t=new Array(e);for(let n=1;n<=e;n++)t[n-1]="".concat(n,".0 * uDelta");return`
      precision highp float;
      uniform sampler2D uTexture;
      uniform vec2 uDelta;
      varying vec2 vTexCoord;
      uniform float uTaps[`.concat(e,`];
      void main() {
        vec4 color = texture2D(uTexture, vTexCoord);
        float sum = 1.0;
        `).concat(t.map(((n,a)=>`
              color += texture2D(uTexture, vTexCoord + `.concat(n,") * uTaps[").concat(a,"] + texture2D(uTexture, vTexCoord - ").concat(n,") * uTaps[").concat(a,`];
              sum += 2.0 * uTaps[`).concat(a,`];
            `))).join(`
`),`
        gl_FragColor = color / sum;
      }
    `)}applyToForWebgl(e){e.passes++,this.width=e.sourceWidth,this.horizontal=!0,this.dW=Math.round(this.width*this.scaleX),this.dH=e.sourceHeight,this.tempScale=this.dW/this.width,this.taps=this.getTaps(),e.destinationWidth=this.dW,super.applyTo(e),e.sourceWidth=e.destinationWidth,this.height=e.sourceHeight,this.horizontal=!1,this.dH=Math.round(this.height*this.scaleY),this.tempScale=this.dH/this.height,this.taps=this.getTaps(),e.destinationHeight=this.dH,super.applyTo(e),e.sourceHeight=e.destinationHeight}applyTo(e){Qp(e)?this.applyToForWebgl(e):this.applyTo2d(e)}isNeutralState(){return this.scaleX===1&&this.scaleY===1}lanczosCreate(e){return t=>{if(t>=e||t<=-e)return 0;if(t<11920929e-14&&t>-11920929e-14)return 1;const n=(t*=Math.PI)/e;return Math.sin(t)/t*Math.sin(n)/n}}applyTo2d(e){const t=e.imageData,n=this.scaleX,a=this.scaleY;this.rcpScaleX=1/n,this.rcpScaleY=1/a;const i=t.width,o=t.height,l=Math.round(i*n),u=Math.round(o*a);let h;h=this.resizeType==="sliceHack"?this.sliceByTwo(e,i,o,l,u):this.resizeType==="hermite"?this.hermiteFastResize(e,i,o,l,u):this.resizeType==="bilinear"?this.bilinearFiltering(e,i,o,l,u):this.resizeType==="lanczos"?this.lanczosResize(e,i,o,l,u):new ImageData(l,u),e.imageData=h}sliceByTwo(e,t,n,a,i){const o=e.imageData,l=.5;let u=!1,h=!1,f=t*l,m=n*l;const x=e.filterBackend.resources;let g=0,y=0;const v=t;let S=0;x.sliceByTwo||(x.sliceByTwo=kc());const k=x.sliceByTwo;(k.width<1.5*t||k.height<n)&&(k.width=1.5*t,k.height=n);const A=k.getContext("2d");for(A.clearRect(0,0,1.5*t,n),A.putImageData(o,0,0),a=Math.floor(a),i=Math.floor(i);!u||!h;)t=f,n=m,a<Math.floor(f*l)?f=Math.floor(f*l):(f=a,u=!0),i<Math.floor(m*l)?m=Math.floor(m*l):(m=i,h=!0),A.drawImage(k,g,y,t,n,v,S,f,m),g=v,y=S,S+=m;return A.getImageData(g,y,a,i)}lanczosResize(e,t,n,a,i){const o=e.imageData.data,l=e.ctx.createImageData(a,i),u=l.data,h=this.lanczosCreate(this.lanczosLobes),f=this.rcpScaleX,m=this.rcpScaleY,x=2/this.rcpScaleX,g=2/this.rcpScaleY,y=Math.ceil(f*this.lanczosLobes/2),v=Math.ceil(m*this.lanczosLobes/2),S={},k={x:0,y:0},A={x:0,y:0};return(function N(j){let W,ee,z,B,D,Z,q,O,V,F,re;for(k.x=(j+.5)*f,A.x=Math.floor(k.x),W=0;W<i;W++){for(k.y=(W+.5)*m,A.y=Math.floor(k.y),D=0,Z=0,q=0,O=0,V=0,ee=A.x-y;ee<=A.x+y;ee++)if(!(ee<0||ee>=t)){F=Math.floor(1e3*Math.abs(ee-k.x)),S[F]||(S[F]={});for(let ae=A.y-v;ae<=A.y+v;ae++)ae<0||ae>=n||(re=Math.floor(1e3*Math.abs(ae-k.y)),S[F][re]||(S[F][re]=h(Math.sqrt(Math.pow(F*x,2)+Math.pow(re*g,2))/1e3)),z=S[F][re],z>0&&(B=4*(ae*t+ee),D+=z,Z+=z*o[B],q+=z*o[B+1],O+=z*o[B+2],V+=z*o[B+3]))}B=4*(W*a+j),u[B]=Z/D,u[B+1]=q/D,u[B+2]=O/D,u[B+3]=V/D}return++j<a?N(j):l})(0)}bilinearFiltering(e,t,n,a,i){let o,l,u,h,f,m,x,g,y,v,S,k,A,N=0;const j=this.rcpScaleX,W=this.rcpScaleY,ee=4*(t-1),z=e.imageData.data,B=e.ctx.createImageData(a,i),D=B.data;for(x=0;x<i;x++)for(g=0;g<a;g++)for(f=Math.floor(j*g),m=Math.floor(W*x),y=j*g-f,v=W*x-m,A=4*(m*t+f),S=0;S<4;S++)o=z[A+S],l=z[A+4+S],u=z[A+ee+S],h=z[A+ee+4+S],k=o*(1-y)*(1-v)+l*y*(1-v)+u*v*(1-y)+h*y*v,D[N++]=k;return B}hermiteFastResize(e,t,n,a,i){const o=this.rcpScaleX,l=this.rcpScaleY,u=Math.ceil(o/2),h=Math.ceil(l/2),f=e.imageData.data,m=e.ctx.createImageData(a,i),x=m.data;for(let g=0;g<i;g++)for(let y=0;y<a;y++){const v=4*(y+g*a);let S=0,k=0,A=0,N=0,j=0,W=0,ee=0;const z=(g+.5)*l;for(let B=Math.floor(g*l);B<(g+1)*l;B++){const D=Math.abs(z-(B+.5))/h,Z=(y+.5)*o,q=D*D;for(let O=Math.floor(y*o);O<(y+1)*o;O++){let V=Math.abs(Z-(O+.5))/u;const F=Math.sqrt(q+V*V);F>1&&F<-1||(S=2*F*F*F-3*F*F+1,S>0&&(V=4*(O+B*t),ee+=S*f[V+3],A+=S,f[V+3]<255&&(S=S*f[V+3]/250),N+=S*f[V],j+=S*f[V+1],W+=S*f[V+2],k+=S))}}x[v]=N/k,x[v+1]=j/k,x[v+2]=W/k,x[v+3]=ee/A}return m}}Ie(Tg,"type","Resize"),Ie(Tg,"defaults",{resizeType:"hermite",scaleX:1,scaleY:1,lanczosLobes:3}),Ie(Tg,"uniformLocations",["uDelta","uTaps"]),qt.setClass(Tg);class Ag extends Ua{getFragmentSource(){return`
  precision highp float;
  uniform sampler2D uTexture;
  uniform float uSaturation;
  varying vec2 vTexCoord;
  void main() {
    vec4 color = texture2D(uTexture, vTexCoord);
    float rgMax = max(color.r, color.g);
    float rgbMax = max(rgMax, color.b);
    color.r += rgbMax != color.r ? (rgbMax - color.r) * uSaturation : 0.00;
    color.g += rgbMax != color.g ? (rgbMax - color.g) * uSaturation : 0.00;
    color.b += rgbMax != color.b ? (rgbMax - color.b) * uSaturation : 0.00;
    gl_FragColor = color;
  }
`}applyTo2d(e){let{imageData:{data:t}}=e;const n=-this.saturation;for(let a=0;a<t.length;a+=4){const i=t[a],o=t[a+1],l=t[a+2],u=Math.max(i,o,l);t[a]+=u!==i?(u-i)*n:0,t[a+1]+=u!==o?(u-o)*n:0,t[a+2]+=u!==l?(u-l)*n:0}}sendUniformData(e,t){e.uniform1f(t.uSaturation,-this.saturation)}isNeutralState(){return this.saturation===0}}Ie(Ag,"type","Saturation"),Ie(Ag,"defaults",{saturation:0}),Ie(Ag,"uniformLocations",["uSaturation"]),qt.setClass(Ag);class Eg extends Ua{getFragmentSource(){return`
  precision highp float;
  uniform sampler2D uTexture;
  uniform float uVibrance;
  varying vec2 vTexCoord;
  void main() {
    vec4 color = texture2D(uTexture, vTexCoord);
    float max = max(color.r, max(color.g, color.b));
    float avg = (color.r + color.g + color.b) / 3.0;
    float amt = (abs(max - avg) * 2.0) * uVibrance;
    color.r += max != color.r ? (max - color.r) * amt : 0.00;
    color.g += max != color.g ? (max - color.g) * amt : 0.00;
    color.b += max != color.b ? (max - color.b) * amt : 0.00;
    gl_FragColor = color;
  }
`}applyTo2d(e){let{imageData:{data:t}}=e;const n=-this.vibrance;for(let a=0;a<t.length;a+=4){const i=t[a],o=t[a+1],l=t[a+2],u=Math.max(i,o,l),h=(i+o+l)/3,f=2*Math.abs(u-h)/255*n;t[a]+=u!==i?(u-i)*f:0,t[a+1]+=u!==o?(u-o)*f:0,t[a+2]+=u!==l?(u-l)*f:0}}sendUniformData(e,t){e.uniform1f(t.uVibrance,-this.vibrance)}isNeutralState(){return this.vibrance===0}}Ie(Eg,"type","Vibrance"),Ie(Eg,"defaults",{vibrance:0}),Ie(Eg,"uniformLocations",["uVibrance"]),qt.setClass(Eg);let yP=0;function Ng(){return`el_${Date.now()}_${++yP}`}async function G2(r){if(r.startsWith("data:"))return En.fromURL(r);const e=await v6(r);return En.fromURL(e)}function Q_(r){var h;let e=r.left??0,t=r.top??0,n=r.angle??0,a=r.scaleX??1,i=r.scaleY??1;const o=r.group;if(o&&o.type==="activeselection"){const f=o.getCenterPoint(),m=(o.angle??0)*Math.PI/180,x=o.scaleX??1,g=o.scaleY??1,y=(r.left??0)*x,v=(r.top??0)*g,S=Math.cos(m),k=Math.sin(m);e=f.x+y*S-v*k,t=f.y+y*k+v*S,n=(r.angle??0)+(o.angle??0),a=(r.scaleX??1)*x,i=(r.scaleY??1)*g}const l={left:e,top:t,width:r.width??0,height:r.height??0,angle:n,scaleX:a,scaleY:i};if(r instanceof _a&&(l.text=r.text,l.fontFamily=r.fontFamily,l.fontSize=r.fontSize,l.fontWeight=r.fontWeight,l.fontStyle=r.fontStyle,l.underline=r.underline,l.fill=r.fill,l.textAlign=r.textAlign,l.textBgColor=r._textBgColor??void 0,l.textBgOpacity=r._textBgOpacity??void 0,l.textBgRadius=r._textBgRadius??void 0),r instanceof En){const f=((h=r.getSrc)==null?void 0:h.call(r))||r._originalSrc||"";f&&(l.src=f),l.borderRadius=r._borderRadius??0,r._svgFill&&(l.fill=r._svgFill),r._cropX!==void 0&&(l.cropX=r._cropX,l.cropY=r._cropY,l.cropWidth=r._cropWidth,l.cropHeight=r._cropHeight)}return r.elementType==="placeholder-image"&&(l.borderRadius=r._borderRadius??0),l}class bP{constructor(e){Or(this,"canvas");Or(this,"undoStack",[]);Or(this,"redoStack",[]);Or(this,"_isRestoring",!1);Or(this,"_lastSaveTime",0);Or(this,"_saveThrottleMs",300);this.canvas=e}get isRestoring(){return this._isRestoring}get canUndo(){return this.undoStack.length>0}get canRedo(){return this.redoStack.length>0}saveState(){if(this._isRestoring)return;const e=Date.now();e-this._lastSaveTime<this._saveThrottleMs||(this._lastSaveTime=e,this.undoStack.push(this.getTemplate()),this.redoStack=[])}async undo(){if(this.undoStack.length===0)return;const e=this.getTemplate();this.redoStack.push(e);const t=this.undoStack.pop();this._isRestoring=!0;try{await this.loadTemplate(t)}finally{this._isRestoring=!1}}async redo(){if(this.redoStack.length===0)return;const e=this.getTemplate();this.undoStack.push(e);const t=this.redoStack.pop();this._isRestoring=!0;try{await this.loadTemplate(t)}finally{this._isRestoring=!1}}findObjectById(e){return this.canvas.getObjects().find(t=>t.elementId===e)}updateElementConditions(e,t){const n=this.findObjectById(e);n&&(this.saveState(),n.conditions=t.length>0?t:void 0)}applyBorderRadius(e,t){if(e._borderRadius=t,t>0){const n=e.width||1,a=e.height||1,i=Math.min(e.scaleX??1,e.scaleY??1),o=i>0?t/i:t,l=e.clipPath;l instanceof ka?(l.set({rx:o,ry:o,width:n,height:a,left:-n/2,top:-a/2}),l.dirty=!0):e.clipPath=new ka({width:n,height:a,rx:o,ry:o,left:-n/2,top:-a/2,originX:"left",originY:"top"})}else e.clipPath=void 0;e.dirty=!0,this.canvas.renderAll()}applyTextBackground(e){const t=e._textBgColor,n=e._textBgOpacity,a=e._textBgRadius;if(e.set({backgroundColor:""}),t&&n!==void 0&&n>0){const i=parseInt(t.slice(1,3),16),o=parseInt(t.slice(3,5),16),l=parseInt(t.slice(5,7),16),u=`rgba(${i},${o},${l},${n})`,h=a??0;e._origRender||(e._origRender=e.render.bind(e)),e.render=function(f){f.save();const m=this.calcTransformMatrix();f.transform(m[0],m[1],m[2],m[3],m[4],m[5]);const x=this.width,g=this.height,y=6,v=-x/2-y,S=-g/2-y,k=x+y*2,A=g+y*2,N=Math.min(h,k/2,A/2);f.beginPath(),N>0?(f.moveTo(v+N,S),f.lineTo(v+k-N,S),f.quadraticCurveTo(v+k,S,v+k,S+N),f.lineTo(v+k,S+A-N),f.quadraticCurveTo(v+k,S+A,v+k-N,S+A),f.lineTo(v+N,S+A),f.quadraticCurveTo(v,S+A,v,S+A-N),f.lineTo(v,S+N),f.quadraticCurveTo(v,S,v+N,S)):f.rect(v,S,k,A),f.closePath(),f.fillStyle=u,f.fill(),f.restore(),this._origRender(f)}}else e._origRender&&(e.render=e._origRender,delete e._origRender);e.dirty=!0,this.canvas.renderAll()}async recolorSvg(e,t){const n=e._svgSource;if(!n)return;let a=n.replace(/fill="(?!none)[^"]*"/gi,`fill="${t}"`).replace(/stroke="(?!none)[^"]*"/gi,`stroke="${t}"`).replace(/fill:\s*(?!none)[^;"]+/gi,`fill: ${t}`).replace(/stroke:\s*(?!none)[^;"]+/gi,`stroke: ${t}`);!n.match(/fill="/i)&&!n.match(/fill:/i)&&(a=a.replace(/<svg/i,`<svg fill="${t}"`));const i=`data:image/svg+xml;base64,${btoa(unescape(encodeURIComponent(a)))}`,o=e.left,l=e.top,u=e.scaleX,h=e.scaleY,f=e.angle;try{const m=await En.fromURL(i,{crossOrigin:"anonymous"});e.setElement(m.getElement()),e.set({left:o,top:l,scaleX:u,scaleY:h,angle:f}),e._originalSrc=i,e._svgSource=a,e._svgFill=t,e.dirty=!0,e.setCoords(),this.canvas.renderAll()}catch{}}setCustomProps(e,t,n,a){e.elementId=t,e.elementType=n,a!==void 0&&(e.columnName=a)}addTextElement(e){this.saveState();const t=Ng(),n=this.canvas.getZoom()||1,a=this.canvas.getWidth()/n,i=this.canvas.getHeight()/n,o=Math.min(a,i),l=Math.round(a*.4),u=e.fontSize||Math.round(o*.045),h=new io(e.text,{left:e.left,top:e.top,fontFamily:e.fontFamily,fontSize:u,fontWeight:e.fontWeight,fontStyle:e.fontStyle,underline:e.underline,fill:e.fill,textAlign:e.textAlign,width:l,editable:!0});return this.setCustomProps(h,t,"text"),this.canvas.add(h),this.sendBgToBack(),this.canvas.setActiveObject(h),this.canvas.renderAll(),t}async addImageElement(e){this.saveState();const t=Ng(),n=await G2(e.src),a=this.canvas.getZoom()||1,i=this.canvas.getWidth()/a,o=this.canvas.getHeight()/a,l=n.width||1,u=n.height||1,h=Math.min(e.width,i*.6),f=Math.min(e.height,o*.6),m=Math.min(h/l,f/u,1);if(n.set({left:e.left,top:e.top,scaleX:m,scaleY:m}),n._originalSrc=e.src,n._borderRadius=0,n._fullWidth=n.width,n._fullHeight=n.height,e.src.startsWith("data:image/svg+xml"))try{let x;e.src.includes(";base64,")?x=decodeURIComponent(escape(atob(e.src.split(",")[1]))):x=decodeURIComponent(e.src.split(",")[1]),n._svgSource=x,n._svgFill=null}catch{}return this.setCustomProps(n,t,"image"),this.canvas.add(n),this.sendBgToBack(),this.canvas.setActiveObject(n),this.canvas.renderAll(),t}addPlaceholder(e,t){this.saveState();const n=Ng(),a=e.type==="image"?"placeholder-image":"placeholder-text",i=this.canvas.getWidth()/(this.canvas.getZoom()||1),o=this.canvas.getHeight()/(this.canvas.getZoom()||1),l=Math.min(i,o);if(a==="placeholder-text"){const u=Math.round(i*.4),h=Math.round(l*.04),f=new io(`{${e.name}}`,{left:t.left,top:t.top,fontFamily:"Arial",fontSize:h,fill:"#333333",width:u,editable:!0});this.setCustomProps(f,n,a,e.name),this.canvas.add(f),this.sendBgToBack()}else{const u=Math.round(l*.25),h=new ka({left:t.left,top:t.top,width:u,height:u,fill:"#e0e0e0",stroke:"#999999",strokeWidth:1});this.setCustomProps(h,n,a,e.name);const f=Math.round(l*.025),m=new _a(`{${e.name}}`,{left:t.left+10,top:t.top+u/2-f/2,fontFamily:"Arial",fontSize:f,fill:"#666666"}),x=new $o([h,m],{left:t.left,top:t.top});x._borderRadius=0,this.setCustomProps(x,n,a,e.name),this.canvas.add(x),this.sendBgToBack()}return this.canvas.renderAll(),n}removeElement(e){const t=this.findObjectById(e);t&&(this.saveState(),this.canvas.remove(t),this.canvas.renderAll())}async duplicateElement(e){const t=this.findObjectById(e);if(!t)return null;this.saveState();const n=t.elementType,a=t.columnName,i=Q_(t),o=Ng();i.left+=20,i.top+=20;const l={id:o,type:n,properties:i};a&&(l.columnName=a);const u=t.conditions;u&&Array.isArray(u)&&u.length>0&&(l.conditions=JSON.parse(JSON.stringify(u))),await this.loadElement(l),this.sendBgToBack();const h=this.findObjectById(o);return h&&this.canvas.setActiveObject(h),this.canvas.renderAll(),o}updateElementVisual(e,t){const n=this.findObjectById(e);if(!n)return;if(n instanceof En&&t.borderRadius!==void 0&&this.applyBorderRadius(n,t.borderRadius),n.elementType==="placeholder-image"&&n instanceof $o&&t.borderRadius!==void 0){n._borderRadius=t.borderRadius;const i=n.getObjects().find(o=>o instanceof ka);i&&i.set({rx:t.borderRadius,ry:t.borderRadius}),this.canvas.renderAll()}}updateElement(e,t){const n=this.findObjectById(e);if(!n)return;this.saveState();const a={};if(t.left!==void 0&&(a.left=t.left),t.top!==void 0&&(a.top=t.top),t.angle!==void 0&&(a.angle=t.angle),t.scaleX!==void 0&&(a.scaleX=t.scaleX),t.scaleY!==void 0&&(a.scaleY=t.scaleY),t.width!==void 0&&(a.width=t.width),t.height!==void 0&&(a.height=t.height),n instanceof _a&&(t.text!==void 0&&(a.text=t.text),t.fontFamily!==void 0&&(a.fontFamily=t.fontFamily),t.fontSize!==void 0&&(a.fontSize=t.fontSize),t.fontWeight!==void 0&&(a.fontWeight=t.fontWeight),t.fontStyle!==void 0&&(a.fontStyle=t.fontStyle),t.underline!==void 0&&(a.underline=t.underline),t.fill!==void 0&&(a.fill=t.fill),t.textAlign!==void 0&&(a.textAlign=t.textAlign),t.textBgColor!==void 0&&(n._textBgColor=t.textBgColor),t.textBgOpacity!==void 0&&(n._textBgOpacity=t.textBgOpacity),t.textBgRadius!==void 0&&(n._textBgRadius=t.textBgRadius),this.applyTextBackground(n)),n instanceof En&&t.fill!==void 0&&n._svgSource&&this.recolorSvg(n,t.fill),n.set(a),n.setCoords(),n instanceof En&&t.borderRadius!==void 0&&this.applyBorderRadius(n,t.borderRadius),n.elementType==="placeholder-image"&&n instanceof $o&&t.borderRadius!==void 0){n._borderRadius=t.borderRadius;const o=n.getObjects().find(l=>l instanceof ka);o&&o.set({rx:t.borderRadius,ry:t.borderRadius}),this.canvas.renderAll()}if(n instanceof En&&t.cropX!==void 0){n._cropX=t.cropX,n._cropY=t.cropY,n._cropWidth=t.cropWidth,n._cropHeight=t.cropHeight;const o=n._fullWidth||n.width||1,l=n._fullHeight||n.height||1;n.set({cropX:(t.cropX??0)*o,cropY:(t.cropY??0)*l,width:(t.cropWidth??1)*o,height:(t.cropHeight??1)*l});const u=n._borderRadius??0;u>0&&this.applyBorderRadius(n,u),n.setCoords()}this.canvas.renderAll()}removeBgImageObject(){const e=this.canvas.getObjects().find(t=>t._isBgImage);e&&this.canvas.remove(e)}sendBgToBack(){const e=this.canvas.getObjects().find(t=>t._isBgImage);e&&this.canvas.sendObjectToBack(e)}async setBackground(e){if(!this.isDisposed){if(this.saveState(),this.canvas.backgroundImage=void 0,e.type==="solid"&&e.color)this.removeBgImageObject(),this.canvas.backgroundColor=e.color,this.canvas.renderAll();else if(e.type==="gradient"&&e.gradientColors){this.removeBgImageObject();const[t,n]=e.gradientColors,a=e.gradientDirection??"vertical",i=this.canvas.getWidth()/(this.canvas.getZoom()||1),o=this.canvas.getHeight()/(this.canvas.getZoom()||1);let l;switch(a){case"horizontal":l={x1:0,y1:0,x2:i,y2:0};break;case"diagonal":l={x1:0,y1:0,x2:i,y2:o};break;case"vertical":default:l={x1:0,y1:0,x2:0,y2:o};break}const u=new hh({type:"linear",coords:l,colorStops:[{offset:0,color:t},{offset:1,color:n}]});this.canvas.backgroundColor=u,this.canvas.renderAll()}else if(e.type==="image"&&e.imageSrc){this.removeBgImageObject();const t=await G2(e.imageSrc),n=this.canvas.getWidth()/(this.canvas.getZoom()||1),a=this.canvas.getHeight()/(this.canvas.getZoom()||1),i=t.width||1,o=t.height||1;let l=e.imageScale??Math.max(n/i,a/o),u=e.imageLeft??(n-i*l)/2,h=e.imageTop??(a-o*l)/2;t.set({left:u,top:h,scaleX:l,scaleY:l,lockUniScaling:!0}),t.on("scaling",()=>{const f=t.scaleX??1,m=t.scaleY??1,x=Math.max(f,m);t.set({scaleX:x,scaleY:x})}),t._originalSrc=e.imageSrc,t._isBgImage=!0,this.canvas.backgroundColor="",this.canvas.add(t),this.canvas.sendObjectToBack(t),this.canvas.renderAll()}}}bringToFront(e){const t=this.findObjectById(e);t&&(this.saveState(),this.canvas.bringObjectToFront(t),this.canvas.renderAll())}sendToBack(e){const t=this.findObjectById(e);t&&(this.saveState(),this.canvas.sendObjectToBack(t),this.sendBgToBack(),this.canvas.renderAll())}getTemplate(){const e=[];for(const n of this.canvas.getObjects()){if(n._isBgImage)continue;const a=n.elementId,i=n.elementType;if(!a||!i)continue;const o={id:a,type:i,properties:Q_(n)},l=n.columnName;l!==void 0&&(o.columnName=l);const u=n.conditions;u&&Array.isArray(u)&&u.length>0&&(o.conditions=u),e.push(o)}const t=this.serializeBackground();return{width:Math.round(this.canvas.getWidth()/(this.canvas.getZoom()||1)),height:Math.round(this.canvas.getHeight()/(this.canvas.getZoom()||1)),background:t,elements:e}}serializeBackground(){var a,i,o,l;const e=this.canvas.backgroundColor,t=this.canvas.getObjects().find(u=>u._isBgImage);if(t&&t instanceof En)return{type:"image",imageSrc:((a=t.getSrc)==null?void 0:a.call(t))||t._originalSrc||"",imageLeft:t.left??0,imageTop:t.top??0,imageScale:t.scaleX??1};const n=this.canvas.backgroundImage;if(n&&n instanceof En)return{type:"image",imageSrc:((i=n.getSrc)==null?void 0:i.call(n))||n._originalSrc||""};if(e instanceof hh){const u=e,h=u.colorStops??[],f=((o=h[0])==null?void 0:o.color)??"#ffffff",m=((l=h[1])==null?void 0:l.color)??"#000000",x=u.coords;let g="vertical";if(x){const y=x.y1===x.y2&&x.x1!==x.x2,v=x.x1!==x.x2&&x.y1!==x.y2;y?g="horizontal":v&&(g="diagonal")}return{type:"gradient",gradientColors:[f,m],gradientDirection:g}}return typeof e=="string"&&e?{type:"solid",color:e}:{type:"solid",color:"#ffffff"}}get isDisposed(){try{return!this.canvas.lowerCanvasEl}catch{return!0}}async loadTemplate(e){if(this.isDisposed)return;const t=this._isRestoring;this._isRestoring=!0;try{if(this.canvas.clear(),this.isDisposed)return;const n=this.canvas.getZoom();if(this.canvas.setZoom(1),this.canvas.setWidth(e.width),this.canvas.setHeight(e.height),await this.setBackground(e.background),this.isDisposed)return;for(const a of e.elements){if(this.isDisposed)return;await this.loadElement(a)}if(this.isDisposed)return;this.canvas.setZoom(n),this.canvas.setDimensions({width:e.width*n,height:e.height*n}),this.canvas.renderAll()}finally{this._isRestoring=t}}async loadElement(e){const{id:t,type:n,columnName:a,properties:i}=e;if(n==="text"||n==="placeholder-text"){const o=new io(i.text??"",{left:i.left,top:i.top,width:i.width||250,angle:i.angle,scaleX:i.scaleX,scaleY:i.scaleY,fontFamily:i.fontFamily??"Arial",fontSize:i.fontSize??20,fontWeight:i.fontWeight??"normal",fontStyle:i.fontStyle??"normal",underline:i.underline??!1,fill:i.fill??"#000000",textAlign:i.textAlign??"left",editable:!0});this.setCustomProps(o,t,n,a),e.conditions&&e.conditions.length>0&&(o.conditions=e.conditions),i.textBgColor&&(o._textBgColor=i.textBgColor,o._textBgOpacity=i.textBgOpacity??1,o._textBgRadius=i.textBgRadius??0,this.applyTextBackground(o)),this.canvas.add(o)}else if(n==="image"){if(i.src)try{const o=await G2(i.src);if(o.set({left:i.left,top:i.top,angle:i.angle,scaleX:i.scaleX,scaleY:i.scaleY}),o._originalSrc=i.src,o._borderRadius=i.borderRadius??0,o._fullWidth=o.width,o._fullHeight=o.height,i.src.startsWith("data:image/svg+xml"))try{let l;i.src.includes(";base64,")?l=decodeURIComponent(escape(atob(i.src.split(",")[1]))):l=decodeURIComponent(i.src.split(",")[1]),o._svgSource=l,o._svgFill=i.fill??null}catch{}if(i.cropX!==void 0&&i.cropWidth!==void 0){const l=o.width||1,u=o.height||1;o._cropX=i.cropX,o._cropY=i.cropY,o._cropWidth=i.cropWidth,o._cropHeight=i.cropHeight,o.set({cropX:(i.cropX??0)*l,cropY:(i.cropY??0)*u,width:(i.cropWidth??1)*l,height:(i.cropHeight??1)*u})}this.setCustomProps(o,t,n),e.conditions&&e.conditions.length>0&&(o.conditions=e.conditions),this.canvas.add(o),i.borderRadius&&i.borderRadius>0&&this.applyBorderRadius(o,i.borderRadius),o._svgSource&&o._svgFill&&await this.recolorSvg(o,o._svgFill)}catch{}}else if(n==="placeholder-image"){const o=new ka({width:i.width||150,height:i.height||150,fill:"#e0e0e0",stroke:"#999999",strokeWidth:1,rx:i.borderRadius??0,ry:i.borderRadius??0}),l=new _a(`{${a??""}}`,{left:10,top:(i.height||150)/2-10,fontFamily:"Arial",fontSize:14,fill:"#666666"}),u=new $o([o,l],{left:i.left,top:i.top,angle:i.angle,scaleX:i.scaleX,scaleY:i.scaleY});u._borderRadius=i.borderRadius??0,this.setCustomProps(u,t,n,a),e.conditions&&e.conditions.length>0&&(u.conditions=e.conditions),this.canvas.add(u)}}}const xn=6,wP="#ff4081",e4=1.5,_P="rgba(255, 64, 129, 0.3)",W2="#2ecc71",SP="rgba(46, 204, 113, 0.4)",Af=6,Y2=.1,X2=3;function kP({onSelectionChange:r,engineRef:e,onCanvasChange:t,onImagePaste:n}){const a=Me.useRef(null),i=Me.useRef(null),o=Me.useRef(null),l=Me.useRef([]),u=Me.useRef(null),h=Me.useRef(null),f=fr(w=>w.templateConfig),m=fa(w=>w.t),[x,g]=Me.useState(1),[y,v]=Me.useState(!1),[S,k]=Me.useState(!1),A=Me.useCallback(()=>{const w=e.current;w&&(v(w.canUndo),k(w.canRedo))},[e]),N=Me.useRef({width:f.width,height:f.height});N.current={width:f.width,height:f.height};const j=Me.useRef(t);j.current=t;const W=Me.useRef(n);W.current=n;const ee=Me.useRef(A);ee.current=A;const z=Me.useRef(!1),B=Me.useRef(!1),D=Me.useRef(null),Z=Me.useCallback(w=>{var fe;if(!w)return null;const L=w.elementId,P=w.elementType;if(!L||!P)return null;const U={left:w.left??0,top:w.top??0,width:w.width??0,height:w.height??0,angle:w.angle??0,scaleX:w.scaleX??1,scaleY:w.scaleY??1};if(w instanceof _a&&(U.text=w.text,U.fontFamily=w.fontFamily,U.fontSize=w.fontSize,U.fontWeight=w.fontWeight,U.fontStyle=w.fontStyle,U.underline=w.underline,U.fill=w.fill,U.textAlign=w.textAlign,U.textBgColor=w._textBgColor??void 0,U.textBgOpacity=w._textBgOpacity??void 0,U.textBgRadius=w._textBgRadius??void 0),w instanceof En){const xe=((fe=w.getSrc)==null?void 0:fe.call(w))||w._originalSrc||"";xe&&(U.src=xe),U.borderRadius=w._borderRadius??0,w._svgFill&&(U.fill=w._svgFill),w._cropX!==void 0&&(U.cropX=w._cropX,U.cropY=w._cropY,U.cropWidth=w._cropWidth,U.cropHeight=w._cropHeight)}P==="placeholder-image"&&(U.borderRadius=w._borderRadius??0);const ie=w.conditions||[];return{id:L,type:P,properties:U,conditions:ie}},[]),q=Me.useCallback(()=>{const w=o.current;if(w){for(const L of l.current)w.remove(L);l.current=[]}},[]),O=Me.useCallback((w,L,P,U)=>{const ie=o.current;if(!ie)return;const fe=new Ls([w,L,P,U],{stroke:_P,strokeWidth:e4+4,selectable:!1,evented:!1,excludeFromExport:!0});fe._isGuideline=!0,ie.add(fe),l.current.push(fe);const xe=new Ls([w,L,P,U],{stroke:wP,strokeWidth:e4,selectable:!1,evented:!1,excludeFromExport:!0});xe._isGuideline=!0,ie.add(xe),l.current.push(xe)},[]),V=Me.useCallback((w,L,P,U)=>{const ie=o.current;if(!ie)return;const fe=Math.abs(L-U)<1,xe=4,ve=new Ls([w,L,P,U],{stroke:SP,strokeWidth:5,selectable:!1,evented:!1,excludeFromExport:!0});ve._isGuideline=!0,ie.add(ve),l.current.push(ve);const ce=new Ls([w,L,P,U],{stroke:W2,strokeWidth:2,selectable:!1,evented:!1,excludeFromExport:!0});if(ce._isGuideline=!0,ie.add(ce),l.current.push(ce),fe)for(const De of[w,P]){const ue=new Ls([De,L-xe,De,L+xe],{stroke:W2,strokeWidth:2,selectable:!1,evented:!1,excludeFromExport:!0});ue._isGuideline=!0,ie.add(ue),l.current.push(ue)}else for(const De of[L,U]){const ue=new Ls([w-xe,De,w+xe,De],{stroke:W2,strokeWidth:2,selectable:!1,evented:!1,excludeFromExport:!0});ue._isGuideline=!0,ie.add(ue),l.current.push(ue)}},[]),F=Me.useCallback((w,L)=>{if(!w.lowerCanvasEl)return;const P=N.current.width,U=N.current.height;w.setZoom(L),w.setDimensions({width:P*L,height:U*L}),w.renderAll(),g(L)},[]),re=Me.useCallback(()=>{const w=o.current,L=i.current;if(!w||!L||!w.lowerCanvasEl)return;const P=L.clientWidth-48,U=L.clientHeight-48,ie=N.current.width,fe=N.current.height,xe=Math.min(P/ie,U/fe,1);F(w,xe)},[F]),ae=Me.useCallback(w=>{const L=o.current;if(!L)return;let P=L.getZoom()+w;P=Math.min(X2,Math.max(Y2,P)),F(L,P)},[F]);Me.useEffect(()=>{if(!a.current||o.current)return;const w=new tv(a.current,{width:f.width,height:f.height,backgroundColor:f.background.color??"#ffffff",selection:!0,preserveObjectStacking:!0});w.selectionKey=["shiftKey","ctrlKey","metaKey"],o.current=w;const L=new bP(w);e.current=L;const P=()=>{const H=w.getActiveObject();if(H&&H.type==="activeselection"){const G=H.getObjects().map(K=>Z(K)).filter(K=>K!==null);G.length>0?r(G[0],G):r(null)}else r(Z(H))};w.on("selection:created",P),w.on("selection:updated",P),w.on("selection:cleared",()=>r(null)),w.on("object:modified",()=>{P()}),w.on("text:changed",P);const U=()=>{var H,ne;z.current&&!((H=e.current)!=null&&H.isRestoring)&&((ne=j.current)==null||ne.call(j),ee.current())};w.on("object:added",U),w.on("object:removed",U),w.on("object:modified",U),w.on("text:changed",U),w.on("before:transform",()=>{var H,ne;z.current&&!((H=e.current)!=null&&H.isRestoring)&&((ne=e.current)==null||ne.saveState())}),w.on("text:editing:entered",()=>{var H,ne;z.current&&!((H=e.current)!=null&&H.isRestoring)&&((ne=e.current)==null||ne.saveState())});const ie=H=>{q();const ne=N.current.width,G=N.current.height,K=H.getBoundingRect(),le=K.left+K.width/2,Fe=K.top+K.height/2,je=K.left,Oe=K.left+K.width,Ge=K.top,$e=K.top+K.height,rt=ne/2,it=G/2;Math.abs(le-rt)<xn&&O(rt,0,rt,G),Math.abs(Fe-it)<xn&&O(0,it,ne,it),Math.abs(je)<xn&&O(0,0,0,G),Math.abs(Oe-ne)<xn&&O(ne,0,ne,G),Math.abs(Ge)<xn&&O(0,0,ne,0),Math.abs($e-G)<xn&&O(0,G,ne,G);const Tt=w.getObjects().filter(dt=>dt!==H&&!dt._isGuideline&&dt.elementId);for(const dt of Tt){const He=dt.getBoundingRect(),xt=He.left+He.width/2,bt=He.top+He.height/2;Math.abs(le-xt)<xn&&O(xt,0,xt,G),Math.abs(Fe-bt)<xn&&O(0,bt,ne,bt),Math.abs(je-He.left)<xn&&O(He.left,0,He.left,G),Math.abs(Oe-(He.left+He.width))<xn&&O(He.left+He.width,0,He.left+He.width,G),Math.abs(Ge-He.top)<xn&&O(0,He.top,ne,He.top),Math.abs($e-(He.top+He.height))<xn&&O(0,He.top+He.height,ne,He.top+He.height),Math.abs(K.width-He.width)<xn&&(O(He.left,He.top,He.left+He.width,He.top),O(je,Ge,Oe,Ge)),Math.abs(K.height-He.height)<xn&&(O(He.left,He.top,He.left,He.top+He.height),O(je,Ge,je,$e))}};u.current=ie,w.on("object:moving",H=>{const ne=H.target;if(!ne)return;q();const G=N.current.width,K=N.current.height,le=ne.getBoundingRect(),Fe=le.left+le.width/2,je=le.top+le.height/2,Oe=le.left,Ge=le.left+le.width,$e=le.top,rt=le.top+le.height,it=G/2,Tt=K/2,dt=[],He=[],xt=it-Fe;Math.abs(xt)<xn&&dt.push({delta:xt,draw:()=>O(it,0,it,K)});const bt=Tt-je;Math.abs(bt)<xn&&He.push({delta:bt,draw:()=>O(0,Tt,G,Tt)});const Qt=-Oe;Math.abs(Qt)<xn&&dt.push({delta:Qt,draw:()=>O(0,0,0,K)});const Et=G-Ge;Math.abs(Et)<xn&&dt.push({delta:Et,draw:()=>O(G,0,G,K)});const Rt=-$e;Math.abs(Rt)<xn&&He.push({delta:Rt,draw:()=>O(0,0,G,0)});const Lt=K-rt;Math.abs(Lt)<xn&&He.push({delta:Lt,draw:()=>O(0,K,G,K)});const zt=w.getObjects().filter(St=>St!==ne&&!St._isGuideline&&St.elementId);for(const St of zt){const kt=St.getBoundingRect(),ht=kt.left+kt.width/2,$t=kt.top+kt.height/2,Jr=ht-Fe;Math.abs(Jr)<xn&&dt.push({delta:Jr,draw:()=>O(ht,0,ht,K)});const Dr=$t-je;Math.abs(Dr)<xn&&He.push({delta:Dr,draw:()=>O(0,$t,G,$t)});const bn=kt.left-Oe;Math.abs(bn)<xn&&dt.push({delta:bn,draw:()=>O(kt.left,0,kt.left,K)});const wn=kt.left+kt.width-Ge;Math.abs(wn)<xn&&dt.push({delta:wn,draw:()=>O(kt.left+kt.width,0,kt.left+kt.width,K)});const jt=kt.top-$e;Math.abs(jt)<xn&&He.push({delta:jt,draw:()=>O(0,kt.top,G,kt.top)});const Vn=kt.top+kt.height-rt;Math.abs(Vn)<xn&&He.push({delta:Vn,draw:()=>O(0,kt.top+kt.height,G,kt.top+kt.height)})}if(dt.length>0){const St=dt.reduce((kt,ht)=>Math.abs(kt.delta)<=Math.abs(ht.delta)?kt:ht);ne.set("left",(ne.left??0)+St.delta),St.draw();for(const kt of dt)kt!==St&&Math.abs(kt.delta-St.delta)<.5&&kt.draw()}if(He.length>0){const St=He.reduce((kt,ht)=>Math.abs(kt.delta)<=Math.abs(ht.delta)?kt:ht);ne.set("top",(ne.top??0)+St.delta),St.draw();for(const kt of He)kt!==St&&Math.abs(kt.delta-St.delta)<.5&&kt.draw()}const Mt=ne.getBoundingRect(),hr=(St,kt=!1)=>({left:St.left,top:St.top,right:St.left+St.width,bottom:St.top+St.height,cx:St.left+St.width/2,cy:St.top+St.height/2,isTarget:kt}),Ut=hr(Mt,!0),Kt=zt.map(St=>{const kt=St.getBoundingRect();return hr(kt)});if(Kt.length>=2){const St=[...Kt,Ut].sort((ht,$t)=>ht.cx-$t.cx),kt=St.findIndex(ht=>ht.isTarget);if(kt>0&&kt<St.length-1){const ht=St[kt-1],$t=St[kt+1],Jr=Ut.left-ht.right,Dr=$t.left-Ut.right;if(Jr>0&&Dr>0&&Math.abs(Jr-Dr)<Af){const wn=(ht.right+$t.left-Mt.width)/2-Mt.left;if(Math.abs(wn)<Af){ne.set("left",(ne.left??0)+wn),ne.setCoords();const jt=ne.getBoundingRect(),Vn=(ht.cy+(jt.top+jt.height/2))/2,da=(jt.top+jt.height/2+$t.cy)/2;V(ht.right,Vn,jt.left,Vn),V(jt.left+jt.width,da,$t.left,da)}}}for(let ht=0;ht<St.length-1;ht++){const $t=St[ht+1].left-St[ht].right;if(ht+2<St.length){const Jr=St[ht+2].left-St[ht+1].right;if($t>0&&Jr>0&&Math.abs($t-Jr)<Af){const Dr=(St[ht].cy+St[ht+1].cy)/2,bn=(St[ht+1].cy+St[ht+2].cy)/2;V(St[ht].right,Dr,St[ht+1].left,Dr),V(St[ht+1].right,bn,St[ht+2].left,bn)}}}}if(Kt.length>=2){const St=[...Kt,Ut].sort((ht,$t)=>ht.cy-$t.cy),kt=St.findIndex(ht=>ht.isTarget);if(kt>0&&kt<St.length-1){const ht=St[kt-1],$t=St[kt+1],Jr=Ut.top-ht.bottom,Dr=$t.top-Ut.bottom;if(Jr>0&&Dr>0&&Math.abs(Jr-Dr)<Af){const wn=(ht.bottom+$t.top-Mt.height)/2-Mt.top;if(Math.abs(wn)<Af){ne.set("top",(ne.top??0)+wn),ne.setCoords();const jt=ne.getBoundingRect(),Vn=(ht.cx+(jt.left+jt.width/2))/2,da=(jt.left+jt.width/2+$t.cx)/2;V(Vn,ht.bottom,Vn,jt.top),V(da,jt.top+jt.height,da,$t.top)}}}for(let ht=0;ht<St.length-1;ht++){const $t=St[ht+1].top-St[ht].bottom;if(ht+2<St.length){const Jr=St[ht+2].top-St[ht+1].bottom;if($t>0&&Jr>0&&Math.abs($t-Jr)<Af){const Dr=(St[ht].cx+St[ht+1].cx)/2,bn=(St[ht+1].cx+St[ht+2].cx)/2;V(Dr,St[ht].bottom,Dr,St[ht+1].top),V(bn,St[ht+1].bottom,bn,St[ht+2].top)}}}}ne.setCoords()}),w.on("object:scaling",H=>{const ne=H.target;ne&&ie(ne)}),w.on("object:resizing",H=>{const ne=H.target;ne&&ie(ne)}),w.on("mouse:up",()=>{setTimeout(()=>{q(),w.renderAll()},150)}),w.on("mouse:wheel",H=>{const ne=H.e;if(!ne.ctrlKey&&!ne.metaKey)return;ne.preventDefault(),ne.stopPropagation();const G=ne.deltaY>0?-.05:.05;let K=w.getZoom()+G;K=Math.min(X2,Math.max(Y2,K));const le=N.current.width,Fe=N.current.height;w.setZoom(K),w.setDimensions({width:le*K,height:Fe*K}),g(K)});let fe=null;const xe=(H,ne)=>Math.hypot(ne.clientX-H.clientX,ne.clientY-H.clientY),ve=(H,ne)=>({x:(H.clientX+ne.clientX)/2,y:(H.clientY+ne.clientY)/2}),ce=H=>{if(H.touches.length===2){H.preventDefault(),H.stopPropagation(),w.discardActiveObject(),w.renderAll();const[ne,G]=[H.touches[0],H.touches[1]],K=ve(ne,G);fe={dist:xe(ne,G),midX:K.x,midY:K.y,zoom:w.getZoom(),vpt:[...w.viewportTransform||[1,0,0,1,0,0]]}}},De=H=>{if(H.touches.length===2&&fe){H.preventDefault(),H.stopPropagation();const[ne,G]=[H.touches[0],H.touches[1]],K=xe(ne,G),le=ve(ne,G),Fe=K/fe.dist;let je=fe.zoom*Fe;je=Math.min(X2,Math.max(Y2,je));const Oe=le.x-fe.midX,Ge=le.y-fe.midY,$e=[...fe.vpt],rt=je/fe.zoom;$e[0]=je,$e[3]=je,$e[4]=fe.vpt[4]*rt+Oe,$e[5]=fe.vpt[5]*rt+Ge,w.setViewportTransform($e),g(je)}},ue=H=>{if(H.touches.length<2&&fe){const ne=w.getZoom(),G=w.viewportTransform,K=G[4],le=G[5],Fe=N.current.width,je=N.current.height;w.setViewportTransform([ne,0,0,ne,0,0]),w.setDimensions({width:Fe*ne,height:je*ne}),w.renderAll();const Oe=i.current;Oe&&(Oe.scrollLeft-=K,Oe.scrollTop-=le),fe=null}},Ye=w.upperCanvasEl;Ye&&(Ye.addEventListener("touchstart",ce,{passive:!1}),Ye.addEventListener("touchmove",De,{passive:!1}),Ye.addEventListener("touchend",ue));const R=fr.getState().templateConfig;return R.elements.length>0||R.background.type!=="solid"?L.loadTemplate(R).then(()=>{requestAnimationFrame(()=>{z.current=!0})}):requestAnimationFrame(()=>{z.current=!0}),()=>{Ye&&(Ye.removeEventListener("touchstart",ce),Ye.removeEventListener("touchmove",De),Ye.removeEventListener("touchend",ue)),w.dispose(),o.current=null,e.current=null}},[]),Me.useEffect(()=>{const w=o.current;if(!w||B.current||!w.lowerCanvasEl)return;const L=Math.round(w.getWidth()/w.getZoom()),P=Math.round(w.getHeight()/w.getZoom());if(L!==f.width||P!==f.height){const ie=w.getZoom();w.setZoom(1),w.setWidth(f.width),w.setHeight(f.height),w.setZoom(ie)}const U=setTimeout(re,20);return()=>clearTimeout(U)},[f.width,f.height,re]),Me.useEffect(()=>{const w=setTimeout(re,50);return()=>clearTimeout(w)},[]),Me.useEffect(()=>{const w=()=>re();return window.addEventListener("resize",w),()=>window.removeEventListener("resize",w)},[re]);const J=Me.useCallback(()=>{const w=e.current,L=o.current;!w||!L||w.undo().then(()=>{B.current=!0;const P=w.getTemplate();fr.getState().setTemplateConfig(P),g(L.getZoom()),A(),requestAnimationFrame(()=>{B.current=!1})})},[e,A]),ge=Me.useCallback(()=>{const w=e.current,L=o.current;!w||!L||w.redo().then(()=>{B.current=!0;const P=w.getTemplate();fr.getState().setTemplateConfig(P),g(L.getZoom()),A(),requestAnimationFrame(()=>{B.current=!1})})},[e,A]),te=Me.useCallback(()=>{const w=e.current,L=o.current;if(!w||!L)return;const P=L.getActiveObject(),U=P==null?void 0:P.elementId;U&&w.duplicateElement(U).then(()=>{A()})},[e,A]);Me.useEffect(()=>{const w=L=>{var fe,xe,ve;const P=e.current,U=o.current;if(!P||!U)return;const ie=(fe=L.target)==null?void 0:fe.tagName;if(!(ie==="INPUT"||ie==="TEXTAREA"||ie==="SELECT"||(xe=L.target)!=null&&xe.isContentEditable)){if(["ArrowUp","ArrowDown","ArrowLeft","ArrowRight"].includes(L.key)){const ce=U.getActiveObject();if(!ce||ce.isEditing)return;L.preventDefault();const De=L.shiftKey?10:1;switch(L.key){case"ArrowLeft":ce.set("left",(ce.left??0)-De);break;case"ArrowRight":ce.set("left",(ce.left??0)+De);break;case"ArrowUp":ce.set("top",(ce.top??0)-De);break;case"ArrowDown":ce.set("top",(ce.top??0)+De);break}ce.setCoords(),(ve=u.current)==null||ve.call(u,ce),U.renderAll(),h.current&&clearTimeout(h.current),h.current=setTimeout(()=>{var ue;q(),(ue=o.current)==null||ue.renderAll()},400),U.fire("object:modified",{target:ce});return}if(L.key==="Delete"||L.key==="Backspace"){const ce=U.getActiveObject();if(ce&&ce.isEditing)return;const De=ce==null?void 0:ce.elementId;De&&(P.removeElement(De),r(null))}if(L.key==="z"&&(L.ctrlKey||L.metaKey)&&!L.shiftKey&&(L.preventDefault(),J()),L.key==="z"&&(L.ctrlKey||L.metaKey)&&L.shiftKey&&(L.preventDefault(),ge()),L.key==="c"&&(L.ctrlKey||L.metaKey)){const ce=U.getActiveObject();if(ce&&ce.isEditing)return;const De=ce==null?void 0:ce.elementId;De&&(L.preventDefault(),D.current=De)}if(L.key==="v"&&(L.ctrlKey||L.metaKey)){const ce=U.getActiveObject();if(ce&&ce.isEditing)return;if(D.current){L.preventDefault(),P.duplicateElement(D.current).then(De=>{De&&(D.current=De),ee.current()});return}}if(L.key==="d"&&(L.ctrlKey||L.metaKey)){const ce=U.getActiveObject();if(ce&&ce.isEditing)return;const De=ce==null?void 0:ce.elementId;De&&(L.preventDefault(),P.duplicateElement(De).then(()=>{ee.current()}))}}};return window.addEventListener("keydown",w),()=>window.removeEventListener("keydown",w)},[e,r,J,ge]),Me.useEffect(()=>{const w=L=>{var ie,fe,xe;const P=(ie=L.target)==null?void 0:ie.tagName;if(P==="INPUT"||P==="TEXTAREA"||P==="SELECT"||(fe=L.target)!=null&&fe.isContentEditable||D.current)return;const U=(xe=L.clipboardData)==null?void 0:xe.items;if(U){for(let ve=0;ve<U.length;ve++)if(U[ve].type.startsWith("image/")){L.preventDefault();const ce=U[ve].getAsFile();if(!ce)continue;const De=new FileReader;De.onload=()=>{var Ye;const ue=De.result;(Ye=W.current)==null||Ye.call(W,ue)},De.readAsDataURL(ce);break}}};return window.addEventListener("paste",w),()=>window.removeEventListener("paste",w)},[]);const ke=Me.useCallback(w=>{w.preventDefault(),w.dataTransfer.dropEffect="copy"},[]),Y=Me.useCallback(w=>{w.preventDefault();const L=e.current,P=o.current;if(!L||!P)return;const U=w.dataTransfer.getData("text/plain"),ie=w.dataTransfer.getData("application/x-column-type");if(!U)return;const fe=a.current;if(!fe)return;const xe=fe.getBoundingClientRect(),ve=P.getZoom(),ce=(w.clientX-xe.left)/ve,De=(w.clientY-xe.top)/ve;L.addPlaceholder({name:U,type:ie==="image"?"image":"text"},{left:ce,top:De})},[e]);return _.jsxs("div",{className:"flex-1 flex flex-col overflow-hidden",children:[_.jsxs("div",{className:"flex items-center justify-between px-3 py-1.5 border-b border-gray-100 bg-gray-50/50",children:[_.jsxs("div",{className:"flex items-center gap-2",children:[_.jsxs("span",{className:"text-[11px] text-gray-500",children:[f.width,"  ",f.height,"px"]}),_.jsx("div",{className:"w-px h-4 bg-gray-200"}),_.jsx("button",{type:"button",onClick:J,disabled:!y,className:"p-1 rounded hover:bg-gray-200 text-gray-500 transition-colors disabled:opacity-30 disabled:cursor-not-allowed disabled:hover:bg-transparent",title:m("canvasEditor.undo"),children:_.jsx(AE,{className:"w-3.5 h-3.5"})}),_.jsx("button",{type:"button",onClick:ge,disabled:!S,className:"p-1 rounded hover:bg-gray-200 text-gray-500 transition-colors disabled:opacity-30 disabled:cursor-not-allowed disabled:hover:bg-transparent",title:m("canvasEditor.redo"),children:_.jsx(cE,{className:"w-3.5 h-3.5"})}),_.jsx("div",{className:"w-px h-4 bg-gray-200"}),_.jsx("button",{type:"button",onClick:te,className:"p-1 rounded hover:bg-gray-200 text-gray-500 transition-colors",title:m("canvasEditor.duplicate"),children:_.jsx(ip,{className:"w-3.5 h-3.5"})}),_.jsx("button",{type:"button",onClick:()=>{const w=e.current;!w||!D.current||w.duplicateElement(D.current).then(L=>{L&&(D.current=L),A()})},className:"p-1 rounded hover:bg-gray-200 text-gray-500 transition-colors",title:m("canvasEditor.paste"),children:_.jsx(dA,{className:"w-3.5 h-3.5"})})]}),_.jsxs("div",{className:"flex items-center gap-1",children:[_.jsx("button",{type:"button",onClick:()=>ae(-.1),className:"p-1 rounded hover:bg-gray-200 text-gray-500 transition-colors",title:m("canvasEditor.zoomOut"),children:_.jsx(PE,{className:"w-3.5 h-3.5"})}),_.jsxs("span",{className:"text-[11px] text-gray-600 font-medium w-10 text-center",children:[Math.round(x*100),"%"]}),_.jsx("button",{type:"button",onClick:()=>ae(.1),className:"p-1 rounded hover:bg-gray-200 text-gray-500 transition-colors",title:m("canvasEditor.zoomIn"),children:_.jsx(RE,{className:"w-3.5 h-3.5"})}),_.jsx("button",{type:"button",onClick:re,className:"p-1 rounded hover:bg-gray-200 text-gray-500 transition-colors ml-1",title:m("canvasEditor.fitToView"),children:_.jsx(HA,{className:"w-3.5 h-3.5"})})]})]}),_.jsx("div",{ref:i,className:"flex-1 overflow-auto bg-gray-100/50",style:{backgroundImage:"radial-gradient(circle, #d1d5db 1px, transparent 1px)",backgroundSize:"20px 20px",WebkitOverflowScrolling:"touch"},onDragOver:ke,onDrop:Y,children:_.jsx("div",{style:{display:"flex",alignItems:"center",justifyContent:"center",minWidth:"100%",minHeight:"100%",padding:"1.5rem"},children:_.jsx("div",{className:"shadow-lg ring-1 ring-black/5 shrink-0",children:_.jsx("canvas",{ref:a})})})})]})}const CP=["Arial","Archivo","Barlow","Cabin","Crimson Text","DM Sans","Fira Sans","Inter","Josefin Sans","Karla","Lato","Libre Baskerville","Manrope","Merriweather","Montserrat","Mulish","Nunito","Open Sans","Oswald","Playfair Display","Poppins","PT Sans","Quicksand","Raleway","Roboto","Rubik","Source Sans Pro","Space Grotesk","Ubuntu","Work Sans"],t4=new Set;function K2(r){if(r==="Arial"||t4.has(r))return;t4.add(r);const e=encodeURIComponent(r),t=document.createElement("link");t.rel="stylesheet",t.href=`https://fonts.googleapis.com/css2?family=${e}&display=swap`,document.head.appendChild(t)}function nv({value:r,onChange:e}){const[t,n]=Me.useState(!1),[a,i]=Me.useState(""),o=fa(m=>m.t),l=Me.useRef(null),u=Me.useRef(null),h=CP.filter(m=>m.toLowerCase().includes(a.toLowerCase()));Me.useEffect(()=>{t&&h.forEach(K2)},[t,h]),Me.useEffect(()=>{K2(r)},[r]),Me.useEffect(()=>{function m(x){l.current&&!l.current.contains(x.target)&&(n(!1),i(""))}return document.addEventListener("mousedown",m),()=>document.removeEventListener("mousedown",m)},[]),Me.useEffect(()=>{t&&u.current&&u.current.focus()},[t]);const f=Me.useCallback(m=>{K2(m),e(m),n(!1),i("")},[e]);return _.jsxs("div",{ref:l,className:"relative",children:[_.jsxs("button",{type:"button",onClick:()=>n(!t),className:"flex items-center justify-between w-full px-2 py-1.5 text-xs border border-gray-200 rounded-md hover:bg-gray-50 bg-gray-50 focus:outline-none focus:ring-1 focus:ring-indigo-400",children:[_.jsx("span",{className:"truncate",style:{fontFamily:r},children:r}),_.jsx(e0,{className:`w-3.5 h-3.5 text-gray-400 shrink-0 ml-1 transition-transform ${t?"rotate-180":""}`})]}),t&&_.jsxs("div",{className:"absolute z-20 mt-1 w-full bg-white border border-gray-200 rounded-lg shadow-lg overflow-hidden",children:[_.jsxs("div",{className:"flex items-center gap-1.5 px-2 py-1.5 border-b border-gray-100",children:[_.jsx(E3,{className:"w-3.5 h-3.5 text-gray-400 shrink-0"}),_.jsx("input",{ref:u,type:"text",value:a,onChange:m=>i(m.target.value),placeholder:o("fontPicker.searchFonts"),className:"w-full text-xs bg-transparent focus:outline-none placeholder-gray-400"})]}),_.jsx("ul",{className:"max-h-48 overflow-y-auto py-1",children:h.length===0?_.jsx("li",{className:"px-2 py-1.5 text-xs text-gray-400 text-center",children:o("fontPicker.noFonts")}):h.map(m=>_.jsx("li",{children:_.jsx("button",{type:"button",onClick:()=>f(m),className:`w-full text-left px-2 py-1.5 text-xs hover:bg-indigo-50 transition-colors ${m===r?"bg-indigo-50 text-indigo-700":"text-gray-700"}`,style:{fontFamily:m},children:m})},m))})]})]})}const TP=new Set(["show","hide","change_style"]),Hd="__self__";function AP(r){return r.checks&&r.checks.length>0?r.checks:r.columnName&&r.operator?[{columnName:r.columnName,operator:r.operator,value:r.value??"",valueSource:r.valueSource}]:[]}function EP(r,e){return r.columnName===Hd&&e?{...r,columnName:e}:r.valueSource==="column"&&r.value===Hd&&e?{...r,value:e}:r}function r4(r,e){const t=e[r.columnName],n=r.valueSource==="column"?e[r.value]??"":r.value??"";switch(r.operator){case"is_empty":return t==null||t.trim()==="";case"is_not_empty":return t!=null&&t.trim()!=="";case"equals":return t==null?!1:t.toLowerCase()===n.toLowerCase();case"not_equals":return t==null?!0:t.toLowerCase()!==n.toLowerCase();case"contains":return t==null?!1:t.toLowerCase().includes(n.toLowerCase());case"not_contains":return t==null?!0:!t.toLowerCase().includes(n.toLowerCase());default:return!1}}function NP(r,e,t){const n=AP(r).map(i=>EP(i,t));return n.length===0?!1:(r.logic||"and")==="or"?n.some(i=>r4(i,e)):n.every(i=>r4(i,e))}function OP(r,e,t){if(!r||r.length===0)return{visible:!0};for(const n of r)if(TP.has(n.action)&&NP(n,e,t))return DP(n.action,n);return{visible:!0}}function DP(r,e){switch(r){case"hide":return{visible:!1};case"show":return{visible:!0};case"change_style":return{visible:!0,styleOverrides:e.styleOverrides}}}const LP={is_empty:"conditionEditor.isEmpty",is_not_empty:"conditionEditor.isNotEmpty",equals:"conditionEditor.equals",not_equals:"conditionEditor.notEquals",contains:"conditionEditor.contains",not_contains:"conditionEditor.notContains"},FP={show:"conditionEditor.showElement",hide:"conditionEditor.hideElement",change_style:"conditionEditor.changeStyle"},MP=["is_empty","is_not_empty","equals","not_equals","contains","not_contains"],jP=["show","hide","change_style"];function n4(r){return r==="equals"||r==="not_equals"||r==="contains"||r==="not_contains"}function RP(r){return r.checks&&r.checks.length>0?r.checks:r.columnName&&r.operator?[{columnName:r.columnName,operator:r.operator,value:r.value??"",valueSource:r.valueSource}]:[]}function BP(r,e){const t=RP(r);return t.length===0?{checks:[{columnName:e[0]||"",operator:"is_empty",value:""}],logic:r.logic||"and",action:r.action,styleOverrides:r.styleOverrides}:{checks:t,logic:r.logic||"and",action:r.action,styleOverrides:r.styleOverrides}}function PP({check:r,index:e,columns:t,canDelete:n,showSelfColumn:a,onChange:i,onDelete:o}){const l=r.valueSource||"custom",u=fa(f=>f.t),h=f=>{i({...r,...f})};return _.jsxs("div",{className:"rounded border border-gray-100 bg-gray-50 p-2 space-y-1.5",children:[_.jsxs("div",{className:"flex items-center justify-between",children:[_.jsxs("span",{className:"text-[10px] text-gray-400 font-medium",children:[u("conditionEditor.check")," ",e+1]}),n&&_.jsx("button",{type:"button",title:u("conditionEditor.removeCheck"),onClick:o,className:"p-1 min-w-[44px] min-h-[44px] sm:min-w-0 sm:min-h-0 flex items-center justify-center rounded text-gray-400 hover:text-red-500 transition-colors",children:_.jsx(lp,{className:"w-3 h-3"})})]}),_.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-1.5",children:[_.jsxs("select",{value:r.columnName,onChange:f=>h({columnName:f.target.value}),className:"w-full px-2 py-2 sm:py-1 min-h-[44px] sm:min-h-0 text-sm sm:text-xs border border-gray-200 rounded-md bg-white focus:outline-none focus:ring-1 focus:ring-indigo-400",children:[a&&_.jsx("option",{value:Hd,children:u("conditionEditor.selfColumn")}),t.map(f=>_.jsx("option",{value:f,children:f},f))]}),_.jsx("select",{value:r.operator,onChange:f=>{const m=f.target.value,x={operator:m};n4(m)||(x.value="",x.valueSource="custom"),h(x)},className:"w-full px-2 py-2 sm:py-1 min-h-[44px] sm:min-h-0 text-sm sm:text-xs border border-gray-200 rounded-md bg-white focus:outline-none focus:ring-1 focus:ring-indigo-400",children:MP.map(f=>_.jsx("option",{value:f,children:u(LP[f])},f))})]}),n4(r.operator)&&_.jsxs("div",{className:"space-y-1",children:[_.jsxs("div",{className:"flex items-center gap-2",children:[_.jsx("span",{className:"text-[10px] text-gray-500",children:u("conditionEditor.compareTo")}),_.jsxs("div",{className:"flex rounded-md border border-gray-200 overflow-hidden",children:[_.jsx("button",{type:"button",onClick:()=>h({valueSource:"custom",value:""}),className:`px-2 py-0.5 text-[10px] font-medium transition-colors ${l==="custom"?"bg-indigo-100 text-indigo-700":"bg-white text-gray-400 hover:bg-gray-50"}`,children:u("conditionEditor.value")}),_.jsx("button",{type:"button",onClick:()=>h({valueSource:"column",value:t[0]||""}),className:`px-2 py-0.5 text-[10px] font-medium transition-colors ${l==="column"?"bg-indigo-100 text-indigo-700":"bg-white text-gray-400 hover:bg-gray-50"}`,children:u("common.column")})]})]}),l==="column"?_.jsxs("select",{value:r.value,onChange:f=>h({value:f.target.value}),className:"w-full px-2 py-2 sm:py-1 min-h-[44px] sm:min-h-0 text-sm sm:text-xs border border-gray-200 rounded-md bg-white focus:outline-none focus:ring-1 focus:ring-indigo-400",children:[a&&_.jsx("option",{value:Hd,children:u("conditionEditor.selfColumn")}),t.map(f=>_.jsx("option",{value:f,children:f},f))]}):_.jsx("input",{type:"text",value:r.value,onChange:f=>h({value:f.target.value}),placeholder:u("conditionEditor.comparisonValue"),className:"w-full px-2 py-2 sm:py-1 min-h-[44px] sm:min-h-0 text-sm sm:text-xs border border-gray-200 rounded-md bg-white focus:outline-none focus:ring-1 focus:ring-indigo-400"})]})]})}function a4({rule:r,index:e,columns:t,showSelfColumn:n,onChange:a,onDelete:i}){const o=BP(r,t),l=o.checks,u=o.logic||"and",h=fa(y=>y.t),f=y=>{a(e,{...o,...y})},m=(y,v)=>{const S=[...l];S[y]=v,f({checks:S})},x=y=>{f({checks:l.filter((v,S)=>S!==y)})},g=()=>{const y=n?Hd:t[0]||"";f({checks:[...l,{columnName:y,operator:"is_empty",value:""}]})};return _.jsxs("div",{className:"rounded-lg border border-gray-200 bg-white p-2.5 space-y-2",children:[_.jsxs("div",{className:"flex items-center justify-between",children:[_.jsx("span",{className:"inline-flex items-center justify-center w-5 h-5 rounded-full bg-indigo-100 text-indigo-700 text-[10px] font-semibold",children:e+1}),_.jsx("button",{type:"button",title:h("conditionEditor.deleteCondition"),onClick:()=>i(e),className:"p-1.5 min-w-[44px] min-h-[44px] sm:min-w-0 sm:min-h-0 flex items-center justify-center rounded-md text-gray-400 hover:text-red-600 hover:bg-red-50 transition-colors",children:_.jsx(lp,{className:"w-3.5 h-3.5"})})]}),_.jsx("div",{className:"text-[10px] font-semibold uppercase tracking-wider text-gray-400",children:h("conditionEditor.if")}),l.map((y,v)=>_.jsxs("div",{children:[v>0&&_.jsx("div",{className:"flex items-center justify-center py-1",children:_.jsxs("div",{className:"flex rounded-md border border-gray-200 overflow-hidden",children:[_.jsx("button",{type:"button",onClick:()=>f({logic:"and"}),className:`px-3 py-0.5 text-[10px] font-semibold transition-colors ${u==="and"?"bg-indigo-100 text-indigo-700":"bg-white text-gray-400 hover:bg-gray-50"}`,children:h("conditionEditor.and")}),_.jsx("button",{type:"button",onClick:()=>f({logic:"or"}),className:`px-3 py-0.5 text-[10px] font-semibold transition-colors ${u==="or"?"bg-amber-100 text-amber-700":"bg-white text-gray-400 hover:bg-gray-50"}`,children:h("conditionEditor.or")})]})}),_.jsx(PP,{check:y,index:v,columns:t,canDelete:l.length>1,showSelfColumn:n,onChange:S=>m(v,S),onDelete:()=>x(v)})]},v)),_.jsxs("button",{type:"button",onClick:g,className:"flex items-center gap-1 px-2 py-1.5 min-h-[44px] sm:min-h-0 text-[11px] text-indigo-600 hover:bg-indigo-50 rounded transition-colors w-full justify-center border border-dashed border-indigo-200",children:[_.jsx(kx,{className:"w-3 h-3"}),h("conditionEditor.addCheck")]}),_.jsx("div",{className:"text-[10px] font-semibold uppercase tracking-wider text-gray-400 pt-1 border-t border-gray-100",children:h("conditionEditor.then")}),_.jsx("select",{value:o.action,onChange:y=>f({action:y.target.value}),className:"w-full px-2 py-2 sm:py-1 min-h-[44px] sm:min-h-0 text-sm sm:text-xs border border-gray-200 rounded-md bg-gray-50 focus:outline-none focus:ring-1 focus:ring-indigo-400",children:jP.map(y=>_.jsx("option",{value:y,children:h(FP[y])},y))})]})}function i4({overrides:r,elementType:e,onChange:t}){const n=e==="text"||e==="placeholder-text",a=e==="image"||e==="placeholder-image",i=fa(re=>re.t),[o,l]=Me.useState(!1),[u,h]=Me.useState(r.fill||"#000000"),f=Me.useRef(null),m=Me.useRef(null),[x,g]=Me.useState(!1),[y,v]=Me.useState(r.textBgColor||"#000000"),S=Me.useRef(null),k=Me.useRef(null),A=Me.useRef(r.fill);r.fill!==A.current&&(A.current=r.fill,h(r.fill||"#000000"));const N=Me.useRef(r.textBgColor);r.textBgColor!==N.current&&(N.current=r.textBgColor,v(r.textBgColor||"#000000")),Me.useEffect(()=>{if(!o)return;const re=J=>{f.current&&!f.current.contains(J.target)&&l(!1)},ae=setTimeout(()=>{document.addEventListener("mousedown",re),document.addEventListener("touchstart",re)},10);return()=>{clearTimeout(ae),document.removeEventListener("mousedown",re),document.removeEventListener("touchstart",re)}},[o]),Me.useEffect(()=>{if(!x)return;const re=J=>{S.current&&!S.current.contains(J.target)&&g(!1)},ae=setTimeout(()=>{document.addEventListener("mousedown",re),document.addEventListener("touchstart",re)},10);return()=>{clearTimeout(ae),document.removeEventListener("mousedown",re),document.removeEventListener("touchstart",re)}},[x]);const j=re=>{t({...r,...re})},W=re=>{const ae={...r};delete ae[re],t(ae)},[ee,z]=Me.useState(String(r.fontSize??"")),B=Me.useRef(r.fontSize);r.fontSize!==B.current&&(B.current=r.fontSize,z(String(r.fontSize??"")));const D=()=>{const re=Number(ee);if(ee===""||isNaN(re)){z(String(r.fontSize??""));return}j({fontSize:re})},[Z,q]=Me.useState(String(r.borderRadius??"")),O=Me.useRef(r.borderRadius);r.borderRadius!==O.current&&(O.current=r.borderRadius,q(String(r.borderRadius??"")));const V=()=>{const re=Number(Z);if(Z===""||isNaN(re)){q(String(r.borderRadius??""));return}j({borderRadius:re})},F=re=>`p-1.5 min-w-[44px] min-h-[44px] sm:min-w-0 sm:min-h-0 flex items-center justify-center rounded-md border transition-colors ${re?"bg-indigo-100 border-indigo-300 text-indigo-700":"bg-white border-gray-200 text-gray-500 hover:bg-gray-50"}`;return _.jsxs("div",{className:"space-y-2 pl-2 border-l-2 border-indigo-200",children:[_.jsx("span",{className:"text-[10px] font-medium uppercase tracking-wider text-gray-400",children:i("styleOverrides.title")}),_.jsxs("div",{children:[_.jsx("span",{className:"text-xs text-gray-500",children:i("styleOverrides.fillColor")}),_.jsxs("div",{className:"relative mt-0.5",ref:f,children:[_.jsxs("button",{type:"button",onClick:()=>l(!o),className:"flex items-center gap-2 w-full px-2 py-2 min-h-[44px] sm:min-h-0 sm:py-1.5 text-xs border border-gray-200 rounded-md hover:bg-gray-50",children:[_.jsx("span",{className:"w-5 h-5 sm:w-4 sm:h-4 rounded border border-gray-300",style:{backgroundColor:r.fill||"#000000"}}),_.jsx("span",{className:"text-gray-600",children:r.fill||i("properties.notSet")})]}),o&&_.jsxs("div",{className:"absolute z-10 mt-1 p-3 sm:p-2 bg-white border border-gray-200 rounded-lg shadow-lg",children:[_.jsx(yu,{color:u,onChange:re=>{h(re),m.current&&clearTimeout(m.current),m.current=setTimeout(()=>j({fill:re}),60)},style:{width:"100%",height:180}}),_.jsx("input",{type:"text",value:u,onChange:re=>{h(re.target.value),j({fill:re.target.value})},className:"w-full mt-2 px-2 py-1.5 text-xs border border-gray-200 rounded-md focus:outline-none focus:ring-1 focus:ring-indigo-400"})]})]})]}),n&&_.jsxs(_.Fragment,{children:[_.jsxs("div",{children:[_.jsx("span",{className:"text-xs text-gray-500",children:i("styleOverrides.fontFamily")}),_.jsxs("div",{className:"mt-0.5",children:[_.jsx(nv,{value:r.fontFamily||"",onChange:re=>j({fontFamily:re})}),r.fontFamily&&_.jsx("button",{type:"button",onClick:()=>W("fontFamily"),className:"text-[10px] text-gray-400 hover:text-red-500 mt-0.5",children:i("styleOverrides.reset")})]})]}),_.jsxs("label",{className:"flex items-center gap-2",children:[_.jsx("span",{className:"text-xs text-gray-500 w-12 shrink-0",children:i("properties.size")}),_.jsx("input",{type:"number",value:ee,onChange:re=>z(re.target.value),onBlur:D,onKeyDown:re=>{re.key==="Enter"&&(D(),re.target.blur())},min:1,max:500,placeholder:"px",className:"w-full px-2 py-2 sm:py-1 min-h-[44px] sm:min-h-0 text-sm sm:text-xs border border-gray-200 rounded-md focus:outline-none focus:ring-1 focus:ring-indigo-400 bg-gray-50"})]}),_.jsxs("div",{className:"flex gap-1.5",children:[_.jsx("button",{type:"button",title:"Bold",onClick:()=>j({fontWeight:r.fontWeight==="bold"?"normal":"bold"}),className:F(r.fontWeight==="bold"),children:_.jsx(wx,{className:"w-3.5 h-3.5"})}),_.jsx("button",{type:"button",title:"Italic",onClick:()=>j({fontStyle:r.fontStyle==="italic"?"normal":"italic"}),className:F(r.fontStyle==="italic"),children:_.jsx(Sx,{className:"w-3.5 h-3.5"})}),_.jsx("button",{type:"button",title:"Underline",onClick:()=>j({underline:!r.underline}),className:F(r.underline===!0),children:_.jsx(Cx,{className:"w-3.5 h-3.5"})})]}),_.jsxs("div",{children:[_.jsx("span",{className:"text-xs text-gray-500",children:i("properties.alignment")}),_.jsxs("div",{className:"flex gap-1.5 mt-0.5",children:[_.jsx("button",{type:"button",title:"Left",onClick:()=>j({textAlign:"left"}),className:F(r.textAlign==="left"),children:_.jsx(yx,{className:"w-3.5 h-3.5"})}),_.jsx("button",{type:"button",title:"Center",onClick:()=>j({textAlign:"center"}),className:F(r.textAlign==="center"),children:_.jsx(vx,{className:"w-3.5 h-3.5"})}),_.jsx("button",{type:"button",title:"Right",onClick:()=>j({textAlign:"right"}),className:F(r.textAlign==="right"),children:_.jsx(bx,{className:"w-3.5 h-3.5"})})]})]}),_.jsxs("div",{children:[_.jsx("span",{className:"text-xs text-gray-500",children:i("properties.textBackground")}),_.jsxs("div",{className:"relative mt-0.5",ref:S,children:[_.jsxs("button",{type:"button",onClick:()=>g(!x),className:"flex items-center gap-2 w-full px-2 py-2 min-h-[44px] sm:min-h-0 sm:py-1.5 text-xs border border-gray-200 rounded-md hover:bg-gray-50",children:[_.jsx("span",{className:"w-5 h-5 sm:w-4 sm:h-4 rounded border border-gray-300",style:{backgroundColor:r.textBgColor||"#000000"}}),_.jsx("span",{className:"text-gray-600",children:r.textBgColor||i("properties.notSet")})]}),x&&_.jsxs("div",{className:"absolute z-10 mt-1 p-3 sm:p-2 bg-white border border-gray-200 rounded-lg shadow-lg",children:[_.jsx(yu,{color:y,onChange:re=>{v(re),k.current&&clearTimeout(k.current),k.current=setTimeout(()=>j({textBgColor:re}),60)},style:{width:"100%",height:180}}),_.jsx("input",{type:"text",value:y,onChange:re=>{v(re.target.value),j({textBgColor:re.target.value})},className:"w-full mt-2 px-2 py-1.5 text-xs border border-gray-200 rounded-md focus:outline-none focus:ring-1 focus:ring-indigo-400"})]})]})]}),_.jsxs("div",{className:"flex items-center gap-2",children:[_.jsx("span",{className:"text-xs text-gray-500 w-12 shrink-0",children:i("styleOverrides.bgOpacity")}),_.jsx("input",{type:"range",min:0,max:1,step:.05,value:r.textBgOpacity??0,onChange:re=>j({textBgOpacity:Number(re.target.value)}),className:"flex-1 h-1.5 bg-gray-200 rounded-lg appearance-none cursor-pointer accent-indigo-500"}),_.jsxs("span",{className:"text-[10px] text-gray-500 font-mono w-8 text-right",children:[Math.round((r.textBgOpacity??0)*100),"%"]})]}),_.jsxs("div",{className:"flex items-center gap-2",children:[_.jsx("span",{className:"text-xs text-gray-500 w-12 shrink-0",children:i("styleOverrides.bgRadius")}),_.jsx("input",{type:"range",min:0,max:30,step:1,value:r.textBgRadius??0,onChange:re=>j({textBgRadius:Number(re.target.value)}),className:"flex-1 h-1.5 bg-gray-200 rounded-lg appearance-none cursor-pointer accent-indigo-500"}),_.jsxs("span",{className:"text-[10px] text-gray-500 font-mono w-8 text-right",children:[r.textBgRadius??0,"px"]})]})]}),a&&_.jsxs("label",{className:"flex items-center gap-2",children:[_.jsx("span",{className:"text-xs text-gray-500 w-12 shrink-0",children:i("properties.radius")}),_.jsx("input",{type:"number",value:Z,onChange:re=>q(re.target.value),onBlur:V,onKeyDown:re=>{re.key==="Enter"&&(V(),re.target.blur())},min:0,placeholder:"px",className:"w-full px-2 py-2 sm:py-1 min-h-[44px] sm:min-h-0 text-sm sm:text-xs border border-gray-200 rounded-md focus:outline-none focus:ring-1 focus:ring-indigo-400 bg-gray-50"})]})]})}function fu({label:r,value:e,onChange:t,min:n,max:a,step:i=1}){const[o,l]=Me.useState(String(Math.round(e*100)/100)),u=Me.useRef(e);Math.round(e*100)/100!==Math.round(u.current*100)/100&&(u.current=e,l(String(Math.round(e*100)/100)));const h=()=>{const f=Number(o);if(o===""||isNaN(f)){l(String(Math.round(e*100)/100));return}t(f)};return _.jsxs("label",{className:"flex items-center gap-2",children:[_.jsx("span",{className:"text-xs text-gray-500 w-8 shrink-0",children:r}),_.jsx("input",{type:"number",value:o,onChange:f=>l(f.target.value),onBlur:h,onKeyDown:f=>{f.key==="Enter"&&(h(),f.target.blur())},min:n,max:a,step:i,className:"w-full px-2 py-2 sm:py-1 min-h-[44px] sm:min-h-0 text-sm sm:text-xs border border-gray-200 rounded-md focus:outline-none focus:ring-1 focus:ring-indigo-400 bg-gray-50"})]})}function Ns({icon:r,label:e}){return _.jsxs("div",{className:"flex items-center gap-1.5 mb-2",children:[_.jsx(r,{className:"w-3.5 h-3.5 text-indigo-500"}),_.jsx("span",{className:"text-xs font-semibold text-gray-700",children:e})]})}function to({active:r,onClick:e,children:t,title:n}){return _.jsx("button",{type:"button",title:n,onClick:e,className:`p-1.5 sm:p-1.5 min-w-[44px] min-h-[44px] sm:min-w-0 sm:min-h-0 flex items-center justify-center rounded-md border transition-colors ${r?"bg-indigo-100 border-indigo-300 text-indigo-700":"bg-white border-gray-200 text-gray-500 hover:bg-gray-50"}`,children:t})}function s4({selectedElement:r,selectedElements:e,onUpdateElement:t,onDeleteElement:n,onBringToFront:a,onSendToBack:i,onCropImage:o,columns:l,onUpdateConditions:u,onDuplicateWithOpposite:h}){var xe,ve;const f=fa(ce=>ce.t),[m,x]=Me.useState(!1),g=Me.useRef(null),[y,v]=Me.useState(!1),[S,k]=Me.useState(!1),A=Me.useRef(null),[N,j]=Me.useState((r==null?void 0:r.properties.textBgColor)||"#000000"),W=Me.useRef(null),ee=Me.useRef(r==null?void 0:r.properties.textBgColor);(r==null?void 0:r.properties.textBgColor)!==ee.current&&(ee.current=r==null?void 0:r.properties.textBgColor,j((r==null?void 0:r.properties.textBgColor)||"#000000"));const z=e&&e.length>1?e:null,B=(()=>{if(z){const ce=z.map(De=>De.properties.fill);return ce.every(De=>De===ce[0])?ce[0]:void 0}return r==null?void 0:r.properties.fill})(),[D,Z]=Me.useState(B||"#000000"),q=Me.useRef(null),O=Me.useRef(B);B!==O.current&&(O.current=B,Z(B||"#000000"));const V=Me.useCallback(ce=>{r&&t(r.id,{fill:ce})},[r,t]),F=Me.useCallback(ce=>{Z(ce),q.current&&clearTimeout(q.current),q.current=setTimeout(()=>V(ce),60)},[V]);Me.useEffect(()=>{if(!m)return;const ce=ue=>{g.current&&!g.current.contains(ue.target)&&x(!1)},De=setTimeout(()=>{document.addEventListener("mousedown",ce),document.addEventListener("touchstart",ce)},10);return()=>{clearTimeout(De),document.removeEventListener("mousedown",ce),document.removeEventListener("touchstart",ce)}},[m]);const[re,ae]=Me.useState(!1),J=Me.useRef(null),[ge,te]=Me.useState("#000000"),ke=Me.useRef(null);if(Me.useEffect(()=>{if(!S)return;const ce=ue=>{A.current&&!A.current.contains(ue.target)&&k(!1)},De=setTimeout(()=>{document.addEventListener("mousedown",ce),document.addEventListener("touchstart",ce)},10);return()=>{clearTimeout(De),document.removeEventListener("mousedown",ce),document.removeEventListener("touchstart",ce)}},[S]),Me.useEffect(()=>{if(!re)return;const ce=ue=>{J.current&&!J.current.contains(ue.target)&&ae(!1)},De=setTimeout(()=>{document.addEventListener("mousedown",ce),document.addEventListener("touchstart",ce)},10);return()=>{clearTimeout(De),document.removeEventListener("mousedown",ce),document.removeEventListener("touchstart",ce)}},[re]),!r&&(!e||e.length===0))return _.jsx("div",{className:"flex-1 flex items-center justify-center p-4",children:_.jsx("p",{className:"text-xs text-gray-400 text-center",children:f("properties.selectElement")})});if(z){const ce=z.every(He=>He.type==="text"||He.type==="placeholder-text"),ue=z.some(He=>He.type==="text"||He.type==="placeholder-text")||z.some(He=>(He.type==="image"||He.type==="placeholder-image")&&He.properties.fill!==void 0),Ye=He=>{const xt=z.map(bt=>bt.properties[He]);return xt.every(bt=>bt===xt[0])?xt[0]:void 0},R=He=>{for(const xt of z)t(xt.id,He)},H=()=>{for(const He of z)n(He.id)},ne=z.every(He=>He.type==="image"||He.type==="placeholder-image"),G=Ye("fill"),K=Ye("fontFamily"),le=Ye("fontSize"),Fe=Ye("fontWeight"),je=Ye("fontStyle"),Oe=Ye("underline"),Ge=Ye("textAlign"),$e=Ye("angle"),rt=Ye("textBgColor"),it=Ye("textBgOpacity"),Tt=Ye("textBgRadius"),dt=Ye("borderRadius");return _.jsxs("div",{className:"flex-1 overflow-y-auto p-3 space-y-4 text-sm",children:[_.jsx("div",{className:"flex items-center gap-2",children:_.jsxs("span",{className:"text-[10px] font-medium uppercase tracking-wider text-indigo-500",children:[z.length," ",f("properties.elementsSelected")]})}),_.jsxs("section",{children:[_.jsx(Ns,{icon:Xb,label:f("properties.rotation")}),_.jsx(fu,{label:"",value:$e??0,min:0,max:360,onChange:He=>R({angle:He})}),$e===void 0&&_.jsx("p",{className:"text-[10px] text-gray-400 mt-0.5",children:f("properties.mixedAngles")})]}),ce&&_.jsxs(_.Fragment,{children:[_.jsxs("section",{children:[_.jsx(Ns,{icon:xh,label:f("properties.font")}),_.jsx(nv,{value:K||"Arial",onChange:He=>R({fontFamily:He})}),!K&&_.jsx("p",{className:"text-[10px] text-gray-400 mt-0.5",children:f("properties.mixedFonts")})]}),_.jsxs("section",{children:[_.jsx("div",{className:"flex items-center gap-1.5 mb-2",children:_.jsx("span",{className:"text-xs font-semibold text-gray-700",children:f("properties.size")})}),_.jsx(fu,{label:"px",value:le||16,min:1,max:500,onChange:He=>R({fontSize:He})}),!le&&_.jsx("p",{className:"text-[10px] text-gray-400 mt-0.5",children:f("properties.mixedSizes")})]}),_.jsxs("section",{children:[_.jsx("div",{className:"flex items-center gap-1.5 mb-2",children:_.jsx("span",{className:"text-xs font-semibold text-gray-700",children:f("properties.style")})}),_.jsxs("div",{className:"flex gap-1.5",children:[_.jsx(Cl,{text:f("properties.toggleBold"),children:_.jsx(to,{active:Fe==="bold",onClick:()=>R({fontWeight:Fe==="bold"?"normal":"bold"}),title:f("properties.toggleBold"),children:_.jsx(wx,{className:"w-3.5 h-3.5"})})}),_.jsx(Cl,{text:f("properties.toggleItalic"),children:_.jsx(to,{active:je==="italic",onClick:()=>R({fontStyle:je==="italic"?"normal":"italic"}),title:f("properties.toggleItalic"),children:_.jsx(Sx,{className:"w-3.5 h-3.5"})})}),_.jsx(Cl,{text:f("properties.toggleUnderline"),children:_.jsx(to,{active:Oe===!0,onClick:()=>R({underline:!Oe}),title:f("properties.toggleUnderline"),children:_.jsx(Cx,{className:"w-3.5 h-3.5"})})})]})]}),_.jsxs("section",{children:[_.jsx("div",{className:"flex items-center gap-1.5 mb-2",children:_.jsx("span",{className:"text-xs font-semibold text-gray-700",children:f("properties.alignment")})}),_.jsxs("div",{className:"flex gap-1.5",children:[_.jsx(to,{active:Ge==="left",onClick:()=>R({textAlign:"left"}),title:"Align Left",children:_.jsx(yx,{className:"w-3.5 h-3.5"})}),_.jsx(to,{active:Ge==="center",onClick:()=>R({textAlign:"center"}),title:"Align Center",children:_.jsx(vx,{className:"w-3.5 h-3.5"})}),_.jsx(to,{active:Ge==="right",onClick:()=>R({textAlign:"right"}),title:"Align Right",children:_.jsx(bx,{className:"w-3.5 h-3.5"})})]})]}),_.jsxs("section",{children:[_.jsx(Ns,{icon:ch,label:f("properties.textBackground")}),_.jsxs("div",{className:"space-y-2",children:[_.jsxs("div",{className:"relative",ref:J,children:[_.jsxs("div",{className:"flex items-center gap-2",children:[_.jsx("input",{type:"checkbox",checked:it!==void 0?(it??0)>0:z.some(He=>(He.properties.textBgOpacity??0)>0),onChange:He=>{He.target.checked?R({textBgColor:ge||"#000000",textBgOpacity:.5,textBgRadius:Tt??0}):R({textBgOpacity:0})},className:"w-4 h-4 rounded border-gray-300 text-indigo-600 focus:ring-indigo-500"}),_.jsxs("button",{type:"button",onClick:()=>ae(!re),className:"flex items-center gap-2 flex-1 px-2 py-2 min-h-[44px] sm:min-h-0 sm:py-1.5 text-xs border border-gray-200 rounded-md hover:bg-gray-50",children:[_.jsx("span",{className:"w-5 h-5 sm:w-4 sm:h-4 rounded border border-gray-300",style:{backgroundColor:rt||ge}}),_.jsx("span",{className:"text-gray-600",children:rt||f("properties.mixed")})]})]}),re&&_.jsxs("div",{className:"absolute z-10 mt-1 p-3 sm:p-2 bg-white border border-gray-200 rounded-lg shadow-lg",children:[_.jsx(yu,{color:ge,onChange:He=>{te(He),ke.current&&clearTimeout(ke.current),ke.current=setTimeout(()=>R({textBgColor:He}),60)},style:{width:"100%",height:180}}),_.jsx("input",{type:"text",value:ge,onChange:He=>{te(He.target.value),R({textBgColor:He.target.value})},className:"w-full mt-2 px-2 py-1.5 text-xs border border-gray-200 rounded-md focus:outline-none focus:ring-1 focus:ring-indigo-400"})]})]}),!rt&&_.jsx("p",{className:"text-[10px] text-gray-400 mt-0.5",children:f("properties.mixedBgColors")}),_.jsxs("div",{className:"flex items-center gap-2",children:[_.jsx("span",{className:"text-[10px] text-gray-500 w-14",children:f("properties.opacity")}),_.jsx("input",{type:"range",min:0,max:1,step:.05,value:it??0,onChange:He=>R({textBgOpacity:Number(He.target.value),textBgColor:rt||ge}),className:"flex-1 h-1.5 bg-gray-200 rounded-lg appearance-none cursor-pointer accent-indigo-500"}),_.jsxs("span",{className:"text-[10px] text-gray-500 font-mono w-8 text-right",children:[Math.round((it??0)*100),"%"]})]}),it===void 0&&_.jsx("p",{className:"text-[10px] text-gray-400 mt-0.5",children:f("properties.mixedOpacities")}),_.jsxs("div",{className:"flex items-center gap-2",children:[_.jsx("span",{className:"text-[10px] text-gray-500 w-14",children:f("properties.radius")}),_.jsx("input",{type:"range",min:0,max:30,step:1,value:Tt??0,onChange:He=>R({textBgRadius:Number(He.target.value)}),className:"flex-1 h-1.5 bg-gray-200 rounded-lg appearance-none cursor-pointer accent-indigo-500"}),_.jsxs("span",{className:"text-[10px] text-gray-500 font-mono w-8 text-right",children:[Tt??0,"px"]})]}),Tt===void 0&&_.jsx("p",{className:"text-[10px] text-gray-400 mt-0.5",children:f("properties.mixedRadii")})]})]})]}),ne&&_.jsxs("section",{children:[_.jsx(Ns,{icon:Gb,label:f("properties.borderRadius")}),_.jsxs("div",{className:"flex items-center gap-2",children:[_.jsx("input",{type:"range",min:0,max:200,step:1,value:dt??0,onChange:He=>R({borderRadius:Number(He.target.value)}),className:"flex-1 h-1.5 bg-gray-200 rounded-lg appearance-none cursor-pointer accent-indigo-500"}),_.jsxs("span",{className:"text-[10px] text-gray-500 font-mono w-8 text-right",children:[dt??0,"px"]})]}),dt===void 0&&_.jsx("p",{className:"text-[10px] text-gray-400 mt-0.5",children:f("properties.mixedRadii")}),_.jsxs("div",{className:"flex gap-1.5 mt-1.5",children:[_.jsx("button",{type:"button",onClick:()=>R({borderRadius:0}),className:`flex-1 py-2 min-h-[44px] sm:min-h-0 sm:py-1 text-[11px] sm:text-[10px] font-medium rounded border transition-colors ${dt===0?"bg-indigo-50 border-indigo-200 text-indigo-700":"bg-white border-gray-200 text-gray-500 hover:bg-gray-50"}`,children:f("properties.sharp")}),_.jsx("button",{type:"button",onClick:()=>R({borderRadius:12}),className:`flex-1 py-2 min-h-[44px] sm:min-h-0 sm:py-1 text-[11px] sm:text-[10px] font-medium rounded border transition-colors ${dt===12?"bg-indigo-50 border-indigo-200 text-indigo-700":"bg-white border-gray-200 text-gray-500 hover:bg-gray-50"}`,children:f("properties.rounded")})]})]}),ue&&_.jsxs("section",{children:[_.jsx(Ns,{icon:ch,label:f("properties.color")}),_.jsxs("div",{className:"relative",ref:g,children:[_.jsxs("button",{type:"button",onClick:()=>x(!m),className:"flex items-center gap-2 w-full px-2 py-2 min-h-[44px] sm:min-h-0 sm:py-1.5 text-xs border border-gray-200 rounded-md hover:bg-gray-50",children:[_.jsx("span",{className:"w-5 h-5 sm:w-4 sm:h-4 rounded border border-gray-300",style:{backgroundColor:G||"#000000"}}),_.jsx("span",{className:"text-gray-600",children:G||f("properties.mixed")})]}),m&&_.jsxs("div",{className:"absolute z-10 mt-1 p-3 sm:p-2 bg-white border border-gray-200 rounded-lg shadow-lg",children:[_.jsx(yu,{color:D,onChange:He=>{Z(He),q.current&&clearTimeout(q.current),q.current=setTimeout(()=>R({fill:He}),60)},style:{width:"100%",height:180}}),_.jsx("input",{type:"text",value:D,onChange:He=>{Z(He.target.value),R({fill:He.target.value})},className:"w-full mt-2 px-2 py-1.5 text-xs border border-gray-200 rounded-md focus:outline-none focus:ring-1 focus:ring-indigo-400"})]})]}),!G&&_.jsx("p",{className:"text-[10px] text-gray-400 mt-0.5",children:f("properties.mixedColors")})]}),l&&u&&_.jsxs("section",{className:"border-t border-gray-100 pt-2",children:[_.jsxs("button",{type:"button",onClick:()=>v(!y),className:"flex items-center gap-1.5 w-full py-1 text-left",children:[y?_.jsx(e0,{className:"w-3.5 h-3.5 text-gray-400"}):_.jsx(ap,{className:"w-3.5 h-3.5 text-gray-400"}),_.jsx($b,{className:"w-3.5 h-3.5 text-indigo-500"}),_.jsx("span",{className:"text-xs font-semibold text-gray-700",children:f("properties.conditions")})]}),y&&(()=>{const He=z.map(Lt=>Lt.conditions??[]),xt=[];if(He[0])for(const Lt of He[0]){const zt=JSON.stringify(Lt);He.every(Mt=>Mt.some(hr=>JSON.stringify(hr)===zt))&&xt.push(Lt)}const bt=z.some(Lt=>(Lt.conditions??[]).length>xt.length),Qt=(Lt,zt)=>{const Mt=JSON.stringify(xt[Lt]);for(const hr of z){const Ut=[...hr.conditions??[]],Kt=Ut.findIndex(St=>JSON.stringify(St)===Mt);Kt>=0&&(Ut[Kt]=zt,u(hr.id,Ut))}},Et=Lt=>{const zt=JSON.stringify(xt[Lt]);for(const Mt of z){const hr=(Mt.conditions??[]).filter(Ut=>JSON.stringify(Ut)!==zt);u(Mt.id,hr)}},Rt=Lt=>{for(const zt of z)u(zt.id,[...zt.conditions??[],Lt])};return _.jsxs("div",{className:"mt-2 space-y-2",children:[xt.length>0&&_.jsxs("p",{className:"text-[10px] text-gray-500 font-medium",children:[f("properties.conditions")," (",xt.length,")"]}),xt.map((Lt,zt)=>_.jsxs("div",{children:[_.jsx(a4,{rule:Lt,index:zt,columns:l,elementType:z[0].type,showSelfColumn:!0,onChange:(Mt,hr)=>Qt(Mt,hr),onDelete:Mt=>Et(Mt)}),Lt.action==="change_style"&&_.jsx("div",{className:"mt-1",children:_.jsx(i4,{overrides:Lt.styleOverrides??{},elementType:z[0].type,onChange:Mt=>{Qt(zt,{...Lt,styleOverrides:Mt})}})})]},`shared-${zt}`)),bt&&_.jsx("p",{className:"text-[10px] text-gray-400 italic",children:f("properties.someIndividual")}),_.jsxs("button",{type:"button",onClick:()=>{Rt({checks:[{columnName:"__self__",operator:"is_empty",value:""}],logic:"and",action:"hide"})},className:"flex items-center justify-center gap-1.5 w-full px-3 py-2.5 min-h-[44px] sm:min-h-0 sm:py-2 text-xs font-medium text-indigo-700 bg-indigo-50 border border-indigo-200 rounded-md hover:bg-indigo-100 transition-colors",children:[_.jsx(kx,{className:"w-3.5 h-3.5"}),f("properties.addConditionToAll")]}),xt.some(Lt=>Lt.action==="hide")&&h&&_.jsxs("button",{type:"button",onClick:()=>{for(const Lt of z)h(Lt.id)},className:"flex items-center justify-center gap-1.5 w-full px-3 py-2.5 min-h-[44px] sm:min-h-0 sm:py-2 text-xs font-medium text-gray-600 bg-gray-50 border border-gray-200 rounded-md hover:bg-gray-100 transition-colors",children:[_.jsx(ip,{className:"w-3.5 h-3.5"}),f("properties.duplicateAllOpposite")]}),_.jsx("p",{className:"text-[10px] text-gray-400 leading-relaxed",children:f("properties.selfColumnHint",{column:"{column}"})})]})})()]}),_.jsx("section",{className:"pt-2 border-t border-gray-100",children:_.jsxs("button",{type:"button",onClick:H,className:"flex items-center justify-center gap-1.5 w-full px-3 py-2.5 min-h-[44px] sm:min-h-0 sm:py-2 text-xs font-medium text-red-600 bg-red-50 border border-red-200 rounded-md hover:bg-red-100 transition-colors",children:[_.jsx(lp,{className:"w-4 h-4 sm:w-3.5 sm:h-3.5"}),f("properties.deleteElements",{count:String(z.length)})]})})]})}if(!r)return _.jsx("div",{className:"flex-1 flex items-center justify-center p-4",children:_.jsx("p",{className:"text-xs text-gray-400 text-center",children:f("properties.selectElement")})});const{id:Y,type:w,properties:L}=r,P=w==="text"||w==="placeholder-text",U=w==="image"||w==="placeholder-image",ie=U&&L.fill!==void 0,fe=ce=>{t(Y,ce)};return _.jsxs("div",{className:"flex-1 overflow-y-auto p-3 space-y-4 text-sm",children:[_.jsx("div",{className:"flex items-center gap-2",children:_.jsx("span",{className:"text-[10px] font-medium uppercase tracking-wider text-gray-400",children:w.replace("-"," ")})}),_.jsxs("section",{children:[_.jsx(Ns,{icon:$A,label:f("properties.position")}),_.jsxs("div",{className:"grid grid-cols-2 gap-2",children:[_.jsx(fu,{label:"X",value:L.left,onChange:ce=>fe({left:ce})}),_.jsx(fu,{label:"Y",value:L.top,onChange:ce=>fe({top:ce})})]})]}),_.jsxs("section",{children:[_.jsx(Ns,{icon:A3,label:f("properties.size")}),_.jsxs("div",{className:"grid grid-cols-2 gap-2",children:[_.jsx(fu,{label:"W",value:L.width*(L.scaleX||1),min:1,onChange:ce=>fe({width:ce,scaleX:1})}),_.jsx(fu,{label:"H",value:L.height*(L.scaleY||1),min:1,onChange:ce=>fe({height:ce,scaleY:1})})]})]}),_.jsxs("section",{children:[_.jsx(Ns,{icon:Xb,label:f("properties.rotation")}),_.jsx(fu,{label:"",value:L.angle,min:0,max:360,onChange:ce=>fe({angle:ce})})]}),U&&_.jsxs("section",{children:[_.jsx(Ns,{icon:Gb,label:f("properties.borderRadius")}),_.jsxs("div",{className:"flex items-center gap-2",children:[_.jsx("input",{type:"range",min:0,max:Math.round(Math.min(L.width*(L.scaleX||1),L.height*(L.scaleY||1))/2),step:1,value:L.borderRadius??0,onChange:ce=>fe({borderRadius:Number(ce.target.value)}),className:"flex-1 h-1.5 bg-gray-200 rounded-lg appearance-none cursor-pointer accent-indigo-500"}),_.jsxs("span",{className:"text-[10px] text-gray-500 font-mono w-8 text-right",children:[L.borderRadius??0,"px"]})]}),_.jsxs("div",{className:"flex gap-1.5 mt-1.5",children:[_.jsx("button",{type:"button",onClick:()=>fe({borderRadius:0}),className:`flex-1 py-2 min-h-[44px] sm:min-h-0 sm:py-1 text-[11px] sm:text-[10px] font-medium rounded border transition-colors ${(L.borderRadius??0)===0?"bg-indigo-50 border-indigo-200 text-indigo-700":"bg-white border-gray-200 text-gray-500 hover:bg-gray-50"}`,children:f("properties.sharp")}),_.jsx("button",{type:"button",onClick:()=>fe({borderRadius:12}),className:`flex-1 py-2 min-h-[44px] sm:min-h-0 sm:py-1 text-[11px] sm:text-[10px] font-medium rounded border transition-colors ${L.borderRadius===12?"bg-indigo-50 border-indigo-200 text-indigo-700":"bg-white border-gray-200 text-gray-500 hover:bg-gray-50"}`,children:f("properties.rounded")}),_.jsx("button",{type:"button",onClick:()=>{const ce=Math.round(Math.min(L.width*(L.scaleX||1),L.height*(L.scaleY||1))/2);fe({borderRadius:ce})},className:`flex-1 py-2 min-h-[44px] sm:min-h-0 sm:py-1 text-[11px] sm:text-[10px] font-medium rounded border transition-colors ${L.borderRadius===Math.round(Math.min(L.width*(L.scaleX||1),L.height*(L.scaleY||1))/2)?"bg-indigo-50 border-indigo-200 text-indigo-700":"bg-white border-gray-200 text-gray-500 hover:bg-gray-50"}`,children:f("properties.circle")})]})]}),w==="image"&&_.jsxs("section",{children:[_.jsx(Ns,{icon:_x,label:f("properties.crop")}),_.jsxs("button",{type:"button",onClick:()=>o==null?void 0:o(Y),className:"flex items-center justify-center gap-1.5 w-full px-3 py-2.5 min-h-[44px] sm:min-h-0 sm:py-2 text-xs font-medium text-indigo-700 bg-indigo-50 border border-indigo-200 rounded-md hover:bg-indigo-100 transition-colors",children:[_.jsx(_x,{className:"w-3.5 h-3.5"}),(L.cropX??0)>0||(L.cropY??0)>0||(L.cropWidth??1)<1||(L.cropHeight??1)<1?f("properties.adjustCrop"):f("properties.cropImage")]}),((L.cropX??0)>0||(L.cropY??0)>0||(L.cropWidth??1)<1||(L.cropHeight??1)<1)&&_.jsx("button",{type:"button",onClick:()=>fe({cropX:0,cropY:0,cropWidth:1,cropHeight:1}),className:"mt-1.5 w-full py-1 text-[10px] font-medium text-gray-500 border border-gray-200 rounded hover:bg-gray-50 transition-colors",children:f("properties.resetCrop")})]}),P&&_.jsxs(_.Fragment,{children:[_.jsxs("section",{children:[_.jsx(Ns,{icon:xh,label:f("properties.font")}),_.jsx(nv,{value:L.fontFamily||"Arial",onChange:ce=>fe({fontFamily:ce})})]}),_.jsxs("section",{children:[_.jsx("div",{className:"flex items-center gap-1.5 mb-2",children:_.jsx("span",{className:"text-xs font-semibold text-gray-700",children:f("properties.size")})}),_.jsx(fu,{label:"px",value:L.fontSize||16,min:1,max:500,onChange:ce=>fe({fontSize:ce})})]}),_.jsxs("section",{children:[_.jsx("div",{className:"flex items-center gap-1.5 mb-2",children:_.jsx("span",{className:"text-xs font-semibold text-gray-700",children:f("properties.style")})}),_.jsxs("div",{className:"flex gap-1.5",children:[_.jsx(Cl,{text:f("properties.toggleBold"),children:_.jsx(to,{active:L.fontWeight==="bold",onClick:()=>fe({fontWeight:L.fontWeight==="bold"?"normal":"bold"}),title:f("properties.toggleBold"),children:_.jsx(wx,{className:"w-3.5 h-3.5"})})}),_.jsx(Cl,{text:f("properties.toggleItalic"),children:_.jsx(to,{active:L.fontStyle==="italic",onClick:()=>fe({fontStyle:L.fontStyle==="italic"?"normal":"italic"}),title:f("properties.toggleItalic"),children:_.jsx(Sx,{className:"w-3.5 h-3.5"})})}),_.jsx(Cl,{text:f("properties.toggleUnderline"),children:_.jsx(to,{active:L.underline===!0,onClick:()=>fe({underline:!L.underline}),title:f("properties.toggleUnderline"),children:_.jsx(Cx,{className:"w-3.5 h-3.5"})})})]})]}),_.jsxs("section",{children:[_.jsx("div",{className:"flex items-center gap-1.5 mb-2",children:_.jsx("span",{className:"text-xs font-semibold text-gray-700",children:f("properties.alignment")})}),_.jsxs("div",{className:"flex gap-1.5",children:[_.jsx(to,{active:L.textAlign==="left",onClick:()=>fe({textAlign:"left"}),title:"Align Left",children:_.jsx(yx,{className:"w-3.5 h-3.5"})}),_.jsx(to,{active:L.textAlign==="center",onClick:()=>fe({textAlign:"center"}),title:"Align Center",children:_.jsx(vx,{className:"w-3.5 h-3.5"})}),_.jsx(to,{active:L.textAlign==="right",onClick:()=>fe({textAlign:"right"}),title:"Align Right",children:_.jsx(bx,{className:"w-3.5 h-3.5"})})]})]})]}),P&&_.jsxs("section",{children:[_.jsx(Ns,{icon:ch,label:f("properties.textBackground")}),_.jsxs("div",{className:"space-y-2",children:[_.jsxs("div",{className:"relative",ref:A,children:[_.jsxs("div",{className:"flex items-center gap-2",children:[_.jsx("input",{type:"checkbox",checked:!!L.textBgColor&&(L.textBgOpacity??0)>0,onChange:ce=>{ce.target.checked?fe({textBgColor:N||"#000000",textBgOpacity:L.textBgOpacity||.5,textBgRadius:L.textBgRadius??0}):fe({textBgOpacity:0})},className:"w-4 h-4 rounded border-gray-300 text-indigo-600 focus:ring-indigo-500"}),_.jsxs("button",{type:"button",onClick:()=>k(!S),className:"flex items-center gap-2 flex-1 px-2 py-2 min-h-[44px] sm:min-h-0 sm:py-1.5 text-xs border border-gray-200 rounded-md hover:bg-gray-50",children:[_.jsx("span",{className:"w-5 h-5 sm:w-4 sm:h-4 rounded border border-gray-300",style:{backgroundColor:L.textBgColor||N}}),_.jsx("span",{className:"text-gray-600",children:L.textBgColor||N})]})]}),S&&_.jsxs("div",{className:"absolute z-10 mt-1 p-3 sm:p-2 bg-white border border-gray-200 rounded-lg shadow-lg",children:[_.jsx(yu,{color:N,onChange:ce=>{j(ce),W.current&&clearTimeout(W.current),W.current=setTimeout(()=>fe({textBgColor:ce}),60)},style:{width:"100%",height:180}}),_.jsx("input",{type:"text",value:N,onChange:ce=>{j(ce.target.value),fe({textBgColor:ce.target.value})},className:"w-full mt-2 px-2 py-1.5 text-xs border border-gray-200 rounded-md focus:outline-none focus:ring-1 focus:ring-indigo-400"})]})]}),_.jsxs("div",{className:"flex items-center gap-2",children:[_.jsx("span",{className:"text-[10px] text-gray-500 w-14",children:f("properties.opacity")}),_.jsx("input",{type:"range",min:0,max:1,step:.05,value:L.textBgOpacity??0,onChange:ce=>fe({textBgOpacity:Number(ce.target.value),textBgColor:L.textBgColor||N}),className:"flex-1 h-1.5 bg-gray-200 rounded-lg appearance-none cursor-pointer accent-indigo-500"}),_.jsxs("span",{className:"text-[10px] text-gray-500 font-mono w-8 text-right",children:[Math.round((L.textBgOpacity??0)*100),"%"]})]}),_.jsxs("div",{className:"flex items-center gap-2",children:[_.jsx("span",{className:"text-[10px] text-gray-500 w-14",children:f("properties.radius")}),_.jsx("input",{type:"range",min:0,max:30,step:1,value:L.textBgRadius??0,onChange:ce=>fe({textBgRadius:Number(ce.target.value)}),className:"flex-1 h-1.5 bg-gray-200 rounded-lg appearance-none cursor-pointer accent-indigo-500"}),_.jsxs("span",{className:"text-[10px] text-gray-500 font-mono w-8 text-right",children:[L.textBgRadius??0,"px"]})]})]})]}),(P||ie)&&_.jsxs("section",{children:[_.jsx(Ns,{icon:ch,label:f("properties.color")}),_.jsxs("div",{className:"relative",ref:g,children:[_.jsxs("button",{type:"button",onClick:()=>x(!m),className:"flex items-center gap-2 w-full px-2 py-2 min-h-[44px] sm:min-h-0 sm:py-1.5 text-xs border border-gray-200 rounded-md hover:bg-gray-50",children:[_.jsx("span",{className:"w-5 h-5 sm:w-4 sm:h-4 rounded border border-gray-300",style:{backgroundColor:D}}),_.jsx("span",{className:"text-gray-600",children:D})]}),m&&_.jsxs("div",{className:"absolute z-10 mt-1 p-3 sm:p-2 bg-white border border-gray-200 rounded-lg shadow-lg",children:[_.jsx(yu,{color:D,onChange:F,style:{width:"100%",height:180}}),_.jsx("input",{type:"text",value:D,onChange:ce=>{Z(ce.target.value),V(ce.target.value)},className:"w-full mt-2 px-2 py-1.5 text-xs border border-gray-200 rounded-md focus:outline-none focus:ring-1 focus:ring-indigo-400"})]})]})]}),_.jsxs("section",{children:[_.jsx("div",{className:"flex items-center gap-1.5 mb-2",children:_.jsx("span",{className:"text-xs font-semibold text-gray-700",children:f("properties.layer")})}),_.jsxs("div",{className:"flex gap-1.5",children:[_.jsx(Cl,{text:f("properties.moveToTop"),children:_.jsxs("button",{type:"button",onClick:()=>a(Y),title:f("properties.bringToFront"),className:"flex items-center justify-center gap-1 px-3 py-2 min-h-[44px] sm:min-h-0 sm:py-1.5 text-xs border border-gray-200 rounded-md hover:bg-gray-50 text-gray-600",children:[_.jsx($T,{className:"w-4 h-4 sm:w-3.5 sm:h-3.5"}),f("properties.front")]})}),_.jsx(Cl,{text:f("properties.moveToBottom"),children:_.jsxs("button",{type:"button",onClick:()=>i(Y),title:f("properties.sendToBack"),className:"flex items-center justify-center gap-1 px-3 py-2 min-h-[44px] sm:min-h-0 sm:py-1.5 text-xs border border-gray-200 rounded-md hover:bg-gray-50 text-gray-600",children:[_.jsx(WT,{className:"w-4 h-4 sm:w-3.5 sm:h-3.5"}),f("properties.back")]})})]})]}),l&&u&&_.jsxs("section",{className:"border-t border-gray-100 pt-2",children:[_.jsxs("button",{type:"button",onClick:()=>v(!y),className:"flex items-center gap-1.5 w-full py-1 text-left",children:[y?_.jsx(e0,{className:"w-3.5 h-3.5 text-gray-400"}):_.jsx(ap,{className:"w-3.5 h-3.5 text-gray-400"}),_.jsx($b,{className:"w-3.5 h-3.5 text-indigo-500"}),_.jsx("span",{className:"text-xs font-semibold text-gray-700",children:f("properties.conditions")}),(((xe=r.conditions)==null?void 0:xe.length)??0)>0&&_.jsx("span",{className:"ml-1 inline-flex items-center justify-center px-1.5 py-0.5 rounded-full bg-indigo-100 text-indigo-700 text-[10px] font-semibold",children:r.conditions.length})]}),y&&_.jsxs("div",{className:"mt-2 space-y-2",children:[(r.conditions??[]).map((ce,De)=>_.jsxs("div",{children:[_.jsx(a4,{rule:ce,index:De,columns:l,elementType:w,onChange:(ue,Ye)=>{const R=[...r.conditions??[]];R[ue]=Ye,u(Y,R)},onDelete:ue=>{const Ye=(r.conditions??[]).filter((R,H)=>H!==ue);u(Y,Ye)}}),ce.action==="change_style"&&_.jsx("div",{className:"mt-1",children:_.jsx(i4,{overrides:ce.styleOverrides??{},elementType:w,onChange:ue=>{const Ye=[...r.conditions??[]];Ye[De]={...ce,styleOverrides:ue},u(Y,Ye)}})})]},De)),_.jsxs("button",{type:"button",onClick:()=>{const ce={checks:[{columnName:l[0]||"",operator:"is_empty",value:""}],logic:"and",action:"hide"};u(Y,[...r.conditions??[],ce])},className:"flex items-center justify-center gap-1.5 w-full px-3 py-2.5 min-h-[44px] sm:min-h-0 sm:py-2 text-xs font-medium text-indigo-700 bg-indigo-50 border border-indigo-200 rounded-md hover:bg-indigo-100 transition-colors",children:[_.jsx(kx,{className:"w-3.5 h-3.5"}),f("properties.addCondition")]}),((ve=r.conditions)==null?void 0:ve.some(ce=>ce.action==="hide"))&&h&&_.jsxs("button",{type:"button",onClick:()=>h(Y),className:"flex items-center justify-center gap-1.5 w-full px-3 py-2.5 min-h-[44px] sm:min-h-0 sm:py-2 text-xs font-medium text-gray-600 bg-gray-50 border border-gray-200 rounded-md hover:bg-gray-100 transition-colors",children:[_.jsx(ip,{className:"w-3.5 h-3.5"}),f("properties.duplicateOpposite")]}),_.jsx("p",{className:"text-[10px] text-gray-400 leading-relaxed",children:f("properties.conditionTip")})]})]}),_.jsx("section",{className:"pt-2 border-t border-gray-100",children:_.jsxs("button",{type:"button",onClick:()=>n(Y),className:"flex items-center justify-center gap-1.5 w-full px-3 py-2.5 min-h-[44px] sm:min-h-0 sm:py-2 text-xs font-medium text-red-600 bg-red-50 border border-red-200 rounded-md hover:bg-red-100 transition-colors",children:[_.jsx(lp,{className:"w-4 h-4 sm:w-3.5 sm:h-3.5"}),f("properties.deleteElement")]})})]})}const Og=.05;function IP({imageSrc:r,cropX:e,cropY:t,cropWidth:n,cropHeight:a,onApply:i,onCancel:o}){const l=Me.useRef(null),u=Me.useRef(null),h=fa(w=>w.t),[f,m]=Me.useState({w:0,h:0}),[x,g]=Me.useState({w:0,h:0,ox:0,oy:0}),[y,v]=Me.useState(e),[S,k]=Me.useState(t),[A,N]=Me.useState(n),[j,W]=Me.useState(a),ee=Me.useRef(null),z=Me.useCallback(()=>{const w=l.current;if(!w||f.w===0)return;const L=w.clientWidth-48,P=w.clientHeight-48,U=Math.min(L/f.w,P/f.h,1),ie=Math.round(f.w*U),fe=Math.round(f.h*U);g({w:ie,h:fe,ox:Math.round((w.clientWidth-ie)/2),oy:Math.round((w.clientHeight-fe)/2)})},[f]);Me.useEffect(()=>(z(),window.addEventListener("resize",z),()=>window.removeEventListener("resize",z)),[z]),Me.useEffect(()=>{const w=document.body.style.overflow;document.body.style.overflow="hidden";const L=u.current,P=U=>U.preventDefault();return L==null||L.addEventListener("touchmove",P,{passive:!1}),L==null||L.addEventListener("wheel",P,{passive:!1}),()=>{document.body.style.overflow=w,L==null||L.removeEventListener("touchmove",P),L==null||L.removeEventListener("wheel",P)}},[]);const B=w=>{m({w:w.currentTarget.naturalWidth,h:w.currentTarget.naturalHeight})},D=w=>L=>{L.preventDefault(),L.stopPropagation(),ee.current={edge:w,sx:L.clientX,sy:L.clientY,cx0:y,cy0:S,cw0:A,ch0:j},L.target.setPointerCapture(L.pointerId)},Z=w=>{const L=ee.current;if(!L)return;const{edge:P,sx:U,sy:ie,cx0:fe,cy0:xe,cw0:ve,ch0:ce}=L,De=(w.clientX-U)/x.w,ue=(w.clientY-ie)/x.h;let Ye=fe,R=xe,H=ve,ne=ce;if(P==="move")Ye=Ef(fe+De,0,1-ve),R=Ef(xe+ue,0,1-ce);else{if(P==="left"||P==="tl"||P==="bl"){const G=fe+ve-Og,K=Ef(fe+De,0,G);H=ve+(fe-K),Ye=K}if((P==="right"||P==="tr"||P==="br")&&(H=Ef(ve+De,Og,1-fe)),P==="top"||P==="tl"||P==="tr"){const G=xe+ce-Og,K=Ef(xe+ue,0,G);ne=ce+(xe-K),R=K}(P==="bottom"||P==="bl"||P==="br")&&(ne=Ef(ce+ue,Og,1-xe))}v(Ye),k(R),N(H),W(ne)},q=()=>{ee.current=null},O=()=>{v(0),k(0),N(1),W(1)},{w:V,h:F,ox:re,oy:ae}=x,J=Math.round(y*V),ge=Math.round(S*F),te=Math.round(A*V),ke=Math.round(j*F),Y="crop-mask";return _.jsxs("div",{ref:u,className:"fixed inset-0 z-[60] flex flex-col bg-black",onPointerMove:Z,onPointerUp:q,children:[_.jsxs("div",{className:"flex items-center justify-between px-4 py-2 bg-gray-900 border-b border-gray-700 shrink-0",children:[_.jsx("span",{className:"text-sm font-medium text-white",children:h("cropOverlay.title")}),_.jsxs("div",{className:"flex items-center gap-2",children:[_.jsxs("button",{type:"button",onClick:O,className:"flex items-center gap-1 px-3 py-1.5 text-xs font-medium text-gray-300 bg-gray-700 rounded-md hover:bg-gray-600 transition-colors",children:[_.jsx(hE,{className:"w-3 h-3"})," ",h("cropOverlay.reset")]}),_.jsxs("button",{type:"button",onClick:o,className:"flex items-center gap-1 px-3 py-1.5 text-xs font-medium text-gray-300 bg-gray-700 rounded-md hover:bg-gray-600 transition-colors",children:[_.jsx(N3,{className:"w-3 h-3"})," ",h("cropOverlay.cancel")]}),_.jsxs("button",{type:"button",onClick:()=>i({cropX:y,cropY:S,cropWidth:A,cropHeight:j}),className:"flex items-center gap-1 px-3 py-1.5 text-xs font-medium text-white bg-indigo-600 rounded-md hover:bg-indigo-700 transition-colors",children:[_.jsx(np,{className:"w-3 h-3"})," ",h("cropOverlay.apply")]})]})]}),_.jsxs("div",{ref:l,className:"flex-1 relative overflow-hidden select-none",children:[_.jsx("img",{src:r,alt:"Crop source",onLoad:B,draggable:!1,className:"absolute",style:{left:re,top:ae,width:V||"auto",height:F||"auto",pointerEvents:"none",userSelect:"none"}}),V>0&&_.jsxs(_.Fragment,{children:[_.jsxs("svg",{className:"absolute inset-0 w-full h-full pointer-events-none",style:{zIndex:1},children:[_.jsx("defs",{children:_.jsxs("mask",{id:Y,children:[_.jsx("rect",{x:"0",y:"0",width:"100%",height:"100%",fill:"white"}),_.jsx("rect",{x:re+J,y:ae+ge,width:te,height:ke,fill:"black"})]})}),_.jsx("rect",{x:"0",y:"0",width:"100%",height:"100%",fill:"rgba(0,0,0,0.6)",mask:`url(#${Y})`})]}),_.jsx("div",{className:"absolute border-2 border-white/90 pointer-events-none",style:{left:re+J,top:ae+ge,width:te,height:ke,zIndex:2},children:_.jsxs("div",{className:"absolute inset-0",children:[_.jsx("div",{className:"absolute left-1/3 top-0 bottom-0 w-px bg-white/25"}),_.jsx("div",{className:"absolute left-2/3 top-0 bottom-0 w-px bg-white/25"}),_.jsx("div",{className:"absolute top-1/3 left-0 right-0 h-px bg-white/25"}),_.jsx("div",{className:"absolute top-2/3 left-0 right-0 h-px bg-white/25"})]})}),_.jsxs("div",{className:"absolute inset-0",style:{zIndex:3},children:[_.jsx("div",{className:"absolute cursor-move",style:{left:re+J+6,top:ae+ge+6,width:te-12,height:ke-12,touchAction:"none"},onPointerDown:D("move")}),_.jsx(Dg,{edge:"top",style:{left:re+J+8,top:ae+ge-4,width:te-16,height:8},cursor:"n-resize",onDown:D}),_.jsx(Dg,{edge:"bottom",style:{left:re+J+8,top:ae+ge+ke-4,width:te-16,height:8},cursor:"s-resize",onDown:D}),_.jsx(Dg,{edge:"left",style:{left:re+J-4,top:ae+ge+8,width:8,height:ke-16},cursor:"w-resize",onDown:D}),_.jsx(Dg,{edge:"right",style:{left:re+J+te-4,top:ae+ge+8,width:8,height:ke-16},cursor:"e-resize",onDown:D}),[{edge:"tl",x:re+J-5,y:ae+ge-5,cursor:"nw-resize"},{edge:"tr",x:re+J+te-5,y:ae+ge-5,cursor:"ne-resize"},{edge:"bl",x:re+J-5,y:ae+ge+ke-5,cursor:"sw-resize"},{edge:"br",x:re+J+te-5,y:ae+ge+ke-5,cursor:"se-resize"}].map(({edge:w,x:L,y:P,cursor:U})=>_.jsx("div",{className:"absolute w-[10px] h-[10px] bg-white border border-gray-400 rounded-sm shadow",style:{left:L,top:P,cursor:U,touchAction:"none"},onPointerDown:D(w)},w))]}),_.jsxs("div",{className:"absolute text-[10px] text-white/80 font-mono bg-black/60 px-1.5 py-0.5 rounded pointer-events-none",style:{left:re+J+te/2-30,top:ae+ge+ke+8,zIndex:4},children:[Math.round(A*100),"%  ",Math.round(j*100),"%"]})]})]})]})}function Ef(r,e,t){return Math.min(t,Math.max(e,r))}function Dg({edge:r,style:e,cursor:t,onDown:n}){return _.jsx("div",{className:"absolute",style:{...e,cursor:t,touchAction:"none"},onPointerDown:n(r)})}function UP(){Me.useEffect(()=>{const H=document.body.style.overflow;document.body.style.overflow="hidden";const ne=document.querySelector("main"),G=(ne==null?void 0:ne.style.overflow)??"",K=(ne==null?void 0:ne.style.padding)??"";return ne&&(ne.style.overflow="hidden",ne.style.padding="0"),()=>{document.body.style.overflow=H,ne&&(ne.style.overflow=G,ne.style.padding=K)}},[]);const r=fr(H=>H.setTemplateConfig),e=fr(H=>H.templateConfig),n=fr(H=>{var ne;return((ne=H.csvData)==null?void 0:ne.headers)??[]}).map(H=>H.name),a=fa(H=>H.t),i=Me.useRef(null),[o,l]=Me.useState(null),[u,h]=Me.useState([]),[f,m]=Me.useState(!0),[x,g]=Me.useState(!0),[y,v]=Me.useState(null),[S,k]=Me.useState("peek"),A=o||u.length>0?"properties":"assets",[N,j]=Me.useState(null),W=Me.useRef(null),ee=Me.useRef(null),z=Me.useRef(null),B=Me.useCallback(()=>{const H=window.innerHeight;return{collapsed:32,peek:H*.4,full:H*.75}},[]),D=Me.useCallback(H=>B()[H],[B]),Z=Me.useCallback(H=>{var G;const ne=((G=ee.current)==null?void 0:G.offsetHeight)??D(S);W.current={startY:H,startHeight:ne}},[S,D]),q=Me.useCallback(H=>{if(!W.current)return;const ne=W.current.startY-H,G=Math.max(32,Math.min(window.innerHeight*.85,W.current.startHeight+ne));j(G)},[]),O=Me.useCallback(()=>{if(!W.current)return;const H=N??D(S),ne=B(),K=[{mode:"collapsed",d:Math.abs(H-ne.collapsed)},{mode:"peek",d:Math.abs(H-ne.peek)},{mode:"full",d:Math.abs(H-ne.full)}].reduce((le,Fe)=>le.d<Fe.d?le:Fe);k(K.mode),j(null),W.current=null},[N,S,D,B]);Me.useEffect(()=>{const H=z.current,ne=ee.current;if(!H||!ne)return;const G=le=>{le.touches.length===1&&(le.preventDefault(),q(le.touches[0].clientY))},K=le=>{le.stopPropagation()};return H.addEventListener("touchmove",G,{passive:!1}),ne.addEventListener("touchmove",K,{passive:!1}),()=>{H.removeEventListener("touchmove",G),ne.removeEventListener("touchmove",K)}},[q]);const V=Me.useRef(null),F=Me.useCallback((H,ne)=>{l(H),h(ne&&ne.length>1?ne:[])},[]);Me.useEffect(()=>{const H=(o==null?void 0:o.id)??(u.length>0?"multi":null);H!==V.current&&(V.current=H,H&&S==="collapsed"&&k("peek"))},[o,u,S]);const re=Me.useCallback(()=>{const H=i.current;H&&r(H.getTemplate())},[r]),ae=()=>{var H;(H=i.current)==null||H.addTextElement({text:"New Text",fontFamily:"Arial",fontSize:24,fontWeight:"normal",fontStyle:"normal",underline:!1,fill:"#000000",textAlign:"left",left:100,top:100})},J=H=>{var ne;(ne=i.current)==null||ne.addImageElement({src:H,left:100,top:100,width:200,height:200})},ge=async H=>{var ne;r({...e,background:H}),await((ne=i.current)==null?void 0:ne.setBackground(H))},te=(H,ne)=>{r({...e,width:H,height:ne})},ke=Me.useCallback((H,ne)=>{var G;(G=i.current)==null||G.updateElement(H,ne),l(K=>K&&K.id===H?{...K,properties:{...K.properties,...ne}}:K),h(K=>K.map(le=>le.id===H?{...le,properties:{...le.properties,...ne}}:le)),re()},[re]),Y=Me.useCallback(H=>{var ne;(ne=i.current)==null||ne.removeElement(H),l(null)},[]),w=Me.useCallback(H=>{var ne;(ne=i.current)==null||ne.bringToFront(H),re()},[re]),L=Me.useCallback(H=>{var ne;(ne=i.current)==null||ne.sendToBack(H),re()},[re]),P=Me.useCallback((H,ne)=>{const G=i.current;G&&(G.updateElementConditions(H,ne),l(K=>K&&K.id===H?{...K,conditions:ne}:K),h(K=>K.map(le=>le.id===H?{...le,conditions:ne}:le)),re())},[re]),U=Me.useCallback(async H=>{const ne=i.current;if(!ne)return;const G=await ne.duplicateElement(H);if(!G)return;const le=ne.canvas.getObjects().find(Oe=>Oe.elementId===G);if(!le)return;const Fe=le.conditions?JSON.parse(JSON.stringify(le.conditions)):[],je=Fe.findIndex(Oe=>Oe.action==="hide");if(je>=0){const Oe={...Fe[je]};if(Oe.checks&&Oe.checks.length>0)Oe.checks=Oe.checks.map(Ge=>{const $e={...Ge};switch(Ge.operator){case"is_empty":$e.operator="is_not_empty";break;case"is_not_empty":$e.operator="is_empty";break;case"equals":$e.operator="not_equals";break;case"not_equals":$e.operator="equals";break}return $e});else if(Oe.operator)switch(Oe.operator){case"is_empty":Oe.operator="is_not_empty";break;case"is_not_empty":Oe.operator="is_empty";break;case"equals":Oe.operator="not_equals";break;case"not_equals":Oe.operator="equals";break}Oe.action="show",Fe[je]=Oe}ne.updateElementConditions(G,Fe),re()},[re]),ie=Me.useCallback((H,ne)=>{const G=i.current;if(!G)return;const K=e.width/2,le=e.height/2;G.addPlaceholder({name:H,type:ne},{left:K-75,top:le-10})},[e.width,e.height]),fe=Me.useCallback(H=>{if(!o||o.id!==H)return;const ne=o.properties,G=ne.src;G&&(v({id:H,src:G,cropX:ne.cropX??0,cropY:ne.cropY??0,cropWidth:ne.cropWidth??1,cropHeight:ne.cropHeight??1}),k("collapsed"))},[o]),xe=Me.useCallback(H=>{y&&(ke(y.id,H),v(null))},[y,ke]),ve=Me.useCallback(()=>{const H=i.current;if(!H)return;const ne=H.getTemplate(),G=JSON.stringify(ne,null,2),K=new Blob([G],{type:"application/json"}),le=URL.createObjectURL(K),Fe=document.createElement("a");Fe.href=le,Fe.download=`template-${e.width}x${e.height}.json`,Fe.click(),URL.revokeObjectURL(le)},[e.width,e.height]),ce=Me.useRef(null),De=Me.useCallback(()=>{var H;(H=ce.current)==null||H.click()},[]),ue=Me.useCallback(async H=>{var G;const ne=(G=H.target.files)==null?void 0:G[0];if(ne){try{const K=await ne.text(),le=JSON.parse(K);if(!le.width||!le.height||!le.elements||!le.background){alert(a("editor.invalidTemplate"));return}r(le);const Fe=i.current;Fe&&await Fe.loadTemplate(le),l(null),h([])}catch{alert(a("editor.invalidJson"))}H.target.value=""}},[r]),Ye=N!=null?{height:N,transition:"none"}:{transition:"height 0.3s ease-out"},R=N!=null?"":S==="collapsed"?"h-8":S==="peek"?"h-[40vh]":"h-[75vh]";return _.jsxs("div",{className:"flex flex-col h-full min-h-0",children:[y&&_.jsx(IP,{imageSrc:y.src,cropX:y.cropX,cropY:y.cropY,cropWidth:y.cropWidth,cropHeight:y.cropHeight,onApply:xe,onCancel:()=>v(null)}),_.jsxs("div",{className:"flex flex-1 min-h-0 gap-0",children:[f&&_.jsxs("aside",{className:"hidden lg:flex w-[240px] xl:w-[260px] shrink-0 bg-white border-r border-gray-200 flex-col overflow-hidden",children:[_.jsxs("div",{className:"px-3 py-2 border-b border-gray-100 flex items-center justify-between",children:[_.jsxs("div",{className:"flex items-center gap-1.5",children:[_.jsx(sp,{className:"w-3.5 h-3.5 text-indigo-500"}),_.jsx("h2",{className:"text-xs font-semibold text-gray-800",children:a("editor.assets")})]}),_.jsx("button",{type:"button",onClick:()=>m(!1),className:"p-1 rounded hover:bg-gray-100 text-gray-400 hover:text-gray-600 transition-colors",title:a("editor.collapsePanel"),children:_.jsx(eE,{className:"w-3.5 h-3.5"})})]}),_.jsx("div",{className:"flex-1 overflow-hidden",children:_.jsx(h_,{onAddText:ae,onAddImageFromSrc:J,onSetBackground:ge,onCanvasResize:te,onAddPlaceholder:ie})})]}),_.jsxs("section",{className:"flex-1 bg-white flex flex-col overflow-hidden min-w-0",children:[_.jsxs("div",{className:"px-2 py-1.5 border-b border-gray-100 flex items-center gap-2 shrink-0",children:[!f&&_.jsx("button",{type:"button",onClick:()=>m(!0),className:"hidden lg:flex p-1 rounded hover:bg-gray-100 text-gray-400 hover:text-gray-600 transition-colors",title:a("editor.showAssetsPanel"),children:_.jsx(rE,{className:"w-3.5 h-3.5"})}),_.jsxs("div",{className:"flex items-center gap-1.5",children:[_.jsx(XA,{className:"w-3.5 h-3.5 text-indigo-500"}),_.jsx("h2",{className:"text-xs font-semibold text-gray-800",children:a("editor.canvas")})]}),_.jsx("div",{className:"flex-1"}),_.jsx("input",{ref:ce,type:"file",accept:".json",className:"hidden",onChange:ue}),_.jsxs("button",{type:"button",onClick:De,className:"flex items-center gap-1 px-2 py-1 text-[11px] text-gray-500 hover:text-indigo-600 hover:bg-indigo-50 rounded transition-colors",title:a("editor.importTitle"),children:[_.jsx(Wd,{className:"w-3.5 h-3.5"}),_.jsx("span",{className:"hidden sm:inline",children:a("editor.import")})]}),_.jsxs("button",{type:"button",onClick:ve,className:"flex items-center gap-1 px-2 py-1 text-[11px] text-gray-500 hover:text-indigo-600 hover:bg-indigo-50 rounded transition-colors",title:a("editor.exportTitle"),children:[_.jsx(lh,{className:"w-3.5 h-3.5"}),_.jsx("span",{className:"hidden sm:inline",children:a("editor.export")})]}),!x&&_.jsx("button",{type:"button",onClick:()=>g(!0),className:"hidden lg:flex p-1 rounded hover:bg-gray-100 text-gray-400 hover:text-gray-600 transition-colors",title:a("editor.showPropertiesPanel"),children:_.jsx(sE,{className:"w-3.5 h-3.5"})})]}),_.jsx(kP,{onSelectionChange:F,engineRef:i,onCanvasChange:re,onImagePaste:H=>{fr.getState().addUploadedImage(H),J(H)}})]}),x&&_.jsxs("aside",{className:"hidden lg:flex w-[240px] xl:w-[260px] shrink-0 bg-white border-l border-gray-200 flex-col overflow-hidden",children:[_.jsxs("div",{className:"px-3 py-2 border-b border-gray-100 flex items-center justify-between",children:[_.jsxs("div",{className:"flex items-center gap-1.5",children:[_.jsx(Kb,{className:"w-3.5 h-3.5 text-indigo-500"}),_.jsx("h2",{className:"text-xs font-semibold text-gray-800",children:a("editor.properties")})]}),_.jsx("button",{type:"button",onClick:()=>g(!1),className:"p-1 rounded hover:bg-gray-100 text-gray-400 hover:text-gray-600 transition-colors",title:a("editor.collapsePanel"),children:_.jsx(aE,{className:"w-3.5 h-3.5"})})]}),_.jsx(s4,{selectedElement:o,selectedElements:u,onUpdateElement:ke,onDeleteElement:Y,onBringToFront:w,onSendToBack:L,onCropImage:fe,columns:n,onUpdateConditions:P,onDuplicateWithOpposite:U})]})]}),_.jsxs("div",{ref:ee,className:`lg:hidden fixed bottom-0 left-0 right-0 z-40 bg-white border-t border-gray-200 shadow-[0_-4px_20px_rgba(0,0,0,0.1)] rounded-t-2xl flex flex-col ${R}`,style:Ye,onTouchStart:H=>H.stopPropagation(),children:[_.jsxs("div",{ref:z,className:"flex flex-col items-center pt-2 pb-1 px-4 shrink-0 cursor-grab active:cursor-grabbing select-none touch-none",onClick:()=>{W.current||k(S==="collapsed"?"peek":S==="peek"?"full":"peek")},onTouchStart:H=>{H.touches.length===1&&Z(H.touches[0].clientY)},onTouchEnd:()=>O(),onMouseDown:H=>{Z(H.clientY);const ne=K=>q(K.clientY),G=()=>{O(),window.removeEventListener("mousemove",ne),window.removeEventListener("mouseup",G)};window.addEventListener("mousemove",ne),window.addEventListener("mouseup",G)},children:[_.jsx("div",{className:"w-10 h-1 rounded-full bg-gray-300 mb-2"}),_.jsxs("div",{className:"flex items-center justify-between w-full",children:[_.jsx("div",{className:"flex items-center gap-2",children:A==="assets"?_.jsxs(_.Fragment,{children:[_.jsx(sp,{className:"w-4 h-4 text-indigo-500"}),_.jsx("span",{className:"text-xs font-semibold text-gray-800",children:a("editor.assets")})]}):_.jsxs(_.Fragment,{children:[_.jsx(Kb,{className:"w-4 h-4 text-indigo-500"}),_.jsx("span",{className:"text-xs font-semibold text-gray-800",children:a("editor.properties")})]})}),_.jsxs("div",{className:"flex items-center gap-1.5",children:[S!=="collapsed"&&_.jsx("button",{type:"button",onClick:H=>{H.stopPropagation(),k("collapsed"),j(null)},className:"p-1.5 rounded-lg hover:bg-gray-100 text-gray-400",children:_.jsx(e0,{className:"w-4 h-4"})}),S!=="full"&&_.jsx("button",{type:"button",onClick:H=>{H.stopPropagation(),k("full"),j(null)},className:"p-1.5 rounded-lg hover:bg-gray-100 text-gray-400",children:_.jsx(k3,{className:"w-4 h-4"})})]})]})]}),(S!=="collapsed"||N!=null)&&_.jsx("div",{className:"flex-1 overflow-y-auto overscroll-contain min-h-0",children:A==="assets"?_.jsx(h_,{onAddText:()=>{ae(),k("collapsed")},onAddImageFromSrc:H=>{J(H),k("collapsed")},onSetBackground:ge,onCanvasResize:te,onAddPlaceholder:(H,ne)=>{ie(H,ne),k("collapsed")}}):_.jsx(s4,{selectedElement:o,selectedElements:u,onUpdateElement:ke,onDeleteElement:Y,onBringToFront:w,onSendToBack:L,onCropImage:fe,columns:n,onUpdateConditions:P,onDuplicateWithOpposite:U})})]})]})}function qd(r,e){return r&&r.replace(/\{([^{}]+)\}/g,(t,n)=>Object.prototype.hasOwnProperty.call(e,n)?e[n]:t)}async function av(r){try{if(r.startsWith("data:"))return await En.fromURL(r);const e=await v6(r);return await En.fromURL(e)}catch{return null}}async function zP(r,e){if(e.type==="solid"&&e.color)r.backgroundColor=e.color;else if(e.type==="gradient"&&e.gradientColors){const[t,n]=e.gradientColors,a=e.gradientDirection??"vertical",i=r.getWidth(),o=r.getHeight();let l;switch(a){case"horizontal":l={x1:0,y1:0,x2:i,y2:0};break;case"diagonal":l={x1:0,y1:0,x2:i,y2:o};break;case"vertical":default:l={x1:0,y1:0,x2:0,y2:o};break}r.backgroundColor=new hh({type:"linear",coords:l,colorStops:[{offset:0,color:t},{offset:1,color:n}]})}else if(e.type==="image"&&e.imageSrc){const t=await av(e.imageSrc);if(t){const n=r.getWidth(),a=r.getHeight(),i=t.width||1,o=t.height||1,l=e.imageScale??Math.max(n/i,a/o),u=e.imageLeft??(n-i*l)/2,h=e.imageTop??(a-o*l)/2;t.set({scaleX:l,scaleY:l,left:u,top:h}),r.add(t),r.sendObjectToBack(t)}}}async function HP(r,e,t){var u;let n=e.columnName;if(!n&&e.properties.text){const h=e.properties.text.match(/\{([^}]+)\}/);h&&(n=h[1])}const a=OP(e.conditions,t,n);if(!a.visible)return;const i=a.styleOverrides?{...e.properties,...a.styleOverrides}:e.properties,{type:o,columnName:l}=e;if(o==="text"){const h=i.text??"",f=qd(h,t),m=new io(f,{left:i.left,top:i.top,width:i.width||250,angle:i.angle,scaleX:i.scaleX,scaleY:i.scaleY,fontFamily:i.fontFamily??"Arial",fontSize:i.fontSize??20,fontWeight:i.fontWeight??"normal",fontStyle:i.fontStyle??"normal",underline:i.underline??!1,fill:i.fill??"#000000",textAlign:i.textAlign??"left"});if(i.textBgColor&&(i.textBgOpacity??0)>0){const x=parseInt(i.textBgColor.slice(1,3),16),g=parseInt(i.textBgColor.slice(3,5),16),y=parseInt(i.textBgColor.slice(5,7),16),v=i.textBgOpacity??1,S=i.textBgRadius??0,k=4,A=(i.width||250)+k*2,N=m.height+k*2,j=new ka({left:i.left-k,top:i.top-k,width:A,height:N,angle:i.angle,scaleX:i.scaleX,scaleY:i.scaleY,fill:`rgba(${x},${g},${y},${v})`,rx:S,ry:S});r.add(j)}r.add(m)}else if(o==="placeholder-text"){const h=i.text??`{${l??""}}`,f=qd(h,t),m=new io(f,{left:i.left,top:i.top,width:i.width||250,angle:i.angle,scaleX:i.scaleX,scaleY:i.scaleY,fontFamily:i.fontFamily??"Arial",fontSize:i.fontSize??20,fontWeight:i.fontWeight??"normal",fontStyle:i.fontStyle??"normal",underline:i.underline??!1,fill:i.fill??"#000000",textAlign:i.textAlign??"left"});if(i.textBgColor&&(i.textBgOpacity??0)>0){const x=parseInt(i.textBgColor.slice(1,3),16),g=parseInt(i.textBgColor.slice(3,5),16),y=parseInt(i.textBgColor.slice(5,7),16),v=i.textBgOpacity??1,S=i.textBgRadius??0,k=4,A=(i.width||250)+k*2,N=m.height+k*2,j=new ka({left:i.left-k,top:i.top-k,width:A,height:N,angle:i.angle,scaleX:i.scaleX,scaleY:i.scaleY,fill:`rgba(${x},${g},${y},${v})`,rx:S,ry:S});r.add(j)}r.add(m)}else if(o==="image"){if(i.src){const h=await av(i.src);if(h){const f=h.width||1,m=h.height||1;let x=f,g=m;if(i.cropX!==void 0&&i.cropWidth!==void 0&&(h.set({cropX:(i.cropX??0)*f,cropY:(i.cropY??0)*m,width:(i.cropWidth??1)*f,height:(i.cropHeight??1)*m}),x=(i.cropWidth??1)*f,g=(i.cropHeight??1)*m),h.set({left:i.left,top:i.top,angle:i.angle,scaleX:i.scaleX,scaleY:i.scaleY}),i.borderRadius&&i.borderRadius>0){const y=Math.min(i.scaleX??1,i.scaleY??1),v=i.borderRadius/y;h.clipPath=new ka({width:x,height:g,rx:v,ry:v,left:-x/2,top:-g/2,originX:"left",originY:"top"})}r.add(h)}}}else if(o==="placeholder-image"){const h=l?(u=t[l])==null?void 0:u.trim():void 0;if(!h)return;const f=i.width||150,m=i.height||150,x=await av(h);if(x){const g=x.width||1,y=x.height||1,v=f*(i.scaleX??1)/g,S=m*(i.scaleY??1)/y;if(x.set({left:i.left,top:i.top,angle:i.angle,scaleX:v,scaleY:S}),i.borderRadius&&i.borderRadius>0){const k=i.borderRadius/Math.min(v,S);x.clipPath=new ka({width:g,height:y,rx:k,ry:k,left:-g/2,top:-y/2,originX:"left",originY:"top"})}r.add(x)}}}function qP(r){var o;const e=r.split(","),t=((o=e[0].match(/:(.*?);/))==null?void 0:o[1])??"image/png",n=atob(e[1]),a=new ArrayBuffer(n.length),i=new Uint8Array(a);for(let l=0;l<n.length;l++)i[l]=n.charCodeAt(l);return new Blob([i],{type:t})}async function Sk(r,e,t){const n=new Yp(void 0,{width:r.width,height:r.height});await zP(n,r.background);for(const o of r.elements)await HP(n,o,e);n.renderAll();const a=t.format==="jpeg"?t.quality/100:void 0,i=n.toDataURL({format:t.format,quality:a,multiplier:1});return n.dispose(),qP(i)}function VP(){const r=fr(V=>V.csvData),e=fr(V=>V.templateConfig),t=fr(V=>V.previewRowIndex),n=fr(V=>V.setPreviewRowIndex),a=fr(V=>V.setCurrentStep),i=fa(V=>V.t),o=fa(V=>V.locale),l=r0[o].dir==="rtl",[u,h]=Me.useState(null),[f,m]=Me.useState(!1),[x,g]=Me.useState(null),y=Me.useRef(null),v=(r==null?void 0:r.rows)??[],S=(r==null?void 0:r.headers)??[],k=v.length,A=v[t]??null,N=k>0,j=e.elements.length>0,[W,ee]=Me.useState(String(t+1));Me.useEffect(()=>{ee(String(t+1))},[t]);const z=()=>{const V=parseInt(W,10);!isNaN(V)&&V>=1&&V<=k?n(V-1):ee(String(t+1))},B=Me.useCallback(()=>{y.current&&(URL.revokeObjectURL(y.current),y.current=null)},[]);Me.useEffect(()=>{if(!N||!A){B(),h(null);return}let V=!1;async function F(){m(!0),g(null);try{const re=await Sk(e,A,{format:"png",quality:100});if(V)return;B();const ae=URL.createObjectURL(re);y.current=ae,h(ae)}catch(re){if(V)return;g(re instanceof Error?re.message:"Failed to render preview."),B(),h(null)}finally{V||m(!1)}}return F(),()=>{V=!0}},[t,e,A,N,B]),Me.useEffect(()=>()=>{B()},[B]);const D=()=>{t>0&&n(t-1)},Z=()=>{t<k-1&&n(t+1)};Me.useEffect(()=>{const V=F=>{var ge;const re=(ge=F.target)==null?void 0:ge.tagName;if(re==="INPUT"||re==="TEXTAREA"||re==="SELECT")return;const ae=l?"ArrowRight":"ArrowLeft",J=l?"ArrowLeft":"ArrowRight";F.key===ae?(F.preventDefault(),t>0&&n(t-1)):F.key===J&&(F.preventDefault(),t<k-1&&n(t+1))};return window.addEventListener("keydown",V),()=>window.removeEventListener("keydown",V)},[t,k,n,l]);const q=l?ap:qb,O=l?qb:ap;return N?j?_.jsxs("div",{className:"max-w-5xl mx-auto space-y-4 sm:space-y-6",children:[_.jsxs("div",{className:"flex items-center justify-between p-3 sm:p-4 bg-white rounded-lg border border-gray-200",children:[_.jsxs("button",{type:"button",onClick:D,disabled:t===0,className:"inline-flex items-center gap-1 sm:gap-1.5 px-2 sm:px-3 py-1.5 text-xs sm:text-sm font-medium text-gray-700 bg-gray-100 rounded-lg hover:bg-gray-200 disabled:opacity-40 disabled:cursor-not-allowed transition-colors",children:[_.jsx(q,{className:"w-4 h-4"}),_.jsx("span",{className:"hidden sm:inline",children:i("preview.previous")})]}),_.jsxs("div",{className:"flex items-center gap-1 text-xs sm:text-sm font-medium text-gray-600",children:[_.jsx("span",{children:i("preview.row")}),_.jsx("input",{type:"text",inputMode:"numeric",min:1,max:k,value:W,onChange:V=>ee(V.target.value),onBlur:z,onKeyDown:V=>{V.key==="Enter"&&z()},className:"w-16 px-1.5 py-0.5 text-center border border-gray-200 rounded-md focus:outline-none focus:ring-1 focus:ring-indigo-300 text-xs sm:text-sm font-medium"}),_.jsxs("span",{children:[i("preview.of")," ",k]})]}),_.jsxs("button",{type:"button",onClick:Z,disabled:t>=k-1,className:"inline-flex items-center gap-1 sm:gap-1.5 px-2 sm:px-3 py-1.5 text-xs sm:text-sm font-medium text-gray-700 bg-gray-100 rounded-lg hover:bg-gray-200 disabled:opacity-40 disabled:cursor-not-allowed transition-colors",children:[_.jsx("span",{className:"hidden sm:inline",children:i("preview.next")}),_.jsx(O,{className:"w-4 h-4"})]})]}),_.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4 sm:gap-6",children:[_.jsx("div",{className:"md:col-span-2",children:_.jsxs("div",{className:"bg-white rounded-lg border border-gray-200 p-4",children:[_.jsx("h3",{className:"text-sm font-medium text-gray-700 mb-3",children:i("preview.title")}),_.jsxs("div",{className:"relative flex items-center justify-center min-h-[300px] bg-gray-50 rounded-lg overflow-hidden",children:[f&&_.jsx("div",{className:"absolute inset-0 flex items-center justify-center bg-white/70 z-10",children:_.jsxs("div",{className:"flex flex-col items-center gap-2",children:[_.jsx(Rp,{className:"w-8 h-8 text-indigo-500 animate-spin"}),_.jsx("p",{className:"text-sm text-gray-500",children:i("preview.rendering")})]})}),x&&!f&&_.jsxs("div",{className:"flex flex-col items-center gap-2 text-center p-6",children:[_.jsx(t0,{className:"w-8 h-8 text-red-400"}),_.jsx("p",{className:"text-sm text-red-600",children:x})]}),u&&!x&&_.jsx("img",{src:u,alt:`Preview for row ${t+1}`,className:"max-w-full max-h-[500px] object-contain"}),!u&&!f&&!x&&_.jsx("p",{className:"text-sm text-gray-400",children:i("preview.noPreview")})]})]})}),_.jsx("div",{className:"md:col-span-1",children:_.jsxs("div",{className:"bg-white rounded-lg border border-gray-200 p-4",children:[_.jsx("h3",{className:"text-sm font-medium text-gray-700 mb-3",children:i("preview.rowData")}),A&&_.jsx("div",{className:"space-y-0 divide-y divide-gray-100",children:S.map(V=>_.jsxs("div",{className:"py-2.5 first:pt-0 last:pb-0",children:[_.jsx("dt",{className:"text-xs font-medium text-gray-500 uppercase tracking-wide",children:V.name}),_.jsx("dd",{className:"mt-0.5 text-sm text-gray-900 break-all",title:A[V.name]??"",children:A[V.name]||_.jsx("span",{className:"text-gray-400 italic",children:i("preview.empty")})})]},V.name))})]})})]})]}):_.jsx("div",{className:"max-w-4xl mx-auto",children:_.jsxs("div",{className:"flex flex-col items-center justify-center py-20 text-center",children:[_.jsx(Nl,{className:"w-12 h-12 text-gray-300 mb-4"}),_.jsx("h2",{className:"text-lg font-medium text-gray-700",children:i("preview.noElements")}),_.jsx("p",{className:"mt-1 text-sm text-gray-500",children:i("preview.noElementsHint")}),_.jsxs("button",{type:"button",onClick:()=>a("editor"),className:"mt-4 inline-flex items-center gap-2 px-4 py-2 text-sm font-medium text-indigo-600 bg-indigo-50 rounded-lg hover:bg-indigo-100 transition-colors",children:[_.jsx(Qf,{className:"w-4 h-4"})," ",i("preview.goToEditor")]})]})}):_.jsx("div",{className:"max-w-4xl mx-auto",children:_.jsxs("div",{className:"flex flex-col items-center justify-center py-20 text-center",children:[_.jsx(t0,{className:"w-12 h-12 text-gray-300 mb-4"}),_.jsx("h2",{className:"text-lg font-medium text-gray-700",children:i("preview.noData")}),_.jsx("p",{className:"mt-1 text-sm text-gray-500",children:i("preview.noDataHint")}),_.jsxs("button",{type:"button",onClick:()=>a("upload"),className:"mt-4 inline-flex items-center gap-2 px-4 py-2 text-sm font-medium text-indigo-600 bg-indigo-50 rounded-lg hover:bg-indigo-100 transition-colors",children:[_.jsx(Qf,{className:"w-4 h-4"})," ",i("preview.goToUpload")]})]})})}function Lg(r){throw new Error('Could not dynamically require "'+r+'". Please configure the dynamicRequireTargets or/and ignoreDynamicRequires option of @rollup/plugin-commonjs appropriately for this require call to work.')}var $2={exports:{}};/*!

JSZip v3.10.1 - A JavaScript class for generating and reading zip files
<http://stuartk.com/jszip>

(c) 2009-2016 Stuart Knightley <stuart [at] stuartk.com>
Dual licenced under the MIT license or GPLv3. See https://raw.github.com/Stuk/jszip/main/LICENSE.markdown.

JSZip uses the library pako released under the MIT license :
https://github.com/nodeca/pako/blob/main/LICENSE
*/var o4;function GP(){return o4||(o4=1,(function(r,e){(function(t){r.exports=t()})(function(){return(function t(n,a,i){function o(h,f){if(!a[h]){if(!n[h]){var m=typeof Lg=="function"&&Lg;if(!f&&m)return m(h,!0);if(l)return l(h,!0);var x=new Error("Cannot find module '"+h+"'");throw x.code="MODULE_NOT_FOUND",x}var g=a[h]={exports:{}};n[h][0].call(g.exports,function(y){var v=n[h][1][y];return o(v||y)},g,g.exports,t,n,a,i)}return a[h].exports}for(var l=typeof Lg=="function"&&Lg,u=0;u<i.length;u++)o(i[u]);return o})({1:[function(t,n,a){var i=t("./utils"),o=t("./support"),l="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=";a.encode=function(u){for(var h,f,m,x,g,y,v,S=[],k=0,A=u.length,N=A,j=i.getTypeOf(u)!=="string";k<u.length;)N=A-k,m=j?(h=u[k++],f=k<A?u[k++]:0,k<A?u[k++]:0):(h=u.charCodeAt(k++),f=k<A?u.charCodeAt(k++):0,k<A?u.charCodeAt(k++):0),x=h>>2,g=(3&h)<<4|f>>4,y=1<N?(15&f)<<2|m>>6:64,v=2<N?63&m:64,S.push(l.charAt(x)+l.charAt(g)+l.charAt(y)+l.charAt(v));return S.join("")},a.decode=function(u){var h,f,m,x,g,y,v=0,S=0,k="data:";if(u.substr(0,k.length)===k)throw new Error("Invalid base64 input, it looks like a data url.");var A,N=3*(u=u.replace(/[^A-Za-z0-9+/=]/g,"")).length/4;if(u.charAt(u.length-1)===l.charAt(64)&&N--,u.charAt(u.length-2)===l.charAt(64)&&N--,N%1!=0)throw new Error("Invalid base64 input, bad content length.");for(A=o.uint8array?new Uint8Array(0|N):new Array(0|N);v<u.length;)h=l.indexOf(u.charAt(v++))<<2|(x=l.indexOf(u.charAt(v++)))>>4,f=(15&x)<<4|(g=l.indexOf(u.charAt(v++)))>>2,m=(3&g)<<6|(y=l.indexOf(u.charAt(v++))),A[S++]=h,g!==64&&(A[S++]=f),y!==64&&(A[S++]=m);return A}},{"./support":30,"./utils":32}],2:[function(t,n,a){var i=t("./external"),o=t("./stream/DataWorker"),l=t("./stream/Crc32Probe"),u=t("./stream/DataLengthProbe");function h(f,m,x,g,y){this.compressedSize=f,this.uncompressedSize=m,this.crc32=x,this.compression=g,this.compressedContent=y}h.prototype={getContentWorker:function(){var f=new o(i.Promise.resolve(this.compressedContent)).pipe(this.compression.uncompressWorker()).pipe(new u("data_length")),m=this;return f.on("end",function(){if(this.streamInfo.data_length!==m.uncompressedSize)throw new Error("Bug : uncompressed data size mismatch")}),f},getCompressedWorker:function(){return new o(i.Promise.resolve(this.compressedContent)).withStreamInfo("compressedSize",this.compressedSize).withStreamInfo("uncompressedSize",this.uncompressedSize).withStreamInfo("crc32",this.crc32).withStreamInfo("compression",this.compression)}},h.createWorkerFrom=function(f,m,x){return f.pipe(new l).pipe(new u("uncompressedSize")).pipe(m.compressWorker(x)).pipe(new u("compressedSize")).withStreamInfo("compression",m)},n.exports=h},{"./external":6,"./stream/Crc32Probe":25,"./stream/DataLengthProbe":26,"./stream/DataWorker":27}],3:[function(t,n,a){var i=t("./stream/GenericWorker");a.STORE={magic:"\0\0",compressWorker:function(){return new i("STORE compression")},uncompressWorker:function(){return new i("STORE decompression")}},a.DEFLATE=t("./flate")},{"./flate":7,"./stream/GenericWorker":28}],4:[function(t,n,a){var i=t("./utils"),o=(function(){for(var l,u=[],h=0;h<256;h++){l=h;for(var f=0;f<8;f++)l=1&l?3988292384^l>>>1:l>>>1;u[h]=l}return u})();n.exports=function(l,u){return l!==void 0&&l.length?i.getTypeOf(l)!=="string"?(function(h,f,m,x){var g=o,y=x+m;h^=-1;for(var v=x;v<y;v++)h=h>>>8^g[255&(h^f[v])];return-1^h})(0|u,l,l.length,0):(function(h,f,m,x){var g=o,y=x+m;h^=-1;for(var v=x;v<y;v++)h=h>>>8^g[255&(h^f.charCodeAt(v))];return-1^h})(0|u,l,l.length,0):0}},{"./utils":32}],5:[function(t,n,a){a.base64=!1,a.binary=!1,a.dir=!1,a.createFolders=!0,a.date=null,a.compression=null,a.compressionOptions=null,a.comment=null,a.unixPermissions=null,a.dosPermissions=null},{}],6:[function(t,n,a){var i=null;i=typeof Promise<"u"?Promise:t("lie"),n.exports={Promise:i}},{lie:37}],7:[function(t,n,a){var i=typeof Uint8Array<"u"&&typeof Uint16Array<"u"&&typeof Uint32Array<"u",o=t("pako"),l=t("./utils"),u=t("./stream/GenericWorker"),h=i?"uint8array":"array";function f(m,x){u.call(this,"FlateWorker/"+m),this._pako=null,this._pakoAction=m,this._pakoOptions=x,this.meta={}}a.magic="\b\0",l.inherits(f,u),f.prototype.processChunk=function(m){this.meta=m.meta,this._pako===null&&this._createPako(),this._pako.push(l.transformTo(h,m.data),!1)},f.prototype.flush=function(){u.prototype.flush.call(this),this._pako===null&&this._createPako(),this._pako.push([],!0)},f.prototype.cleanUp=function(){u.prototype.cleanUp.call(this),this._pako=null},f.prototype._createPako=function(){this._pako=new o[this._pakoAction]({raw:!0,level:this._pakoOptions.level||-1});var m=this;this._pako.onData=function(x){m.push({data:x,meta:m.meta})}},a.compressWorker=function(m){return new f("Deflate",m)},a.uncompressWorker=function(){return new f("Inflate",{})}},{"./stream/GenericWorker":28,"./utils":32,pako:38}],8:[function(t,n,a){function i(g,y){var v,S="";for(v=0;v<y;v++)S+=String.fromCharCode(255&g),g>>>=8;return S}function o(g,y,v,S,k,A){var N,j,W=g.file,ee=g.compression,z=A!==h.utf8encode,B=l.transformTo("string",A(W.name)),D=l.transformTo("string",h.utf8encode(W.name)),Z=W.comment,q=l.transformTo("string",A(Z)),O=l.transformTo("string",h.utf8encode(Z)),V=D.length!==W.name.length,F=O.length!==Z.length,re="",ae="",J="",ge=W.dir,te=W.date,ke={crc32:0,compressedSize:0,uncompressedSize:0};y&&!v||(ke.crc32=g.crc32,ke.compressedSize=g.compressedSize,ke.uncompressedSize=g.uncompressedSize);var Y=0;y&&(Y|=8),z||!V&&!F||(Y|=2048);var w=0,L=0;ge&&(w|=16),k==="UNIX"?(L=798,w|=(function(U,ie){var fe=U;return U||(fe=ie?16893:33204),(65535&fe)<<16})(W.unixPermissions,ge)):(L=20,w|=(function(U){return 63&(U||0)})(W.dosPermissions)),N=te.getUTCHours(),N<<=6,N|=te.getUTCMinutes(),N<<=5,N|=te.getUTCSeconds()/2,j=te.getUTCFullYear()-1980,j<<=4,j|=te.getUTCMonth()+1,j<<=5,j|=te.getUTCDate(),V&&(ae=i(1,1)+i(f(B),4)+D,re+="up"+i(ae.length,2)+ae),F&&(J=i(1,1)+i(f(q),4)+O,re+="uc"+i(J.length,2)+J);var P="";return P+=`
\0`,P+=i(Y,2),P+=ee.magic,P+=i(N,2),P+=i(j,2),P+=i(ke.crc32,4),P+=i(ke.compressedSize,4),P+=i(ke.uncompressedSize,4),P+=i(B.length,2),P+=i(re.length,2),{fileRecord:m.LOCAL_FILE_HEADER+P+B+re,dirRecord:m.CENTRAL_FILE_HEADER+i(L,2)+P+i(q.length,2)+"\0\0\0\0"+i(w,4)+i(S,4)+B+re+q}}var l=t("../utils"),u=t("../stream/GenericWorker"),h=t("../utf8"),f=t("../crc32"),m=t("../signature");function x(g,y,v,S){u.call(this,"ZipFileWorker"),this.bytesWritten=0,this.zipComment=y,this.zipPlatform=v,this.encodeFileName=S,this.streamFiles=g,this.accumulate=!1,this.contentBuffer=[],this.dirRecords=[],this.currentSourceOffset=0,this.entriesCount=0,this.currentFile=null,this._sources=[]}l.inherits(x,u),x.prototype.push=function(g){var y=g.meta.percent||0,v=this.entriesCount,S=this._sources.length;this.accumulate?this.contentBuffer.push(g):(this.bytesWritten+=g.data.length,u.prototype.push.call(this,{data:g.data,meta:{currentFile:this.currentFile,percent:v?(y+100*(v-S-1))/v:100}}))},x.prototype.openedSource=function(g){this.currentSourceOffset=this.bytesWritten,this.currentFile=g.file.name;var y=this.streamFiles&&!g.file.dir;if(y){var v=o(g,y,!1,this.currentSourceOffset,this.zipPlatform,this.encodeFileName);this.push({data:v.fileRecord,meta:{percent:0}})}else this.accumulate=!0},x.prototype.closedSource=function(g){this.accumulate=!1;var y=this.streamFiles&&!g.file.dir,v=o(g,y,!0,this.currentSourceOffset,this.zipPlatform,this.encodeFileName);if(this.dirRecords.push(v.dirRecord),y)this.push({data:(function(S){return m.DATA_DESCRIPTOR+i(S.crc32,4)+i(S.compressedSize,4)+i(S.uncompressedSize,4)})(g),meta:{percent:100}});else for(this.push({data:v.fileRecord,meta:{percent:0}});this.contentBuffer.length;)this.push(this.contentBuffer.shift());this.currentFile=null},x.prototype.flush=function(){for(var g=this.bytesWritten,y=0;y<this.dirRecords.length;y++)this.push({data:this.dirRecords[y],meta:{percent:100}});var v=this.bytesWritten-g,S=(function(k,A,N,j,W){var ee=l.transformTo("string",W(j));return m.CENTRAL_DIRECTORY_END+"\0\0\0\0"+i(k,2)+i(k,2)+i(A,4)+i(N,4)+i(ee.length,2)+ee})(this.dirRecords.length,v,g,this.zipComment,this.encodeFileName);this.push({data:S,meta:{percent:100}})},x.prototype.prepareNextSource=function(){this.previous=this._sources.shift(),this.openedSource(this.previous.streamInfo),this.isPaused?this.previous.pause():this.previous.resume()},x.prototype.registerPrevious=function(g){this._sources.push(g);var y=this;return g.on("data",function(v){y.processChunk(v)}),g.on("end",function(){y.closedSource(y.previous.streamInfo),y._sources.length?y.prepareNextSource():y.end()}),g.on("error",function(v){y.error(v)}),this},x.prototype.resume=function(){return!!u.prototype.resume.call(this)&&(!this.previous&&this._sources.length?(this.prepareNextSource(),!0):this.previous||this._sources.length||this.generatedError?void 0:(this.end(),!0))},x.prototype.error=function(g){var y=this._sources;if(!u.prototype.error.call(this,g))return!1;for(var v=0;v<y.length;v++)try{y[v].error(g)}catch{}return!0},x.prototype.lock=function(){u.prototype.lock.call(this);for(var g=this._sources,y=0;y<g.length;y++)g[y].lock()},n.exports=x},{"../crc32":4,"../signature":23,"../stream/GenericWorker":28,"../utf8":31,"../utils":32}],9:[function(t,n,a){var i=t("../compressions"),o=t("./ZipFileWorker");a.generateWorker=function(l,u,h){var f=new o(u.streamFiles,h,u.platform,u.encodeFileName),m=0;try{l.forEach(function(x,g){m++;var y=(function(A,N){var j=A||N,W=i[j];if(!W)throw new Error(j+" is not a valid compression method !");return W})(g.options.compression,u.compression),v=g.options.compressionOptions||u.compressionOptions||{},S=g.dir,k=g.date;g._compressWorker(y,v).withStreamInfo("file",{name:x,dir:S,date:k,comment:g.comment||"",unixPermissions:g.unixPermissions,dosPermissions:g.dosPermissions}).pipe(f)}),f.entriesCount=m}catch(x){f.error(x)}return f}},{"../compressions":3,"./ZipFileWorker":8}],10:[function(t,n,a){function i(){if(!(this instanceof i))return new i;if(arguments.length)throw new Error("The constructor with parameters has been removed in JSZip 3.0, please check the upgrade guide.");this.files=Object.create(null),this.comment=null,this.root="",this.clone=function(){var o=new i;for(var l in this)typeof this[l]!="function"&&(o[l]=this[l]);return o}}(i.prototype=t("./object")).loadAsync=t("./load"),i.support=t("./support"),i.defaults=t("./defaults"),i.version="3.10.1",i.loadAsync=function(o,l){return new i().loadAsync(o,l)},i.external=t("./external"),n.exports=i},{"./defaults":5,"./external":6,"./load":11,"./object":15,"./support":30}],11:[function(t,n,a){var i=t("./utils"),o=t("./external"),l=t("./utf8"),u=t("./zipEntries"),h=t("./stream/Crc32Probe"),f=t("./nodejsUtils");function m(x){return new o.Promise(function(g,y){var v=x.decompressed.getContentWorker().pipe(new h);v.on("error",function(S){y(S)}).on("end",function(){v.streamInfo.crc32!==x.decompressed.crc32?y(new Error("Corrupted zip : CRC32 mismatch")):g()}).resume()})}n.exports=function(x,g){var y=this;return g=i.extend(g||{},{base64:!1,checkCRC32:!1,optimizedBinaryString:!1,createFolders:!1,decodeFileName:l.utf8decode}),f.isNode&&f.isStream(x)?o.Promise.reject(new Error("JSZip can't accept a stream when loading a zip file.")):i.prepareContent("the loaded zip file",x,!0,g.optimizedBinaryString,g.base64).then(function(v){var S=new u(g);return S.load(v),S}).then(function(v){var S=[o.Promise.resolve(v)],k=v.files;if(g.checkCRC32)for(var A=0;A<k.length;A++)S.push(m(k[A]));return o.Promise.all(S)}).then(function(v){for(var S=v.shift(),k=S.files,A=0;A<k.length;A++){var N=k[A],j=N.fileNameStr,W=i.resolve(N.fileNameStr);y.file(W,N.decompressed,{binary:!0,optimizedBinaryString:!0,date:N.date,dir:N.dir,comment:N.fileCommentStr.length?N.fileCommentStr:null,unixPermissions:N.unixPermissions,dosPermissions:N.dosPermissions,createFolders:g.createFolders}),N.dir||(y.file(W).unsafeOriginalName=j)}return S.zipComment.length&&(y.comment=S.zipComment),y})}},{"./external":6,"./nodejsUtils":14,"./stream/Crc32Probe":25,"./utf8":31,"./utils":32,"./zipEntries":33}],12:[function(t,n,a){var i=t("../utils"),o=t("../stream/GenericWorker");function l(u,h){o.call(this,"Nodejs stream input adapter for "+u),this._upstreamEnded=!1,this._bindStream(h)}i.inherits(l,o),l.prototype._bindStream=function(u){var h=this;(this._stream=u).pause(),u.on("data",function(f){h.push({data:f,meta:{percent:0}})}).on("error",function(f){h.isPaused?this.generatedError=f:h.error(f)}).on("end",function(){h.isPaused?h._upstreamEnded=!0:h.end()})},l.prototype.pause=function(){return!!o.prototype.pause.call(this)&&(this._stream.pause(),!0)},l.prototype.resume=function(){return!!o.prototype.resume.call(this)&&(this._upstreamEnded?this.end():this._stream.resume(),!0)},n.exports=l},{"../stream/GenericWorker":28,"../utils":32}],13:[function(t,n,a){var i=t("readable-stream").Readable;function o(l,u,h){i.call(this,u),this._helper=l;var f=this;l.on("data",function(m,x){f.push(m)||f._helper.pause(),h&&h(x)}).on("error",function(m){f.emit("error",m)}).on("end",function(){f.push(null)})}t("../utils").inherits(o,i),o.prototype._read=function(){this._helper.resume()},n.exports=o},{"../utils":32,"readable-stream":16}],14:[function(t,n,a){n.exports={isNode:typeof Buffer<"u",newBufferFrom:function(i,o){if(Buffer.from&&Buffer.from!==Uint8Array.from)return Buffer.from(i,o);if(typeof i=="number")throw new Error('The "data" argument must not be a number');return new Buffer(i,o)},allocBuffer:function(i){if(Buffer.alloc)return Buffer.alloc(i);var o=new Buffer(i);return o.fill(0),o},isBuffer:function(i){return Buffer.isBuffer(i)},isStream:function(i){return i&&typeof i.on=="function"&&typeof i.pause=="function"&&typeof i.resume=="function"}}},{}],15:[function(t,n,a){function i(W,ee,z){var B,D=l.getTypeOf(ee),Z=l.extend(z||{},f);Z.date=Z.date||new Date,Z.compression!==null&&(Z.compression=Z.compression.toUpperCase()),typeof Z.unixPermissions=="string"&&(Z.unixPermissions=parseInt(Z.unixPermissions,8)),Z.unixPermissions&&16384&Z.unixPermissions&&(Z.dir=!0),Z.dosPermissions&&16&Z.dosPermissions&&(Z.dir=!0),Z.dir&&(W=k(W)),Z.createFolders&&(B=S(W))&&A.call(this,B,!0);var q=D==="string"&&Z.binary===!1&&Z.base64===!1;z&&z.binary!==void 0||(Z.binary=!q),(ee instanceof m&&ee.uncompressedSize===0||Z.dir||!ee||ee.length===0)&&(Z.base64=!1,Z.binary=!0,ee="",Z.compression="STORE",D="string");var O=null;O=ee instanceof m||ee instanceof u?ee:y.isNode&&y.isStream(ee)?new v(W,ee):l.prepareContent(W,ee,Z.binary,Z.optimizedBinaryString,Z.base64);var V=new x(W,O,Z);this.files[W]=V}var o=t("./utf8"),l=t("./utils"),u=t("./stream/GenericWorker"),h=t("./stream/StreamHelper"),f=t("./defaults"),m=t("./compressedObject"),x=t("./zipObject"),g=t("./generate"),y=t("./nodejsUtils"),v=t("./nodejs/NodejsStreamInputAdapter"),S=function(W){W.slice(-1)==="/"&&(W=W.substring(0,W.length-1));var ee=W.lastIndexOf("/");return 0<ee?W.substring(0,ee):""},k=function(W){return W.slice(-1)!=="/"&&(W+="/"),W},A=function(W,ee){return ee=ee!==void 0?ee:f.createFolders,W=k(W),this.files[W]||i.call(this,W,null,{dir:!0,createFolders:ee}),this.files[W]};function N(W){return Object.prototype.toString.call(W)==="[object RegExp]"}var j={load:function(){throw new Error("This method has been removed in JSZip 3.0, please check the upgrade guide.")},forEach:function(W){var ee,z,B;for(ee in this.files)B=this.files[ee],(z=ee.slice(this.root.length,ee.length))&&ee.slice(0,this.root.length)===this.root&&W(z,B)},filter:function(W){var ee=[];return this.forEach(function(z,B){W(z,B)&&ee.push(B)}),ee},file:function(W,ee,z){if(arguments.length!==1)return W=this.root+W,i.call(this,W,ee,z),this;if(N(W)){var B=W;return this.filter(function(Z,q){return!q.dir&&B.test(Z)})}var D=this.files[this.root+W];return D&&!D.dir?D:null},folder:function(W){if(!W)return this;if(N(W))return this.filter(function(D,Z){return Z.dir&&W.test(D)});var ee=this.root+W,z=A.call(this,ee),B=this.clone();return B.root=z.name,B},remove:function(W){W=this.root+W;var ee=this.files[W];if(ee||(W.slice(-1)!=="/"&&(W+="/"),ee=this.files[W]),ee&&!ee.dir)delete this.files[W];else for(var z=this.filter(function(D,Z){return Z.name.slice(0,W.length)===W}),B=0;B<z.length;B++)delete this.files[z[B].name];return this},generate:function(){throw new Error("This method has been removed in JSZip 3.0, please check the upgrade guide.")},generateInternalStream:function(W){var ee,z={};try{if((z=l.extend(W||{},{streamFiles:!1,compression:"STORE",compressionOptions:null,type:"",platform:"DOS",comment:null,mimeType:"application/zip",encodeFileName:o.utf8encode})).type=z.type.toLowerCase(),z.compression=z.compression.toUpperCase(),z.type==="binarystring"&&(z.type="string"),!z.type)throw new Error("No output type specified.");l.checkSupport(z.type),z.platform!=="darwin"&&z.platform!=="freebsd"&&z.platform!=="linux"&&z.platform!=="sunos"||(z.platform="UNIX"),z.platform==="win32"&&(z.platform="DOS");var B=z.comment||this.comment||"";ee=g.generateWorker(this,z,B)}catch(D){(ee=new u("error")).error(D)}return new h(ee,z.type||"string",z.mimeType)},generateAsync:function(W,ee){return this.generateInternalStream(W).accumulate(ee)},generateNodeStream:function(W,ee){return(W=W||{}).type||(W.type="nodebuffer"),this.generateInternalStream(W).toNodejsStream(ee)}};n.exports=j},{"./compressedObject":2,"./defaults":5,"./generate":9,"./nodejs/NodejsStreamInputAdapter":12,"./nodejsUtils":14,"./stream/GenericWorker":28,"./stream/StreamHelper":29,"./utf8":31,"./utils":32,"./zipObject":35}],16:[function(t,n,a){n.exports=t("stream")},{stream:void 0}],17:[function(t,n,a){var i=t("./DataReader");function o(l){i.call(this,l);for(var u=0;u<this.data.length;u++)l[u]=255&l[u]}t("../utils").inherits(o,i),o.prototype.byteAt=function(l){return this.data[this.zero+l]},o.prototype.lastIndexOfSignature=function(l){for(var u=l.charCodeAt(0),h=l.charCodeAt(1),f=l.charCodeAt(2),m=l.charCodeAt(3),x=this.length-4;0<=x;--x)if(this.data[x]===u&&this.data[x+1]===h&&this.data[x+2]===f&&this.data[x+3]===m)return x-this.zero;return-1},o.prototype.readAndCheckSignature=function(l){var u=l.charCodeAt(0),h=l.charCodeAt(1),f=l.charCodeAt(2),m=l.charCodeAt(3),x=this.readData(4);return u===x[0]&&h===x[1]&&f===x[2]&&m===x[3]},o.prototype.readData=function(l){if(this.checkOffset(l),l===0)return[];var u=this.data.slice(this.zero+this.index,this.zero+this.index+l);return this.index+=l,u},n.exports=o},{"../utils":32,"./DataReader":18}],18:[function(t,n,a){var i=t("../utils");function o(l){this.data=l,this.length=l.length,this.index=0,this.zero=0}o.prototype={checkOffset:function(l){this.checkIndex(this.index+l)},checkIndex:function(l){if(this.length<this.zero+l||l<0)throw new Error("End of data reached (data length = "+this.length+", asked index = "+l+"). Corrupted zip ?")},setIndex:function(l){this.checkIndex(l),this.index=l},skip:function(l){this.setIndex(this.index+l)},byteAt:function(){},readInt:function(l){var u,h=0;for(this.checkOffset(l),u=this.index+l-1;u>=this.index;u--)h=(h<<8)+this.byteAt(u);return this.index+=l,h},readString:function(l){return i.transformTo("string",this.readData(l))},readData:function(){},lastIndexOfSignature:function(){},readAndCheckSignature:function(){},readDate:function(){var l=this.readInt(4);return new Date(Date.UTC(1980+(l>>25&127),(l>>21&15)-1,l>>16&31,l>>11&31,l>>5&63,(31&l)<<1))}},n.exports=o},{"../utils":32}],19:[function(t,n,a){var i=t("./Uint8ArrayReader");function o(l){i.call(this,l)}t("../utils").inherits(o,i),o.prototype.readData=function(l){this.checkOffset(l);var u=this.data.slice(this.zero+this.index,this.zero+this.index+l);return this.index+=l,u},n.exports=o},{"../utils":32,"./Uint8ArrayReader":21}],20:[function(t,n,a){var i=t("./DataReader");function o(l){i.call(this,l)}t("../utils").inherits(o,i),o.prototype.byteAt=function(l){return this.data.charCodeAt(this.zero+l)},o.prototype.lastIndexOfSignature=function(l){return this.data.lastIndexOf(l)-this.zero},o.prototype.readAndCheckSignature=function(l){return l===this.readData(4)},o.prototype.readData=function(l){this.checkOffset(l);var u=this.data.slice(this.zero+this.index,this.zero+this.index+l);return this.index+=l,u},n.exports=o},{"../utils":32,"./DataReader":18}],21:[function(t,n,a){var i=t("./ArrayReader");function o(l){i.call(this,l)}t("../utils").inherits(o,i),o.prototype.readData=function(l){if(this.checkOffset(l),l===0)return new Uint8Array(0);var u=this.data.subarray(this.zero+this.index,this.zero+this.index+l);return this.index+=l,u},n.exports=o},{"../utils":32,"./ArrayReader":17}],22:[function(t,n,a){var i=t("../utils"),o=t("../support"),l=t("./ArrayReader"),u=t("./StringReader"),h=t("./NodeBufferReader"),f=t("./Uint8ArrayReader");n.exports=function(m){var x=i.getTypeOf(m);return i.checkSupport(x),x!=="string"||o.uint8array?x==="nodebuffer"?new h(m):o.uint8array?new f(i.transformTo("uint8array",m)):new l(i.transformTo("array",m)):new u(m)}},{"../support":30,"../utils":32,"./ArrayReader":17,"./NodeBufferReader":19,"./StringReader":20,"./Uint8ArrayReader":21}],23:[function(t,n,a){a.LOCAL_FILE_HEADER="PK",a.CENTRAL_FILE_HEADER="PK",a.CENTRAL_DIRECTORY_END="PK",a.ZIP64_CENTRAL_DIRECTORY_LOCATOR="PK\x07",a.ZIP64_CENTRAL_DIRECTORY_END="PK",a.DATA_DESCRIPTOR="PK\x07\b"},{}],24:[function(t,n,a){var i=t("./GenericWorker"),o=t("../utils");function l(u){i.call(this,"ConvertWorker to "+u),this.destType=u}o.inherits(l,i),l.prototype.processChunk=function(u){this.push({data:o.transformTo(this.destType,u.data),meta:u.meta})},n.exports=l},{"../utils":32,"./GenericWorker":28}],25:[function(t,n,a){var i=t("./GenericWorker"),o=t("../crc32");function l(){i.call(this,"Crc32Probe"),this.withStreamInfo("crc32",0)}t("../utils").inherits(l,i),l.prototype.processChunk=function(u){this.streamInfo.crc32=o(u.data,this.streamInfo.crc32||0),this.push(u)},n.exports=l},{"../crc32":4,"../utils":32,"./GenericWorker":28}],26:[function(t,n,a){var i=t("../utils"),o=t("./GenericWorker");function l(u){o.call(this,"DataLengthProbe for "+u),this.propName=u,this.withStreamInfo(u,0)}i.inherits(l,o),l.prototype.processChunk=function(u){if(u){var h=this.streamInfo[this.propName]||0;this.streamInfo[this.propName]=h+u.data.length}o.prototype.processChunk.call(this,u)},n.exports=l},{"../utils":32,"./GenericWorker":28}],27:[function(t,n,a){var i=t("../utils"),o=t("./GenericWorker");function l(u){o.call(this,"DataWorker");var h=this;this.dataIsReady=!1,this.index=0,this.max=0,this.data=null,this.type="",this._tickScheduled=!1,u.then(function(f){h.dataIsReady=!0,h.data=f,h.max=f&&f.length||0,h.type=i.getTypeOf(f),h.isPaused||h._tickAndRepeat()},function(f){h.error(f)})}i.inherits(l,o),l.prototype.cleanUp=function(){o.prototype.cleanUp.call(this),this.data=null},l.prototype.resume=function(){return!!o.prototype.resume.call(this)&&(!this._tickScheduled&&this.dataIsReady&&(this._tickScheduled=!0,i.delay(this._tickAndRepeat,[],this)),!0)},l.prototype._tickAndRepeat=function(){this._tickScheduled=!1,this.isPaused||this.isFinished||(this._tick(),this.isFinished||(i.delay(this._tickAndRepeat,[],this),this._tickScheduled=!0))},l.prototype._tick=function(){if(this.isPaused||this.isFinished)return!1;var u=null,h=Math.min(this.max,this.index+16384);if(this.index>=this.max)return this.end();switch(this.type){case"string":u=this.data.substring(this.index,h);break;case"uint8array":u=this.data.subarray(this.index,h);break;case"array":case"nodebuffer":u=this.data.slice(this.index,h)}return this.index=h,this.push({data:u,meta:{percent:this.max?this.index/this.max*100:0}})},n.exports=l},{"../utils":32,"./GenericWorker":28}],28:[function(t,n,a){function i(o){this.name=o||"default",this.streamInfo={},this.generatedError=null,this.extraStreamInfo={},this.isPaused=!0,this.isFinished=!1,this.isLocked=!1,this._listeners={data:[],end:[],error:[]},this.previous=null}i.prototype={push:function(o){this.emit("data",o)},end:function(){if(this.isFinished)return!1;this.flush();try{this.emit("end"),this.cleanUp(),this.isFinished=!0}catch(o){this.emit("error",o)}return!0},error:function(o){return!this.isFinished&&(this.isPaused?this.generatedError=o:(this.isFinished=!0,this.emit("error",o),this.previous&&this.previous.error(o),this.cleanUp()),!0)},on:function(o,l){return this._listeners[o].push(l),this},cleanUp:function(){this.streamInfo=this.generatedError=this.extraStreamInfo=null,this._listeners=[]},emit:function(o,l){if(this._listeners[o])for(var u=0;u<this._listeners[o].length;u++)this._listeners[o][u].call(this,l)},pipe:function(o){return o.registerPrevious(this)},registerPrevious:function(o){if(this.isLocked)throw new Error("The stream '"+this+"' has already been used.");this.streamInfo=o.streamInfo,this.mergeStreamInfo(),this.previous=o;var l=this;return o.on("data",function(u){l.processChunk(u)}),o.on("end",function(){l.end()}),o.on("error",function(u){l.error(u)}),this},pause:function(){return!this.isPaused&&!this.isFinished&&(this.isPaused=!0,this.previous&&this.previous.pause(),!0)},resume:function(){if(!this.isPaused||this.isFinished)return!1;var o=this.isPaused=!1;return this.generatedError&&(this.error(this.generatedError),o=!0),this.previous&&this.previous.resume(),!o},flush:function(){},processChunk:function(o){this.push(o)},withStreamInfo:function(o,l){return this.extraStreamInfo[o]=l,this.mergeStreamInfo(),this},mergeStreamInfo:function(){for(var o in this.extraStreamInfo)Object.prototype.hasOwnProperty.call(this.extraStreamInfo,o)&&(this.streamInfo[o]=this.extraStreamInfo[o])},lock:function(){if(this.isLocked)throw new Error("The stream '"+this+"' has already been used.");this.isLocked=!0,this.previous&&this.previous.lock()},toString:function(){var o="Worker "+this.name;return this.previous?this.previous+" -> "+o:o}},n.exports=i},{}],29:[function(t,n,a){var i=t("../utils"),o=t("./ConvertWorker"),l=t("./GenericWorker"),u=t("../base64"),h=t("../support"),f=t("../external"),m=null;if(h.nodestream)try{m=t("../nodejs/NodejsStreamOutputAdapter")}catch{}function x(y,v){return new f.Promise(function(S,k){var A=[],N=y._internalType,j=y._outputType,W=y._mimeType;y.on("data",function(ee,z){A.push(ee),v&&v(z)}).on("error",function(ee){A=[],k(ee)}).on("end",function(){try{var ee=(function(z,B,D){switch(z){case"blob":return i.newBlob(i.transformTo("arraybuffer",B),D);case"base64":return u.encode(B);default:return i.transformTo(z,B)}})(j,(function(z,B){var D,Z=0,q=null,O=0;for(D=0;D<B.length;D++)O+=B[D].length;switch(z){case"string":return B.join("");case"array":return Array.prototype.concat.apply([],B);case"uint8array":for(q=new Uint8Array(O),D=0;D<B.length;D++)q.set(B[D],Z),Z+=B[D].length;return q;case"nodebuffer":return Buffer.concat(B);default:throw new Error("concat : unsupported type '"+z+"'")}})(N,A),W);S(ee)}catch(z){k(z)}A=[]}).resume()})}function g(y,v,S){var k=v;switch(v){case"blob":case"arraybuffer":k="uint8array";break;case"base64":k="string"}try{this._internalType=k,this._outputType=v,this._mimeType=S,i.checkSupport(k),this._worker=y.pipe(new o(k)),y.lock()}catch(A){this._worker=new l("error"),this._worker.error(A)}}g.prototype={accumulate:function(y){return x(this,y)},on:function(y,v){var S=this;return y==="data"?this._worker.on(y,function(k){v.call(S,k.data,k.meta)}):this._worker.on(y,function(){i.delay(v,arguments,S)}),this},resume:function(){return i.delay(this._worker.resume,[],this._worker),this},pause:function(){return this._worker.pause(),this},toNodejsStream:function(y){if(i.checkSupport("nodestream"),this._outputType!=="nodebuffer")throw new Error(this._outputType+" is not supported by this method");return new m(this,{objectMode:this._outputType!=="nodebuffer"},y)}},n.exports=g},{"../base64":1,"../external":6,"../nodejs/NodejsStreamOutputAdapter":13,"../support":30,"../utils":32,"./ConvertWorker":24,"./GenericWorker":28}],30:[function(t,n,a){if(a.base64=!0,a.array=!0,a.string=!0,a.arraybuffer=typeof ArrayBuffer<"u"&&typeof Uint8Array<"u",a.nodebuffer=typeof Buffer<"u",a.uint8array=typeof Uint8Array<"u",typeof ArrayBuffer>"u")a.blob=!1;else{var i=new ArrayBuffer(0);try{a.blob=new Blob([i],{type:"application/zip"}).size===0}catch{try{var o=new(self.BlobBuilder||self.WebKitBlobBuilder||self.MozBlobBuilder||self.MSBlobBuilder);o.append(i),a.blob=o.getBlob("application/zip").size===0}catch{a.blob=!1}}}try{a.nodestream=!!t("readable-stream").Readable}catch{a.nodestream=!1}},{"readable-stream":16}],31:[function(t,n,a){for(var i=t("./utils"),o=t("./support"),l=t("./nodejsUtils"),u=t("./stream/GenericWorker"),h=new Array(256),f=0;f<256;f++)h[f]=252<=f?6:248<=f?5:240<=f?4:224<=f?3:192<=f?2:1;h[254]=h[254]=1;function m(){u.call(this,"utf-8 decode"),this.leftOver=null}function x(){u.call(this,"utf-8 encode")}a.utf8encode=function(g){return o.nodebuffer?l.newBufferFrom(g,"utf-8"):(function(y){var v,S,k,A,N,j=y.length,W=0;for(A=0;A<j;A++)(64512&(S=y.charCodeAt(A)))==55296&&A+1<j&&(64512&(k=y.charCodeAt(A+1)))==56320&&(S=65536+(S-55296<<10)+(k-56320),A++),W+=S<128?1:S<2048?2:S<65536?3:4;for(v=o.uint8array?new Uint8Array(W):new Array(W),A=N=0;N<W;A++)(64512&(S=y.charCodeAt(A)))==55296&&A+1<j&&(64512&(k=y.charCodeAt(A+1)))==56320&&(S=65536+(S-55296<<10)+(k-56320),A++),S<128?v[N++]=S:(S<2048?v[N++]=192|S>>>6:(S<65536?v[N++]=224|S>>>12:(v[N++]=240|S>>>18,v[N++]=128|S>>>12&63),v[N++]=128|S>>>6&63),v[N++]=128|63&S);return v})(g)},a.utf8decode=function(g){return o.nodebuffer?i.transformTo("nodebuffer",g).toString("utf-8"):(function(y){var v,S,k,A,N=y.length,j=new Array(2*N);for(v=S=0;v<N;)if((k=y[v++])<128)j[S++]=k;else if(4<(A=h[k]))j[S++]=65533,v+=A-1;else{for(k&=A===2?31:A===3?15:7;1<A&&v<N;)k=k<<6|63&y[v++],A--;1<A?j[S++]=65533:k<65536?j[S++]=k:(k-=65536,j[S++]=55296|k>>10&1023,j[S++]=56320|1023&k)}return j.length!==S&&(j.subarray?j=j.subarray(0,S):j.length=S),i.applyFromCharCode(j)})(g=i.transformTo(o.uint8array?"uint8array":"array",g))},i.inherits(m,u),m.prototype.processChunk=function(g){var y=i.transformTo(o.uint8array?"uint8array":"array",g.data);if(this.leftOver&&this.leftOver.length){if(o.uint8array){var v=y;(y=new Uint8Array(v.length+this.leftOver.length)).set(this.leftOver,0),y.set(v,this.leftOver.length)}else y=this.leftOver.concat(y);this.leftOver=null}var S=(function(A,N){var j;for((N=N||A.length)>A.length&&(N=A.length),j=N-1;0<=j&&(192&A[j])==128;)j--;return j<0||j===0?N:j+h[A[j]]>N?j:N})(y),k=y;S!==y.length&&(o.uint8array?(k=y.subarray(0,S),this.leftOver=y.subarray(S,y.length)):(k=y.slice(0,S),this.leftOver=y.slice(S,y.length))),this.push({data:a.utf8decode(k),meta:g.meta})},m.prototype.flush=function(){this.leftOver&&this.leftOver.length&&(this.push({data:a.utf8decode(this.leftOver),meta:{}}),this.leftOver=null)},a.Utf8DecodeWorker=m,i.inherits(x,u),x.prototype.processChunk=function(g){this.push({data:a.utf8encode(g.data),meta:g.meta})},a.Utf8EncodeWorker=x},{"./nodejsUtils":14,"./stream/GenericWorker":28,"./support":30,"./utils":32}],32:[function(t,n,a){var i=t("./support"),o=t("./base64"),l=t("./nodejsUtils"),u=t("./external");function h(v){return v}function f(v,S){for(var k=0;k<v.length;++k)S[k]=255&v.charCodeAt(k);return S}t("setimmediate"),a.newBlob=function(v,S){a.checkSupport("blob");try{return new Blob([v],{type:S})}catch{try{var k=new(self.BlobBuilder||self.WebKitBlobBuilder||self.MozBlobBuilder||self.MSBlobBuilder);return k.append(v),k.getBlob(S)}catch{throw new Error("Bug : can't construct the Blob.")}}};var m={stringifyByChunk:function(v,S,k){var A=[],N=0,j=v.length;if(j<=k)return String.fromCharCode.apply(null,v);for(;N<j;)S==="array"||S==="nodebuffer"?A.push(String.fromCharCode.apply(null,v.slice(N,Math.min(N+k,j)))):A.push(String.fromCharCode.apply(null,v.subarray(N,Math.min(N+k,j)))),N+=k;return A.join("")},stringifyByChar:function(v){for(var S="",k=0;k<v.length;k++)S+=String.fromCharCode(v[k]);return S},applyCanBeUsed:{uint8array:(function(){try{return i.uint8array&&String.fromCharCode.apply(null,new Uint8Array(1)).length===1}catch{return!1}})(),nodebuffer:(function(){try{return i.nodebuffer&&String.fromCharCode.apply(null,l.allocBuffer(1)).length===1}catch{return!1}})()}};function x(v){var S=65536,k=a.getTypeOf(v),A=!0;if(k==="uint8array"?A=m.applyCanBeUsed.uint8array:k==="nodebuffer"&&(A=m.applyCanBeUsed.nodebuffer),A)for(;1<S;)try{return m.stringifyByChunk(v,k,S)}catch{S=Math.floor(S/2)}return m.stringifyByChar(v)}function g(v,S){for(var k=0;k<v.length;k++)S[k]=v[k];return S}a.applyFromCharCode=x;var y={};y.string={string:h,array:function(v){return f(v,new Array(v.length))},arraybuffer:function(v){return y.string.uint8array(v).buffer},uint8array:function(v){return f(v,new Uint8Array(v.length))},nodebuffer:function(v){return f(v,l.allocBuffer(v.length))}},y.array={string:x,array:h,arraybuffer:function(v){return new Uint8Array(v).buffer},uint8array:function(v){return new Uint8Array(v)},nodebuffer:function(v){return l.newBufferFrom(v)}},y.arraybuffer={string:function(v){return x(new Uint8Array(v))},array:function(v){return g(new Uint8Array(v),new Array(v.byteLength))},arraybuffer:h,uint8array:function(v){return new Uint8Array(v)},nodebuffer:function(v){return l.newBufferFrom(new Uint8Array(v))}},y.uint8array={string:x,array:function(v){return g(v,new Array(v.length))},arraybuffer:function(v){return v.buffer},uint8array:h,nodebuffer:function(v){return l.newBufferFrom(v)}},y.nodebuffer={string:x,array:function(v){return g(v,new Array(v.length))},arraybuffer:function(v){return y.nodebuffer.uint8array(v).buffer},uint8array:function(v){return g(v,new Uint8Array(v.length))},nodebuffer:h},a.transformTo=function(v,S){if(S=S||"",!v)return S;a.checkSupport(v);var k=a.getTypeOf(S);return y[k][v](S)},a.resolve=function(v){for(var S=v.split("/"),k=[],A=0;A<S.length;A++){var N=S[A];N==="."||N===""&&A!==0&&A!==S.length-1||(N===".."?k.pop():k.push(N))}return k.join("/")},a.getTypeOf=function(v){return typeof v=="string"?"string":Object.prototype.toString.call(v)==="[object Array]"?"array":i.nodebuffer&&l.isBuffer(v)?"nodebuffer":i.uint8array&&v instanceof Uint8Array?"uint8array":i.arraybuffer&&v instanceof ArrayBuffer?"arraybuffer":void 0},a.checkSupport=function(v){if(!i[v.toLowerCase()])throw new Error(v+" is not supported by this platform")},a.MAX_VALUE_16BITS=65535,a.MAX_VALUE_32BITS=-1,a.pretty=function(v){var S,k,A="";for(k=0;k<(v||"").length;k++)A+="\\x"+((S=v.charCodeAt(k))<16?"0":"")+S.toString(16).toUpperCase();return A},a.delay=function(v,S,k){setImmediate(function(){v.apply(k||null,S||[])})},a.inherits=function(v,S){function k(){}k.prototype=S.prototype,v.prototype=new k},a.extend=function(){var v,S,k={};for(v=0;v<arguments.length;v++)for(S in arguments[v])Object.prototype.hasOwnProperty.call(arguments[v],S)&&k[S]===void 0&&(k[S]=arguments[v][S]);return k},a.prepareContent=function(v,S,k,A,N){return u.Promise.resolve(S).then(function(j){return i.blob&&(j instanceof Blob||["[object File]","[object Blob]"].indexOf(Object.prototype.toString.call(j))!==-1)&&typeof FileReader<"u"?new u.Promise(function(W,ee){var z=new FileReader;z.onload=function(B){W(B.target.result)},z.onerror=function(B){ee(B.target.error)},z.readAsArrayBuffer(j)}):j}).then(function(j){var W=a.getTypeOf(j);return W?(W==="arraybuffer"?j=a.transformTo("uint8array",j):W==="string"&&(N?j=o.decode(j):k&&A!==!0&&(j=(function(ee){return f(ee,i.uint8array?new Uint8Array(ee.length):new Array(ee.length))})(j))),j):u.Promise.reject(new Error("Can't read the data of '"+v+"'. Is it in a supported JavaScript type (String, Blob, ArrayBuffer, etc) ?"))})}},{"./base64":1,"./external":6,"./nodejsUtils":14,"./support":30,setimmediate:54}],33:[function(t,n,a){var i=t("./reader/readerFor"),o=t("./utils"),l=t("./signature"),u=t("./zipEntry"),h=t("./support");function f(m){this.files=[],this.loadOptions=m}f.prototype={checkSignature:function(m){if(!this.reader.readAndCheckSignature(m)){this.reader.index-=4;var x=this.reader.readString(4);throw new Error("Corrupted zip or bug: unexpected signature ("+o.pretty(x)+", expected "+o.pretty(m)+")")}},isSignature:function(m,x){var g=this.reader.index;this.reader.setIndex(m);var y=this.reader.readString(4)===x;return this.reader.setIndex(g),y},readBlockEndOfCentral:function(){this.diskNumber=this.reader.readInt(2),this.diskWithCentralDirStart=this.reader.readInt(2),this.centralDirRecordsOnThisDisk=this.reader.readInt(2),this.centralDirRecords=this.reader.readInt(2),this.centralDirSize=this.reader.readInt(4),this.centralDirOffset=this.reader.readInt(4),this.zipCommentLength=this.reader.readInt(2);var m=this.reader.readData(this.zipCommentLength),x=h.uint8array?"uint8array":"array",g=o.transformTo(x,m);this.zipComment=this.loadOptions.decodeFileName(g)},readBlockZip64EndOfCentral:function(){this.zip64EndOfCentralSize=this.reader.readInt(8),this.reader.skip(4),this.diskNumber=this.reader.readInt(4),this.diskWithCentralDirStart=this.reader.readInt(4),this.centralDirRecordsOnThisDisk=this.reader.readInt(8),this.centralDirRecords=this.reader.readInt(8),this.centralDirSize=this.reader.readInt(8),this.centralDirOffset=this.reader.readInt(8),this.zip64ExtensibleData={};for(var m,x,g,y=this.zip64EndOfCentralSize-44;0<y;)m=this.reader.readInt(2),x=this.reader.readInt(4),g=this.reader.readData(x),this.zip64ExtensibleData[m]={id:m,length:x,value:g}},readBlockZip64EndOfCentralLocator:function(){if(this.diskWithZip64CentralDirStart=this.reader.readInt(4),this.relativeOffsetEndOfZip64CentralDir=this.reader.readInt(8),this.disksCount=this.reader.readInt(4),1<this.disksCount)throw new Error("Multi-volumes zip are not supported")},readLocalFiles:function(){var m,x;for(m=0;m<this.files.length;m++)x=this.files[m],this.reader.setIndex(x.localHeaderOffset),this.checkSignature(l.LOCAL_FILE_HEADER),x.readLocalPart(this.reader),x.handleUTF8(),x.processAttributes()},readCentralDir:function(){var m;for(this.reader.setIndex(this.centralDirOffset);this.reader.readAndCheckSignature(l.CENTRAL_FILE_HEADER);)(m=new u({zip64:this.zip64},this.loadOptions)).readCentralPart(this.reader),this.files.push(m);if(this.centralDirRecords!==this.files.length&&this.centralDirRecords!==0&&this.files.length===0)throw new Error("Corrupted zip or bug: expected "+this.centralDirRecords+" records in central dir, got "+this.files.length)},readEndOfCentral:function(){var m=this.reader.lastIndexOfSignature(l.CENTRAL_DIRECTORY_END);if(m<0)throw this.isSignature(0,l.LOCAL_FILE_HEADER)?new Error("Corrupted zip: can't find end of central directory"):new Error("Can't find end of central directory : is this a zip file ? If it is, see https://stuk.github.io/jszip/documentation/howto/read_zip.html");this.reader.setIndex(m);var x=m;if(this.checkSignature(l.CENTRAL_DIRECTORY_END),this.readBlockEndOfCentral(),this.diskNumber===o.MAX_VALUE_16BITS||this.diskWithCentralDirStart===o.MAX_VALUE_16BITS||this.centralDirRecordsOnThisDisk===o.MAX_VALUE_16BITS||this.centralDirRecords===o.MAX_VALUE_16BITS||this.centralDirSize===o.MAX_VALUE_32BITS||this.centralDirOffset===o.MAX_VALUE_32BITS){if(this.zip64=!0,(m=this.reader.lastIndexOfSignature(l.ZIP64_CENTRAL_DIRECTORY_LOCATOR))<0)throw new Error("Corrupted zip: can't find the ZIP64 end of central directory locator");if(this.reader.setIndex(m),this.checkSignature(l.ZIP64_CENTRAL_DIRECTORY_LOCATOR),this.readBlockZip64EndOfCentralLocator(),!this.isSignature(this.relativeOffsetEndOfZip64CentralDir,l.ZIP64_CENTRAL_DIRECTORY_END)&&(this.relativeOffsetEndOfZip64CentralDir=this.reader.lastIndexOfSignature(l.ZIP64_CENTRAL_DIRECTORY_END),this.relativeOffsetEndOfZip64CentralDir<0))throw new Error("Corrupted zip: can't find the ZIP64 end of central directory");this.reader.setIndex(this.relativeOffsetEndOfZip64CentralDir),this.checkSignature(l.ZIP64_CENTRAL_DIRECTORY_END),this.readBlockZip64EndOfCentral()}var g=this.centralDirOffset+this.centralDirSize;this.zip64&&(g+=20,g+=12+this.zip64EndOfCentralSize);var y=x-g;if(0<y)this.isSignature(x,l.CENTRAL_FILE_HEADER)||(this.reader.zero=y);else if(y<0)throw new Error("Corrupted zip: missing "+Math.abs(y)+" bytes.")},prepareReader:function(m){this.reader=i(m)},load:function(m){this.prepareReader(m),this.readEndOfCentral(),this.readCentralDir(),this.readLocalFiles()}},n.exports=f},{"./reader/readerFor":22,"./signature":23,"./support":30,"./utils":32,"./zipEntry":34}],34:[function(t,n,a){var i=t("./reader/readerFor"),o=t("./utils"),l=t("./compressedObject"),u=t("./crc32"),h=t("./utf8"),f=t("./compressions"),m=t("./support");function x(g,y){this.options=g,this.loadOptions=y}x.prototype={isEncrypted:function(){return(1&this.bitFlag)==1},useUTF8:function(){return(2048&this.bitFlag)==2048},readLocalPart:function(g){var y,v;if(g.skip(22),this.fileNameLength=g.readInt(2),v=g.readInt(2),this.fileName=g.readData(this.fileNameLength),g.skip(v),this.compressedSize===-1||this.uncompressedSize===-1)throw new Error("Bug or corrupted zip : didn't get enough information from the central directory (compressedSize === -1 || uncompressedSize === -1)");if((y=(function(S){for(var k in f)if(Object.prototype.hasOwnProperty.call(f,k)&&f[k].magic===S)return f[k];return null})(this.compressionMethod))===null)throw new Error("Corrupted zip : compression "+o.pretty(this.compressionMethod)+" unknown (inner file : "+o.transformTo("string",this.fileName)+")");this.decompressed=new l(this.compressedSize,this.uncompressedSize,this.crc32,y,g.readData(this.compressedSize))},readCentralPart:function(g){this.versionMadeBy=g.readInt(2),g.skip(2),this.bitFlag=g.readInt(2),this.compressionMethod=g.readString(2),this.date=g.readDate(),this.crc32=g.readInt(4),this.compressedSize=g.readInt(4),this.uncompressedSize=g.readInt(4);var y=g.readInt(2);if(this.extraFieldsLength=g.readInt(2),this.fileCommentLength=g.readInt(2),this.diskNumberStart=g.readInt(2),this.internalFileAttributes=g.readInt(2),this.externalFileAttributes=g.readInt(4),this.localHeaderOffset=g.readInt(4),this.isEncrypted())throw new Error("Encrypted zip are not supported");g.skip(y),this.readExtraFields(g),this.parseZIP64ExtraField(g),this.fileComment=g.readData(this.fileCommentLength)},processAttributes:function(){this.unixPermissions=null,this.dosPermissions=null;var g=this.versionMadeBy>>8;this.dir=!!(16&this.externalFileAttributes),g==0&&(this.dosPermissions=63&this.externalFileAttributes),g==3&&(this.unixPermissions=this.externalFileAttributes>>16&65535),this.dir||this.fileNameStr.slice(-1)!=="/"||(this.dir=!0)},parseZIP64ExtraField:function(){if(this.extraFields[1]){var g=i(this.extraFields[1].value);this.uncompressedSize===o.MAX_VALUE_32BITS&&(this.uncompressedSize=g.readInt(8)),this.compressedSize===o.MAX_VALUE_32BITS&&(this.compressedSize=g.readInt(8)),this.localHeaderOffset===o.MAX_VALUE_32BITS&&(this.localHeaderOffset=g.readInt(8)),this.diskNumberStart===o.MAX_VALUE_32BITS&&(this.diskNumberStart=g.readInt(4))}},readExtraFields:function(g){var y,v,S,k=g.index+this.extraFieldsLength;for(this.extraFields||(this.extraFields={});g.index+4<k;)y=g.readInt(2),v=g.readInt(2),S=g.readData(v),this.extraFields[y]={id:y,length:v,value:S};g.setIndex(k)},handleUTF8:function(){var g=m.uint8array?"uint8array":"array";if(this.useUTF8())this.fileNameStr=h.utf8decode(this.fileName),this.fileCommentStr=h.utf8decode(this.fileComment);else{var y=this.findExtraFieldUnicodePath();if(y!==null)this.fileNameStr=y;else{var v=o.transformTo(g,this.fileName);this.fileNameStr=this.loadOptions.decodeFileName(v)}var S=this.findExtraFieldUnicodeComment();if(S!==null)this.fileCommentStr=S;else{var k=o.transformTo(g,this.fileComment);this.fileCommentStr=this.loadOptions.decodeFileName(k)}}},findExtraFieldUnicodePath:function(){var g=this.extraFields[28789];if(g){var y=i(g.value);return y.readInt(1)!==1||u(this.fileName)!==y.readInt(4)?null:h.utf8decode(y.readData(g.length-5))}return null},findExtraFieldUnicodeComment:function(){var g=this.extraFields[25461];if(g){var y=i(g.value);return y.readInt(1)!==1||u(this.fileComment)!==y.readInt(4)?null:h.utf8decode(y.readData(g.length-5))}return null}},n.exports=x},{"./compressedObject":2,"./compressions":3,"./crc32":4,"./reader/readerFor":22,"./support":30,"./utf8":31,"./utils":32}],35:[function(t,n,a){function i(y,v,S){this.name=y,this.dir=S.dir,this.date=S.date,this.comment=S.comment,this.unixPermissions=S.unixPermissions,this.dosPermissions=S.dosPermissions,this._data=v,this._dataBinary=S.binary,this.options={compression:S.compression,compressionOptions:S.compressionOptions}}var o=t("./stream/StreamHelper"),l=t("./stream/DataWorker"),u=t("./utf8"),h=t("./compressedObject"),f=t("./stream/GenericWorker");i.prototype={internalStream:function(y){var v=null,S="string";try{if(!y)throw new Error("No output type specified.");var k=(S=y.toLowerCase())==="string"||S==="text";S!=="binarystring"&&S!=="text"||(S="string"),v=this._decompressWorker();var A=!this._dataBinary;A&&!k&&(v=v.pipe(new u.Utf8EncodeWorker)),!A&&k&&(v=v.pipe(new u.Utf8DecodeWorker))}catch(N){(v=new f("error")).error(N)}return new o(v,S,"")},async:function(y,v){return this.internalStream(y).accumulate(v)},nodeStream:function(y,v){return this.internalStream(y||"nodebuffer").toNodejsStream(v)},_compressWorker:function(y,v){if(this._data instanceof h&&this._data.compression.magic===y.magic)return this._data.getCompressedWorker();var S=this._decompressWorker();return this._dataBinary||(S=S.pipe(new u.Utf8EncodeWorker)),h.createWorkerFrom(S,y,v)},_decompressWorker:function(){return this._data instanceof h?this._data.getContentWorker():this._data instanceof f?this._data:new l(this._data)}};for(var m=["asText","asBinary","asNodeBuffer","asUint8Array","asArrayBuffer"],x=function(){throw new Error("This method has been removed in JSZip 3.0, please check the upgrade guide.")},g=0;g<m.length;g++)i.prototype[m[g]]=x;n.exports=i},{"./compressedObject":2,"./stream/DataWorker":27,"./stream/GenericWorker":28,"./stream/StreamHelper":29,"./utf8":31}],36:[function(t,n,a){(function(i){var o,l,u=i.MutationObserver||i.WebKitMutationObserver;if(u){var h=0,f=new u(y),m=i.document.createTextNode("");f.observe(m,{characterData:!0}),o=function(){m.data=h=++h%2}}else if(i.setImmediate||i.MessageChannel===void 0)o="document"in i&&"onreadystatechange"in i.document.createElement("script")?function(){var v=i.document.createElement("script");v.onreadystatechange=function(){y(),v.onreadystatechange=null,v.parentNode.removeChild(v),v=null},i.document.documentElement.appendChild(v)}:function(){setTimeout(y,0)};else{var x=new i.MessageChannel;x.port1.onmessage=y,o=function(){x.port2.postMessage(0)}}var g=[];function y(){var v,S;l=!0;for(var k=g.length;k;){for(S=g,g=[],v=-1;++v<k;)S[v]();k=g.length}l=!1}n.exports=function(v){g.push(v)!==1||l||o()}}).call(this,typeof mu<"u"?mu:typeof self<"u"?self:typeof window<"u"?window:{})},{}],37:[function(t,n,a){var i=t("immediate");function o(){}var l={},u=["REJECTED"],h=["FULFILLED"],f=["PENDING"];function m(k){if(typeof k!="function")throw new TypeError("resolver must be a function");this.state=f,this.queue=[],this.outcome=void 0,k!==o&&v(this,k)}function x(k,A,N){this.promise=k,typeof A=="function"&&(this.onFulfilled=A,this.callFulfilled=this.otherCallFulfilled),typeof N=="function"&&(this.onRejected=N,this.callRejected=this.otherCallRejected)}function g(k,A,N){i(function(){var j;try{j=A(N)}catch(W){return l.reject(k,W)}j===k?l.reject(k,new TypeError("Cannot resolve promise with itself")):l.resolve(k,j)})}function y(k){var A=k&&k.then;if(k&&(typeof k=="object"||typeof k=="function")&&typeof A=="function")return function(){A.apply(k,arguments)}}function v(k,A){var N=!1;function j(z){N||(N=!0,l.reject(k,z))}function W(z){N||(N=!0,l.resolve(k,z))}var ee=S(function(){A(W,j)});ee.status==="error"&&j(ee.value)}function S(k,A){var N={};try{N.value=k(A),N.status="success"}catch(j){N.status="error",N.value=j}return N}(n.exports=m).prototype.finally=function(k){if(typeof k!="function")return this;var A=this.constructor;return this.then(function(N){return A.resolve(k()).then(function(){return N})},function(N){return A.resolve(k()).then(function(){throw N})})},m.prototype.catch=function(k){return this.then(null,k)},m.prototype.then=function(k,A){if(typeof k!="function"&&this.state===h||typeof A!="function"&&this.state===u)return this;var N=new this.constructor(o);return this.state!==f?g(N,this.state===h?k:A,this.outcome):this.queue.push(new x(N,k,A)),N},x.prototype.callFulfilled=function(k){l.resolve(this.promise,k)},x.prototype.otherCallFulfilled=function(k){g(this.promise,this.onFulfilled,k)},x.prototype.callRejected=function(k){l.reject(this.promise,k)},x.prototype.otherCallRejected=function(k){g(this.promise,this.onRejected,k)},l.resolve=function(k,A){var N=S(y,A);if(N.status==="error")return l.reject(k,N.value);var j=N.value;if(j)v(k,j);else{k.state=h,k.outcome=A;for(var W=-1,ee=k.queue.length;++W<ee;)k.queue[W].callFulfilled(A)}return k},l.reject=function(k,A){k.state=u,k.outcome=A;for(var N=-1,j=k.queue.length;++N<j;)k.queue[N].callRejected(A);return k},m.resolve=function(k){return k instanceof this?k:l.resolve(new this(o),k)},m.reject=function(k){var A=new this(o);return l.reject(A,k)},m.all=function(k){var A=this;if(Object.prototype.toString.call(k)!=="[object Array]")return this.reject(new TypeError("must be an array"));var N=k.length,j=!1;if(!N)return this.resolve([]);for(var W=new Array(N),ee=0,z=-1,B=new this(o);++z<N;)D(k[z],z);return B;function D(Z,q){A.resolve(Z).then(function(O){W[q]=O,++ee!==N||j||(j=!0,l.resolve(B,W))},function(O){j||(j=!0,l.reject(B,O))})}},m.race=function(k){var A=this;if(Object.prototype.toString.call(k)!=="[object Array]")return this.reject(new TypeError("must be an array"));var N=k.length,j=!1;if(!N)return this.resolve([]);for(var W=-1,ee=new this(o);++W<N;)z=k[W],A.resolve(z).then(function(B){j||(j=!0,l.resolve(ee,B))},function(B){j||(j=!0,l.reject(ee,B))});var z;return ee}},{immediate:36}],38:[function(t,n,a){var i={};(0,t("./lib/utils/common").assign)(i,t("./lib/deflate"),t("./lib/inflate"),t("./lib/zlib/constants")),n.exports=i},{"./lib/deflate":39,"./lib/inflate":40,"./lib/utils/common":41,"./lib/zlib/constants":44}],39:[function(t,n,a){var i=t("./zlib/deflate"),o=t("./utils/common"),l=t("./utils/strings"),u=t("./zlib/messages"),h=t("./zlib/zstream"),f=Object.prototype.toString,m=0,x=-1,g=0,y=8;function v(k){if(!(this instanceof v))return new v(k);this.options=o.assign({level:x,method:y,chunkSize:16384,windowBits:15,memLevel:8,strategy:g,to:""},k||{});var A=this.options;A.raw&&0<A.windowBits?A.windowBits=-A.windowBits:A.gzip&&0<A.windowBits&&A.windowBits<16&&(A.windowBits+=16),this.err=0,this.msg="",this.ended=!1,this.chunks=[],this.strm=new h,this.strm.avail_out=0;var N=i.deflateInit2(this.strm,A.level,A.method,A.windowBits,A.memLevel,A.strategy);if(N!==m)throw new Error(u[N]);if(A.header&&i.deflateSetHeader(this.strm,A.header),A.dictionary){var j;if(j=typeof A.dictionary=="string"?l.string2buf(A.dictionary):f.call(A.dictionary)==="[object ArrayBuffer]"?new Uint8Array(A.dictionary):A.dictionary,(N=i.deflateSetDictionary(this.strm,j))!==m)throw new Error(u[N]);this._dict_set=!0}}function S(k,A){var N=new v(A);if(N.push(k,!0),N.err)throw N.msg||u[N.err];return N.result}v.prototype.push=function(k,A){var N,j,W=this.strm,ee=this.options.chunkSize;if(this.ended)return!1;j=A===~~A?A:A===!0?4:0,typeof k=="string"?W.input=l.string2buf(k):f.call(k)==="[object ArrayBuffer]"?W.input=new Uint8Array(k):W.input=k,W.next_in=0,W.avail_in=W.input.length;do{if(W.avail_out===0&&(W.output=new o.Buf8(ee),W.next_out=0,W.avail_out=ee),(N=i.deflate(W,j))!==1&&N!==m)return this.onEnd(N),!(this.ended=!0);W.avail_out!==0&&(W.avail_in!==0||j!==4&&j!==2)||(this.options.to==="string"?this.onData(l.buf2binstring(o.shrinkBuf(W.output,W.next_out))):this.onData(o.shrinkBuf(W.output,W.next_out)))}while((0<W.avail_in||W.avail_out===0)&&N!==1);return j===4?(N=i.deflateEnd(this.strm),this.onEnd(N),this.ended=!0,N===m):j!==2||(this.onEnd(m),!(W.avail_out=0))},v.prototype.onData=function(k){this.chunks.push(k)},v.prototype.onEnd=function(k){k===m&&(this.options.to==="string"?this.result=this.chunks.join(""):this.result=o.flattenChunks(this.chunks)),this.chunks=[],this.err=k,this.msg=this.strm.msg},a.Deflate=v,a.deflate=S,a.deflateRaw=function(k,A){return(A=A||{}).raw=!0,S(k,A)},a.gzip=function(k,A){return(A=A||{}).gzip=!0,S(k,A)}},{"./utils/common":41,"./utils/strings":42,"./zlib/deflate":46,"./zlib/messages":51,"./zlib/zstream":53}],40:[function(t,n,a){var i=t("./zlib/inflate"),o=t("./utils/common"),l=t("./utils/strings"),u=t("./zlib/constants"),h=t("./zlib/messages"),f=t("./zlib/zstream"),m=t("./zlib/gzheader"),x=Object.prototype.toString;function g(v){if(!(this instanceof g))return new g(v);this.options=o.assign({chunkSize:16384,windowBits:0,to:""},v||{});var S=this.options;S.raw&&0<=S.windowBits&&S.windowBits<16&&(S.windowBits=-S.windowBits,S.windowBits===0&&(S.windowBits=-15)),!(0<=S.windowBits&&S.windowBits<16)||v&&v.windowBits||(S.windowBits+=32),15<S.windowBits&&S.windowBits<48&&(15&S.windowBits)==0&&(S.windowBits|=15),this.err=0,this.msg="",this.ended=!1,this.chunks=[],this.strm=new f,this.strm.avail_out=0;var k=i.inflateInit2(this.strm,S.windowBits);if(k!==u.Z_OK)throw new Error(h[k]);this.header=new m,i.inflateGetHeader(this.strm,this.header)}function y(v,S){var k=new g(S);if(k.push(v,!0),k.err)throw k.msg||h[k.err];return k.result}g.prototype.push=function(v,S){var k,A,N,j,W,ee,z=this.strm,B=this.options.chunkSize,D=this.options.dictionary,Z=!1;if(this.ended)return!1;A=S===~~S?S:S===!0?u.Z_FINISH:u.Z_NO_FLUSH,typeof v=="string"?z.input=l.binstring2buf(v):x.call(v)==="[object ArrayBuffer]"?z.input=new Uint8Array(v):z.input=v,z.next_in=0,z.avail_in=z.input.length;do{if(z.avail_out===0&&(z.output=new o.Buf8(B),z.next_out=0,z.avail_out=B),(k=i.inflate(z,u.Z_NO_FLUSH))===u.Z_NEED_DICT&&D&&(ee=typeof D=="string"?l.string2buf(D):x.call(D)==="[object ArrayBuffer]"?new Uint8Array(D):D,k=i.inflateSetDictionary(this.strm,ee)),k===u.Z_BUF_ERROR&&Z===!0&&(k=u.Z_OK,Z=!1),k!==u.Z_STREAM_END&&k!==u.Z_OK)return this.onEnd(k),!(this.ended=!0);z.next_out&&(z.avail_out!==0&&k!==u.Z_STREAM_END&&(z.avail_in!==0||A!==u.Z_FINISH&&A!==u.Z_SYNC_FLUSH)||(this.options.to==="string"?(N=l.utf8border(z.output,z.next_out),j=z.next_out-N,W=l.buf2string(z.output,N),z.next_out=j,z.avail_out=B-j,j&&o.arraySet(z.output,z.output,N,j,0),this.onData(W)):this.onData(o.shrinkBuf(z.output,z.next_out)))),z.avail_in===0&&z.avail_out===0&&(Z=!0)}while((0<z.avail_in||z.avail_out===0)&&k!==u.Z_STREAM_END);return k===u.Z_STREAM_END&&(A=u.Z_FINISH),A===u.Z_FINISH?(k=i.inflateEnd(this.strm),this.onEnd(k),this.ended=!0,k===u.Z_OK):A!==u.Z_SYNC_FLUSH||(this.onEnd(u.Z_OK),!(z.avail_out=0))},g.prototype.onData=function(v){this.chunks.push(v)},g.prototype.onEnd=function(v){v===u.Z_OK&&(this.options.to==="string"?this.result=this.chunks.join(""):this.result=o.flattenChunks(this.chunks)),this.chunks=[],this.err=v,this.msg=this.strm.msg},a.Inflate=g,a.inflate=y,a.inflateRaw=function(v,S){return(S=S||{}).raw=!0,y(v,S)},a.ungzip=y},{"./utils/common":41,"./utils/strings":42,"./zlib/constants":44,"./zlib/gzheader":47,"./zlib/inflate":49,"./zlib/messages":51,"./zlib/zstream":53}],41:[function(t,n,a){var i=typeof Uint8Array<"u"&&typeof Uint16Array<"u"&&typeof Int32Array<"u";a.assign=function(u){for(var h=Array.prototype.slice.call(arguments,1);h.length;){var f=h.shift();if(f){if(typeof f!="object")throw new TypeError(f+"must be non-object");for(var m in f)f.hasOwnProperty(m)&&(u[m]=f[m])}}return u},a.shrinkBuf=function(u,h){return u.length===h?u:u.subarray?u.subarray(0,h):(u.length=h,u)};var o={arraySet:function(u,h,f,m,x){if(h.subarray&&u.subarray)u.set(h.subarray(f,f+m),x);else for(var g=0;g<m;g++)u[x+g]=h[f+g]},flattenChunks:function(u){var h,f,m,x,g,y;for(h=m=0,f=u.length;h<f;h++)m+=u[h].length;for(y=new Uint8Array(m),h=x=0,f=u.length;h<f;h++)g=u[h],y.set(g,x),x+=g.length;return y}},l={arraySet:function(u,h,f,m,x){for(var g=0;g<m;g++)u[x+g]=h[f+g]},flattenChunks:function(u){return[].concat.apply([],u)}};a.setTyped=function(u){u?(a.Buf8=Uint8Array,a.Buf16=Uint16Array,a.Buf32=Int32Array,a.assign(a,o)):(a.Buf8=Array,a.Buf16=Array,a.Buf32=Array,a.assign(a,l))},a.setTyped(i)},{}],42:[function(t,n,a){var i=t("./common"),o=!0,l=!0;try{String.fromCharCode.apply(null,[0])}catch{o=!1}try{String.fromCharCode.apply(null,new Uint8Array(1))}catch{l=!1}for(var u=new i.Buf8(256),h=0;h<256;h++)u[h]=252<=h?6:248<=h?5:240<=h?4:224<=h?3:192<=h?2:1;function f(m,x){if(x<65537&&(m.subarray&&l||!m.subarray&&o))return String.fromCharCode.apply(null,i.shrinkBuf(m,x));for(var g="",y=0;y<x;y++)g+=String.fromCharCode(m[y]);return g}u[254]=u[254]=1,a.string2buf=function(m){var x,g,y,v,S,k=m.length,A=0;for(v=0;v<k;v++)(64512&(g=m.charCodeAt(v)))==55296&&v+1<k&&(64512&(y=m.charCodeAt(v+1)))==56320&&(g=65536+(g-55296<<10)+(y-56320),v++),A+=g<128?1:g<2048?2:g<65536?3:4;for(x=new i.Buf8(A),v=S=0;S<A;v++)(64512&(g=m.charCodeAt(v)))==55296&&v+1<k&&(64512&(y=m.charCodeAt(v+1)))==56320&&(g=65536+(g-55296<<10)+(y-56320),v++),g<128?x[S++]=g:(g<2048?x[S++]=192|g>>>6:(g<65536?x[S++]=224|g>>>12:(x[S++]=240|g>>>18,x[S++]=128|g>>>12&63),x[S++]=128|g>>>6&63),x[S++]=128|63&g);return x},a.buf2binstring=function(m){return f(m,m.length)},a.binstring2buf=function(m){for(var x=new i.Buf8(m.length),g=0,y=x.length;g<y;g++)x[g]=m.charCodeAt(g);return x},a.buf2string=function(m,x){var g,y,v,S,k=x||m.length,A=new Array(2*k);for(g=y=0;g<k;)if((v=m[g++])<128)A[y++]=v;else if(4<(S=u[v]))A[y++]=65533,g+=S-1;else{for(v&=S===2?31:S===3?15:7;1<S&&g<k;)v=v<<6|63&m[g++],S--;1<S?A[y++]=65533:v<65536?A[y++]=v:(v-=65536,A[y++]=55296|v>>10&1023,A[y++]=56320|1023&v)}return f(A,y)},a.utf8border=function(m,x){var g;for((x=x||m.length)>m.length&&(x=m.length),g=x-1;0<=g&&(192&m[g])==128;)g--;return g<0||g===0?x:g+u[m[g]]>x?g:x}},{"./common":41}],43:[function(t,n,a){n.exports=function(i,o,l,u){for(var h=65535&i|0,f=i>>>16&65535|0,m=0;l!==0;){for(l-=m=2e3<l?2e3:l;f=f+(h=h+o[u++]|0)|0,--m;);h%=65521,f%=65521}return h|f<<16|0}},{}],44:[function(t,n,a){n.exports={Z_NO_FLUSH:0,Z_PARTIAL_FLUSH:1,Z_SYNC_FLUSH:2,Z_FULL_FLUSH:3,Z_FINISH:4,Z_BLOCK:5,Z_TREES:6,Z_OK:0,Z_STREAM_END:1,Z_NEED_DICT:2,Z_ERRNO:-1,Z_STREAM_ERROR:-2,Z_DATA_ERROR:-3,Z_BUF_ERROR:-5,Z_NO_COMPRESSION:0,Z_BEST_SPEED:1,Z_BEST_COMPRESSION:9,Z_DEFAULT_COMPRESSION:-1,Z_FILTERED:1,Z_HUFFMAN_ONLY:2,Z_RLE:3,Z_FIXED:4,Z_DEFAULT_STRATEGY:0,Z_BINARY:0,Z_TEXT:1,Z_UNKNOWN:2,Z_DEFLATED:8}},{}],45:[function(t,n,a){var i=(function(){for(var o,l=[],u=0;u<256;u++){o=u;for(var h=0;h<8;h++)o=1&o?3988292384^o>>>1:o>>>1;l[u]=o}return l})();n.exports=function(o,l,u,h){var f=i,m=h+u;o^=-1;for(var x=h;x<m;x++)o=o>>>8^f[255&(o^l[x])];return-1^o}},{}],46:[function(t,n,a){var i,o=t("../utils/common"),l=t("./trees"),u=t("./adler32"),h=t("./crc32"),f=t("./messages"),m=0,x=4,g=0,y=-2,v=-1,S=4,k=2,A=8,N=9,j=286,W=30,ee=19,z=2*j+1,B=15,D=3,Z=258,q=Z+D+1,O=42,V=113,F=1,re=2,ae=3,J=4;function ge(R,H){return R.msg=f[H],H}function te(R){return(R<<1)-(4<R?9:0)}function ke(R){for(var H=R.length;0<=--H;)R[H]=0}function Y(R){var H=R.state,ne=H.pending;ne>R.avail_out&&(ne=R.avail_out),ne!==0&&(o.arraySet(R.output,H.pending_buf,H.pending_out,ne,R.next_out),R.next_out+=ne,H.pending_out+=ne,R.total_out+=ne,R.avail_out-=ne,H.pending-=ne,H.pending===0&&(H.pending_out=0))}function w(R,H){l._tr_flush_block(R,0<=R.block_start?R.block_start:-1,R.strstart-R.block_start,H),R.block_start=R.strstart,Y(R.strm)}function L(R,H){R.pending_buf[R.pending++]=H}function P(R,H){R.pending_buf[R.pending++]=H>>>8&255,R.pending_buf[R.pending++]=255&H}function U(R,H){var ne,G,K=R.max_chain_length,le=R.strstart,Fe=R.prev_length,je=R.nice_match,Oe=R.strstart>R.w_size-q?R.strstart-(R.w_size-q):0,Ge=R.window,$e=R.w_mask,rt=R.prev,it=R.strstart+Z,Tt=Ge[le+Fe-1],dt=Ge[le+Fe];R.prev_length>=R.good_match&&(K>>=2),je>R.lookahead&&(je=R.lookahead);do if(Ge[(ne=H)+Fe]===dt&&Ge[ne+Fe-1]===Tt&&Ge[ne]===Ge[le]&&Ge[++ne]===Ge[le+1]){le+=2,ne++;do;while(Ge[++le]===Ge[++ne]&&Ge[++le]===Ge[++ne]&&Ge[++le]===Ge[++ne]&&Ge[++le]===Ge[++ne]&&Ge[++le]===Ge[++ne]&&Ge[++le]===Ge[++ne]&&Ge[++le]===Ge[++ne]&&Ge[++le]===Ge[++ne]&&le<it);if(G=Z-(it-le),le=it-Z,Fe<G){if(R.match_start=H,je<=(Fe=G))break;Tt=Ge[le+Fe-1],dt=Ge[le+Fe]}}while((H=rt[H&$e])>Oe&&--K!=0);return Fe<=R.lookahead?Fe:R.lookahead}function ie(R){var H,ne,G,K,le,Fe,je,Oe,Ge,$e,rt=R.w_size;do{if(K=R.window_size-R.lookahead-R.strstart,R.strstart>=rt+(rt-q)){for(o.arraySet(R.window,R.window,rt,rt,0),R.match_start-=rt,R.strstart-=rt,R.block_start-=rt,H=ne=R.hash_size;G=R.head[--H],R.head[H]=rt<=G?G-rt:0,--ne;);for(H=ne=rt;G=R.prev[--H],R.prev[H]=rt<=G?G-rt:0,--ne;);K+=rt}if(R.strm.avail_in===0)break;if(Fe=R.strm,je=R.window,Oe=R.strstart+R.lookahead,Ge=K,$e=void 0,$e=Fe.avail_in,Ge<$e&&($e=Ge),ne=$e===0?0:(Fe.avail_in-=$e,o.arraySet(je,Fe.input,Fe.next_in,$e,Oe),Fe.state.wrap===1?Fe.adler=u(Fe.adler,je,$e,Oe):Fe.state.wrap===2&&(Fe.adler=h(Fe.adler,je,$e,Oe)),Fe.next_in+=$e,Fe.total_in+=$e,$e),R.lookahead+=ne,R.lookahead+R.insert>=D)for(le=R.strstart-R.insert,R.ins_h=R.window[le],R.ins_h=(R.ins_h<<R.hash_shift^R.window[le+1])&R.hash_mask;R.insert&&(R.ins_h=(R.ins_h<<R.hash_shift^R.window[le+D-1])&R.hash_mask,R.prev[le&R.w_mask]=R.head[R.ins_h],R.head[R.ins_h]=le,le++,R.insert--,!(R.lookahead+R.insert<D)););}while(R.lookahead<q&&R.strm.avail_in!==0)}function fe(R,H){for(var ne,G;;){if(R.lookahead<q){if(ie(R),R.lookahead<q&&H===m)return F;if(R.lookahead===0)break}if(ne=0,R.lookahead>=D&&(R.ins_h=(R.ins_h<<R.hash_shift^R.window[R.strstart+D-1])&R.hash_mask,ne=R.prev[R.strstart&R.w_mask]=R.head[R.ins_h],R.head[R.ins_h]=R.strstart),ne!==0&&R.strstart-ne<=R.w_size-q&&(R.match_length=U(R,ne)),R.match_length>=D)if(G=l._tr_tally(R,R.strstart-R.match_start,R.match_length-D),R.lookahead-=R.match_length,R.match_length<=R.max_lazy_match&&R.lookahead>=D){for(R.match_length--;R.strstart++,R.ins_h=(R.ins_h<<R.hash_shift^R.window[R.strstart+D-1])&R.hash_mask,ne=R.prev[R.strstart&R.w_mask]=R.head[R.ins_h],R.head[R.ins_h]=R.strstart,--R.match_length!=0;);R.strstart++}else R.strstart+=R.match_length,R.match_length=0,R.ins_h=R.window[R.strstart],R.ins_h=(R.ins_h<<R.hash_shift^R.window[R.strstart+1])&R.hash_mask;else G=l._tr_tally(R,0,R.window[R.strstart]),R.lookahead--,R.strstart++;if(G&&(w(R,!1),R.strm.avail_out===0))return F}return R.insert=R.strstart<D-1?R.strstart:D-1,H===x?(w(R,!0),R.strm.avail_out===0?ae:J):R.last_lit&&(w(R,!1),R.strm.avail_out===0)?F:re}function xe(R,H){for(var ne,G,K;;){if(R.lookahead<q){if(ie(R),R.lookahead<q&&H===m)return F;if(R.lookahead===0)break}if(ne=0,R.lookahead>=D&&(R.ins_h=(R.ins_h<<R.hash_shift^R.window[R.strstart+D-1])&R.hash_mask,ne=R.prev[R.strstart&R.w_mask]=R.head[R.ins_h],R.head[R.ins_h]=R.strstart),R.prev_length=R.match_length,R.prev_match=R.match_start,R.match_length=D-1,ne!==0&&R.prev_length<R.max_lazy_match&&R.strstart-ne<=R.w_size-q&&(R.match_length=U(R,ne),R.match_length<=5&&(R.strategy===1||R.match_length===D&&4096<R.strstart-R.match_start)&&(R.match_length=D-1)),R.prev_length>=D&&R.match_length<=R.prev_length){for(K=R.strstart+R.lookahead-D,G=l._tr_tally(R,R.strstart-1-R.prev_match,R.prev_length-D),R.lookahead-=R.prev_length-1,R.prev_length-=2;++R.strstart<=K&&(R.ins_h=(R.ins_h<<R.hash_shift^R.window[R.strstart+D-1])&R.hash_mask,ne=R.prev[R.strstart&R.w_mask]=R.head[R.ins_h],R.head[R.ins_h]=R.strstart),--R.prev_length!=0;);if(R.match_available=0,R.match_length=D-1,R.strstart++,G&&(w(R,!1),R.strm.avail_out===0))return F}else if(R.match_available){if((G=l._tr_tally(R,0,R.window[R.strstart-1]))&&w(R,!1),R.strstart++,R.lookahead--,R.strm.avail_out===0)return F}else R.match_available=1,R.strstart++,R.lookahead--}return R.match_available&&(G=l._tr_tally(R,0,R.window[R.strstart-1]),R.match_available=0),R.insert=R.strstart<D-1?R.strstart:D-1,H===x?(w(R,!0),R.strm.avail_out===0?ae:J):R.last_lit&&(w(R,!1),R.strm.avail_out===0)?F:re}function ve(R,H,ne,G,K){this.good_length=R,this.max_lazy=H,this.nice_length=ne,this.max_chain=G,this.func=K}function ce(){this.strm=null,this.status=0,this.pending_buf=null,this.pending_buf_size=0,this.pending_out=0,this.pending=0,this.wrap=0,this.gzhead=null,this.gzindex=0,this.method=A,this.last_flush=-1,this.w_size=0,this.w_bits=0,this.w_mask=0,this.window=null,this.window_size=0,this.prev=null,this.head=null,this.ins_h=0,this.hash_size=0,this.hash_bits=0,this.hash_mask=0,this.hash_shift=0,this.block_start=0,this.match_length=0,this.prev_match=0,this.match_available=0,this.strstart=0,this.match_start=0,this.lookahead=0,this.prev_length=0,this.max_chain_length=0,this.max_lazy_match=0,this.level=0,this.strategy=0,this.good_match=0,this.nice_match=0,this.dyn_ltree=new o.Buf16(2*z),this.dyn_dtree=new o.Buf16(2*(2*W+1)),this.bl_tree=new o.Buf16(2*(2*ee+1)),ke(this.dyn_ltree),ke(this.dyn_dtree),ke(this.bl_tree),this.l_desc=null,this.d_desc=null,this.bl_desc=null,this.bl_count=new o.Buf16(B+1),this.heap=new o.Buf16(2*j+1),ke(this.heap),this.heap_len=0,this.heap_max=0,this.depth=new o.Buf16(2*j+1),ke(this.depth),this.l_buf=0,this.lit_bufsize=0,this.last_lit=0,this.d_buf=0,this.opt_len=0,this.static_len=0,this.matches=0,this.insert=0,this.bi_buf=0,this.bi_valid=0}function De(R){var H;return R&&R.state?(R.total_in=R.total_out=0,R.data_type=k,(H=R.state).pending=0,H.pending_out=0,H.wrap<0&&(H.wrap=-H.wrap),H.status=H.wrap?O:V,R.adler=H.wrap===2?0:1,H.last_flush=m,l._tr_init(H),g):ge(R,y)}function ue(R){var H=De(R);return H===g&&(function(ne){ne.window_size=2*ne.w_size,ke(ne.head),ne.max_lazy_match=i[ne.level].max_lazy,ne.good_match=i[ne.level].good_length,ne.nice_match=i[ne.level].nice_length,ne.max_chain_length=i[ne.level].max_chain,ne.strstart=0,ne.block_start=0,ne.lookahead=0,ne.insert=0,ne.match_length=ne.prev_length=D-1,ne.match_available=0,ne.ins_h=0})(R.state),H}function Ye(R,H,ne,G,K,le){if(!R)return y;var Fe=1;if(H===v&&(H=6),G<0?(Fe=0,G=-G):15<G&&(Fe=2,G-=16),K<1||N<K||ne!==A||G<8||15<G||H<0||9<H||le<0||S<le)return ge(R,y);G===8&&(G=9);var je=new ce;return(R.state=je).strm=R,je.wrap=Fe,je.gzhead=null,je.w_bits=G,je.w_size=1<<je.w_bits,je.w_mask=je.w_size-1,je.hash_bits=K+7,je.hash_size=1<<je.hash_bits,je.hash_mask=je.hash_size-1,je.hash_shift=~~((je.hash_bits+D-1)/D),je.window=new o.Buf8(2*je.w_size),je.head=new o.Buf16(je.hash_size),je.prev=new o.Buf16(je.w_size),je.lit_bufsize=1<<K+6,je.pending_buf_size=4*je.lit_bufsize,je.pending_buf=new o.Buf8(je.pending_buf_size),je.d_buf=1*je.lit_bufsize,je.l_buf=3*je.lit_bufsize,je.level=H,je.strategy=le,je.method=ne,ue(R)}i=[new ve(0,0,0,0,function(R,H){var ne=65535;for(ne>R.pending_buf_size-5&&(ne=R.pending_buf_size-5);;){if(R.lookahead<=1){if(ie(R),R.lookahead===0&&H===m)return F;if(R.lookahead===0)break}R.strstart+=R.lookahead,R.lookahead=0;var G=R.block_start+ne;if((R.strstart===0||R.strstart>=G)&&(R.lookahead=R.strstart-G,R.strstart=G,w(R,!1),R.strm.avail_out===0)||R.strstart-R.block_start>=R.w_size-q&&(w(R,!1),R.strm.avail_out===0))return F}return R.insert=0,H===x?(w(R,!0),R.strm.avail_out===0?ae:J):(R.strstart>R.block_start&&(w(R,!1),R.strm.avail_out),F)}),new ve(4,4,8,4,fe),new ve(4,5,16,8,fe),new ve(4,6,32,32,fe),new ve(4,4,16,16,xe),new ve(8,16,32,32,xe),new ve(8,16,128,128,xe),new ve(8,32,128,256,xe),new ve(32,128,258,1024,xe),new ve(32,258,258,4096,xe)],a.deflateInit=function(R,H){return Ye(R,H,A,15,8,0)},a.deflateInit2=Ye,a.deflateReset=ue,a.deflateResetKeep=De,a.deflateSetHeader=function(R,H){return R&&R.state?R.state.wrap!==2?y:(R.state.gzhead=H,g):y},a.deflate=function(R,H){var ne,G,K,le;if(!R||!R.state||5<H||H<0)return R?ge(R,y):y;if(G=R.state,!R.output||!R.input&&R.avail_in!==0||G.status===666&&H!==x)return ge(R,R.avail_out===0?-5:y);if(G.strm=R,ne=G.last_flush,G.last_flush=H,G.status===O)if(G.wrap===2)R.adler=0,L(G,31),L(G,139),L(G,8),G.gzhead?(L(G,(G.gzhead.text?1:0)+(G.gzhead.hcrc?2:0)+(G.gzhead.extra?4:0)+(G.gzhead.name?8:0)+(G.gzhead.comment?16:0)),L(G,255&G.gzhead.time),L(G,G.gzhead.time>>8&255),L(G,G.gzhead.time>>16&255),L(G,G.gzhead.time>>24&255),L(G,G.level===9?2:2<=G.strategy||G.level<2?4:0),L(G,255&G.gzhead.os),G.gzhead.extra&&G.gzhead.extra.length&&(L(G,255&G.gzhead.extra.length),L(G,G.gzhead.extra.length>>8&255)),G.gzhead.hcrc&&(R.adler=h(R.adler,G.pending_buf,G.pending,0)),G.gzindex=0,G.status=69):(L(G,0),L(G,0),L(G,0),L(G,0),L(G,0),L(G,G.level===9?2:2<=G.strategy||G.level<2?4:0),L(G,3),G.status=V);else{var Fe=A+(G.w_bits-8<<4)<<8;Fe|=(2<=G.strategy||G.level<2?0:G.level<6?1:G.level===6?2:3)<<6,G.strstart!==0&&(Fe|=32),Fe+=31-Fe%31,G.status=V,P(G,Fe),G.strstart!==0&&(P(G,R.adler>>>16),P(G,65535&R.adler)),R.adler=1}if(G.status===69)if(G.gzhead.extra){for(K=G.pending;G.gzindex<(65535&G.gzhead.extra.length)&&(G.pending!==G.pending_buf_size||(G.gzhead.hcrc&&G.pending>K&&(R.adler=h(R.adler,G.pending_buf,G.pending-K,K)),Y(R),K=G.pending,G.pending!==G.pending_buf_size));)L(G,255&G.gzhead.extra[G.gzindex]),G.gzindex++;G.gzhead.hcrc&&G.pending>K&&(R.adler=h(R.adler,G.pending_buf,G.pending-K,K)),G.gzindex===G.gzhead.extra.length&&(G.gzindex=0,G.status=73)}else G.status=73;if(G.status===73)if(G.gzhead.name){K=G.pending;do{if(G.pending===G.pending_buf_size&&(G.gzhead.hcrc&&G.pending>K&&(R.adler=h(R.adler,G.pending_buf,G.pending-K,K)),Y(R),K=G.pending,G.pending===G.pending_buf_size)){le=1;break}le=G.gzindex<G.gzhead.name.length?255&G.gzhead.name.charCodeAt(G.gzindex++):0,L(G,le)}while(le!==0);G.gzhead.hcrc&&G.pending>K&&(R.adler=h(R.adler,G.pending_buf,G.pending-K,K)),le===0&&(G.gzindex=0,G.status=91)}else G.status=91;if(G.status===91)if(G.gzhead.comment){K=G.pending;do{if(G.pending===G.pending_buf_size&&(G.gzhead.hcrc&&G.pending>K&&(R.adler=h(R.adler,G.pending_buf,G.pending-K,K)),Y(R),K=G.pending,G.pending===G.pending_buf_size)){le=1;break}le=G.gzindex<G.gzhead.comment.length?255&G.gzhead.comment.charCodeAt(G.gzindex++):0,L(G,le)}while(le!==0);G.gzhead.hcrc&&G.pending>K&&(R.adler=h(R.adler,G.pending_buf,G.pending-K,K)),le===0&&(G.status=103)}else G.status=103;if(G.status===103&&(G.gzhead.hcrc?(G.pending+2>G.pending_buf_size&&Y(R),G.pending+2<=G.pending_buf_size&&(L(G,255&R.adler),L(G,R.adler>>8&255),R.adler=0,G.status=V)):G.status=V),G.pending!==0){if(Y(R),R.avail_out===0)return G.last_flush=-1,g}else if(R.avail_in===0&&te(H)<=te(ne)&&H!==x)return ge(R,-5);if(G.status===666&&R.avail_in!==0)return ge(R,-5);if(R.avail_in!==0||G.lookahead!==0||H!==m&&G.status!==666){var je=G.strategy===2?(function(Oe,Ge){for(var $e;;){if(Oe.lookahead===0&&(ie(Oe),Oe.lookahead===0)){if(Ge===m)return F;break}if(Oe.match_length=0,$e=l._tr_tally(Oe,0,Oe.window[Oe.strstart]),Oe.lookahead--,Oe.strstart++,$e&&(w(Oe,!1),Oe.strm.avail_out===0))return F}return Oe.insert=0,Ge===x?(w(Oe,!0),Oe.strm.avail_out===0?ae:J):Oe.last_lit&&(w(Oe,!1),Oe.strm.avail_out===0)?F:re})(G,H):G.strategy===3?(function(Oe,Ge){for(var $e,rt,it,Tt,dt=Oe.window;;){if(Oe.lookahead<=Z){if(ie(Oe),Oe.lookahead<=Z&&Ge===m)return F;if(Oe.lookahead===0)break}if(Oe.match_length=0,Oe.lookahead>=D&&0<Oe.strstart&&(rt=dt[it=Oe.strstart-1])===dt[++it]&&rt===dt[++it]&&rt===dt[++it]){Tt=Oe.strstart+Z;do;while(rt===dt[++it]&&rt===dt[++it]&&rt===dt[++it]&&rt===dt[++it]&&rt===dt[++it]&&rt===dt[++it]&&rt===dt[++it]&&rt===dt[++it]&&it<Tt);Oe.match_length=Z-(Tt-it),Oe.match_length>Oe.lookahead&&(Oe.match_length=Oe.lookahead)}if(Oe.match_length>=D?($e=l._tr_tally(Oe,1,Oe.match_length-D),Oe.lookahead-=Oe.match_length,Oe.strstart+=Oe.match_length,Oe.match_length=0):($e=l._tr_tally(Oe,0,Oe.window[Oe.strstart]),Oe.lookahead--,Oe.strstart++),$e&&(w(Oe,!1),Oe.strm.avail_out===0))return F}return Oe.insert=0,Ge===x?(w(Oe,!0),Oe.strm.avail_out===0?ae:J):Oe.last_lit&&(w(Oe,!1),Oe.strm.avail_out===0)?F:re})(G,H):i[G.level].func(G,H);if(je!==ae&&je!==J||(G.status=666),je===F||je===ae)return R.avail_out===0&&(G.last_flush=-1),g;if(je===re&&(H===1?l._tr_align(G):H!==5&&(l._tr_stored_block(G,0,0,!1),H===3&&(ke(G.head),G.lookahead===0&&(G.strstart=0,G.block_start=0,G.insert=0))),Y(R),R.avail_out===0))return G.last_flush=-1,g}return H!==x?g:G.wrap<=0?1:(G.wrap===2?(L(G,255&R.adler),L(G,R.adler>>8&255),L(G,R.adler>>16&255),L(G,R.adler>>24&255),L(G,255&R.total_in),L(G,R.total_in>>8&255),L(G,R.total_in>>16&255),L(G,R.total_in>>24&255)):(P(G,R.adler>>>16),P(G,65535&R.adler)),Y(R),0<G.wrap&&(G.wrap=-G.wrap),G.pending!==0?g:1)},a.deflateEnd=function(R){var H;return R&&R.state?(H=R.state.status)!==O&&H!==69&&H!==73&&H!==91&&H!==103&&H!==V&&H!==666?ge(R,y):(R.state=null,H===V?ge(R,-3):g):y},a.deflateSetDictionary=function(R,H){var ne,G,K,le,Fe,je,Oe,Ge,$e=H.length;if(!R||!R.state||(le=(ne=R.state).wrap)===2||le===1&&ne.status!==O||ne.lookahead)return y;for(le===1&&(R.adler=u(R.adler,H,$e,0)),ne.wrap=0,$e>=ne.w_size&&(le===0&&(ke(ne.head),ne.strstart=0,ne.block_start=0,ne.insert=0),Ge=new o.Buf8(ne.w_size),o.arraySet(Ge,H,$e-ne.w_size,ne.w_size,0),H=Ge,$e=ne.w_size),Fe=R.avail_in,je=R.next_in,Oe=R.input,R.avail_in=$e,R.next_in=0,R.input=H,ie(ne);ne.lookahead>=D;){for(G=ne.strstart,K=ne.lookahead-(D-1);ne.ins_h=(ne.ins_h<<ne.hash_shift^ne.window[G+D-1])&ne.hash_mask,ne.prev[G&ne.w_mask]=ne.head[ne.ins_h],ne.head[ne.ins_h]=G,G++,--K;);ne.strstart=G,ne.lookahead=D-1,ie(ne)}return ne.strstart+=ne.lookahead,ne.block_start=ne.strstart,ne.insert=ne.lookahead,ne.lookahead=0,ne.match_length=ne.prev_length=D-1,ne.match_available=0,R.next_in=je,R.input=Oe,R.avail_in=Fe,ne.wrap=le,g},a.deflateInfo="pako deflate (from Nodeca project)"},{"../utils/common":41,"./adler32":43,"./crc32":45,"./messages":51,"./trees":52}],47:[function(t,n,a){n.exports=function(){this.text=0,this.time=0,this.xflags=0,this.os=0,this.extra=null,this.extra_len=0,this.name="",this.comment="",this.hcrc=0,this.done=!1}},{}],48:[function(t,n,a){n.exports=function(i,o){var l,u,h,f,m,x,g,y,v,S,k,A,N,j,W,ee,z,B,D,Z,q,O,V,F,re;l=i.state,u=i.next_in,F=i.input,h=u+(i.avail_in-5),f=i.next_out,re=i.output,m=f-(o-i.avail_out),x=f+(i.avail_out-257),g=l.dmax,y=l.wsize,v=l.whave,S=l.wnext,k=l.window,A=l.hold,N=l.bits,j=l.lencode,W=l.distcode,ee=(1<<l.lenbits)-1,z=(1<<l.distbits)-1;e:do{N<15&&(A+=F[u++]<<N,N+=8,A+=F[u++]<<N,N+=8),B=j[A&ee];t:for(;;){if(A>>>=D=B>>>24,N-=D,(D=B>>>16&255)===0)re[f++]=65535&B;else{if(!(16&D)){if((64&D)==0){B=j[(65535&B)+(A&(1<<D)-1)];continue t}if(32&D){l.mode=12;break e}i.msg="invalid literal/length code",l.mode=30;break e}Z=65535&B,(D&=15)&&(N<D&&(A+=F[u++]<<N,N+=8),Z+=A&(1<<D)-1,A>>>=D,N-=D),N<15&&(A+=F[u++]<<N,N+=8,A+=F[u++]<<N,N+=8),B=W[A&z];r:for(;;){if(A>>>=D=B>>>24,N-=D,!(16&(D=B>>>16&255))){if((64&D)==0){B=W[(65535&B)+(A&(1<<D)-1)];continue r}i.msg="invalid distance code",l.mode=30;break e}if(q=65535&B,N<(D&=15)&&(A+=F[u++]<<N,(N+=8)<D&&(A+=F[u++]<<N,N+=8)),g<(q+=A&(1<<D)-1)){i.msg="invalid distance too far back",l.mode=30;break e}if(A>>>=D,N-=D,(D=f-m)<q){if(v<(D=q-D)&&l.sane){i.msg="invalid distance too far back",l.mode=30;break e}if(V=k,(O=0)===S){if(O+=y-D,D<Z){for(Z-=D;re[f++]=k[O++],--D;);O=f-q,V=re}}else if(S<D){if(O+=y+S-D,(D-=S)<Z){for(Z-=D;re[f++]=k[O++],--D;);if(O=0,S<Z){for(Z-=D=S;re[f++]=k[O++],--D;);O=f-q,V=re}}}else if(O+=S-D,D<Z){for(Z-=D;re[f++]=k[O++],--D;);O=f-q,V=re}for(;2<Z;)re[f++]=V[O++],re[f++]=V[O++],re[f++]=V[O++],Z-=3;Z&&(re[f++]=V[O++],1<Z&&(re[f++]=V[O++]))}else{for(O=f-q;re[f++]=re[O++],re[f++]=re[O++],re[f++]=re[O++],2<(Z-=3););Z&&(re[f++]=re[O++],1<Z&&(re[f++]=re[O++]))}break}}break}}while(u<h&&f<x);u-=Z=N>>3,A&=(1<<(N-=Z<<3))-1,i.next_in=u,i.next_out=f,i.avail_in=u<h?h-u+5:5-(u-h),i.avail_out=f<x?x-f+257:257-(f-x),l.hold=A,l.bits=N}},{}],49:[function(t,n,a){var i=t("../utils/common"),o=t("./adler32"),l=t("./crc32"),u=t("./inffast"),h=t("./inftrees"),f=1,m=2,x=0,g=-2,y=1,v=852,S=592;function k(O){return(O>>>24&255)+(O>>>8&65280)+((65280&O)<<8)+((255&O)<<24)}function A(){this.mode=0,this.last=!1,this.wrap=0,this.havedict=!1,this.flags=0,this.dmax=0,this.check=0,this.total=0,this.head=null,this.wbits=0,this.wsize=0,this.whave=0,this.wnext=0,this.window=null,this.hold=0,this.bits=0,this.length=0,this.offset=0,this.extra=0,this.lencode=null,this.distcode=null,this.lenbits=0,this.distbits=0,this.ncode=0,this.nlen=0,this.ndist=0,this.have=0,this.next=null,this.lens=new i.Buf16(320),this.work=new i.Buf16(288),this.lendyn=null,this.distdyn=null,this.sane=0,this.back=0,this.was=0}function N(O){var V;return O&&O.state?(V=O.state,O.total_in=O.total_out=V.total=0,O.msg="",V.wrap&&(O.adler=1&V.wrap),V.mode=y,V.last=0,V.havedict=0,V.dmax=32768,V.head=null,V.hold=0,V.bits=0,V.lencode=V.lendyn=new i.Buf32(v),V.distcode=V.distdyn=new i.Buf32(S),V.sane=1,V.back=-1,x):g}function j(O){var V;return O&&O.state?((V=O.state).wsize=0,V.whave=0,V.wnext=0,N(O)):g}function W(O,V){var F,re;return O&&O.state?(re=O.state,V<0?(F=0,V=-V):(F=1+(V>>4),V<48&&(V&=15)),V&&(V<8||15<V)?g:(re.window!==null&&re.wbits!==V&&(re.window=null),re.wrap=F,re.wbits=V,j(O))):g}function ee(O,V){var F,re;return O?(re=new A,(O.state=re).window=null,(F=W(O,V))!==x&&(O.state=null),F):g}var z,B,D=!0;function Z(O){if(D){var V;for(z=new i.Buf32(512),B=new i.Buf32(32),V=0;V<144;)O.lens[V++]=8;for(;V<256;)O.lens[V++]=9;for(;V<280;)O.lens[V++]=7;for(;V<288;)O.lens[V++]=8;for(h(f,O.lens,0,288,z,0,O.work,{bits:9}),V=0;V<32;)O.lens[V++]=5;h(m,O.lens,0,32,B,0,O.work,{bits:5}),D=!1}O.lencode=z,O.lenbits=9,O.distcode=B,O.distbits=5}function q(O,V,F,re){var ae,J=O.state;return J.window===null&&(J.wsize=1<<J.wbits,J.wnext=0,J.whave=0,J.window=new i.Buf8(J.wsize)),re>=J.wsize?(i.arraySet(J.window,V,F-J.wsize,J.wsize,0),J.wnext=0,J.whave=J.wsize):(re<(ae=J.wsize-J.wnext)&&(ae=re),i.arraySet(J.window,V,F-re,ae,J.wnext),(re-=ae)?(i.arraySet(J.window,V,F-re,re,0),J.wnext=re,J.whave=J.wsize):(J.wnext+=ae,J.wnext===J.wsize&&(J.wnext=0),J.whave<J.wsize&&(J.whave+=ae))),0}a.inflateReset=j,a.inflateReset2=W,a.inflateResetKeep=N,a.inflateInit=function(O){return ee(O,15)},a.inflateInit2=ee,a.inflate=function(O,V){var F,re,ae,J,ge,te,ke,Y,w,L,P,U,ie,fe,xe,ve,ce,De,ue,Ye,R,H,ne,G,K=0,le=new i.Buf8(4),Fe=[16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15];if(!O||!O.state||!O.output||!O.input&&O.avail_in!==0)return g;(F=O.state).mode===12&&(F.mode=13),ge=O.next_out,ae=O.output,ke=O.avail_out,J=O.next_in,re=O.input,te=O.avail_in,Y=F.hold,w=F.bits,L=te,P=ke,H=x;e:for(;;)switch(F.mode){case y:if(F.wrap===0){F.mode=13;break}for(;w<16;){if(te===0)break e;te--,Y+=re[J++]<<w,w+=8}if(2&F.wrap&&Y===35615){le[F.check=0]=255&Y,le[1]=Y>>>8&255,F.check=l(F.check,le,2,0),w=Y=0,F.mode=2;break}if(F.flags=0,F.head&&(F.head.done=!1),!(1&F.wrap)||(((255&Y)<<8)+(Y>>8))%31){O.msg="incorrect header check",F.mode=30;break}if((15&Y)!=8){O.msg="unknown compression method",F.mode=30;break}if(w-=4,R=8+(15&(Y>>>=4)),F.wbits===0)F.wbits=R;else if(R>F.wbits){O.msg="invalid window size",F.mode=30;break}F.dmax=1<<R,O.adler=F.check=1,F.mode=512&Y?10:12,w=Y=0;break;case 2:for(;w<16;){if(te===0)break e;te--,Y+=re[J++]<<w,w+=8}if(F.flags=Y,(255&F.flags)!=8){O.msg="unknown compression method",F.mode=30;break}if(57344&F.flags){O.msg="unknown header flags set",F.mode=30;break}F.head&&(F.head.text=Y>>8&1),512&F.flags&&(le[0]=255&Y,le[1]=Y>>>8&255,F.check=l(F.check,le,2,0)),w=Y=0,F.mode=3;case 3:for(;w<32;){if(te===0)break e;te--,Y+=re[J++]<<w,w+=8}F.head&&(F.head.time=Y),512&F.flags&&(le[0]=255&Y,le[1]=Y>>>8&255,le[2]=Y>>>16&255,le[3]=Y>>>24&255,F.check=l(F.check,le,4,0)),w=Y=0,F.mode=4;case 4:for(;w<16;){if(te===0)break e;te--,Y+=re[J++]<<w,w+=8}F.head&&(F.head.xflags=255&Y,F.head.os=Y>>8),512&F.flags&&(le[0]=255&Y,le[1]=Y>>>8&255,F.check=l(F.check,le,2,0)),w=Y=0,F.mode=5;case 5:if(1024&F.flags){for(;w<16;){if(te===0)break e;te--,Y+=re[J++]<<w,w+=8}F.length=Y,F.head&&(F.head.extra_len=Y),512&F.flags&&(le[0]=255&Y,le[1]=Y>>>8&255,F.check=l(F.check,le,2,0)),w=Y=0}else F.head&&(F.head.extra=null);F.mode=6;case 6:if(1024&F.flags&&(te<(U=F.length)&&(U=te),U&&(F.head&&(R=F.head.extra_len-F.length,F.head.extra||(F.head.extra=new Array(F.head.extra_len)),i.arraySet(F.head.extra,re,J,U,R)),512&F.flags&&(F.check=l(F.check,re,U,J)),te-=U,J+=U,F.length-=U),F.length))break e;F.length=0,F.mode=7;case 7:if(2048&F.flags){if(te===0)break e;for(U=0;R=re[J+U++],F.head&&R&&F.length<65536&&(F.head.name+=String.fromCharCode(R)),R&&U<te;);if(512&F.flags&&(F.check=l(F.check,re,U,J)),te-=U,J+=U,R)break e}else F.head&&(F.head.name=null);F.length=0,F.mode=8;case 8:if(4096&F.flags){if(te===0)break e;for(U=0;R=re[J+U++],F.head&&R&&F.length<65536&&(F.head.comment+=String.fromCharCode(R)),R&&U<te;);if(512&F.flags&&(F.check=l(F.check,re,U,J)),te-=U,J+=U,R)break e}else F.head&&(F.head.comment=null);F.mode=9;case 9:if(512&F.flags){for(;w<16;){if(te===0)break e;te--,Y+=re[J++]<<w,w+=8}if(Y!==(65535&F.check)){O.msg="header crc mismatch",F.mode=30;break}w=Y=0}F.head&&(F.head.hcrc=F.flags>>9&1,F.head.done=!0),O.adler=F.check=0,F.mode=12;break;case 10:for(;w<32;){if(te===0)break e;te--,Y+=re[J++]<<w,w+=8}O.adler=F.check=k(Y),w=Y=0,F.mode=11;case 11:if(F.havedict===0)return O.next_out=ge,O.avail_out=ke,O.next_in=J,O.avail_in=te,F.hold=Y,F.bits=w,2;O.adler=F.check=1,F.mode=12;case 12:if(V===5||V===6)break e;case 13:if(F.last){Y>>>=7&w,w-=7&w,F.mode=27;break}for(;w<3;){if(te===0)break e;te--,Y+=re[J++]<<w,w+=8}switch(F.last=1&Y,w-=1,3&(Y>>>=1)){case 0:F.mode=14;break;case 1:if(Z(F),F.mode=20,V!==6)break;Y>>>=2,w-=2;break e;case 2:F.mode=17;break;case 3:O.msg="invalid block type",F.mode=30}Y>>>=2,w-=2;break;case 14:for(Y>>>=7&w,w-=7&w;w<32;){if(te===0)break e;te--,Y+=re[J++]<<w,w+=8}if((65535&Y)!=(Y>>>16^65535)){O.msg="invalid stored block lengths",F.mode=30;break}if(F.length=65535&Y,w=Y=0,F.mode=15,V===6)break e;case 15:F.mode=16;case 16:if(U=F.length){if(te<U&&(U=te),ke<U&&(U=ke),U===0)break e;i.arraySet(ae,re,J,U,ge),te-=U,J+=U,ke-=U,ge+=U,F.length-=U;break}F.mode=12;break;case 17:for(;w<14;){if(te===0)break e;te--,Y+=re[J++]<<w,w+=8}if(F.nlen=257+(31&Y),Y>>>=5,w-=5,F.ndist=1+(31&Y),Y>>>=5,w-=5,F.ncode=4+(15&Y),Y>>>=4,w-=4,286<F.nlen||30<F.ndist){O.msg="too many length or distance symbols",F.mode=30;break}F.have=0,F.mode=18;case 18:for(;F.have<F.ncode;){for(;w<3;){if(te===0)break e;te--,Y+=re[J++]<<w,w+=8}F.lens[Fe[F.have++]]=7&Y,Y>>>=3,w-=3}for(;F.have<19;)F.lens[Fe[F.have++]]=0;if(F.lencode=F.lendyn,F.lenbits=7,ne={bits:F.lenbits},H=h(0,F.lens,0,19,F.lencode,0,F.work,ne),F.lenbits=ne.bits,H){O.msg="invalid code lengths set",F.mode=30;break}F.have=0,F.mode=19;case 19:for(;F.have<F.nlen+F.ndist;){for(;ve=(K=F.lencode[Y&(1<<F.lenbits)-1])>>>16&255,ce=65535&K,!((xe=K>>>24)<=w);){if(te===0)break e;te--,Y+=re[J++]<<w,w+=8}if(ce<16)Y>>>=xe,w-=xe,F.lens[F.have++]=ce;else{if(ce===16){for(G=xe+2;w<G;){if(te===0)break e;te--,Y+=re[J++]<<w,w+=8}if(Y>>>=xe,w-=xe,F.have===0){O.msg="invalid bit length repeat",F.mode=30;break}R=F.lens[F.have-1],U=3+(3&Y),Y>>>=2,w-=2}else if(ce===17){for(G=xe+3;w<G;){if(te===0)break e;te--,Y+=re[J++]<<w,w+=8}w-=xe,R=0,U=3+(7&(Y>>>=xe)),Y>>>=3,w-=3}else{for(G=xe+7;w<G;){if(te===0)break e;te--,Y+=re[J++]<<w,w+=8}w-=xe,R=0,U=11+(127&(Y>>>=xe)),Y>>>=7,w-=7}if(F.have+U>F.nlen+F.ndist){O.msg="invalid bit length repeat",F.mode=30;break}for(;U--;)F.lens[F.have++]=R}}if(F.mode===30)break;if(F.lens[256]===0){O.msg="invalid code -- missing end-of-block",F.mode=30;break}if(F.lenbits=9,ne={bits:F.lenbits},H=h(f,F.lens,0,F.nlen,F.lencode,0,F.work,ne),F.lenbits=ne.bits,H){O.msg="invalid literal/lengths set",F.mode=30;break}if(F.distbits=6,F.distcode=F.distdyn,ne={bits:F.distbits},H=h(m,F.lens,F.nlen,F.ndist,F.distcode,0,F.work,ne),F.distbits=ne.bits,H){O.msg="invalid distances set",F.mode=30;break}if(F.mode=20,V===6)break e;case 20:F.mode=21;case 21:if(6<=te&&258<=ke){O.next_out=ge,O.avail_out=ke,O.next_in=J,O.avail_in=te,F.hold=Y,F.bits=w,u(O,P),ge=O.next_out,ae=O.output,ke=O.avail_out,J=O.next_in,re=O.input,te=O.avail_in,Y=F.hold,w=F.bits,F.mode===12&&(F.back=-1);break}for(F.back=0;ve=(K=F.lencode[Y&(1<<F.lenbits)-1])>>>16&255,ce=65535&K,!((xe=K>>>24)<=w);){if(te===0)break e;te--,Y+=re[J++]<<w,w+=8}if(ve&&(240&ve)==0){for(De=xe,ue=ve,Ye=ce;ve=(K=F.lencode[Ye+((Y&(1<<De+ue)-1)>>De)])>>>16&255,ce=65535&K,!(De+(xe=K>>>24)<=w);){if(te===0)break e;te--,Y+=re[J++]<<w,w+=8}Y>>>=De,w-=De,F.back+=De}if(Y>>>=xe,w-=xe,F.back+=xe,F.length=ce,ve===0){F.mode=26;break}if(32&ve){F.back=-1,F.mode=12;break}if(64&ve){O.msg="invalid literal/length code",F.mode=30;break}F.extra=15&ve,F.mode=22;case 22:if(F.extra){for(G=F.extra;w<G;){if(te===0)break e;te--,Y+=re[J++]<<w,w+=8}F.length+=Y&(1<<F.extra)-1,Y>>>=F.extra,w-=F.extra,F.back+=F.extra}F.was=F.length,F.mode=23;case 23:for(;ve=(K=F.distcode[Y&(1<<F.distbits)-1])>>>16&255,ce=65535&K,!((xe=K>>>24)<=w);){if(te===0)break e;te--,Y+=re[J++]<<w,w+=8}if((240&ve)==0){for(De=xe,ue=ve,Ye=ce;ve=(K=F.distcode[Ye+((Y&(1<<De+ue)-1)>>De)])>>>16&255,ce=65535&K,!(De+(xe=K>>>24)<=w);){if(te===0)break e;te--,Y+=re[J++]<<w,w+=8}Y>>>=De,w-=De,F.back+=De}if(Y>>>=xe,w-=xe,F.back+=xe,64&ve){O.msg="invalid distance code",F.mode=30;break}F.offset=ce,F.extra=15&ve,F.mode=24;case 24:if(F.extra){for(G=F.extra;w<G;){if(te===0)break e;te--,Y+=re[J++]<<w,w+=8}F.offset+=Y&(1<<F.extra)-1,Y>>>=F.extra,w-=F.extra,F.back+=F.extra}if(F.offset>F.dmax){O.msg="invalid distance too far back",F.mode=30;break}F.mode=25;case 25:if(ke===0)break e;if(U=P-ke,F.offset>U){if((U=F.offset-U)>F.whave&&F.sane){O.msg="invalid distance too far back",F.mode=30;break}ie=U>F.wnext?(U-=F.wnext,F.wsize-U):F.wnext-U,U>F.length&&(U=F.length),fe=F.window}else fe=ae,ie=ge-F.offset,U=F.length;for(ke<U&&(U=ke),ke-=U,F.length-=U;ae[ge++]=fe[ie++],--U;);F.length===0&&(F.mode=21);break;case 26:if(ke===0)break e;ae[ge++]=F.length,ke--,F.mode=21;break;case 27:if(F.wrap){for(;w<32;){if(te===0)break e;te--,Y|=re[J++]<<w,w+=8}if(P-=ke,O.total_out+=P,F.total+=P,P&&(O.adler=F.check=F.flags?l(F.check,ae,P,ge-P):o(F.check,ae,P,ge-P)),P=ke,(F.flags?Y:k(Y))!==F.check){O.msg="incorrect data check",F.mode=30;break}w=Y=0}F.mode=28;case 28:if(F.wrap&&F.flags){for(;w<32;){if(te===0)break e;te--,Y+=re[J++]<<w,w+=8}if(Y!==(4294967295&F.total)){O.msg="incorrect length check",F.mode=30;break}w=Y=0}F.mode=29;case 29:H=1;break e;case 30:H=-3;break e;case 31:return-4;case 32:default:return g}return O.next_out=ge,O.avail_out=ke,O.next_in=J,O.avail_in=te,F.hold=Y,F.bits=w,(F.wsize||P!==O.avail_out&&F.mode<30&&(F.mode<27||V!==4))&&q(O,O.output,O.next_out,P-O.avail_out)?(F.mode=31,-4):(L-=O.avail_in,P-=O.avail_out,O.total_in+=L,O.total_out+=P,F.total+=P,F.wrap&&P&&(O.adler=F.check=F.flags?l(F.check,ae,P,O.next_out-P):o(F.check,ae,P,O.next_out-P)),O.data_type=F.bits+(F.last?64:0)+(F.mode===12?128:0)+(F.mode===20||F.mode===15?256:0),(L==0&&P===0||V===4)&&H===x&&(H=-5),H)},a.inflateEnd=function(O){if(!O||!O.state)return g;var V=O.state;return V.window&&(V.window=null),O.state=null,x},a.inflateGetHeader=function(O,V){var F;return O&&O.state?(2&(F=O.state).wrap)==0?g:((F.head=V).done=!1,x):g},a.inflateSetDictionary=function(O,V){var F,re=V.length;return O&&O.state?(F=O.state).wrap!==0&&F.mode!==11?g:F.mode===11&&o(1,V,re,0)!==F.check?-3:q(O,V,re,re)?(F.mode=31,-4):(F.havedict=1,x):g},a.inflateInfo="pako inflate (from Nodeca project)"},{"../utils/common":41,"./adler32":43,"./crc32":45,"./inffast":48,"./inftrees":50}],50:[function(t,n,a){var i=t("../utils/common"),o=[3,4,5,6,7,8,9,10,11,13,15,17,19,23,27,31,35,43,51,59,67,83,99,115,131,163,195,227,258,0,0],l=[16,16,16,16,16,16,16,16,17,17,17,17,18,18,18,18,19,19,19,19,20,20,20,20,21,21,21,21,16,72,78],u=[1,2,3,4,5,7,9,13,17,25,33,49,65,97,129,193,257,385,513,769,1025,1537,2049,3073,4097,6145,8193,12289,16385,24577,0,0],h=[16,16,16,16,17,17,18,18,19,19,20,20,21,21,22,22,23,23,24,24,25,25,26,26,27,27,28,28,29,29,64,64];n.exports=function(f,m,x,g,y,v,S,k){var A,N,j,W,ee,z,B,D,Z,q=k.bits,O=0,V=0,F=0,re=0,ae=0,J=0,ge=0,te=0,ke=0,Y=0,w=null,L=0,P=new i.Buf16(16),U=new i.Buf16(16),ie=null,fe=0;for(O=0;O<=15;O++)P[O]=0;for(V=0;V<g;V++)P[m[x+V]]++;for(ae=q,re=15;1<=re&&P[re]===0;re--);if(re<ae&&(ae=re),re===0)return y[v++]=20971520,y[v++]=20971520,k.bits=1,0;for(F=1;F<re&&P[F]===0;F++);for(ae<F&&(ae=F),O=te=1;O<=15;O++)if(te<<=1,(te-=P[O])<0)return-1;if(0<te&&(f===0||re!==1))return-1;for(U[1]=0,O=1;O<15;O++)U[O+1]=U[O]+P[O];for(V=0;V<g;V++)m[x+V]!==0&&(S[U[m[x+V]]++]=V);if(z=f===0?(w=ie=S,19):f===1?(w=o,L-=257,ie=l,fe-=257,256):(w=u,ie=h,-1),O=F,ee=v,ge=V=Y=0,j=-1,W=(ke=1<<(J=ae))-1,f===1&&852<ke||f===2&&592<ke)return 1;for(;;){for(B=O-ge,Z=S[V]<z?(D=0,S[V]):S[V]>z?(D=ie[fe+S[V]],w[L+S[V]]):(D=96,0),A=1<<O-ge,F=N=1<<J;y[ee+(Y>>ge)+(N-=A)]=B<<24|D<<16|Z|0,N!==0;);for(A=1<<O-1;Y&A;)A>>=1;if(A!==0?(Y&=A-1,Y+=A):Y=0,V++,--P[O]==0){if(O===re)break;O=m[x+S[V]]}if(ae<O&&(Y&W)!==j){for(ge===0&&(ge=ae),ee+=F,te=1<<(J=O-ge);J+ge<re&&!((te-=P[J+ge])<=0);)J++,te<<=1;if(ke+=1<<J,f===1&&852<ke||f===2&&592<ke)return 1;y[j=Y&W]=ae<<24|J<<16|ee-v|0}}return Y!==0&&(y[ee+Y]=O-ge<<24|64<<16|0),k.bits=ae,0}},{"../utils/common":41}],51:[function(t,n,a){n.exports={2:"need dictionary",1:"stream end",0:"","-1":"file error","-2":"stream error","-3":"data error","-4":"insufficient memory","-5":"buffer error","-6":"incompatible version"}},{}],52:[function(t,n,a){var i=t("../utils/common"),o=0,l=1;function u(K){for(var le=K.length;0<=--le;)K[le]=0}var h=0,f=29,m=256,x=m+1+f,g=30,y=19,v=2*x+1,S=15,k=16,A=7,N=256,j=16,W=17,ee=18,z=[0,0,0,0,0,0,0,0,1,1,1,1,2,2,2,2,3,3,3,3,4,4,4,4,5,5,5,5,0],B=[0,0,0,0,1,1,2,2,3,3,4,4,5,5,6,6,7,7,8,8,9,9,10,10,11,11,12,12,13,13],D=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,2,3,7],Z=[16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15],q=new Array(2*(x+2));u(q);var O=new Array(2*g);u(O);var V=new Array(512);u(V);var F=new Array(256);u(F);var re=new Array(f);u(re);var ae,J,ge,te=new Array(g);function ke(K,le,Fe,je,Oe){this.static_tree=K,this.extra_bits=le,this.extra_base=Fe,this.elems=je,this.max_length=Oe,this.has_stree=K&&K.length}function Y(K,le){this.dyn_tree=K,this.max_code=0,this.stat_desc=le}function w(K){return K<256?V[K]:V[256+(K>>>7)]}function L(K,le){K.pending_buf[K.pending++]=255&le,K.pending_buf[K.pending++]=le>>>8&255}function P(K,le,Fe){K.bi_valid>k-Fe?(K.bi_buf|=le<<K.bi_valid&65535,L(K,K.bi_buf),K.bi_buf=le>>k-K.bi_valid,K.bi_valid+=Fe-k):(K.bi_buf|=le<<K.bi_valid&65535,K.bi_valid+=Fe)}function U(K,le,Fe){P(K,Fe[2*le],Fe[2*le+1])}function ie(K,le){for(var Fe=0;Fe|=1&K,K>>>=1,Fe<<=1,0<--le;);return Fe>>>1}function fe(K,le,Fe){var je,Oe,Ge=new Array(S+1),$e=0;for(je=1;je<=S;je++)Ge[je]=$e=$e+Fe[je-1]<<1;for(Oe=0;Oe<=le;Oe++){var rt=K[2*Oe+1];rt!==0&&(K[2*Oe]=ie(Ge[rt]++,rt))}}function xe(K){var le;for(le=0;le<x;le++)K.dyn_ltree[2*le]=0;for(le=0;le<g;le++)K.dyn_dtree[2*le]=0;for(le=0;le<y;le++)K.bl_tree[2*le]=0;K.dyn_ltree[2*N]=1,K.opt_len=K.static_len=0,K.last_lit=K.matches=0}function ve(K){8<K.bi_valid?L(K,K.bi_buf):0<K.bi_valid&&(K.pending_buf[K.pending++]=K.bi_buf),K.bi_buf=0,K.bi_valid=0}function ce(K,le,Fe,je){var Oe=2*le,Ge=2*Fe;return K[Oe]<K[Ge]||K[Oe]===K[Ge]&&je[le]<=je[Fe]}function De(K,le,Fe){for(var je=K.heap[Fe],Oe=Fe<<1;Oe<=K.heap_len&&(Oe<K.heap_len&&ce(le,K.heap[Oe+1],K.heap[Oe],K.depth)&&Oe++,!ce(le,je,K.heap[Oe],K.depth));)K.heap[Fe]=K.heap[Oe],Fe=Oe,Oe<<=1;K.heap[Fe]=je}function ue(K,le,Fe){var je,Oe,Ge,$e,rt=0;if(K.last_lit!==0)for(;je=K.pending_buf[K.d_buf+2*rt]<<8|K.pending_buf[K.d_buf+2*rt+1],Oe=K.pending_buf[K.l_buf+rt],rt++,je===0?U(K,Oe,le):(U(K,(Ge=F[Oe])+m+1,le),($e=z[Ge])!==0&&P(K,Oe-=re[Ge],$e),U(K,Ge=w(--je),Fe),($e=B[Ge])!==0&&P(K,je-=te[Ge],$e)),rt<K.last_lit;);U(K,N,le)}function Ye(K,le){var Fe,je,Oe,Ge=le.dyn_tree,$e=le.stat_desc.static_tree,rt=le.stat_desc.has_stree,it=le.stat_desc.elems,Tt=-1;for(K.heap_len=0,K.heap_max=v,Fe=0;Fe<it;Fe++)Ge[2*Fe]!==0?(K.heap[++K.heap_len]=Tt=Fe,K.depth[Fe]=0):Ge[2*Fe+1]=0;for(;K.heap_len<2;)Ge[2*(Oe=K.heap[++K.heap_len]=Tt<2?++Tt:0)]=1,K.depth[Oe]=0,K.opt_len--,rt&&(K.static_len-=$e[2*Oe+1]);for(le.max_code=Tt,Fe=K.heap_len>>1;1<=Fe;Fe--)De(K,Ge,Fe);for(Oe=it;Fe=K.heap[1],K.heap[1]=K.heap[K.heap_len--],De(K,Ge,1),je=K.heap[1],K.heap[--K.heap_max]=Fe,K.heap[--K.heap_max]=je,Ge[2*Oe]=Ge[2*Fe]+Ge[2*je],K.depth[Oe]=(K.depth[Fe]>=K.depth[je]?K.depth[Fe]:K.depth[je])+1,Ge[2*Fe+1]=Ge[2*je+1]=Oe,K.heap[1]=Oe++,De(K,Ge,1),2<=K.heap_len;);K.heap[--K.heap_max]=K.heap[1],(function(dt,He){var xt,bt,Qt,Et,Rt,Lt,zt=He.dyn_tree,Mt=He.max_code,hr=He.stat_desc.static_tree,Ut=He.stat_desc.has_stree,Kt=He.stat_desc.extra_bits,St=He.stat_desc.extra_base,kt=He.stat_desc.max_length,ht=0;for(Et=0;Et<=S;Et++)dt.bl_count[Et]=0;for(zt[2*dt.heap[dt.heap_max]+1]=0,xt=dt.heap_max+1;xt<v;xt++)kt<(Et=zt[2*zt[2*(bt=dt.heap[xt])+1]+1]+1)&&(Et=kt,ht++),zt[2*bt+1]=Et,Mt<bt||(dt.bl_count[Et]++,Rt=0,St<=bt&&(Rt=Kt[bt-St]),Lt=zt[2*bt],dt.opt_len+=Lt*(Et+Rt),Ut&&(dt.static_len+=Lt*(hr[2*bt+1]+Rt)));if(ht!==0){do{for(Et=kt-1;dt.bl_count[Et]===0;)Et--;dt.bl_count[Et]--,dt.bl_count[Et+1]+=2,dt.bl_count[kt]--,ht-=2}while(0<ht);for(Et=kt;Et!==0;Et--)for(bt=dt.bl_count[Et];bt!==0;)Mt<(Qt=dt.heap[--xt])||(zt[2*Qt+1]!==Et&&(dt.opt_len+=(Et-zt[2*Qt+1])*zt[2*Qt],zt[2*Qt+1]=Et),bt--)}})(K,le),fe(Ge,Tt,K.bl_count)}function R(K,le,Fe){var je,Oe,Ge=-1,$e=le[1],rt=0,it=7,Tt=4;for($e===0&&(it=138,Tt=3),le[2*(Fe+1)+1]=65535,je=0;je<=Fe;je++)Oe=$e,$e=le[2*(je+1)+1],++rt<it&&Oe===$e||(rt<Tt?K.bl_tree[2*Oe]+=rt:Oe!==0?(Oe!==Ge&&K.bl_tree[2*Oe]++,K.bl_tree[2*j]++):rt<=10?K.bl_tree[2*W]++:K.bl_tree[2*ee]++,Ge=Oe,Tt=(rt=0)===$e?(it=138,3):Oe===$e?(it=6,3):(it=7,4))}function H(K,le,Fe){var je,Oe,Ge=-1,$e=le[1],rt=0,it=7,Tt=4;for($e===0&&(it=138,Tt=3),je=0;je<=Fe;je++)if(Oe=$e,$e=le[2*(je+1)+1],!(++rt<it&&Oe===$e)){if(rt<Tt)for(;U(K,Oe,K.bl_tree),--rt!=0;);else Oe!==0?(Oe!==Ge&&(U(K,Oe,K.bl_tree),rt--),U(K,j,K.bl_tree),P(K,rt-3,2)):rt<=10?(U(K,W,K.bl_tree),P(K,rt-3,3)):(U(K,ee,K.bl_tree),P(K,rt-11,7));Ge=Oe,Tt=(rt=0)===$e?(it=138,3):Oe===$e?(it=6,3):(it=7,4)}}u(te);var ne=!1;function G(K,le,Fe,je){P(K,(h<<1)+(je?1:0),3),(function(Oe,Ge,$e,rt){ve(Oe),L(Oe,$e),L(Oe,~$e),i.arraySet(Oe.pending_buf,Oe.window,Ge,$e,Oe.pending),Oe.pending+=$e})(K,le,Fe)}a._tr_init=function(K){ne||((function(){var le,Fe,je,Oe,Ge,$e=new Array(S+1);for(Oe=je=0;Oe<f-1;Oe++)for(re[Oe]=je,le=0;le<1<<z[Oe];le++)F[je++]=Oe;for(F[je-1]=Oe,Oe=Ge=0;Oe<16;Oe++)for(te[Oe]=Ge,le=0;le<1<<B[Oe];le++)V[Ge++]=Oe;for(Ge>>=7;Oe<g;Oe++)for(te[Oe]=Ge<<7,le=0;le<1<<B[Oe]-7;le++)V[256+Ge++]=Oe;for(Fe=0;Fe<=S;Fe++)$e[Fe]=0;for(le=0;le<=143;)q[2*le+1]=8,le++,$e[8]++;for(;le<=255;)q[2*le+1]=9,le++,$e[9]++;for(;le<=279;)q[2*le+1]=7,le++,$e[7]++;for(;le<=287;)q[2*le+1]=8,le++,$e[8]++;for(fe(q,x+1,$e),le=0;le<g;le++)O[2*le+1]=5,O[2*le]=ie(le,5);ae=new ke(q,z,m+1,x,S),J=new ke(O,B,0,g,S),ge=new ke(new Array(0),D,0,y,A)})(),ne=!0),K.l_desc=new Y(K.dyn_ltree,ae),K.d_desc=new Y(K.dyn_dtree,J),K.bl_desc=new Y(K.bl_tree,ge),K.bi_buf=0,K.bi_valid=0,xe(K)},a._tr_stored_block=G,a._tr_flush_block=function(K,le,Fe,je){var Oe,Ge,$e=0;0<K.level?(K.strm.data_type===2&&(K.strm.data_type=(function(rt){var it,Tt=4093624447;for(it=0;it<=31;it++,Tt>>>=1)if(1&Tt&&rt.dyn_ltree[2*it]!==0)return o;if(rt.dyn_ltree[18]!==0||rt.dyn_ltree[20]!==0||rt.dyn_ltree[26]!==0)return l;for(it=32;it<m;it++)if(rt.dyn_ltree[2*it]!==0)return l;return o})(K)),Ye(K,K.l_desc),Ye(K,K.d_desc),$e=(function(rt){var it;for(R(rt,rt.dyn_ltree,rt.l_desc.max_code),R(rt,rt.dyn_dtree,rt.d_desc.max_code),Ye(rt,rt.bl_desc),it=y-1;3<=it&&rt.bl_tree[2*Z[it]+1]===0;it--);return rt.opt_len+=3*(it+1)+5+5+4,it})(K),Oe=K.opt_len+3+7>>>3,(Ge=K.static_len+3+7>>>3)<=Oe&&(Oe=Ge)):Oe=Ge=Fe+5,Fe+4<=Oe&&le!==-1?G(K,le,Fe,je):K.strategy===4||Ge===Oe?(P(K,2+(je?1:0),3),ue(K,q,O)):(P(K,4+(je?1:0),3),(function(rt,it,Tt,dt){var He;for(P(rt,it-257,5),P(rt,Tt-1,5),P(rt,dt-4,4),He=0;He<dt;He++)P(rt,rt.bl_tree[2*Z[He]+1],3);H(rt,rt.dyn_ltree,it-1),H(rt,rt.dyn_dtree,Tt-1)})(K,K.l_desc.max_code+1,K.d_desc.max_code+1,$e+1),ue(K,K.dyn_ltree,K.dyn_dtree)),xe(K),je&&ve(K)},a._tr_tally=function(K,le,Fe){return K.pending_buf[K.d_buf+2*K.last_lit]=le>>>8&255,K.pending_buf[K.d_buf+2*K.last_lit+1]=255&le,K.pending_buf[K.l_buf+K.last_lit]=255&Fe,K.last_lit++,le===0?K.dyn_ltree[2*Fe]++:(K.matches++,le--,K.dyn_ltree[2*(F[Fe]+m+1)]++,K.dyn_dtree[2*w(le)]++),K.last_lit===K.lit_bufsize-1},a._tr_align=function(K){P(K,2,3),U(K,N,q),(function(le){le.bi_valid===16?(L(le,le.bi_buf),le.bi_buf=0,le.bi_valid=0):8<=le.bi_valid&&(le.pending_buf[le.pending++]=255&le.bi_buf,le.bi_buf>>=8,le.bi_valid-=8)})(K)}},{"../utils/common":41}],53:[function(t,n,a){n.exports=function(){this.input=null,this.next_in=0,this.avail_in=0,this.total_in=0,this.output=null,this.next_out=0,this.avail_out=0,this.total_out=0,this.msg="",this.state=null,this.data_type=2,this.adler=0}},{}],54:[function(t,n,a){(function(i){(function(o,l){if(!o.setImmediate){var u,h,f,m,x=1,g={},y=!1,v=o.document,S=Object.getPrototypeOf&&Object.getPrototypeOf(o);S=S&&S.setTimeout?S:o,u={}.toString.call(o.process)==="[object process]"?function(j){process.nextTick(function(){A(j)})}:(function(){if(o.postMessage&&!o.importScripts){var j=!0,W=o.onmessage;return o.onmessage=function(){j=!1},o.postMessage("","*"),o.onmessage=W,j}})()?(m="setImmediate$"+Math.random()+"$",o.addEventListener?o.addEventListener("message",N,!1):o.attachEvent("onmessage",N),function(j){o.postMessage(m+j,"*")}):o.MessageChannel?((f=new MessageChannel).port1.onmessage=function(j){A(j.data)},function(j){f.port2.postMessage(j)}):v&&"onreadystatechange"in v.createElement("script")?(h=v.documentElement,function(j){var W=v.createElement("script");W.onreadystatechange=function(){A(j),W.onreadystatechange=null,h.removeChild(W),W=null},h.appendChild(W)}):function(j){setTimeout(A,0,j)},S.setImmediate=function(j){typeof j!="function"&&(j=new Function(""+j));for(var W=new Array(arguments.length-1),ee=0;ee<W.length;ee++)W[ee]=arguments[ee+1];var z={callback:j,args:W};return g[x]=z,u(x),x++},S.clearImmediate=k}function k(j){delete g[j]}function A(j){if(y)setTimeout(A,0,j);else{var W=g[j];if(W){y=!0;try{(function(ee){var z=ee.callback,B=ee.args;switch(B.length){case 0:z();break;case 1:z(B[0]);break;case 2:z(B[0],B[1]);break;case 3:z(B[0],B[1],B[2]);break;default:z.apply(l,B)}})(W)}finally{k(j),y=!1}}}}function N(j){j.source===o&&typeof j.data=="string"&&j.data.indexOf(m)===0&&A(+j.data.slice(m.length))}})(typeof self>"u"?i===void 0?this:i:self)}).call(this,typeof mu<"u"?mu:typeof self<"u"?self:typeof window<"u"?window:{})},{}]},{},[10])(10)})})($2)),$2.exports}var WP=GP();const kk=mv(WP),YP=/[/\\:*?"<>|]/g;function XP(r,e,t){if(!r)return`image_${t}`;const n=r.replace(/\{index\}/g,String(t)),i=qd(n,e).replace(YP,"_");return i.trim()?i:`image_${t}`}function KP(){return new Promise(r=>setTimeout(r,0))}function $P(r,e){const t=e.get(r)??0;return e.set(r,t+1),t===0?r:`${r}_${t+1}`}class ZP{constructor(){Or(this,"cancelled",!1)}async generate(e,t,n,a){this.cancelled=!1;const i=t.length,o=new kk,l=new Map,u=n.format==="jpeg"?".jpg":".png",h=[];for(let m=0;m<i;m++){if(this.cancelled)throw new Error("Batch generation cancelled");const x=t[m],g=await Sk(e,x,{format:n.format,quality:n.quality}),y=XP(n.filenamePattern,x,m),v=$P(y,l);o.file(`${v}${u}`,g),h.push({blob:g,row:x,index:m,filename:`${v}${u}`}),a(m+1,i),await KP()}if(this.cancelled)throw new Error("Batch generation cancelled");return{zip:await o.generateAsync({type:"blob"}),images:h}}cancel(){this.cancelled=!0}}var Kg={exports:{}},JP=Kg.exports,l4;function QP(){return l4||(l4=1,(function(r,e){(function(t,n){n()})(JP,function(){function t(h,f){return typeof f>"u"?f={autoBom:!1}:typeof f!="object"&&(console.warn("Deprecated: Expected third argument to be a object"),f={autoBom:!f}),f.autoBom&&/^\s*(?:text\/\S*|application\/xml|\S*\/\S*\+xml)\s*;.*charset\s*=\s*utf-8/i.test(h.type)?new Blob(["\uFEFF",h],{type:h.type}):h}function n(h,f,m){var x=new XMLHttpRequest;x.open("GET",h),x.responseType="blob",x.onload=function(){u(x.response,f,m)},x.onerror=function(){console.error("could not download file")},x.send()}function a(h){var f=new XMLHttpRequest;f.open("HEAD",h,!1);try{f.send()}catch{}return 200<=f.status&&299>=f.status}function i(h){try{h.dispatchEvent(new MouseEvent("click"))}catch{var f=document.createEvent("MouseEvents");f.initMouseEvent("click",!0,!0,window,0,0,0,80,20,!1,!1,!1,!1,0,null),h.dispatchEvent(f)}}var o=typeof window=="object"&&window.window===window?window:typeof self=="object"&&self.self===self?self:typeof mu=="object"&&mu.global===mu?mu:void 0,l=o.navigator&&/Macintosh/.test(navigator.userAgent)&&/AppleWebKit/.test(navigator.userAgent)&&!/Safari/.test(navigator.userAgent),u=o.saveAs||(typeof window!="object"||window!==o?function(){}:"download"in HTMLAnchorElement.prototype&&!l?function(h,f,m){var x=o.URL||o.webkitURL,g=document.createElement("a");f=f||h.name||"download",g.download=f,g.rel="noopener",typeof h=="string"?(g.href=h,g.origin===location.origin?i(g):a(g.href)?n(h,f,m):i(g,g.target="_blank")):(g.href=x.createObjectURL(h),setTimeout(function(){x.revokeObjectURL(g.href)},4e4),setTimeout(function(){i(g)},0))}:"msSaveOrOpenBlob"in navigator?function(h,f,m){if(f=f||h.name||"download",typeof h!="string")navigator.msSaveOrOpenBlob(t(h,m),f);else if(a(h))n(h,f,m);else{var x=document.createElement("a");x.href=h,x.target="_blank",setTimeout(function(){i(x)})}}:function(h,f,m,x){if(x=x||open("","_blank"),x&&(x.document.title=x.document.body.innerText="downloading..."),typeof h=="string")return n(h,f,m);var g=h.type==="application/octet-stream",y=/constructor/i.test(o.HTMLElement)||o.safari,v=/CriOS\/[\d]+/.test(navigator.userAgent);if((v||g&&y||l)&&typeof FileReader<"u"){var S=new FileReader;S.onloadend=function(){var N=S.result;N=v?N:N.replace(/^data:[^;]*;/,"data:attachment/file;"),x?x.location.href=N:location=N,x=null},S.readAsDataURL(h)}else{var k=o.URL||o.webkitURL,A=k.createObjectURL(h);x?x.location=A:location.href=A,x=null,setTimeout(function(){k.revokeObjectURL(A)},4e4)}});o.saveAs=u.saveAs=u,r.exports=u})})(Kg)),Kg.exports}var Ck=QP();const eI="modulepreload",tI=function(r){return"/"+r},c4={},$g=function(e,t,n){let a=Promise.resolve();if(t&&t.length>0){let o=function(h){return Promise.all(h.map(f=>Promise.resolve(f).then(m=>({status:"fulfilled",value:m}),m=>({status:"rejected",reason:m}))))};document.getElementsByTagName("link");const l=document.querySelector("meta[property=csp-nonce]"),u=(l==null?void 0:l.nonce)||(l==null?void 0:l.getAttribute("nonce"));a=o(t.map(h=>{if(h=tI(h),h in c4)return;c4[h]=!0;const f=h.endsWith(".css"),m=f?'[rel="stylesheet"]':"";if(document.querySelector(`link[href="${h}"]${m}`))return;const x=document.createElement("link");if(x.rel=f?"stylesheet":eI,f||(x.as="script"),x.crossOrigin="",x.href=h,u&&x.setAttribute("nonce",u),document.head.appendChild(x),f)return new Promise((g,y)=>{x.addEventListener("load",g),x.addEventListener("error",()=>y(new Error(`Unable to preload CSS for ${h}`)))})}))}function i(o){const l=new Event("vite:preloadError",{cancelable:!0});if(l.payload=o,window.dispatchEvent(l),!l.defaultPrevented)throw o}return a.then(o=>{for(const l of o||[])l.status==="rejected"&&i(l.reason);return e().catch(i)})};function an(r){"@babel/helpers - typeof";return an=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},an(r)}var Qo=Uint8Array,Ms=Uint16Array,fy=Int32Array,dy=new Qo([0,0,0,0,0,0,0,0,1,1,1,1,2,2,2,2,3,3,3,3,4,4,4,4,5,5,5,5,0,0,0,0]),gy=new Qo([0,0,0,0,1,1,2,2,3,3,4,4,5,5,6,6,7,7,8,8,9,9,10,10,11,11,12,12,13,13,0,0]),u4=new Qo([16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15]),Tk=function(r,e){for(var t=new Ms(31),n=0;n<31;++n)t[n]=e+=1<<r[n-1];for(var a=new fy(t[30]),n=1;n<30;++n)for(var i=t[n];i<t[n+1];++i)a[i]=i-t[n]<<5|n;return{b:t,r:a}},Ak=Tk(dy,2),rI=Ak.b,iv=Ak.r;rI[28]=258,iv[258]=28;var nI=Tk(gy,0),h4=nI.r,sv=new Ms(32768);for(var Nn=0;Nn<32768;++Nn){var du=(Nn&43690)>>1|(Nn&21845)<<1;du=(du&52428)>>2|(du&13107)<<2,du=(du&61680)>>4|(du&3855)<<4,sv[Nn]=((du&65280)>>8|(du&255)<<8)>>1}var kd=(function(r,e,t){for(var n=r.length,a=0,i=new Ms(e);a<n;++a)r[a]&&++i[r[a]-1];var o=new Ms(e);for(a=1;a<e;++a)o[a]=o[a-1]+i[a-1]<<1;var l;if(t){l=new Ms(1<<e);var u=15-e;for(a=0;a<n;++a)if(r[a])for(var h=a<<4|r[a],f=e-r[a],m=o[r[a]-1]++<<f,x=m|(1<<f)-1;m<=x;++m)l[sv[m]>>u]=h}else for(l=new Ms(n),a=0;a<n;++a)r[a]&&(l[a]=sv[o[r[a]-1]++]>>15-r[a]);return l}),_h=new Qo(288);for(var Nn=0;Nn<144;++Nn)_h[Nn]=8;for(var Nn=144;Nn<256;++Nn)_h[Nn]=9;for(var Nn=256;Nn<280;++Nn)_h[Nn]=7;for(var Nn=280;Nn<288;++Nn)_h[Nn]=8;var Lp=new Qo(32);for(var Nn=0;Nn<32;++Nn)Lp[Nn]=5;var aI=kd(_h,9,0),iI=kd(Lp,5,0),Ek=function(r){return(r+7)/8|0},sI=function(r,e,t){return(t==null||t>r.length)&&(t=r.length),new Qo(r.subarray(e,t))},lc=function(r,e,t){t<<=e&7;var n=e/8|0;r[n]|=t,r[n+1]|=t>>8},rd=function(r,e,t){t<<=e&7;var n=e/8|0;r[n]|=t,r[n+1]|=t>>8,r[n+2]|=t>>16},Z2=function(r,e){for(var t=[],n=0;n<r.length;++n)r[n]&&t.push({s:n,f:r[n]});var a=t.length,i=t.slice();if(!a)return{t:Ok,l:0};if(a==1){var o=new Qo(t[0].s+1);return o[t[0].s]=1,{t:o,l:1}}t.sort(function(W,ee){return W.f-ee.f}),t.push({s:-1,f:25001});var l=t[0],u=t[1],h=0,f=1,m=2;for(t[0]={s:-1,f:l.f+u.f,l,r:u};f!=a-1;)l=t[t[h].f<t[m].f?h++:m++],u=t[h!=f&&t[h].f<t[m].f?h++:m++],t[f++]={s:-1,f:l.f+u.f,l,r:u};for(var x=i[0].s,n=1;n<a;++n)i[n].s>x&&(x=i[n].s);var g=new Ms(x+1),y=ov(t[f-1],g,0);if(y>e){var n=0,v=0,S=y-e,k=1<<S;for(i.sort(function(ee,z){return g[z.s]-g[ee.s]||ee.f-z.f});n<a;++n){var A=i[n].s;if(g[A]>e)v+=k-(1<<y-g[A]),g[A]=e;else break}for(v>>=S;v>0;){var N=i[n].s;g[N]<e?v-=1<<e-g[N]++-1:++n}for(;n>=0&&v;--n){var j=i[n].s;g[j]==e&&(--g[j],++v)}y=e}return{t:new Qo(g),l:y}},ov=function(r,e,t){return r.s==-1?Math.max(ov(r.l,e,t+1),ov(r.r,e,t+1)):e[r.s]=t},f4=function(r){for(var e=r.length;e&&!r[--e];);for(var t=new Ms(++e),n=0,a=r[0],i=1,o=function(u){t[n++]=u},l=1;l<=e;++l)if(r[l]==a&&l!=e)++i;else{if(!a&&i>2){for(;i>138;i-=138)o(32754);i>2&&(o(i>10?i-11<<5|28690:i-3<<5|12305),i=0)}else if(i>3){for(o(a),--i;i>6;i-=6)o(8304);i>2&&(o(i-3<<5|8208),i=0)}for(;i--;)o(a);i=1,a=r[l]}return{c:t.subarray(0,n),n:e}},nd=function(r,e){for(var t=0,n=0;n<e.length;++n)t+=r[n]*e[n];return t},Nk=function(r,e,t){var n=t.length,a=Ek(e+2);r[a]=n&255,r[a+1]=n>>8,r[a+2]=r[a]^255,r[a+3]=r[a+1]^255;for(var i=0;i<n;++i)r[a+i+4]=t[i];return(a+4+n)*8},d4=function(r,e,t,n,a,i,o,l,u,h,f){lc(e,f++,t),++a[256];for(var m=Z2(a,15),x=m.t,g=m.l,y=Z2(i,15),v=y.t,S=y.l,k=f4(x),A=k.c,N=k.n,j=f4(v),W=j.c,ee=j.n,z=new Ms(19),B=0;B<A.length;++B)++z[A[B]&31];for(var B=0;B<W.length;++B)++z[W[B]&31];for(var D=Z2(z,7),Z=D.t,q=D.l,O=19;O>4&&!Z[u4[O-1]];--O);var V=h+5<<3,F=nd(a,_h)+nd(i,Lp)+o,re=nd(a,x)+nd(i,v)+o+14+3*O+nd(z,Z)+2*z[16]+3*z[17]+7*z[18];if(u>=0&&V<=F&&V<=re)return Nk(e,f,r.subarray(u,u+h));var ae,J,ge,te;if(lc(e,f,1+(re<F)),f+=2,re<F){ae=kd(x,g,0),J=x,ge=kd(v,S,0),te=v;var ke=kd(Z,q,0);lc(e,f,N-257),lc(e,f+5,ee-1),lc(e,f+10,O-4),f+=14;for(var B=0;B<O;++B)lc(e,f+3*B,Z[u4[B]]);f+=3*O;for(var Y=[A,W],w=0;w<2;++w)for(var L=Y[w],B=0;B<L.length;++B){var P=L[B]&31;lc(e,f,ke[P]),f+=Z[P],P>15&&(lc(e,f,L[B]>>5&127),f+=L[B]>>12)}}else ae=aI,J=_h,ge=iI,te=Lp;for(var B=0;B<l;++B){var U=n[B];if(U>255){var P=U>>18&31;rd(e,f,ae[P+257]),f+=J[P+257],P>7&&(lc(e,f,U>>23&31),f+=dy[P]);var ie=U&31;rd(e,f,ge[ie]),f+=te[ie],ie>3&&(rd(e,f,U>>5&8191),f+=gy[ie])}else rd(e,f,ae[U]),f+=J[U]}return rd(e,f,ae[256]),f+J[256]},oI=new fy([65540,131080,131088,131104,262176,1048704,1048832,2114560,2117632]),Ok=new Qo(0),lI=function(r,e,t,n,a,i){var o=i.z||r.length,l=new Qo(n+o+5*(1+Math.ceil(o/7e3))+a),u=l.subarray(n,l.length-a),h=i.l,f=(i.r||0)&7;if(e){f&&(u[0]=i.r>>3);for(var m=oI[e-1],x=m>>13,g=m&8191,y=(1<<t)-1,v=i.p||new Ms(32768),S=i.h||new Ms(y+1),k=Math.ceil(t/3),A=2*k,N=function(R){return(r[R]^r[R+1]<<k^r[R+2]<<A)&y},j=new fy(25e3),W=new Ms(288),ee=new Ms(32),z=0,B=0,D=i.i||0,Z=0,q=i.w||0,O=0;D+2<o;++D){var V=N(D),F=D&32767,re=S[V];if(v[F]=re,S[V]=F,q<=D){var ae=o-D;if((z>7e3||Z>24576)&&(ae>423||!h)){f=d4(r,u,0,j,W,ee,B,Z,O,D-O,f),Z=z=B=0,O=D;for(var J=0;J<286;++J)W[J]=0;for(var J=0;J<30;++J)ee[J]=0}var ge=2,te=0,ke=g,Y=F-re&32767;if(ae>2&&V==N(D-Y))for(var w=Math.min(x,ae)-1,L=Math.min(32767,D),P=Math.min(258,ae);Y<=L&&--ke&&F!=re;){if(r[D+ge]==r[D+ge-Y]){for(var U=0;U<P&&r[D+U]==r[D+U-Y];++U);if(U>ge){if(ge=U,te=Y,U>w)break;for(var ie=Math.min(Y,U-2),fe=0,J=0;J<ie;++J){var xe=D-Y+J&32767,ve=v[xe],ce=xe-ve&32767;ce>fe&&(fe=ce,re=xe)}}}F=re,re=v[F],Y+=F-re&32767}if(te){j[Z++]=268435456|iv[ge]<<18|h4[te];var De=iv[ge]&31,ue=h4[te]&31;B+=dy[De]+gy[ue],++W[257+De],++ee[ue],q=D+ge,++z}else j[Z++]=r[D],++W[r[D]]}}for(D=Math.max(D,q);D<o;++D)j[Z++]=r[D],++W[r[D]];f=d4(r,u,h,j,W,ee,B,Z,O,D-O,f),h||(i.r=f&7|u[f/8|0]<<3,f-=7,i.h=S,i.p=v,i.i=D,i.w=q)}else{for(var D=i.w||0;D<o+h;D+=65535){var Ye=D+65535;Ye>=o&&(u[f/8|0]=h,Ye=o),f=Nk(u,f+1,r.subarray(D,Ye))}i.i=o}return sI(l,0,n+Ek(f)+a)},Dk=function(){var r=1,e=0;return{p:function(t){for(var n=r,a=e,i=t.length|0,o=0;o!=i;){for(var l=Math.min(o+2655,i);o<l;++o)a+=n+=t[o];n=(n&65535)+15*(n>>16),a=(a&65535)+15*(a>>16)}r=n,e=a},d:function(){return r%=65521,e%=65521,(r&255)<<24|(r&65280)<<8|(e&255)<<8|e>>8}}},cI=function(r,e,t,n,a){if(!a&&(a={l:1},e.dictionary)){var i=e.dictionary.subarray(-32768),o=new Qo(i.length+r.length);o.set(i),o.set(r,i.length),r=o,a.w=i.length}return lI(r,e.level==null?6:e.level,e.mem==null?a.l?Math.ceil(Math.max(8,Math.min(13,Math.log(r.length)))*1.5):20:12+e.mem,t,n,a)},Lk=function(r,e,t){for(;t;++e)r[e]=t,t>>>=8},uI=function(r,e){var t=e.level,n=t==0?0:t<6?1:t==9?3:2;if(r[0]=120,r[1]=n<<6|(e.dictionary&&32),r[1]|=31-(r[0]<<8|r[1])%31,e.dictionary){var a=Dk();a.p(e.dictionary),Lk(r,2,a.d())}};function lv(r,e){e||(e={});var t=Dk();t.p(r);var n=cI(r,e,e.dictionary?6:2,4);return uI(n,e),Lk(n,n.length-4,t.d()),n}var hI=typeof TextDecoder<"u"&&new TextDecoder,fI=0;try{hI.decode(Ok,{stream:!0}),fI=1}catch{}function dI(r){if(Array.isArray(r))return r}function gI(r,e){var t=r==null?null:typeof Symbol<"u"&&r[Symbol.iterator]||r["@@iterator"];if(t!=null){var n,a,i,o,l=[],u=!0,h=!1;try{if(i=(t=t.call(r)).next,e!==0)for(;!(u=(n=i.call(t)).done)&&(l.push(n.value),l.length!==e);u=!0);}catch(f){h=!0,a=f}finally{try{if(!u&&t.return!=null&&(o=t.return(),Object(o)!==o))return}finally{if(h)throw a}}return l}}function g4(r,e){(e==null||e>r.length)&&(e=r.length);for(var t=0,n=Array(e);t<e;t++)n[t]=r[t];return n}function pI(r,e){if(r){if(typeof r=="string")return g4(r,e);var t={}.toString.call(r).slice(8,-1);return t==="Object"&&r.constructor&&(t=r.constructor.name),t==="Map"||t==="Set"?Array.from(r):t==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(t)?g4(r,e):void 0}}function mI(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function p4(r,e){return dI(r)||gI(r,e)||pI(r,e)||mI()}function m4(r,e="utf8"){return new TextDecoder(e).decode(r)}const xI=new TextEncoder;function vI(r){return xI.encode(r)}const yI=1024*8,bI=(()=>{const r=new Uint8Array(4),e=new Uint32Array(r.buffer);return!((e[0]=1)&r[0])})(),J2={int8:globalThis.Int8Array,uint8:globalThis.Uint8Array,int16:globalThis.Int16Array,uint16:globalThis.Uint16Array,int32:globalThis.Int32Array,uint32:globalThis.Uint32Array,uint64:globalThis.BigUint64Array,int64:globalThis.BigInt64Array,float32:globalThis.Float32Array,float64:globalThis.Float64Array};class py{constructor(e=yI,t={}){Or(this,"buffer");Or(this,"byteLength");Or(this,"byteOffset");Or(this,"length");Or(this,"offset");Or(this,"lastWrittenByte");Or(this,"littleEndian");Or(this,"_data");Or(this,"_mark");Or(this,"_marks");let n=!1;typeof e=="number"?e=new ArrayBuffer(e):(n=!0,this.lastWrittenByte=e.byteLength);const a=t.offset?t.offset>>>0:0,i=e.byteLength-a;let o=a;(ArrayBuffer.isView(e)||e instanceof py)&&(e.byteLength!==e.buffer.byteLength&&(o=e.byteOffset+a),e=e.buffer),n?this.lastWrittenByte=i:this.lastWrittenByte=0,this.buffer=e,this.length=i,this.byteLength=i,this.byteOffset=o,this.offset=0,this.littleEndian=!0,this._data=new DataView(this.buffer,o,i),this._mark=0,this._marks=[]}available(e=1){return this.offset+e<=this.length}isLittleEndian(){return this.littleEndian}setLittleEndian(){return this.littleEndian=!0,this}isBigEndian(){return!this.littleEndian}setBigEndian(){return this.littleEndian=!1,this}skip(e=1){return this.offset+=e,this}back(e=1){return this.offset-=e,this}seek(e){return this.offset=e,this}mark(){return this._mark=this.offset,this}reset(){return this.offset=this._mark,this}pushMark(){return this._marks.push(this.offset),this}popMark(){const e=this._marks.pop();if(e===void 0)throw new Error("Mark stack empty");return this.seek(e),this}rewind(){return this.offset=0,this}ensureAvailable(e=1){if(!this.available(e)){const n=(this.offset+e)*2,a=new Uint8Array(n);a.set(new Uint8Array(this.buffer)),this.buffer=a.buffer,this.length=n,this.byteLength=n,this._data=new DataView(this.buffer)}return this}readBoolean(){return this.readUint8()!==0}readInt8(){return this._data.getInt8(this.offset++)}readUint8(){return this._data.getUint8(this.offset++)}readByte(){return this.readUint8()}readBytes(e=1){return this.readArray(e,"uint8")}readArray(e,t){const n=J2[t].BYTES_PER_ELEMENT*e,a=this.byteOffset+this.offset,i=this.buffer.slice(a,a+n);if(this.littleEndian===bI&&t!=="uint8"&&t!=="int8"){const l=new Uint8Array(this.buffer.slice(a,a+n));l.reverse();const u=new J2[t](l.buffer);return this.offset+=n,u.reverse(),u}const o=new J2[t](i);return this.offset+=n,o}readInt16(){const e=this._data.getInt16(this.offset,this.littleEndian);return this.offset+=2,e}readUint16(){const e=this._data.getUint16(this.offset,this.littleEndian);return this.offset+=2,e}readInt32(){const e=this._data.getInt32(this.offset,this.littleEndian);return this.offset+=4,e}readUint32(){const e=this._data.getUint32(this.offset,this.littleEndian);return this.offset+=4,e}readFloat32(){const e=this._data.getFloat32(this.offset,this.littleEndian);return this.offset+=4,e}readFloat64(){const e=this._data.getFloat64(this.offset,this.littleEndian);return this.offset+=8,e}readBigInt64(){const e=this._data.getBigInt64(this.offset,this.littleEndian);return this.offset+=8,e}readBigUint64(){const e=this._data.getBigUint64(this.offset,this.littleEndian);return this.offset+=8,e}readChar(){return String.fromCharCode(this.readInt8())}readChars(e=1){let t="";for(let n=0;n<e;n++)t+=this.readChar();return t}readUtf8(e=1){return m4(this.readBytes(e))}decodeText(e=1,t="utf8"){return m4(this.readBytes(e),t)}writeBoolean(e){return this.writeUint8(e?255:0),this}writeInt8(e){return this.ensureAvailable(1),this._data.setInt8(this.offset++,e),this._updateLastWrittenByte(),this}writeUint8(e){return this.ensureAvailable(1),this._data.setUint8(this.offset++,e),this._updateLastWrittenByte(),this}writeByte(e){return this.writeUint8(e)}writeBytes(e){this.ensureAvailable(e.length);for(let t=0;t<e.length;t++)this._data.setUint8(this.offset++,e[t]);return this._updateLastWrittenByte(),this}writeInt16(e){return this.ensureAvailable(2),this._data.setInt16(this.offset,e,this.littleEndian),this.offset+=2,this._updateLastWrittenByte(),this}writeUint16(e){return this.ensureAvailable(2),this._data.setUint16(this.offset,e,this.littleEndian),this.offset+=2,this._updateLastWrittenByte(),this}writeInt32(e){return this.ensureAvailable(4),this._data.setInt32(this.offset,e,this.littleEndian),this.offset+=4,this._updateLastWrittenByte(),this}writeUint32(e){return this.ensureAvailable(4),this._data.setUint32(this.offset,e,this.littleEndian),this.offset+=4,this._updateLastWrittenByte(),this}writeFloat32(e){return this.ensureAvailable(4),this._data.setFloat32(this.offset,e,this.littleEndian),this.offset+=4,this._updateLastWrittenByte(),this}writeFloat64(e){return this.ensureAvailable(8),this._data.setFloat64(this.offset,e,this.littleEndian),this.offset+=8,this._updateLastWrittenByte(),this}writeBigInt64(e){return this.ensureAvailable(8),this._data.setBigInt64(this.offset,e,this.littleEndian),this.offset+=8,this._updateLastWrittenByte(),this}writeBigUint64(e){return this.ensureAvailable(8),this._data.setBigUint64(this.offset,e,this.littleEndian),this.offset+=8,this._updateLastWrittenByte(),this}writeChar(e){return this.writeUint8(e.charCodeAt(0))}writeChars(e){for(let t=0;t<e.length;t++)this.writeUint8(e.charCodeAt(t));return this}writeUtf8(e){return this.writeBytes(vI(e))}toArray(){return new Uint8Array(this.buffer,this.byteOffset,this.lastWrittenByte)}getWrittenByteLength(){return this.lastWrittenByte-this.byteOffset}_updateLastWrittenByte(){this.offset>this.lastWrittenByte&&(this.lastWrittenByte=this.offset)}}function m0(r){let e=r.length;for(;--e>=0;)r[e]=0}const wI=3,_I=258,Fk=29,SI=256,kI=SI+1+Fk,Mk=30,CI=512,TI=new Array((kI+2)*2);m0(TI);const AI=new Array(Mk*2);m0(AI);const EI=new Array(CI);m0(EI);const NI=new Array(_I-wI+1);m0(NI);const OI=new Array(Fk);m0(OI);const DI=new Array(Mk);m0(DI);const LI=(r,e,t,n)=>{let a=r&65535|0,i=r>>>16&65535|0,o=0;for(;t!==0;){o=t>2e3?2e3:t,t-=o;do a=a+e[n++]|0,i=i+a|0;while(--o);a%=65521,i%=65521}return a|i<<16|0};var cv=LI;const FI=()=>{let r,e=[];for(var t=0;t<256;t++){r=t;for(var n=0;n<8;n++)r=r&1?3988292384^r>>>1:r>>>1;e[t]=r}return e},MI=new Uint32Array(FI()),jI=(r,e,t,n)=>{const a=MI,i=n+t;r^=-1;for(let o=n;o<i;o++)r=r>>>8^a[(r^e[o])&255];return r^-1};var _l=jI,uv={2:"need dictionary",1:"stream end",0:"","-1":"file error","-2":"stream error","-3":"data error","-4":"insufficient memory","-5":"buffer error","-6":"incompatible version"},jk={Z_NO_FLUSH:0,Z_FINISH:4,Z_BLOCK:5,Z_TREES:6,Z_OK:0,Z_STREAM_END:1,Z_NEED_DICT:2,Z_STREAM_ERROR:-2,Z_DATA_ERROR:-3,Z_MEM_ERROR:-4,Z_BUF_ERROR:-5,Z_DEFLATED:8};const RI=(r,e)=>Object.prototype.hasOwnProperty.call(r,e);var BI=function(r){const e=Array.prototype.slice.call(arguments,1);for(;e.length;){const t=e.shift();if(t){if(typeof t!="object")throw new TypeError(t+"must be non-object");for(const n in t)RI(t,n)&&(r[n]=t[n])}}return r},PI=r=>{let e=0;for(let n=0,a=r.length;n<a;n++)e+=r[n].length;const t=new Uint8Array(e);for(let n=0,a=0,i=r.length;n<i;n++){let o=r[n];t.set(o,a),a+=o.length}return t},Rk={assign:BI,flattenChunks:PI};let Bk=!0;try{String.fromCharCode.apply(null,new Uint8Array(1))}catch{Bk=!1}const Vd=new Uint8Array(256);for(let r=0;r<256;r++)Vd[r]=r>=252?6:r>=248?5:r>=240?4:r>=224?3:r>=192?2:1;Vd[254]=Vd[254]=1;var II=r=>{if(typeof TextEncoder=="function"&&TextEncoder.prototype.encode)return new TextEncoder().encode(r);let e,t,n,a,i,o=r.length,l=0;for(a=0;a<o;a++)t=r.charCodeAt(a),(t&64512)===55296&&a+1<o&&(n=r.charCodeAt(a+1),(n&64512)===56320&&(t=65536+(t-55296<<10)+(n-56320),a++)),l+=t<128?1:t<2048?2:t<65536?3:4;for(e=new Uint8Array(l),i=0,a=0;i<l;a++)t=r.charCodeAt(a),(t&64512)===55296&&a+1<o&&(n=r.charCodeAt(a+1),(n&64512)===56320&&(t=65536+(t-55296<<10)+(n-56320),a++)),t<128?e[i++]=t:t<2048?(e[i++]=192|t>>>6,e[i++]=128|t&63):t<65536?(e[i++]=224|t>>>12,e[i++]=128|t>>>6&63,e[i++]=128|t&63):(e[i++]=240|t>>>18,e[i++]=128|t>>>12&63,e[i++]=128|t>>>6&63,e[i++]=128|t&63);return e};const UI=(r,e)=>{if(e<65534&&r.subarray&&Bk)return String.fromCharCode.apply(null,r.length===e?r:r.subarray(0,e));let t="";for(let n=0;n<e;n++)t+=String.fromCharCode(r[n]);return t};var zI=(r,e)=>{const t=e||r.length;if(typeof TextDecoder=="function"&&TextDecoder.prototype.decode)return new TextDecoder().decode(r.subarray(0,e));let n,a;const i=new Array(t*2);for(a=0,n=0;n<t;){let o=r[n++];if(o<128){i[a++]=o;continue}let l=Vd[o];if(l>4){i[a++]=65533,n+=l-1;continue}for(o&=l===2?31:l===3?15:7;l>1&&n<t;)o=o<<6|r[n++]&63,l--;if(l>1){i[a++]=65533;continue}o<65536?i[a++]=o:(o-=65536,i[a++]=55296|o>>10&1023,i[a++]=56320|o&1023)}return UI(i,a)},HI=(r,e)=>{e=e||r.length,e>r.length&&(e=r.length);let t=e-1;for(;t>=0&&(r[t]&192)===128;)t--;return t<0||t===0?e:t+Vd[r[t]]>e?t:e},hv={string2buf:II,buf2string:zI,utf8border:HI};function qI(){this.input=null,this.next_in=0,this.avail_in=0,this.total_in=0,this.output=null,this.next_out=0,this.avail_out=0,this.total_out=0,this.msg="",this.state=null,this.data_type=2,this.adler=0}var VI=qI;const Fg=16209,GI=16191;var WI=function(e,t){let n,a,i,o,l,u,h,f,m,x,g,y,v,S,k,A,N,j,W,ee,z,B,D,Z;const q=e.state;n=e.next_in,D=e.input,a=n+(e.avail_in-5),i=e.next_out,Z=e.output,o=i-(t-e.avail_out),l=i+(e.avail_out-257),u=q.dmax,h=q.wsize,f=q.whave,m=q.wnext,x=q.window,g=q.hold,y=q.bits,v=q.lencode,S=q.distcode,k=(1<<q.lenbits)-1,A=(1<<q.distbits)-1;e:do{y<15&&(g+=D[n++]<<y,y+=8,g+=D[n++]<<y,y+=8),N=v[g&k];t:for(;;){if(j=N>>>24,g>>>=j,y-=j,j=N>>>16&255,j===0)Z[i++]=N&65535;else if(j&16){W=N&65535,j&=15,j&&(y<j&&(g+=D[n++]<<y,y+=8),W+=g&(1<<j)-1,g>>>=j,y-=j),y<15&&(g+=D[n++]<<y,y+=8,g+=D[n++]<<y,y+=8),N=S[g&A];r:for(;;){if(j=N>>>24,g>>>=j,y-=j,j=N>>>16&255,j&16){if(ee=N&65535,j&=15,y<j&&(g+=D[n++]<<y,y+=8,y<j&&(g+=D[n++]<<y,y+=8)),ee+=g&(1<<j)-1,ee>u){e.msg="invalid distance too far back",q.mode=Fg;break e}if(g>>>=j,y-=j,j=i-o,ee>j){if(j=ee-j,j>f&&q.sane){e.msg="invalid distance too far back",q.mode=Fg;break e}if(z=0,B=x,m===0){if(z+=h-j,j<W){W-=j;do Z[i++]=x[z++];while(--j);z=i-ee,B=Z}}else if(m<j){if(z+=h+m-j,j-=m,j<W){W-=j;do Z[i++]=x[z++];while(--j);if(z=0,m<W){j=m,W-=j;do Z[i++]=x[z++];while(--j);z=i-ee,B=Z}}}else if(z+=m-j,j<W){W-=j;do Z[i++]=x[z++];while(--j);z=i-ee,B=Z}for(;W>2;)Z[i++]=B[z++],Z[i++]=B[z++],Z[i++]=B[z++],W-=3;W&&(Z[i++]=B[z++],W>1&&(Z[i++]=B[z++]))}else{z=i-ee;do Z[i++]=Z[z++],Z[i++]=Z[z++],Z[i++]=Z[z++],W-=3;while(W>2);W&&(Z[i++]=Z[z++],W>1&&(Z[i++]=Z[z++]))}}else if((j&64)===0){N=S[(N&65535)+(g&(1<<j)-1)];continue r}else{e.msg="invalid distance code",q.mode=Fg;break e}break}}else if((j&64)===0){N=v[(N&65535)+(g&(1<<j)-1)];continue t}else if(j&32){q.mode=GI;break e}else{e.msg="invalid literal/length code",q.mode=Fg;break e}break}}while(n<a&&i<l);W=y>>3,n-=W,y-=W<<3,g&=(1<<y)-1,e.next_in=n,e.next_out=i,e.avail_in=n<a?5+(a-n):5-(n-a),e.avail_out=i<l?257+(l-i):257-(i-l),q.hold=g,q.bits=y};const Nf=15,x4=852,v4=592,y4=0,Q2=1,b4=2,YI=new Uint16Array([3,4,5,6,7,8,9,10,11,13,15,17,19,23,27,31,35,43,51,59,67,83,99,115,131,163,195,227,258,0,0]),XI=new Uint8Array([16,16,16,16,16,16,16,16,17,17,17,17,18,18,18,18,19,19,19,19,20,20,20,20,21,21,21,21,16,72,78]),KI=new Uint16Array([1,2,3,4,5,7,9,13,17,25,33,49,65,97,129,193,257,385,513,769,1025,1537,2049,3073,4097,6145,8193,12289,16385,24577,0,0]),$I=new Uint8Array([16,16,16,16,17,17,18,18,19,19,20,20,21,21,22,22,23,23,24,24,25,25,26,26,27,27,28,28,29,29,64,64]),ZI=(r,e,t,n,a,i,o,l)=>{const u=l.bits;let h=0,f=0,m=0,x=0,g=0,y=0,v=0,S=0,k=0,A=0,N,j,W,ee,z,B=null,D;const Z=new Uint16Array(Nf+1),q=new Uint16Array(Nf+1);let O=null,V,F,re;for(h=0;h<=Nf;h++)Z[h]=0;for(f=0;f<n;f++)Z[e[t+f]]++;for(g=u,x=Nf;x>=1&&Z[x]===0;x--);if(g>x&&(g=x),x===0)return a[i++]=1<<24|64<<16|0,a[i++]=1<<24|64<<16|0,l.bits=1,0;for(m=1;m<x&&Z[m]===0;m++);for(g<m&&(g=m),S=1,h=1;h<=Nf;h++)if(S<<=1,S-=Z[h],S<0)return-1;if(S>0&&(r===y4||x!==1))return-1;for(q[1]=0,h=1;h<Nf;h++)q[h+1]=q[h]+Z[h];for(f=0;f<n;f++)e[t+f]!==0&&(o[q[e[t+f]]++]=f);if(r===y4?(B=O=o,D=20):r===Q2?(B=YI,O=XI,D=257):(B=KI,O=$I,D=0),A=0,f=0,h=m,z=i,y=g,v=0,W=-1,k=1<<g,ee=k-1,r===Q2&&k>x4||r===b4&&k>v4)return 1;for(;;){V=h-v,o[f]+1<D?(F=0,re=o[f]):o[f]>=D?(F=O[o[f]-D],re=B[o[f]-D]):(F=96,re=0),N=1<<h-v,j=1<<y,m=j;do j-=N,a[z+(A>>v)+j]=V<<24|F<<16|re|0;while(j!==0);for(N=1<<h-1;A&N;)N>>=1;if(N!==0?(A&=N-1,A+=N):A=0,f++,--Z[h]===0){if(h===x)break;h=e[t+o[f]]}if(h>g&&(A&ee)!==W){for(v===0&&(v=g),z+=m,y=h-v,S=1<<y;y+v<x&&(S-=Z[y+v],!(S<=0));)y++,S<<=1;if(k+=1<<y,r===Q2&&k>x4||r===b4&&k>v4)return 1;W=A&ee,a[W]=g<<24|y<<16|z-i|0}}return A!==0&&(a[z+A]=h-v<<24|64<<16|0),l.bits=g,0};var Cd=ZI;const JI=0,Pk=1,Ik=2,{Z_FINISH:w4,Z_BLOCK:QI,Z_TREES:Mg,Z_OK:Sh,Z_STREAM_END:eU,Z_NEED_DICT:tU,Z_STREAM_ERROR:co,Z_DATA_ERROR:Uk,Z_MEM_ERROR:zk,Z_BUF_ERROR:rU,Z_DEFLATED:_4}=jk,em=16180,S4=16181,k4=16182,C4=16183,T4=16184,A4=16185,E4=16186,N4=16187,O4=16188,D4=16189,Fp=16190,cc=16191,ex=16192,L4=16193,tx=16194,F4=16195,M4=16196,j4=16197,R4=16198,jg=16199,Rg=16200,B4=16201,P4=16202,I4=16203,U4=16204,z4=16205,rx=16206,H4=16207,q4=16208,Rn=16209,Hk=16210,qk=16211,nU=852,aU=592,iU=15,sU=iU,V4=r=>(r>>>24&255)+(r>>>8&65280)+((r&65280)<<8)+((r&255)<<24);function oU(){this.strm=null,this.mode=0,this.last=!1,this.wrap=0,this.havedict=!1,this.flags=0,this.dmax=0,this.check=0,this.total=0,this.head=null,this.wbits=0,this.wsize=0,this.whave=0,this.wnext=0,this.window=null,this.hold=0,this.bits=0,this.length=0,this.offset=0,this.extra=0,this.lencode=null,this.distcode=null,this.lenbits=0,this.distbits=0,this.ncode=0,this.nlen=0,this.ndist=0,this.have=0,this.next=null,this.lens=new Uint16Array(320),this.work=new Uint16Array(288),this.lendyn=null,this.distdyn=null,this.sane=0,this.back=0,this.was=0}const Lh=r=>{if(!r)return 1;const e=r.state;return!e||e.strm!==r||e.mode<em||e.mode>qk?1:0},Vk=r=>{if(Lh(r))return co;const e=r.state;return r.total_in=r.total_out=e.total=0,r.msg="",e.wrap&&(r.adler=e.wrap&1),e.mode=em,e.last=0,e.havedict=0,e.flags=-1,e.dmax=32768,e.head=null,e.hold=0,e.bits=0,e.lencode=e.lendyn=new Int32Array(nU),e.distcode=e.distdyn=new Int32Array(aU),e.sane=1,e.back=-1,Sh},Gk=r=>{if(Lh(r))return co;const e=r.state;return e.wsize=0,e.whave=0,e.wnext=0,Vk(r)},Wk=(r,e)=>{let t;if(Lh(r))return co;const n=r.state;return e<0?(t=0,e=-e):(t=(e>>4)+5,e<48&&(e&=15)),e&&(e<8||e>15)?co:(n.window!==null&&n.wbits!==e&&(n.window=null),n.wrap=t,n.wbits=e,Gk(r))},Yk=(r,e)=>{if(!r)return co;const t=new oU;r.state=t,t.strm=r,t.window=null,t.mode=em;const n=Wk(r,e);return n!==Sh&&(r.state=null),n},lU=r=>Yk(r,sU);let G4=!0,nx,ax;const cU=r=>{if(G4){nx=new Int32Array(512),ax=new Int32Array(32);let e=0;for(;e<144;)r.lens[e++]=8;for(;e<256;)r.lens[e++]=9;for(;e<280;)r.lens[e++]=7;for(;e<288;)r.lens[e++]=8;for(Cd(Pk,r.lens,0,288,nx,0,r.work,{bits:9}),e=0;e<32;)r.lens[e++]=5;Cd(Ik,r.lens,0,32,ax,0,r.work,{bits:5}),G4=!1}r.lencode=nx,r.lenbits=9,r.distcode=ax,r.distbits=5},Xk=(r,e,t,n)=>{let a;const i=r.state;return i.window===null&&(i.wsize=1<<i.wbits,i.wnext=0,i.whave=0,i.window=new Uint8Array(i.wsize)),n>=i.wsize?(i.window.set(e.subarray(t-i.wsize,t),0),i.wnext=0,i.whave=i.wsize):(a=i.wsize-i.wnext,a>n&&(a=n),i.window.set(e.subarray(t-n,t-n+a),i.wnext),n-=a,n?(i.window.set(e.subarray(t-n,t),0),i.wnext=n,i.whave=i.wsize):(i.wnext+=a,i.wnext===i.wsize&&(i.wnext=0),i.whave<i.wsize&&(i.whave+=a))),0},uU=(r,e)=>{let t,n,a,i,o,l,u,h,f,m,x,g,y,v,S=0,k,A,N,j,W,ee,z,B;const D=new Uint8Array(4);let Z,q;const O=new Uint8Array([16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15]);if(Lh(r)||!r.output||!r.input&&r.avail_in!==0)return co;t=r.state,t.mode===cc&&(t.mode=ex),o=r.next_out,a=r.output,u=r.avail_out,i=r.next_in,n=r.input,l=r.avail_in,h=t.hold,f=t.bits,m=l,x=u,B=Sh;e:for(;;)switch(t.mode){case em:if(t.wrap===0){t.mode=ex;break}for(;f<16;){if(l===0)break e;l--,h+=n[i++]<<f,f+=8}if(t.wrap&2&&h===35615){t.wbits===0&&(t.wbits=15),t.check=0,D[0]=h&255,D[1]=h>>>8&255,t.check=_l(t.check,D,2,0),h=0,f=0,t.mode=S4;break}if(t.head&&(t.head.done=!1),!(t.wrap&1)||(((h&255)<<8)+(h>>8))%31){r.msg="incorrect header check",t.mode=Rn;break}if((h&15)!==_4){r.msg="unknown compression method",t.mode=Rn;break}if(h>>>=4,f-=4,z=(h&15)+8,t.wbits===0&&(t.wbits=z),z>15||z>t.wbits){r.msg="invalid window size",t.mode=Rn;break}t.dmax=1<<t.wbits,t.flags=0,r.adler=t.check=1,t.mode=h&512?D4:cc,h=0,f=0;break;case S4:for(;f<16;){if(l===0)break e;l--,h+=n[i++]<<f,f+=8}if(t.flags=h,(t.flags&255)!==_4){r.msg="unknown compression method",t.mode=Rn;break}if(t.flags&57344){r.msg="unknown header flags set",t.mode=Rn;break}t.head&&(t.head.text=h>>8&1),t.flags&512&&t.wrap&4&&(D[0]=h&255,D[1]=h>>>8&255,t.check=_l(t.check,D,2,0)),h=0,f=0,t.mode=k4;case k4:for(;f<32;){if(l===0)break e;l--,h+=n[i++]<<f,f+=8}t.head&&(t.head.time=h),t.flags&512&&t.wrap&4&&(D[0]=h&255,D[1]=h>>>8&255,D[2]=h>>>16&255,D[3]=h>>>24&255,t.check=_l(t.check,D,4,0)),h=0,f=0,t.mode=C4;case C4:for(;f<16;){if(l===0)break e;l--,h+=n[i++]<<f,f+=8}t.head&&(t.head.xflags=h&255,t.head.os=h>>8),t.flags&512&&t.wrap&4&&(D[0]=h&255,D[1]=h>>>8&255,t.check=_l(t.check,D,2,0)),h=0,f=0,t.mode=T4;case T4:if(t.flags&1024){for(;f<16;){if(l===0)break e;l--,h+=n[i++]<<f,f+=8}t.length=h,t.head&&(t.head.extra_len=h),t.flags&512&&t.wrap&4&&(D[0]=h&255,D[1]=h>>>8&255,t.check=_l(t.check,D,2,0)),h=0,f=0}else t.head&&(t.head.extra=null);t.mode=A4;case A4:if(t.flags&1024&&(g=t.length,g>l&&(g=l),g&&(t.head&&(z=t.head.extra_len-t.length,t.head.extra||(t.head.extra=new Uint8Array(t.head.extra_len)),t.head.extra.set(n.subarray(i,i+g),z)),t.flags&512&&t.wrap&4&&(t.check=_l(t.check,n,g,i)),l-=g,i+=g,t.length-=g),t.length))break e;t.length=0,t.mode=E4;case E4:if(t.flags&2048){if(l===0)break e;g=0;do z=n[i+g++],t.head&&z&&t.length<65536&&(t.head.name+=String.fromCharCode(z));while(z&&g<l);if(t.flags&512&&t.wrap&4&&(t.check=_l(t.check,n,g,i)),l-=g,i+=g,z)break e}else t.head&&(t.head.name=null);t.length=0,t.mode=N4;case N4:if(t.flags&4096){if(l===0)break e;g=0;do z=n[i+g++],t.head&&z&&t.length<65536&&(t.head.comment+=String.fromCharCode(z));while(z&&g<l);if(t.flags&512&&t.wrap&4&&(t.check=_l(t.check,n,g,i)),l-=g,i+=g,z)break e}else t.head&&(t.head.comment=null);t.mode=O4;case O4:if(t.flags&512){for(;f<16;){if(l===0)break e;l--,h+=n[i++]<<f,f+=8}if(t.wrap&4&&h!==(t.check&65535)){r.msg="header crc mismatch",t.mode=Rn;break}h=0,f=0}t.head&&(t.head.hcrc=t.flags>>9&1,t.head.done=!0),r.adler=t.check=0,t.mode=cc;break;case D4:for(;f<32;){if(l===0)break e;l--,h+=n[i++]<<f,f+=8}r.adler=t.check=V4(h),h=0,f=0,t.mode=Fp;case Fp:if(t.havedict===0)return r.next_out=o,r.avail_out=u,r.next_in=i,r.avail_in=l,t.hold=h,t.bits=f,tU;r.adler=t.check=1,t.mode=cc;case cc:if(e===QI||e===Mg)break e;case ex:if(t.last){h>>>=f&7,f-=f&7,t.mode=rx;break}for(;f<3;){if(l===0)break e;l--,h+=n[i++]<<f,f+=8}switch(t.last=h&1,h>>>=1,f-=1,h&3){case 0:t.mode=L4;break;case 1:if(cU(t),t.mode=jg,e===Mg){h>>>=2,f-=2;break e}break;case 2:t.mode=M4;break;case 3:r.msg="invalid block type",t.mode=Rn}h>>>=2,f-=2;break;case L4:for(h>>>=f&7,f-=f&7;f<32;){if(l===0)break e;l--,h+=n[i++]<<f,f+=8}if((h&65535)!==(h>>>16^65535)){r.msg="invalid stored block lengths",t.mode=Rn;break}if(t.length=h&65535,h=0,f=0,t.mode=tx,e===Mg)break e;case tx:t.mode=F4;case F4:if(g=t.length,g){if(g>l&&(g=l),g>u&&(g=u),g===0)break e;a.set(n.subarray(i,i+g),o),l-=g,i+=g,u-=g,o+=g,t.length-=g;break}t.mode=cc;break;case M4:for(;f<14;){if(l===0)break e;l--,h+=n[i++]<<f,f+=8}if(t.nlen=(h&31)+257,h>>>=5,f-=5,t.ndist=(h&31)+1,h>>>=5,f-=5,t.ncode=(h&15)+4,h>>>=4,f-=4,t.nlen>286||t.ndist>30){r.msg="too many length or distance symbols",t.mode=Rn;break}t.have=0,t.mode=j4;case j4:for(;t.have<t.ncode;){for(;f<3;){if(l===0)break e;l--,h+=n[i++]<<f,f+=8}t.lens[O[t.have++]]=h&7,h>>>=3,f-=3}for(;t.have<19;)t.lens[O[t.have++]]=0;if(t.lencode=t.lendyn,t.lenbits=7,Z={bits:t.lenbits},B=Cd(JI,t.lens,0,19,t.lencode,0,t.work,Z),t.lenbits=Z.bits,B){r.msg="invalid code lengths set",t.mode=Rn;break}t.have=0,t.mode=R4;case R4:for(;t.have<t.nlen+t.ndist;){for(;S=t.lencode[h&(1<<t.lenbits)-1],k=S>>>24,A=S>>>16&255,N=S&65535,!(k<=f);){if(l===0)break e;l--,h+=n[i++]<<f,f+=8}if(N<16)h>>>=k,f-=k,t.lens[t.have++]=N;else{if(N===16){for(q=k+2;f<q;){if(l===0)break e;l--,h+=n[i++]<<f,f+=8}if(h>>>=k,f-=k,t.have===0){r.msg="invalid bit length repeat",t.mode=Rn;break}z=t.lens[t.have-1],g=3+(h&3),h>>>=2,f-=2}else if(N===17){for(q=k+3;f<q;){if(l===0)break e;l--,h+=n[i++]<<f,f+=8}h>>>=k,f-=k,z=0,g=3+(h&7),h>>>=3,f-=3}else{for(q=k+7;f<q;){if(l===0)break e;l--,h+=n[i++]<<f,f+=8}h>>>=k,f-=k,z=0,g=11+(h&127),h>>>=7,f-=7}if(t.have+g>t.nlen+t.ndist){r.msg="invalid bit length repeat",t.mode=Rn;break}for(;g--;)t.lens[t.have++]=z}}if(t.mode===Rn)break;if(t.lens[256]===0){r.msg="invalid code -- missing end-of-block",t.mode=Rn;break}if(t.lenbits=9,Z={bits:t.lenbits},B=Cd(Pk,t.lens,0,t.nlen,t.lencode,0,t.work,Z),t.lenbits=Z.bits,B){r.msg="invalid literal/lengths set",t.mode=Rn;break}if(t.distbits=6,t.distcode=t.distdyn,Z={bits:t.distbits},B=Cd(Ik,t.lens,t.nlen,t.ndist,t.distcode,0,t.work,Z),t.distbits=Z.bits,B){r.msg="invalid distances set",t.mode=Rn;break}if(t.mode=jg,e===Mg)break e;case jg:t.mode=Rg;case Rg:if(l>=6&&u>=258){r.next_out=o,r.avail_out=u,r.next_in=i,r.avail_in=l,t.hold=h,t.bits=f,WI(r,x),o=r.next_out,a=r.output,u=r.avail_out,i=r.next_in,n=r.input,l=r.avail_in,h=t.hold,f=t.bits,t.mode===cc&&(t.back=-1);break}for(t.back=0;S=t.lencode[h&(1<<t.lenbits)-1],k=S>>>24,A=S>>>16&255,N=S&65535,!(k<=f);){if(l===0)break e;l--,h+=n[i++]<<f,f+=8}if(A&&(A&240)===0){for(j=k,W=A,ee=N;S=t.lencode[ee+((h&(1<<j+W)-1)>>j)],k=S>>>24,A=S>>>16&255,N=S&65535,!(j+k<=f);){if(l===0)break e;l--,h+=n[i++]<<f,f+=8}h>>>=j,f-=j,t.back+=j}if(h>>>=k,f-=k,t.back+=k,t.length=N,A===0){t.mode=z4;break}if(A&32){t.back=-1,t.mode=cc;break}if(A&64){r.msg="invalid literal/length code",t.mode=Rn;break}t.extra=A&15,t.mode=B4;case B4:if(t.extra){for(q=t.extra;f<q;){if(l===0)break e;l--,h+=n[i++]<<f,f+=8}t.length+=h&(1<<t.extra)-1,h>>>=t.extra,f-=t.extra,t.back+=t.extra}t.was=t.length,t.mode=P4;case P4:for(;S=t.distcode[h&(1<<t.distbits)-1],k=S>>>24,A=S>>>16&255,N=S&65535,!(k<=f);){if(l===0)break e;l--,h+=n[i++]<<f,f+=8}if((A&240)===0){for(j=k,W=A,ee=N;S=t.distcode[ee+((h&(1<<j+W)-1)>>j)],k=S>>>24,A=S>>>16&255,N=S&65535,!(j+k<=f);){if(l===0)break e;l--,h+=n[i++]<<f,f+=8}h>>>=j,f-=j,t.back+=j}if(h>>>=k,f-=k,t.back+=k,A&64){r.msg="invalid distance code",t.mode=Rn;break}t.offset=N,t.extra=A&15,t.mode=I4;case I4:if(t.extra){for(q=t.extra;f<q;){if(l===0)break e;l--,h+=n[i++]<<f,f+=8}t.offset+=h&(1<<t.extra)-1,h>>>=t.extra,f-=t.extra,t.back+=t.extra}if(t.offset>t.dmax){r.msg="invalid distance too far back",t.mode=Rn;break}t.mode=U4;case U4:if(u===0)break e;if(g=x-u,t.offset>g){if(g=t.offset-g,g>t.whave&&t.sane){r.msg="invalid distance too far back",t.mode=Rn;break}g>t.wnext?(g-=t.wnext,y=t.wsize-g):y=t.wnext-g,g>t.length&&(g=t.length),v=t.window}else v=a,y=o-t.offset,g=t.length;g>u&&(g=u),u-=g,t.length-=g;do a[o++]=v[y++];while(--g);t.length===0&&(t.mode=Rg);break;case z4:if(u===0)break e;a[o++]=t.length,u--,t.mode=Rg;break;case rx:if(t.wrap){for(;f<32;){if(l===0)break e;l--,h|=n[i++]<<f,f+=8}if(x-=u,r.total_out+=x,t.total+=x,t.wrap&4&&x&&(r.adler=t.check=t.flags?_l(t.check,a,x,o-x):cv(t.check,a,x,o-x)),x=u,t.wrap&4&&(t.flags?h:V4(h))!==t.check){r.msg="incorrect data check",t.mode=Rn;break}h=0,f=0}t.mode=H4;case H4:if(t.wrap&&t.flags){for(;f<32;){if(l===0)break e;l--,h+=n[i++]<<f,f+=8}if(t.wrap&4&&h!==(t.total&4294967295)){r.msg="incorrect length check",t.mode=Rn;break}h=0,f=0}t.mode=q4;case q4:B=eU;break e;case Rn:B=Uk;break e;case Hk:return zk;case qk:default:return co}return r.next_out=o,r.avail_out=u,r.next_in=i,r.avail_in=l,t.hold=h,t.bits=f,(t.wsize||x!==r.avail_out&&t.mode<Rn&&(t.mode<rx||e!==w4))&&Xk(r,r.output,r.next_out,x-r.avail_out),m-=r.avail_in,x-=r.avail_out,r.total_in+=m,r.total_out+=x,t.total+=x,t.wrap&4&&x&&(r.adler=t.check=t.flags?_l(t.check,a,x,r.next_out-x):cv(t.check,a,x,r.next_out-x)),r.data_type=t.bits+(t.last?64:0)+(t.mode===cc?128:0)+(t.mode===jg||t.mode===tx?256:0),(m===0&&x===0||e===w4)&&B===Sh&&(B=rU),B},hU=r=>{if(Lh(r))return co;let e=r.state;return e.window&&(e.window=null),r.state=null,Sh},fU=(r,e)=>{if(Lh(r))return co;const t=r.state;return(t.wrap&2)===0?co:(t.head=e,e.done=!1,Sh)},dU=(r,e)=>{const t=e.length;let n,a,i;return Lh(r)||(n=r.state,n.wrap!==0&&n.mode!==Fp)?co:n.mode===Fp&&(a=1,a=cv(a,e,t,0),a!==n.check)?Uk:(i=Xk(r,e,t,t),i?(n.mode=Hk,zk):(n.havedict=1,Sh))};var gU=Gk,pU=Wk,mU=Vk,xU=lU,vU=Yk,yU=uU,bU=hU,wU=fU,_U=dU,SU="pako inflate (from Nodeca project)",dc={inflateReset:gU,inflateReset2:pU,inflateResetKeep:mU,inflateInit:xU,inflateInit2:vU,inflate:yU,inflateEnd:bU,inflateGetHeader:wU,inflateSetDictionary:_U,inflateInfo:SU};function kU(){this.text=0,this.time=0,this.xflags=0,this.os=0,this.extra=null,this.extra_len=0,this.name="",this.comment="",this.hcrc=0,this.done=!1}var CU=kU;const Kk=Object.prototype.toString,{Z_NO_FLUSH:TU,Z_FINISH:AU,Z_OK:Gd,Z_STREAM_END:ix,Z_NEED_DICT:sx,Z_STREAM_ERROR:EU,Z_DATA_ERROR:W4,Z_MEM_ERROR:NU}=jk;function t1(r){this.options=Rk.assign({chunkSize:1024*64,windowBits:15,to:""},r||{});const e=this.options;e.raw&&e.windowBits>=0&&e.windowBits<16&&(e.windowBits=-e.windowBits,e.windowBits===0&&(e.windowBits=-15)),e.windowBits>=0&&e.windowBits<16&&!(r&&r.windowBits)&&(e.windowBits+=32),e.windowBits>15&&e.windowBits<48&&(e.windowBits&15)===0&&(e.windowBits|=15),this.err=0,this.msg="",this.ended=!1,this.chunks=[],this.strm=new VI,this.strm.avail_out=0;let t=dc.inflateInit2(this.strm,e.windowBits);if(t!==Gd)throw new Error(uv[t]);if(this.header=new CU,dc.inflateGetHeader(this.strm,this.header),e.dictionary&&(typeof e.dictionary=="string"?e.dictionary=hv.string2buf(e.dictionary):Kk.call(e.dictionary)==="[object ArrayBuffer]"&&(e.dictionary=new Uint8Array(e.dictionary)),e.raw&&(t=dc.inflateSetDictionary(this.strm,e.dictionary),t!==Gd)))throw new Error(uv[t])}t1.prototype.push=function(r,e){const t=this.strm,n=this.options.chunkSize,a=this.options.dictionary;let i,o,l;if(this.ended)return!1;for(e===~~e?o=e:o=e===!0?AU:TU,Kk.call(r)==="[object ArrayBuffer]"?t.input=new Uint8Array(r):t.input=r,t.next_in=0,t.avail_in=t.input.length;;){for(t.avail_out===0&&(t.output=new Uint8Array(n),t.next_out=0,t.avail_out=n),i=dc.inflate(t,o),i===sx&&a&&(i=dc.inflateSetDictionary(t,a),i===Gd?i=dc.inflate(t,o):i===W4&&(i=sx));t.avail_in>0&&i===ix&&t.state.wrap>0&&r[t.next_in]!==0;)dc.inflateReset(t),i=dc.inflate(t,o);switch(i){case EU:case W4:case sx:case NU:return this.onEnd(i),this.ended=!0,!1}if(l=t.avail_out,t.next_out&&(t.avail_out===0||i===ix))if(this.options.to==="string"){let u=hv.utf8border(t.output,t.next_out),h=t.next_out-u,f=hv.buf2string(t.output,u);t.next_out=h,t.avail_out=n-h,h&&t.output.set(t.output.subarray(u,u+h),0),this.onData(f)}else this.onData(t.output.length===t.next_out?t.output:t.output.subarray(0,t.next_out));if(!(i===Gd&&l===0)){if(i===ix)return i=dc.inflateEnd(this.strm),this.onEnd(i),this.ended=!0,!0;if(t.avail_in===0)break}}return!0};t1.prototype.onData=function(r){this.chunks.push(r)};t1.prototype.onEnd=function(r){r===Gd&&(this.options.to==="string"?this.result=this.chunks.join(""):this.result=Rk.flattenChunks(this.chunks)),this.chunks=[],this.err=r,this.msg=this.strm.msg};function OU(r,e){const t=new t1(e);if(t.push(r),t.err)throw t.msg||uv[t.err];return t.result}var DU=t1,LU=OU,FU={Inflate:DU,inflate:LU};const{Inflate:MU,inflate:jU}=FU;var Y4=MU,RU=jU;const $k=[];for(let r=0;r<256;r++){let e=r;for(let t=0;t<8;t++)e&1?e=3988292384^e>>>1:e=e>>>1;$k[r]=e}const X4=4294967295;function BU(r,e,t){let n=r;for(let a=0;a<t;a++)n=$k[(n^e[a])&255]^n>>>8;return n}function PU(r,e){return(BU(X4,r,e)^X4)>>>0}function K4(r,e,t){const n=r.readUint32(),a=PU(new Uint8Array(r.buffer,r.byteOffset+r.offset-e-4,e),e);if(a!==n)throw new Error(`CRC mismatch for chunk ${t}. Expected ${n}, found ${a}`)}function Zk(r,e,t){for(let n=0;n<t;n++)e[n]=r[n]}function Jk(r,e,t,n){let a=0;for(;a<n;a++)e[a]=r[a];for(;a<t;a++)e[a]=r[a]+e[a-n]&255}function Qk(r,e,t,n){let a=0;if(t.length===0)for(;a<n;a++)e[a]=r[a];else for(;a<n;a++)e[a]=r[a]+t[a]&255}function eC(r,e,t,n,a){let i=0;if(t.length===0){for(;i<a;i++)e[i]=r[i];for(;i<n;i++)e[i]=r[i]+(e[i-a]>>1)&255}else{for(;i<a;i++)e[i]=r[i]+(t[i]>>1)&255;for(;i<n;i++)e[i]=r[i]+(e[i-a]+t[i]>>1)&255}}function tC(r,e,t,n,a){let i=0;if(t.length===0){for(;i<a;i++)e[i]=r[i];for(;i<n;i++)e[i]=r[i]+e[i-a]&255}else{for(;i<a;i++)e[i]=r[i]+t[i]&255;for(;i<n;i++)e[i]=r[i]+IU(e[i-a],t[i],t[i-a])&255}}function IU(r,e,t){const n=r+e-t,a=Math.abs(n-r),i=Math.abs(n-e),o=Math.abs(n-t);return a<=i&&a<=o?r:i<=o?e:t}function UU(r,e,t,n,a,i){switch(r){case 0:Zk(e,t,a);break;case 1:Jk(e,t,a,i);break;case 2:Qk(e,t,n,a);break;case 3:eC(e,t,n,a,i);break;case 4:tC(e,t,n,a,i);break;default:throw new Error(`Unsupported filter: ${r}`)}}const zU=new Uint16Array([255]),HU=new Uint8Array(zU.buffer),qU=HU[0]===255;function VU(r){const{data:e,width:t,height:n,channels:a,depth:i}=r,o=[{x:0,y:0,xStep:8,yStep:8},{x:4,y:0,xStep:8,yStep:8},{x:0,y:4,xStep:4,yStep:8},{x:2,y:0,xStep:4,yStep:4},{x:0,y:2,xStep:2,yStep:4},{x:1,y:0,xStep:2,yStep:2},{x:0,y:1,xStep:1,yStep:2}],l=Math.ceil(i/8)*a,u=new Uint8Array(n*t*l);let h=0;for(let f=0;f<7;f++){const m=o[f],x=Math.ceil((t-m.x)/m.xStep),g=Math.ceil((n-m.y)/m.yStep);if(x<=0||g<=0)continue;const y=x*l,v=new Uint8Array(y);for(let S=0;S<g;S++){const k=e[h++],A=e.subarray(h,h+y);h+=y;const N=new Uint8Array(y);UU(k,A,N,v,y,l),v.set(N);for(let j=0;j<x;j++){const W=m.x+j*m.xStep,ee=m.y+S*m.yStep;if(!(W>=t||ee>=n))for(let z=0;z<l;z++)u[(ee*t+W)*l+z]=N[j*l+z]}}}if(i===16){const f=new Uint16Array(u.buffer);if(qU)for(let m=0;m<f.length;m++)f[m]=GU(f[m]);return f}else return u}function GU(r){return(r&255)<<8|r>>8&255}const WU=new Uint16Array([255]),YU=new Uint8Array(WU.buffer),XU=YU[0]===255,KU=new Uint8Array(0);function $4(r){const{data:e,width:t,height:n,channels:a,depth:i}=r,o=Math.ceil(i/8)*a,l=Math.ceil(i/8*a*t),u=new Uint8Array(n*l);let h=KU,f=0,m,x;for(let g=0;g<n;g++){switch(m=e.subarray(f+1,f+1+l),x=u.subarray(g*l,(g+1)*l),e[f]){case 0:Zk(m,x,l);break;case 1:Jk(m,x,l,o);break;case 2:Qk(m,x,h,l);break;case 3:eC(m,x,h,l,o);break;case 4:tC(m,x,h,l,o);break;default:throw new Error(`Unsupported filter: ${e[f]}`)}h=x,f+=l+1}if(i===16){const g=new Uint16Array(u.buffer);if(XU)for(let y=0;y<g.length;y++)g[y]=$U(g[y]);return g}else return u}function $U(r){return(r&255)<<8|r>>8&255}const Zg=Uint8Array.of(137,80,78,71,13,10,26,10);function Z4(r){if(!ZU(r.readBytes(Zg.length)))throw new Error("wrong PNG signature")}function ZU(r){if(r.length<Zg.length)return!1;for(let e=0;e<Zg.length;e++)if(r[e]!==Zg[e])return!1;return!0}const JU="tEXt",QU=0,rC=new TextDecoder("latin1");function ez(r){if(rz(r),r.length===0||r.length>79)throw new Error("keyword length must be between 1 and 79")}const tz=/^[\u0000-\u00FF]*$/;function rz(r){if(!tz.test(r))throw new Error("invalid latin1 text")}function nz(r,e,t){const n=nC(e);r[n]=az(e,t-n.length-1)}function nC(r){for(r.mark();r.readByte()!==QU;);const e=r.offset;r.reset();const t=rC.decode(r.readBytes(e-r.offset-1));return r.skip(1),ez(t),t}function az(r,e){return rC.decode(r.readBytes(e))}const Os={UNKNOWN:-1,GREYSCALE:0,TRUECOLOUR:2,INDEXED_COLOUR:3,GREYSCALE_ALPHA:4,TRUECOLOUR_ALPHA:6},ox={UNKNOWN:-1,DEFLATE:0},J4={UNKNOWN:-1,ADAPTIVE:0},lx={UNKNOWN:-1,NO_INTERLACE:0,ADAM7:1},Bg={NONE:0,BACKGROUND:1,PREVIOUS:2},cx={SOURCE:0,OVER:1};class iz extends py{constructor(t,n={}){super(t);Or(this,"_checkCrc");Or(this,"_inflator");Or(this,"_png");Or(this,"_apng");Or(this,"_end");Or(this,"_hasPalette");Or(this,"_palette");Or(this,"_hasTransparency");Or(this,"_transparency");Or(this,"_compressionMethod");Or(this,"_filterMethod");Or(this,"_interlaceMethod");Or(this,"_colorType");Or(this,"_isAnimated");Or(this,"_numberOfFrames");Or(this,"_numberOfPlays");Or(this,"_frames");Or(this,"_writingDataChunks");const{checkCrc:a=!1}=n;this._checkCrc=a,this._inflator=new Y4,this._png={width:-1,height:-1,channels:-1,data:new Uint8Array(0),depth:1,text:{}},this._apng={width:-1,height:-1,channels:-1,depth:1,numberOfFrames:1,numberOfPlays:0,text:{},frames:[]},this._end=!1,this._hasPalette=!1,this._palette=[],this._hasTransparency=!1,this._transparency=new Uint16Array(0),this._compressionMethod=ox.UNKNOWN,this._filterMethod=J4.UNKNOWN,this._interlaceMethod=lx.UNKNOWN,this._colorType=Os.UNKNOWN,this._isAnimated=!1,this._numberOfFrames=1,this._numberOfPlays=0,this._frames=[],this._writingDataChunks=!1,this.setBigEndian()}decode(){for(Z4(this);!this._end;){const t=this.readUint32(),n=this.readChars(4);this.decodeChunk(t,n)}return this.decodeImage(),this._png}decodeApng(){for(Z4(this);!this._end;){const t=this.readUint32(),n=this.readChars(4);this.decodeApngChunk(t,n)}return this.decodeApngImage(),this._apng}decodeChunk(t,n){const a=this.offset;switch(n){case"IHDR":this.decodeIHDR();break;case"PLTE":this.decodePLTE(t);break;case"IDAT":this.decodeIDAT(t);break;case"IEND":this._end=!0;break;case"tRNS":this.decodetRNS(t);break;case"iCCP":this.decodeiCCP(t);break;case JU:nz(this._png.text,this,t);break;case"pHYs":this.decodepHYs();break;default:this.skip(t);break}if(this.offset-a!==t)throw new Error(`Length mismatch while decoding chunk ${n}`);this._checkCrc?K4(this,t+4,n):this.skip(4)}decodeApngChunk(t,n){const a=this.offset;switch(n!=="fdAT"&&n!=="IDAT"&&this._writingDataChunks&&this.pushDataToFrame(),n){case"acTL":this.decodeACTL();break;case"fcTL":this.decodeFCTL();break;case"fdAT":this.decodeFDAT(t);break;default:this.decodeChunk(t,n),this.offset=a+t;break}if(this.offset-a!==t)throw new Error(`Length mismatch while decoding chunk ${n}`);this._checkCrc?K4(this,t+4,n):this.skip(4)}decodeIHDR(){const t=this._png;t.width=this.readUint32(),t.height=this.readUint32(),t.depth=sz(this.readUint8());const n=this.readUint8();this._colorType=n;let a;switch(n){case Os.GREYSCALE:a=1;break;case Os.TRUECOLOUR:a=3;break;case Os.INDEXED_COLOUR:a=1;break;case Os.GREYSCALE_ALPHA:a=2;break;case Os.TRUECOLOUR_ALPHA:a=4;break;case Os.UNKNOWN:default:throw new Error(`Unknown color type: ${n}`)}if(this._png.channels=a,this._compressionMethod=this.readUint8(),this._compressionMethod!==ox.DEFLATE)throw new Error(`Unsupported compression method: ${this._compressionMethod}`);this._filterMethod=this.readUint8(),this._interlaceMethod=this.readUint8()}decodeACTL(){this._numberOfFrames=this.readUint32(),this._numberOfPlays=this.readUint32(),this._isAnimated=!0}decodeFCTL(){const t={sequenceNumber:this.readUint32(),width:this.readUint32(),height:this.readUint32(),xOffset:this.readUint32(),yOffset:this.readUint32(),delayNumber:this.readUint16(),delayDenominator:this.readUint16(),disposeOp:this.readUint8(),blendOp:this.readUint8(),data:new Uint8Array(0)};this._frames.push(t)}decodePLTE(t){if(t%3!==0)throw new RangeError(`PLTE field length must be a multiple of 3. Got ${t}`);const n=t/3;this._hasPalette=!0;const a=[];this._palette=a;for(let i=0;i<n;i++)a.push([this.readUint8(),this.readUint8(),this.readUint8()])}decodeIDAT(t){this._writingDataChunks=!0;const n=t,a=this.offset+this.byteOffset;if(this._inflator.push(new Uint8Array(this.buffer,a,n)),this._inflator.err)throw new Error(`Error while decompressing the data: ${this._inflator.err}`);this.skip(t)}decodeFDAT(t){this._writingDataChunks=!0;let n=t,a=this.offset+this.byteOffset;if(a+=4,n-=4,this._inflator.push(new Uint8Array(this.buffer,a,n)),this._inflator.err)throw new Error(`Error while decompressing the data: ${this._inflator.err}`);this.skip(t)}decodetRNS(t){switch(this._colorType){case Os.GREYSCALE:case Os.TRUECOLOUR:{if(t%2!==0)throw new RangeError(`tRNS chunk length must be a multiple of 2. Got ${t}`);if(t/2>this._png.width*this._png.height)throw new Error(`tRNS chunk contains more alpha values than there are pixels (${t/2} vs ${this._png.width*this._png.height})`);this._hasTransparency=!0,this._transparency=new Uint16Array(t/2);for(let n=0;n<t/2;n++)this._transparency[n]=this.readUint16();break}case Os.INDEXED_COLOUR:{if(t>this._palette.length)throw new Error(`tRNS chunk contains more alpha values than there are palette colors (${t} vs ${this._palette.length})`);let n=0;for(;n<t;n++){const a=this.readByte();this._palette[n].push(a)}for(;n<this._palette.length;n++)this._palette[n].push(255);break}case Os.UNKNOWN:case Os.GREYSCALE_ALPHA:case Os.TRUECOLOUR_ALPHA:default:throw new Error(`tRNS chunk is not supported for color type ${this._colorType}`)}}decodeiCCP(t){const n=nC(this),a=this.readUint8();if(a!==ox.DEFLATE)throw new Error(`Unsupported iCCP compression method: ${a}`);const i=this.readBytes(t-n.length-2);this._png.iccEmbeddedProfile={name:n,profile:RU(i)}}decodepHYs(){const t=this.readUint32(),n=this.readUint32(),a=this.readByte();this._png.resolution={x:t,y:n,unit:a}}decodeApngImage(){this._apng.width=this._png.width,this._apng.height=this._png.height,this._apng.channels=this._png.channels,this._apng.depth=this._png.depth,this._apng.numberOfFrames=this._numberOfFrames,this._apng.numberOfPlays=this._numberOfPlays,this._apng.text=this._png.text,this._apng.resolution=this._png.resolution;for(let t=0;t<this._numberOfFrames;t++){const n={sequenceNumber:this._frames[t].sequenceNumber,delayNumber:this._frames[t].delayNumber,delayDenominator:this._frames[t].delayDenominator,data:this._apng.depth===8?new Uint8Array(this._apng.width*this._apng.height*this._apng.channels):new Uint16Array(this._apng.width*this._apng.height*this._apng.channels)},a=this._frames.at(t);if(a){if(a.data=$4({data:a.data,width:a.width,height:a.height,channels:this._apng.channels,depth:this._apng.depth}),this._hasPalette&&(this._apng.palette=this._palette),this._hasTransparency&&(this._apng.transparency=this._transparency),t===0||a.xOffset===0&&a.yOffset===0&&a.width===this._png.width&&a.height===this._png.height)n.data=a.data;else{const i=this._apng.frames.at(t-1);this.disposeFrame(a,i,n),this.addFrameDataToCanvas(n,a)}this._apng.frames.push(n)}}return this._apng}disposeFrame(t,n,a){switch(t.disposeOp){case Bg.NONE:break;case Bg.BACKGROUND:for(let i=0;i<this._png.height;i++)for(let o=0;o<this._png.width;o++){const l=(i*t.width+o)*this._png.channels;for(let u=0;u<this._png.channels;u++)a.data[l+u]=0}break;case Bg.PREVIOUS:a.data.set(n.data);break;default:throw new Error("Unknown disposeOp")}}addFrameDataToCanvas(t,n){const a=1<<this._png.depth,i=(o,l)=>{const u=((o+n.yOffset)*this._png.width+n.xOffset+l)*this._png.channels,h=(o*n.width+l)*this._png.channels;return{index:u,frameIndex:h}};switch(n.blendOp){case cx.SOURCE:for(let o=0;o<n.height;o++)for(let l=0;l<n.width;l++){const{index:u,frameIndex:h}=i(o,l);for(let f=0;f<this._png.channels;f++)t.data[u+f]=n.data[h+f]}break;case cx.OVER:for(let o=0;o<n.height;o++)for(let l=0;l<n.width;l++){const{index:u,frameIndex:h}=i(o,l);for(let f=0;f<this._png.channels;f++){const m=n.data[h+this._png.channels-1]/a,x=f%(this._png.channels-1)===0?1:n.data[h+f],g=Math.floor(m*x+(1-m)*t.data[u+f]);t.data[u+f]+=g}}break;default:throw new Error("Unknown blendOp")}}decodeImage(){var n;if(this._inflator.err)throw new Error(`Error while decompressing the data: ${this._inflator.err}`);const t=this._isAnimated?((n=this._frames)==null?void 0:n.at(0)).data:this._inflator.result;if(this._filterMethod!==J4.ADAPTIVE)throw new Error(`Filter method ${this._filterMethod} not supported`);if(this._interlaceMethod===lx.NO_INTERLACE)this._png.data=$4({data:t,width:this._png.width,height:this._png.height,channels:this._png.channels,depth:this._png.depth});else if(this._interlaceMethod===lx.ADAM7)this._png.data=VU({data:t,width:this._png.width,height:this._png.height,channels:this._png.channels,depth:this._png.depth});else throw new Error(`Interlace method ${this._interlaceMethod} not supported`);this._hasPalette&&(this._png.palette=this._palette),this._hasTransparency&&(this._png.transparency=this._transparency)}pushDataToFrame(){const t=this._inflator.result,n=this._frames.at(-1);n?n.data=t:this._frames.push({sequenceNumber:0,width:this._png.width,height:this._png.height,xOffset:0,yOffset:0,delayNumber:0,delayDenominator:0,disposeOp:Bg.NONE,blendOp:cx.SOURCE,data:t}),this._inflator=new Y4,this._writingDataChunks=!1}}function sz(r){if(r!==1&&r!==2&&r!==4&&r!==8&&r!==16)throw new Error(`invalid bit depth: ${r}`);return r}var Q4;(function(r){r[r.UNKNOWN=0]="UNKNOWN",r[r.METRE=1]="METRE"})(Q4||(Q4={}));function oz(r,e){return new iz(r,e).decode()}var ur=(function(){return typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:this})();function ux(){ur.console&&typeof ur.console.log=="function"&&ur.console.log.apply(ur.console,arguments)}var mn={log:ux,warn:function(r){ur.console&&(typeof ur.console.warn=="function"?ur.console.warn.apply(ur.console,arguments):ux.call(null,arguments))},error:function(r){ur.console&&(typeof ur.console.error=="function"?ur.console.error.apply(ur.console,arguments):ux(r))}};function hx(r,e,t){var n=new XMLHttpRequest;n.open("GET",r),n.responseType="blob",n.onload=function(){nh(n.response,e,t)},n.onerror=function(){mn.error("could not download file")},n.send()}function e3(r){var e=new XMLHttpRequest;e.open("HEAD",r,!1);try{e.send()}catch{}return e.status>=200&&e.status<=299}function Pg(r){try{r.dispatchEvent(new MouseEvent("click"))}catch{var e=document.createEvent("MouseEvents");e.initMouseEvent("click",!0,!0,window,0,0,0,80,20,!1,!1,!1,!1,0,null),r.dispatchEvent(e)}}var nh=ur.saveAs||((typeof window>"u"?"undefined":an(window))!=="object"||window!==ur?function(){}:typeof HTMLAnchorElement<"u"&&"download"in HTMLAnchorElement.prototype?function(r,e,t){var n=ur.URL||ur.webkitURL,a=document.createElement("a");e=e||r.name||"download",a.download=e,a.rel="noopener",typeof r=="string"?(a.href=r,a.origin!==location.origin?e3(a.href)?hx(r,e,t):Pg(a,a.target="_blank"):Pg(a)):(a.href=n.createObjectURL(r),setTimeout(function(){n.revokeObjectURL(a.href)},4e4),setTimeout(function(){Pg(a)},0))}:"msSaveOrOpenBlob"in navigator?function(r,e,t){if(e=e||r.name||"download",typeof r=="string")if(e3(r))hx(r,e,t);else{var n=document.createElement("a");n.href=r,n.target="_blank",setTimeout(function(){Pg(n)})}else navigator.msSaveOrOpenBlob((function(a,i){return i===void 0?i={autoBom:!1}:an(i)!=="object"&&(mn.warn("Deprecated: Expected third argument to be a object"),i={autoBom:!i}),i.autoBom&&/^\s*(?:text\/\S*|application\/xml|\S*\/\S*\+xml)\s*;.*charset\s*=\s*utf-8/i.test(a.type)?new Blob(["\uFEFF",a],{type:a.type}):a})(r,t),e)}:function(r,e,t,n){if((n=n||open("","_blank"))&&(n.document.title=n.document.body.innerText="downloading..."),typeof r=="string")return hx(r,e,t);var a=r.type==="application/octet-stream",i=/constructor/i.test(ur.HTMLElement)||ur.safari,o=/CriOS\/[\d]+/.test(navigator.userAgent);if((o||a&&i)&&(typeof FileReader>"u"?"undefined":an(FileReader))==="object"){var l=new FileReader;l.onloadend=function(){var f=l.result;f=o?f:f.replace(/^data:[^;]*;/,"data:attachment/file;"),n?n.location.href=f:location=f,n=null},l.readAsDataURL(r)}else{var u=ur.URL||ur.webkitURL,h=u.createObjectURL(r);n?n.location=h:location.href=h,n=null,setTimeout(function(){u.revokeObjectURL(h)},4e4)}});/**
 * A class to parse color values
 * @author Stoyan Stefanov <sstoo@gmail.com>
 * {@link   http://www.phpied.com/rgb-color-parser-in-javascript/}
 * @license Use it if you like it
 */function aC(r){var e;r=r||"",this.ok=!1,r.charAt(0)=="#"&&(r=r.substr(1,6)),r={aliceblue:"f0f8ff",antiquewhite:"faebd7",aqua:"00ffff",aquamarine:"7fffd4",azure:"f0ffff",beige:"f5f5dc",bisque:"ffe4c4",black:"000000",blanchedalmond:"ffebcd",blue:"0000ff",blueviolet:"8a2be2",brown:"a52a2a",burlywood:"deb887",cadetblue:"5f9ea0",chartreuse:"7fff00",chocolate:"d2691e",coral:"ff7f50",cornflowerblue:"6495ed",cornsilk:"fff8dc",crimson:"dc143c",cyan:"00ffff",darkblue:"00008b",darkcyan:"008b8b",darkgoldenrod:"b8860b",darkgray:"a9a9a9",darkgreen:"006400",darkkhaki:"bdb76b",darkmagenta:"8b008b",darkolivegreen:"556b2f",darkorange:"ff8c00",darkorchid:"9932cc",darkred:"8b0000",darksalmon:"e9967a",darkseagreen:"8fbc8f",darkslateblue:"483d8b",darkslategray:"2f4f4f",darkturquoise:"00ced1",darkviolet:"9400d3",deeppink:"ff1493",deepskyblue:"00bfff",dimgray:"696969",dodgerblue:"1e90ff",feldspar:"d19275",firebrick:"b22222",floralwhite:"fffaf0",forestgreen:"228b22",fuchsia:"ff00ff",gainsboro:"dcdcdc",ghostwhite:"f8f8ff",gold:"ffd700",goldenrod:"daa520",gray:"808080",green:"008000",greenyellow:"adff2f",honeydew:"f0fff0",hotpink:"ff69b4",indianred:"cd5c5c",indigo:"4b0082",ivory:"fffff0",khaki:"f0e68c",lavender:"e6e6fa",lavenderblush:"fff0f5",lawngreen:"7cfc00",lemonchiffon:"fffacd",lightblue:"add8e6",lightcoral:"f08080",lightcyan:"e0ffff",lightgoldenrodyellow:"fafad2",lightgrey:"d3d3d3",lightgreen:"90ee90",lightpink:"ffb6c1",lightsalmon:"ffa07a",lightseagreen:"20b2aa",lightskyblue:"87cefa",lightslateblue:"8470ff",lightslategray:"778899",lightsteelblue:"b0c4de",lightyellow:"ffffe0",lime:"00ff00",limegreen:"32cd32",linen:"faf0e6",magenta:"ff00ff",maroon:"800000",mediumaquamarine:"66cdaa",mediumblue:"0000cd",mediumorchid:"ba55d3",mediumpurple:"9370d8",mediumseagreen:"3cb371",mediumslateblue:"7b68ee",mediumspringgreen:"00fa9a",mediumturquoise:"48d1cc",mediumvioletred:"c71585",midnightblue:"191970",mintcream:"f5fffa",mistyrose:"ffe4e1",moccasin:"ffe4b5",navajowhite:"ffdead",navy:"000080",oldlace:"fdf5e6",olive:"808000",olivedrab:"6b8e23",orange:"ffa500",orangered:"ff4500",orchid:"da70d6",palegoldenrod:"eee8aa",palegreen:"98fb98",paleturquoise:"afeeee",palevioletred:"d87093",papayawhip:"ffefd5",peachpuff:"ffdab9",peru:"cd853f",pink:"ffc0cb",plum:"dda0dd",powderblue:"b0e0e6",purple:"800080",red:"ff0000",rosybrown:"bc8f8f",royalblue:"4169e1",saddlebrown:"8b4513",salmon:"fa8072",sandybrown:"f4a460",seagreen:"2e8b57",seashell:"fff5ee",sienna:"a0522d",silver:"c0c0c0",skyblue:"87ceeb",slateblue:"6a5acd",slategray:"708090",snow:"fffafa",springgreen:"00ff7f",steelblue:"4682b4",tan:"d2b48c",teal:"008080",thistle:"d8bfd8",tomato:"ff6347",turquoise:"40e0d0",violet:"ee82ee",violetred:"d02090",wheat:"f5deb3",white:"ffffff",whitesmoke:"f5f5f5",yellow:"ffff00",yellowgreen:"9acd32"}[r=(r=r.replace(/ /g,"")).toLowerCase()]||r;for(var t=[{re:/^rgb\((\d{1,3}),\s*(\d{1,3}),\s*(\d{1,3})\)$/,example:["rgb(123, 234, 45)","rgb(255,234,245)"],process:function(l){return[parseInt(l[1]),parseInt(l[2]),parseInt(l[3])]}},{re:/^(\w{2})(\w{2})(\w{2})$/,example:["#00ff00","336699"],process:function(l){return[parseInt(l[1],16),parseInt(l[2],16),parseInt(l[3],16)]}},{re:/^(\w{1})(\w{1})(\w{1})$/,example:["#fb0","f0f"],process:function(l){return[parseInt(l[1]+l[1],16),parseInt(l[2]+l[2],16),parseInt(l[3]+l[3],16)]}}],n=0;n<t.length;n++){var a=t[n].re,i=t[n].process,o=a.exec(r);o&&(e=i(o),this.r=e[0],this.g=e[1],this.b=e[2],this.ok=!0)}this.r=this.r<0||isNaN(this.r)?0:this.r>255?255:this.r,this.g=this.g<0||isNaN(this.g)?0:this.g>255?255:this.g,this.b=this.b<0||isNaN(this.b)?0:this.b>255?255:this.b,this.toRGB=function(){return"rgb("+this.r+", "+this.g+", "+this.b+")"},this.toHex=function(){var l=this.r.toString(16),u=this.g.toString(16),h=this.b.toString(16);return l.length==1&&(l="0"+l),u.length==1&&(u="0"+u),h.length==1&&(h="0"+h),"#"+l+u+h}}var Jg=ur.atob.bind(ur),t3=ur.btoa.bind(ur);/**
 * @license
 * Joseph Myers does not specify a particular license for his work.
 *
 * Author: Joseph Myers
 * Accessed from: http://www.myersdaily.org/joseph/javascript/md5.js
 *
 * Modified by: Owen Leong
 */function fx(r,e){var t=r[0],n=r[1],a=r[2],i=r[3];t=mi(t,n,a,i,e[0],7,-680876936),i=mi(i,t,n,a,e[1],12,-389564586),a=mi(a,i,t,n,e[2],17,606105819),n=mi(n,a,i,t,e[3],22,-1044525330),t=mi(t,n,a,i,e[4],7,-176418897),i=mi(i,t,n,a,e[5],12,1200080426),a=mi(a,i,t,n,e[6],17,-1473231341),n=mi(n,a,i,t,e[7],22,-45705983),t=mi(t,n,a,i,e[8],7,1770035416),i=mi(i,t,n,a,e[9],12,-1958414417),a=mi(a,i,t,n,e[10],17,-42063),n=mi(n,a,i,t,e[11],22,-1990404162),t=mi(t,n,a,i,e[12],7,1804603682),i=mi(i,t,n,a,e[13],12,-40341101),a=mi(a,i,t,n,e[14],17,-1502002290),t=xi(t,n=mi(n,a,i,t,e[15],22,1236535329),a,i,e[1],5,-165796510),i=xi(i,t,n,a,e[6],9,-1069501632),a=xi(a,i,t,n,e[11],14,643717713),n=xi(n,a,i,t,e[0],20,-373897302),t=xi(t,n,a,i,e[5],5,-701558691),i=xi(i,t,n,a,e[10],9,38016083),a=xi(a,i,t,n,e[15],14,-660478335),n=xi(n,a,i,t,e[4],20,-405537848),t=xi(t,n,a,i,e[9],5,568446438),i=xi(i,t,n,a,e[14],9,-1019803690),a=xi(a,i,t,n,e[3],14,-187363961),n=xi(n,a,i,t,e[8],20,1163531501),t=xi(t,n,a,i,e[13],5,-1444681467),i=xi(i,t,n,a,e[2],9,-51403784),a=xi(a,i,t,n,e[7],14,1735328473),t=vi(t,n=xi(n,a,i,t,e[12],20,-1926607734),a,i,e[5],4,-378558),i=vi(i,t,n,a,e[8],11,-2022574463),a=vi(a,i,t,n,e[11],16,1839030562),n=vi(n,a,i,t,e[14],23,-35309556),t=vi(t,n,a,i,e[1],4,-1530992060),i=vi(i,t,n,a,e[4],11,1272893353),a=vi(a,i,t,n,e[7],16,-155497632),n=vi(n,a,i,t,e[10],23,-1094730640),t=vi(t,n,a,i,e[13],4,681279174),i=vi(i,t,n,a,e[0],11,-358537222),a=vi(a,i,t,n,e[3],16,-722521979),n=vi(n,a,i,t,e[6],23,76029189),t=vi(t,n,a,i,e[9],4,-640364487),i=vi(i,t,n,a,e[12],11,-421815835),a=vi(a,i,t,n,e[15],16,530742520),t=yi(t,n=vi(n,a,i,t,e[2],23,-995338651),a,i,e[0],6,-198630844),i=yi(i,t,n,a,e[7],10,1126891415),a=yi(a,i,t,n,e[14],15,-1416354905),n=yi(n,a,i,t,e[5],21,-57434055),t=yi(t,n,a,i,e[12],6,1700485571),i=yi(i,t,n,a,e[3],10,-1894986606),a=yi(a,i,t,n,e[10],15,-1051523),n=yi(n,a,i,t,e[1],21,-2054922799),t=yi(t,n,a,i,e[8],6,1873313359),i=yi(i,t,n,a,e[15],10,-30611744),a=yi(a,i,t,n,e[6],15,-1560198380),n=yi(n,a,i,t,e[13],21,1309151649),t=yi(t,n,a,i,e[4],6,-145523070),i=yi(i,t,n,a,e[11],10,-1120210379),a=yi(a,i,t,n,e[2],15,718787259),n=yi(n,a,i,t,e[9],21,-343485551),r[0]=bu(t,r[0]),r[1]=bu(n,r[1]),r[2]=bu(a,r[2]),r[3]=bu(i,r[3])}function tm(r,e,t,n,a,i){return e=bu(bu(e,r),bu(n,i)),bu(e<<a|e>>>32-a,t)}function mi(r,e,t,n,a,i,o){return tm(e&t|~e&n,r,e,a,i,o)}function xi(r,e,t,n,a,i,o){return tm(e&n|t&~n,r,e,a,i,o)}function vi(r,e,t,n,a,i,o){return tm(e^t^n,r,e,a,i,o)}function yi(r,e,t,n,a,i,o){return tm(t^(e|~n),r,e,a,i,o)}function iC(r){var e,t=r.length,n=[1732584193,-271733879,-1732584194,271733878];for(e=64;e<=r.length;e+=64)fx(n,lz(r.substring(e-64,e)));r=r.substring(e-64);var a=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0];for(e=0;e<r.length;e++)a[e>>2]|=r.charCodeAt(e)<<(e%4<<3);if(a[e>>2]|=128<<(e%4<<3),e>55)for(fx(n,a),e=0;e<16;e++)a[e]=0;return a[14]=8*t,fx(n,a),n}function lz(r){var e,t=[];for(e=0;e<64;e+=4)t[e>>2]=r.charCodeAt(e)+(r.charCodeAt(e+1)<<8)+(r.charCodeAt(e+2)<<16)+(r.charCodeAt(e+3)<<24);return t}var r3="0123456789abcdef".split("");function cz(r){for(var e="",t=0;t<4;t++)e+=r3[r>>8*t+4&15]+r3[r>>8*t&15];return e}function uz(r){return String.fromCharCode(255&r,(65280&r)>>8,(16711680&r)>>16,(4278190080&r)>>24)}function fv(r){return iC(r).map(uz).join("")}var hz=(function(r){for(var e=0;e<r.length;e++)r[e]=cz(r[e]);return r.join("")})(iC("hello"))!="5d41402abc4b2a76b9719d911017c592";function bu(r,e){if(hz){var t=(65535&r)+(65535&e);return(r>>16)+(e>>16)+(t>>16)<<16|65535&t}return r+e&4294967295}/**
 * @license
 * FPDF is released under a permissive license: there is no usage restriction.
 * You may embed it freely in your application (commercial or not), with or
 * without modifications.
 *
 * Reference: http://www.fpdf.org/en/script/script37.php
 */function dv(r,e){var t,n,a,i;if(r!==t){for(var o=(a=r,i=1+(256/r.length|0),new Array(i+1).join(a)),l=[],u=0;u<256;u++)l[u]=u;var h=0;for(u=0;u<256;u++){var f=l[u];h=(h+f+o.charCodeAt(u))%256,l[u]=l[h],l[h]=f}t=r,n=l}else l=n;var m=e.length,x=0,g=0,y="";for(u=0;u<m;u++)g=(g+(f=l[x=(x+1)%256]))%256,l[x]=l[g],l[g]=f,o=l[(l[x]+l[g])%256],y+=String.fromCharCode(e.charCodeAt(u)^o);return y}/**
 * @license
 * Licensed under the MIT License.
 * http://opensource.org/licenses/mit-license
 * Author: Owen Leong (@owenl131)
 * Date: 15 Oct 2020
 * References:
 * https://www.cs.cmu.edu/~dst/Adobe/Gallery/anon21jul01-pdf-encryption.txt
 * https://github.com/foliojs/pdfkit/blob/master/lib/security.js
 * http://www.fpdf.org/en/script/script37.php
 */var n3={print:4,modify:8,copy:16,"annot-forms":32};function Rf(r,e,t,n){this.v=1,this.r=2;var a=192;r.forEach(function(l){if(n3.perm!==void 0)throw new Error("Invalid permission: "+l);a+=n3[l]}),this.padding="(N^NuAd\0NV\b..\0h>/\fdSiz";var i=(e+this.padding).substr(0,32),o=(t+this.padding).substr(0,32);this.O=this.processOwnerPassword(i,o),this.P=-(1+(255^a)),this.encryptionKey=fv(i+this.O+this.lsbFirstWord(this.P)+this.hexToBytes(n)).substr(0,5),this.U=dv(this.encryptionKey,this.padding)}function Bf(r){if(/[^\u0000-\u00ff]/.test(r))throw new Error("Invalid PDF Name Object: "+r+", Only accept ASCII characters.");for(var e="",t=r.length,n=0;n<t;n++){var a=r.charCodeAt(n);e+=a<33||a===35||a===37||a===40||a===41||a===47||a===60||a===62||a===91||a===93||a===123||a===125||a>126?"#"+("0"+a.toString(16)).slice(-2):r[n]}return e}function a3(r){if(an(r)!=="object")throw new Error("Invalid Context passed to initialize PubSub (jsPDF-module)");var e={};this.subscribe=function(t,n,a){if(a=a||!1,typeof t!="string"||typeof n!="function"||typeof a!="boolean")throw new Error("Invalid arguments passed to PubSub.subscribe (jsPDF-module)");e.hasOwnProperty(t)||(e[t]={});var i=Math.random().toString(35);return e[t][i]=[n,!!a],i},this.unsubscribe=function(t){for(var n in e)if(e[n][t])return delete e[n][t],Object.keys(e[n]).length===0&&delete e[n],!0;return!1},this.publish=function(t){if(e.hasOwnProperty(t)){var n=Array.prototype.slice.call(arguments,1),a=[];for(var i in e[t]){var o=e[t][i];try{o[0].apply(r,n)}catch(l){ur.console&&mn.error("jsPDF PubSub Error",l.message,l)}o[1]&&a.push(i)}a.length&&a.forEach(this.unsubscribe)}},this.getTopics=function(){return e}}function Mp(r){if(!(this instanceof Mp))return new Mp(r);var e="opacity,stroke-opacity".split(",");for(var t in r)r.hasOwnProperty(t)&&e.indexOf(t)>=0&&(this[t]=r[t]);this.id="",this.objectNumber=-1}function sC(r,e){this.gState=r,this.matrix=e,this.id="",this.objectNumber=-1}function oh(r,e,t,n,a){if(!(this instanceof oh))return new oh(r,e,t,n,a);this.type=r==="axial"?2:3,this.coords=e,this.colors=t,sC.call(this,n,a)}function Hf(r,e,t,n,a){if(!(this instanceof Hf))return new Hf(r,e,t,n,a);this.boundingBox=r,this.xStep=e,this.yStep=t,this.stream="",this.cloneIndex=0,sC.call(this,n,a)}function er(r){var e,t=typeof arguments[0]=="string"?arguments[0]:"p",n=arguments[1],a=arguments[2],i=arguments[3],o=[],l=1,u=16,h="S",f=null;an(r=r||{})==="object"&&(t=r.orientation,n=r.unit||n,a=r.format||a,i=r.compress||r.compressPdf||i,(f=r.encryption||null)!==null&&(f.userPassword=f.userPassword||"",f.ownerPassword=f.ownerPassword||"",f.userPermissions=f.userPermissions||[]),l=typeof r.userUnit=="number"?Math.abs(r.userUnit):1,r.precision!==void 0&&(e=r.precision),r.floatPrecision!==void 0&&(u=r.floatPrecision),h=r.defaultPathOperation||"S"),o=r.filters||(i===!0?["FlateEncode"]:o),n=n||"mm",t=(""+(t||"P")).toLowerCase();var m=r.putOnlyUsedFonts||!1,x={},g={internal:{},__private__:{}};g.__private__.PubSub=a3;var y="1.3",v=g.__private__.getPdfVersion=function(){return y};g.__private__.setPdfVersion=function(M){y=M};var S={a0:[2383.94,3370.39],a1:[1683.78,2383.94],a2:[1190.55,1683.78],a3:[841.89,1190.55],a4:[595.28,841.89],a5:[419.53,595.28],a6:[297.64,419.53],a7:[209.76,297.64],a8:[147.4,209.76],a9:[104.88,147.4],a10:[73.7,104.88],b0:[2834.65,4008.19],b1:[2004.09,2834.65],b2:[1417.32,2004.09],b3:[1000.63,1417.32],b4:[708.66,1000.63],b5:[498.9,708.66],b6:[354.33,498.9],b7:[249.45,354.33],b8:[175.75,249.45],b9:[124.72,175.75],b10:[87.87,124.72],c0:[2599.37,3676.54],c1:[1836.85,2599.37],c2:[1298.27,1836.85],c3:[918.43,1298.27],c4:[649.13,918.43],c5:[459.21,649.13],c6:[323.15,459.21],c7:[229.61,323.15],c8:[161.57,229.61],c9:[113.39,161.57],c10:[79.37,113.39],dl:[311.81,623.62],letter:[612,792],"government-letter":[576,756],legal:[612,1008],"junior-legal":[576,360],ledger:[1224,792],tabloid:[792,1224],"credit-card":[153,243]};g.__private__.getPageFormats=function(){return S};var k=g.__private__.getPageFormat=function(M){return S[M]};a=a||"a4";var A="compat",N="advanced",j=A;function W(){this.saveGraphicsState(),H(new jt(xt,0,0,-xt,0,yo()*xt).toString()+" cm"),this.setFontSize(this.getFontSize()/xt),h="n",j=N}function ee(){this.restoreGraphicsState(),h="S",j=A}var z=g.__private__.combineFontStyleAndFontWeight=function(M,se){if(M=="bold"&&se=="normal"||M=="bold"&&se==400||M=="normal"&&se=="italic"||M=="bold"&&se=="italic")throw new Error("Invalid Combination of fontweight and fontstyle");return se&&(M=se==400||se==="normal"?M==="italic"?"italic":"normal":se!=700&&se!=="bold"||M!=="normal"?(se==700?"bold":se)+""+M:"bold"),M};g.advancedAPI=function(M){var se=j===A;return se&&W.call(this),typeof M!="function"||(M(this),se&&ee.call(this)),this},g.compatAPI=function(M){var se=j===N;return se&&ee.call(this),typeof M!="function"||(M(this),se&&W.call(this)),this},g.isAdvancedAPI=function(){return j===N};var B,D=function(M){if(j!==N)throw new Error(M+" is only available in 'advanced' API mode. You need to call advancedAPI() first.")},Z=g.roundToPrecision=g.__private__.roundToPrecision=function(M,se){var Ee=e||se;if(isNaN(M)||isNaN(Ee))throw new Error("Invalid argument passed to jsPDF.roundToPrecision");return M.toFixed(Ee).replace(/0+$/,"")};B=g.hpf=g.__private__.hpf=typeof u=="number"?function(M){if(isNaN(M))throw new Error("Invalid argument passed to jsPDF.hpf");return Z(M,u)}:u==="smart"?function(M){if(isNaN(M))throw new Error("Invalid argument passed to jsPDF.hpf");return Z(M,M>-1&&M<1?16:5)}:function(M){if(isNaN(M))throw new Error("Invalid argument passed to jsPDF.hpf");return Z(M,16)};var q=g.f2=g.__private__.f2=function(M){if(isNaN(M))throw new Error("Invalid argument passed to jsPDF.f2");return Z(M,2)},O=g.__private__.f3=function(M){if(isNaN(M))throw new Error("Invalid argument passed to jsPDF.f3");return Z(M,3)},V=g.scale=g.__private__.scale=function(M){if(isNaN(M))throw new Error("Invalid argument passed to jsPDF.scale");return j===A?M*xt:j===N?M:void 0},F=function(M){return V((function(se){return j===A?yo()-se:j===N?se:void 0})(M))};g.__private__.setPrecision=g.setPrecision=function(M){typeof parseInt(M,10)=="number"&&(e=parseInt(M,10))};var re,ae="00000000000000000000000000000000",J=g.__private__.getFileId=function(){return ae},ge=g.__private__.setFileId=function(M){return ae=M!==void 0&&/^[a-fA-F0-9]{32}$/.test(M)?M.toUpperCase():ae.split("").map(function(){return"ABCDEF0123456789".charAt(Math.floor(16*Math.random()))}).join(""),f!==null&&(ra=new Rf(f.userPermissions,f.userPassword,f.ownerPassword,ae)),ae};g.setFileId=function(M){return ge(M),this},g.getFileId=function(){return J()};var te=g.__private__.convertDateToPDFDate=function(M){var se=M.getTimezoneOffset(),Ee=se<0?"+":"-",Re=Math.floor(Math.abs(se/60)),qe=Math.abs(se%60),gt=[Ee,P(Re),"'",P(qe),"'"].join("");return["D:",M.getFullYear(),P(M.getMonth()+1),P(M.getDate()),P(M.getHours()),P(M.getMinutes()),P(M.getSeconds()),gt].join("")},ke=g.__private__.convertPDFDateToDate=function(M){var se=parseInt(M.substr(2,4),10),Ee=parseInt(M.substr(6,2),10)-1,Re=parseInt(M.substr(8,2),10),qe=parseInt(M.substr(10,2),10),gt=parseInt(M.substr(12,2),10),wt=parseInt(M.substr(14,2),10);return new Date(se,Ee,Re,qe,gt,wt,0)},Y=g.__private__.setCreationDate=function(M){var se;if(M===void 0&&(M=new Date),M instanceof Date)se=te(M);else{if(!/^D:(20[0-2][0-9]|203[0-7]|19[7-9][0-9])(0[0-9]|1[0-2])([0-2][0-9]|3[0-1])(0[0-9]|1[0-9]|2[0-3])(0[0-9]|[1-5][0-9])(0[0-9]|[1-5][0-9])(\+0[0-9]|\+1[0-4]|-0[0-9]|-1[0-1])'(0[0-9]|[1-5][0-9])'?$/.test(M))throw new Error("Invalid argument passed to jsPDF.setCreationDate");se=M}return re=se},w=g.__private__.getCreationDate=function(M){var se=re;return M==="jsDate"&&(se=ke(re)),se};g.setCreationDate=function(M){return Y(M),this},g.getCreationDate=function(M){return w(M)};var L,P=g.__private__.padd2=function(M){return("0"+parseInt(M)).slice(-2)},U=g.__private__.padd2Hex=function(M){return("00"+(M=M.toString())).substr(M.length)},ie=0,fe=[],xe=[],ve=0,ce=[],De=[],ue=!1,Ye=xe;g.__private__.setCustomOutputDestination=function(M){ue=!0,Ye=M};var R=function(M){ue||(Ye=M)};g.__private__.resetCustomOutputDestination=function(){ue=!1,Ye=xe};var H=g.__private__.out=function(M){return M=M.toString(),ve+=M.length+1,Ye.push(M),Ye},ne=g.__private__.write=function(M){return H(arguments.length===1?M.toString():Array.prototype.join.call(arguments," "))},G=g.__private__.getArrayBuffer=function(M){for(var se=M.length,Ee=new ArrayBuffer(se),Re=new Uint8Array(Ee);se--;)Re[se]=M.charCodeAt(se);return Ee},K=[["Helvetica","helvetica","normal","WinAnsiEncoding"],["Helvetica-Bold","helvetica","bold","WinAnsiEncoding"],["Helvetica-Oblique","helvetica","italic","WinAnsiEncoding"],["Helvetica-BoldOblique","helvetica","bolditalic","WinAnsiEncoding"],["Courier","courier","normal","WinAnsiEncoding"],["Courier-Bold","courier","bold","WinAnsiEncoding"],["Courier-Oblique","courier","italic","WinAnsiEncoding"],["Courier-BoldOblique","courier","bolditalic","WinAnsiEncoding"],["Times-Roman","times","normal","WinAnsiEncoding"],["Times-Bold","times","bold","WinAnsiEncoding"],["Times-Italic","times","italic","WinAnsiEncoding"],["Times-BoldItalic","times","bolditalic","WinAnsiEncoding"],["ZapfDingbats","zapfdingbats","normal",null],["Symbol","symbol","normal",null]];g.__private__.getStandardFonts=function(){return K};var le=r.fontSize||16;g.__private__.setFontSize=g.setFontSize=function(M){return le=j===N?M/xt:M,this};var Fe,je=g.__private__.getFontSize=g.getFontSize=function(){return j===A?le:le*xt},Oe=r.R2L||!1;g.__private__.setR2L=g.setR2L=function(M){return Oe=M,this},g.__private__.getR2L=g.getR2L=function(){return Oe};var Ge,$e=g.__private__.setZoomMode=function(M){if(/^(?:\d+\.\d*|\d*\.\d+|\d+)%$/.test(M))Fe=M;else if(isNaN(M)){if([void 0,null,"fullwidth","fullheight","fullpage","original"].indexOf(M)===-1)throw new Error('zoom must be Integer (e.g. 2), a percentage Value (e.g. 300%) or fullwidth, fullheight, fullpage, original. "'+M+'" is not recognized.');Fe=M}else Fe=parseInt(M,10)};g.__private__.getZoomMode=function(){return Fe};var rt,it=g.__private__.setPageMode=function(M){if([void 0,null,"UseNone","UseOutlines","UseThumbs","FullScreen"].indexOf(M)==-1)throw new Error('Page mode must be one of UseNone, UseOutlines, UseThumbs, or FullScreen. "'+M+'" is not recognized.');Ge=M};g.__private__.getPageMode=function(){return Ge};var Tt=g.__private__.setLayoutMode=function(M){if([void 0,null,"continuous","single","twoleft","tworight","two"].indexOf(M)==-1)throw new Error('Layout mode must be one of continuous, single, twoleft, tworight. "'+M+'" is not recognized.');rt=M};g.__private__.getLayoutMode=function(){return rt},g.__private__.setDisplayMode=g.setDisplayMode=function(M,se,Ee){return $e(M),Tt(se),it(Ee),this};var dt={title:"",subject:"",author:"",keywords:"",creator:""};g.__private__.getDocumentProperty=function(M){if(Object.keys(dt).indexOf(M)===-1)throw new Error("Invalid argument passed to jsPDF.getDocumentProperty");return dt[M]},g.__private__.getDocumentProperties=function(){return dt},g.__private__.setDocumentProperties=g.setProperties=g.setDocumentProperties=function(M){for(var se in dt)dt.hasOwnProperty(se)&&M[se]&&(dt[se]=M[se]);return this},g.__private__.setDocumentProperty=function(M,se){if(Object.keys(dt).indexOf(M)===-1)throw new Error("Invalid arguments passed to jsPDF.setDocumentProperty");return dt[M]=se};var He,xt,bt,Qt,Et,Rt={},Lt={},zt=[],Mt={},hr={},Ut={},Kt={},St=null,kt=0,ht=[],$t=new a3(g),Jr=r.hotfixes||[],Dr={},bn={},wn=[],jt=function M(se,Ee,Re,qe,gt,wt){if(!(this instanceof M))return new M(se,Ee,Re,qe,gt,wt);isNaN(se)&&(se=1),isNaN(Ee)&&(Ee=0),isNaN(Re)&&(Re=0),isNaN(qe)&&(qe=1),isNaN(gt)&&(gt=0),isNaN(wt)&&(wt=0),this._matrix=[se,Ee,Re,qe,gt,wt]};Object.defineProperty(jt.prototype,"sx",{get:function(){return this._matrix[0]},set:function(M){this._matrix[0]=M}}),Object.defineProperty(jt.prototype,"shy",{get:function(){return this._matrix[1]},set:function(M){this._matrix[1]=M}}),Object.defineProperty(jt.prototype,"shx",{get:function(){return this._matrix[2]},set:function(M){this._matrix[2]=M}}),Object.defineProperty(jt.prototype,"sy",{get:function(){return this._matrix[3]},set:function(M){this._matrix[3]=M}}),Object.defineProperty(jt.prototype,"tx",{get:function(){return this._matrix[4]},set:function(M){this._matrix[4]=M}}),Object.defineProperty(jt.prototype,"ty",{get:function(){return this._matrix[5]},set:function(M){this._matrix[5]=M}}),Object.defineProperty(jt.prototype,"a",{get:function(){return this._matrix[0]},set:function(M){this._matrix[0]=M}}),Object.defineProperty(jt.prototype,"b",{get:function(){return this._matrix[1]},set:function(M){this._matrix[1]=M}}),Object.defineProperty(jt.prototype,"c",{get:function(){return this._matrix[2]},set:function(M){this._matrix[2]=M}}),Object.defineProperty(jt.prototype,"d",{get:function(){return this._matrix[3]},set:function(M){this._matrix[3]=M}}),Object.defineProperty(jt.prototype,"e",{get:function(){return this._matrix[4]},set:function(M){this._matrix[4]=M}}),Object.defineProperty(jt.prototype,"f",{get:function(){return this._matrix[5]},set:function(M){this._matrix[5]=M}}),Object.defineProperty(jt.prototype,"rotation",{get:function(){return Math.atan2(this.shx,this.sx)}}),Object.defineProperty(jt.prototype,"scaleX",{get:function(){return this.decompose().scale.sx}}),Object.defineProperty(jt.prototype,"scaleY",{get:function(){return this.decompose().scale.sy}}),Object.defineProperty(jt.prototype,"isIdentity",{get:function(){return this.sx===1&&this.shy===0&&this.shx===0&&this.sy===1&&this.tx===0&&this.ty===0}}),jt.prototype.join=function(M){return[this.sx,this.shy,this.shx,this.sy,this.tx,this.ty].map(B).join(M)},jt.prototype.multiply=function(M){var se=M.sx*this.sx+M.shy*this.shx,Ee=M.sx*this.shy+M.shy*this.sy,Re=M.shx*this.sx+M.sy*this.shx,qe=M.shx*this.shy+M.sy*this.sy,gt=M.tx*this.sx+M.ty*this.shx+this.tx,wt=M.tx*this.shy+M.ty*this.sy+this.ty;return new jt(se,Ee,Re,qe,gt,wt)},jt.prototype.decompose=function(){var M=this.sx,se=this.shy,Ee=this.shx,Re=this.sy,qe=this.tx,gt=this.ty,wt=Math.sqrt(M*M+se*se),Gt=(M/=wt)*Ee+(se/=wt)*Re;Ee-=M*Gt,Re-=se*Gt;var Zt=Math.sqrt(Ee*Ee+Re*Re);return Gt/=Zt,M*(Re/=Zt)<se*(Ee/=Zt)&&(M=-M,se=-se,Gt=-Gt,wt=-wt),{scale:new jt(wt,0,0,Zt,0,0),translate:new jt(1,0,0,1,qe,gt),rotate:new jt(M,se,-se,M,0,0),skew:new jt(1,0,Gt,1,0,0)}},jt.prototype.toString=function(M){return this.join(" ")},jt.prototype.inversed=function(){var M=this.sx,se=this.shy,Ee=this.shx,Re=this.sy,qe=this.tx,gt=this.ty,wt=1/(M*Re-se*Ee),Gt=Re*wt,Zt=-se*wt,or=-Ee*wt,dr=M*wt;return new jt(Gt,Zt,or,dr,-Gt*qe-or*gt,-Zt*qe-dr*gt)},jt.prototype.applyToPoint=function(M){var se=M.x*this.sx+M.y*this.shx+this.tx,Ee=M.x*this.shy+M.y*this.sy+this.ty;return new Gi(se,Ee)},jt.prototype.applyToRectangle=function(M){var se=this.applyToPoint(M),Ee=this.applyToPoint(new Gi(M.x+M.w,M.y+M.h));return new go(se.x,se.y,Ee.x-se.x,Ee.y-se.y)},jt.prototype.clone=function(){var M=this.sx,se=this.shy,Ee=this.shx,Re=this.sy,qe=this.tx,gt=this.ty;return new jt(M,se,Ee,Re,qe,gt)},g.Matrix=jt;var Vn=g.matrixMult=function(M,se){return se.multiply(M)},da=new jt(1,0,0,1,0,0);g.unitMatrix=g.identityMatrix=da;var Ta=function(M,se){if(!hr[M]){var Ee=(se instanceof oh?"Sh":"P")+(Object.keys(Mt).length+1).toString(10);se.id=Ee,hr[M]=Ee,Mt[Ee]=se,$t.publish("addPattern",se)}};g.ShadingPattern=oh,g.TilingPattern=Hf,g.addShadingPattern=function(M,se){return D("addShadingPattern()"),Ta(M,se),this},g.beginTilingPattern=function(M){D("beginTilingPattern()"),Ul(M.boundingBox[0],M.boundingBox[1],M.boundingBox[2]-M.boundingBox[0],M.boundingBox[3]-M.boundingBox[1],M.matrix)},g.endTilingPattern=function(M,se){D("endTilingPattern()"),se.stream=De[L].join(`
`),Ta(M,se),$t.publish("endTilingPattern",se),wn.pop().restore()};var $a,sn=g.__private__.newObject=function(){var M=Dn();return he(M,!0),M},Dn=g.__private__.newObjectDeferred=function(){return ie++,fe[ie]=function(){return ve},ie},he=function(M,se){return se=typeof se=="boolean"&&se,fe[M]=ve,se&&H(M+" 0 obj"),M},Ae=g.__private__.newAdditionalObject=function(){var M={objId:Dn(),content:""};return ce.push(M),M},be=Dn(),we=Dn(),Se=g.__private__.decodeColorString=function(M){var se=M.split(" ");if(se.length!==2||se[1]!=="g"&&se[1]!=="G")se.length!==5||se[4]!=="k"&&se[4]!=="K"||(se=[(1-se[0])*(1-se[3]),(1-se[1])*(1-se[3]),(1-se[2])*(1-se[3]),"r"]);else{var Ee=parseFloat(se[0]);se=[Ee,Ee,Ee,"r"]}for(var Re="#",qe=0;qe<3;qe++)Re+=("0"+Math.floor(255*parseFloat(se[qe])).toString(16)).slice(-2);return Re},Ne=g.__private__.encodeColorString=function(M){var se;typeof M=="string"&&(M={ch1:M});var Ee=M.ch1,Re=M.ch2,qe=M.ch3,gt=M.ch4,wt=M.pdfColorType==="draw"?["G","RG","K"]:["g","rg","k"];if(typeof Ee=="string"&&Ee.charAt(0)!=="#"){var Gt=new aC(Ee);if(Gt.ok)Ee=Gt.toHex();else if(!/^\d*\.?\d*$/.test(Ee))throw new Error('Invalid color "'+Ee+'" passed to jsPDF.encodeColorString.')}if(typeof Ee=="string"&&/^#[0-9A-Fa-f]{3}$/.test(Ee)&&(Ee="#"+Ee[1]+Ee[1]+Ee[2]+Ee[2]+Ee[3]+Ee[3]),typeof Ee=="string"&&/^#[0-9A-Fa-f]{6}$/.test(Ee)){var Zt=parseInt(Ee.substr(1),16);Ee=Zt>>16&255,Re=Zt>>8&255,qe=255&Zt}if(Re===void 0||gt===void 0&&Ee===Re&&Re===qe)se=typeof Ee=="string"?Ee+" "+wt[0]:M.precision===2?q(Ee/255)+" "+wt[0]:O(Ee/255)+" "+wt[0];else if(gt===void 0||an(gt)==="object"){if(gt&&!isNaN(gt.a)&&gt.a===0)return["1.","1.","1.",wt[1]].join(" ");se=typeof Ee=="string"?[Ee,Re,qe,wt[1]].join(" "):M.precision===2?[q(Ee/255),q(Re/255),q(qe/255),wt[1]].join(" "):[O(Ee/255),O(Re/255),O(qe/255),wt[1]].join(" ")}else se=typeof Ee=="string"?[Ee,Re,qe,gt,wt[2]].join(" "):M.precision===2?[q(Ee),q(Re),q(qe),q(gt),wt[2]].join(" "):[O(Ee),O(Re),O(qe),O(gt),wt[2]].join(" ");return se},Xe=g.__private__.getFilters=function(){return o},ot=g.__private__.putStream=function(M){var se=(M=M||{}).data||"",Ee=M.filters||Xe(),Re=M.alreadyAppliedFilters||[],qe=M.addLength1||!1,gt=se.length,wt=M.objectId,Gt=function(na){return na};if(f!==null&&wt===void 0)throw new Error("ObjectId must be passed to putStream for file encryption");f!==null&&(Gt=ra.encryptor(wt,0));var Zt={};Ee===!0&&(Ee=["FlateEncode"]);var or=M.additionalKeyValues||[],dr=(Zt=er.API.processDataByFilters!==void 0?er.API.processDataByFilters(se,Ee):{data:se,reverseChain:[]}).reverseChain+(Array.isArray(Re)?Re.join(" "):Re.toString());if(Zt.data.length!==0&&(or.push({key:"Length",value:Zt.data.length}),qe===!0&&or.push({key:"Length1",value:gt})),dr.length!=0)if(dr.split("/").length-1==1)or.push({key:"Filter",value:dr});else{or.push({key:"Filter",value:"["+dr+"]"});for(var Lr=0;Lr<or.length;Lr+=1)if(or[Lr].key==="DecodeParms"){for(var Sn=[],Pn=0;Pn<Zt.reverseChain.split("/").length-1;Pn+=1)Sn.push("null");Sn.push(or[Lr].value),or[Lr].value="["+Sn.join(" ")+"]"}}H("<<");for(var on=0;on<or.length;on++)H("/"+or[on].key+" "+or[on].value);H(">>"),Zt.data.length!==0&&(H("stream"),H(Gt(Zt.data)),H("endstream"))},Ze=g.__private__.putPage=function(M){var se=M.number,Ee=M.data,Re=M.objId,qe=M.contentsObjId;he(Re,!0),H("<</Type /Page"),H("/Parent "+M.rootDictionaryObjId+" 0 R"),H("/Resources "+M.resourceDictionaryObjId+" 0 R"),H("/MediaBox ["+parseFloat(B(M.mediaBox.bottomLeftX))+" "+parseFloat(B(M.mediaBox.bottomLeftY))+" "+B(M.mediaBox.topRightX)+" "+B(M.mediaBox.topRightY)+"]"),M.cropBox!==null&&H("/CropBox ["+B(M.cropBox.bottomLeftX)+" "+B(M.cropBox.bottomLeftY)+" "+B(M.cropBox.topRightX)+" "+B(M.cropBox.topRightY)+"]"),M.bleedBox!==null&&H("/BleedBox ["+B(M.bleedBox.bottomLeftX)+" "+B(M.bleedBox.bottomLeftY)+" "+B(M.bleedBox.topRightX)+" "+B(M.bleedBox.topRightY)+"]"),M.trimBox!==null&&H("/TrimBox ["+B(M.trimBox.bottomLeftX)+" "+B(M.trimBox.bottomLeftY)+" "+B(M.trimBox.topRightX)+" "+B(M.trimBox.topRightY)+"]"),M.artBox!==null&&H("/ArtBox ["+B(M.artBox.bottomLeftX)+" "+B(M.artBox.bottomLeftY)+" "+B(M.artBox.topRightX)+" "+B(M.artBox.topRightY)+"]"),typeof M.userUnit=="number"&&M.userUnit!==1&&H("/UserUnit "+M.userUnit),$t.publish("putPage",{objId:Re,pageContext:ht[se],pageNumber:se,page:Ee}),H("/Contents "+qe+" 0 R"),H(">>"),H("endobj");var gt=Ee.join(`
`);return j===N&&(gt+=`
Q`),he(qe,!0),ot({data:gt,filters:Xe(),objectId:qe}),H("endobj"),Re},Je=g.__private__.putPages=function(){var M,se,Ee=[];for(M=1;M<=kt;M++)ht[M].objId=Dn(),ht[M].contentsObjId=Dn();for(M=1;M<=kt;M++)Ee.push(Ze({number:M,data:De[M],objId:ht[M].objId,contentsObjId:ht[M].contentsObjId,mediaBox:ht[M].mediaBox,cropBox:ht[M].cropBox,bleedBox:ht[M].bleedBox,trimBox:ht[M].trimBox,artBox:ht[M].artBox,userUnit:ht[M].userUnit,rootDictionaryObjId:be,resourceDictionaryObjId:we}));he(be,!0),H("<</Type /Pages");var Re="/Kids [";for(se=0;se<kt;se++)Re+=Ee[se]+" 0 R ";H(Re+"]"),H("/Count "+kt),H(">>"),H("endobj"),$t.publish("postPutPages")},et=function(M){$t.publish("putFont",{font:M,out:H,newObject:sn,putStream:ot}),M.isAlreadyPutted!==!0&&(M.objectNumber=sn(),H("<<"),H("/Type /Font"),H("/BaseFont /"+Bf(M.postScriptName)),H("/Subtype /Type1"),typeof M.encoding=="string"&&H("/Encoding /"+M.encoding),H("/FirstChar 32"),H("/LastChar 255"),H(">>"),H("endobj"))},_t=function(M){M.objectNumber=sn();var se=[];se.push({key:"Type",value:"/XObject"}),se.push({key:"Subtype",value:"/Form"}),se.push({key:"BBox",value:"["+[B(M.x),B(M.y),B(M.x+M.width),B(M.y+M.height)].join(" ")+"]"}),se.push({key:"Matrix",value:"["+M.matrix.toString()+"]"});var Ee=M.pages[1].join(`
`);ot({data:Ee,additionalKeyValues:se,objectId:M.objectNumber}),H("endobj")},Nt=function(M,se){se||(se=21);var Ee=sn(),Re=(function(wt,Gt){var Zt,or=[],dr=1/(Gt-1);for(Zt=0;Zt<1;Zt+=dr)or.push(Zt);if(or.push(1),wt[0].offset!=0){var Lr={offset:0,color:wt[0].color};wt.unshift(Lr)}if(wt[wt.length-1].offset!=1){var Sn={offset:1,color:wt[wt.length-1].color};wt.push(Sn)}for(var Pn="",on=0,na=0;na<or.length;na++){for(Zt=or[na];Zt>wt[on+1].offset;)on++;var Wn=wt[on].offset,Ea=(Zt-Wn)/(wt[on+1].offset-Wn),bo=wt[on].color,ys=wt[on+1].color;Pn+=U(Math.round((1-Ea)*bo[0]+Ea*ys[0]).toString(16))+U(Math.round((1-Ea)*bo[1]+Ea*ys[1]).toString(16))+U(Math.round((1-Ea)*bo[2]+Ea*ys[2]).toString(16))}return Pn.trim()})(M.colors,se),qe=[];qe.push({key:"FunctionType",value:"0"}),qe.push({key:"Domain",value:"[0.0 1.0]"}),qe.push({key:"Size",value:"["+se+"]"}),qe.push({key:"BitsPerSample",value:"8"}),qe.push({key:"Range",value:"[0.0 1.0 0.0 1.0 0.0 1.0]"}),qe.push({key:"Decode",value:"[0.0 1.0 0.0 1.0 0.0 1.0]"}),ot({data:Re,additionalKeyValues:qe,alreadyAppliedFilters:["/ASCIIHexDecode"],objectId:Ee}),H("endobj"),M.objectNumber=sn(),H("<< /ShadingType "+M.type),H("/ColorSpace /DeviceRGB");var gt="/Coords ["+B(parseFloat(M.coords[0]))+" "+B(parseFloat(M.coords[1]))+" ";M.type===2?gt+=B(parseFloat(M.coords[2]))+" "+B(parseFloat(M.coords[3])):gt+=B(parseFloat(M.coords[2]))+" "+B(parseFloat(M.coords[3]))+" "+B(parseFloat(M.coords[4]))+" "+B(parseFloat(M.coords[5])),H(gt+="]"),M.matrix&&H("/Matrix ["+M.matrix.toString()+"]"),H("/Function "+Ee+" 0 R"),H("/Extend [true true]"),H(">>"),H("endobj")},Ft=function(M,se){var Ee=Dn(),Re=sn();se.push({resourcesOid:Ee,objectOid:Re}),M.objectNumber=Re;var qe=[];qe.push({key:"Type",value:"/Pattern"}),qe.push({key:"PatternType",value:"1"}),qe.push({key:"PaintType",value:"1"}),qe.push({key:"TilingType",value:"1"}),qe.push({key:"BBox",value:"["+M.boundingBox.map(B).join(" ")+"]"}),qe.push({key:"XStep",value:B(M.xStep)}),qe.push({key:"YStep",value:B(M.yStep)}),qe.push({key:"Resources",value:Ee+" 0 R"}),M.matrix&&qe.push({key:"Matrix",value:"["+M.matrix.toString()+"]"}),ot({data:M.stream,additionalKeyValues:qe,objectId:M.objectNumber}),H("endobj")},At=function(M){for(var se in M.objectNumber=sn(),H("<<"),M)switch(se){case"opacity":H("/ca "+q(M[se]));break;case"stroke-opacity":H("/CA "+q(M[se]))}H(">>"),H("endobj")},Ot=function(M){he(M.resourcesOid,!0),H("<<"),H("/ProcSet [/PDF /Text /ImageB /ImageC /ImageI]"),(function(){for(var se in H("/Font <<"),Rt)Rt.hasOwnProperty(se)&&(m===!1||m===!0&&x.hasOwnProperty(se))&&H("/"+se+" "+Rt[se].objectNumber+" 0 R");H(">>")})(),(function(){if(Object.keys(Mt).length>0){for(var se in H("/Shading <<"),Mt)Mt.hasOwnProperty(se)&&Mt[se]instanceof oh&&Mt[se].objectNumber>=0&&H("/"+se+" "+Mt[se].objectNumber+" 0 R");$t.publish("putShadingPatternDict"),H(">>")}})(),(function(se){if(Object.keys(Mt).length>0){for(var Ee in H("/Pattern <<"),Mt)Mt.hasOwnProperty(Ee)&&Mt[Ee]instanceof g.TilingPattern&&Mt[Ee].objectNumber>=0&&Mt[Ee].objectNumber<se&&H("/"+Ee+" "+Mt[Ee].objectNumber+" 0 R");$t.publish("putTilingPatternDict"),H(">>")}})(M.objectOid),(function(){if(Object.keys(Ut).length>0){var se;for(se in H("/ExtGState <<"),Ut)Ut.hasOwnProperty(se)&&Ut[se].objectNumber>=0&&H("/"+se+" "+Ut[se].objectNumber+" 0 R");$t.publish("putGStateDict"),H(">>")}})(),(function(){for(var se in H("/XObject <<"),Dr)Dr.hasOwnProperty(se)&&Dr[se].objectNumber>=0&&H("/"+se+" "+Dr[se].objectNumber+" 0 R");$t.publish("putXobjectDict"),H(">>")})(),H(">>"),H("endobj")},Ht=function(M){Lt[M.fontName]=Lt[M.fontName]||{},Lt[M.fontName][M.fontStyle]=M.id},Xr=function(M,se,Ee,Re,qe){var gt={id:"F"+(Object.keys(Rt).length+1).toString(10),postScriptName:M,fontName:se,fontStyle:Ee,encoding:Re,isStandardFont:qe||!1,metadata:{}};return $t.publish("addFont",{font:gt,instance:this}),Rt[gt.id]=gt,Ht(gt),gt.id},_r=g.__private__.pdfEscape=g.pdfEscape=function(M,se){return(function(Ee,Re){var qe,gt,wt,Gt,Zt,or,dr,Lr,Sn;if(wt=(Re=Re||{}).sourceEncoding||"Unicode",Zt=Re.outputEncoding,(Re.autoencode||Zt)&&Rt[He].metadata&&Rt[He].metadata[wt]&&Rt[He].metadata[wt].encoding&&(Gt=Rt[He].metadata[wt].encoding,!Zt&&Rt[He].encoding&&(Zt=Rt[He].encoding),!Zt&&Gt.codePages&&(Zt=Gt.codePages[0]),typeof Zt=="string"&&(Zt=Gt[Zt]),Zt)){for(dr=!1,or=[],qe=0,gt=Ee.length;qe<gt;qe++)(Lr=Zt[Ee.charCodeAt(qe)])?or.push(String.fromCharCode(Lr)):or.push(Ee[qe]),or[qe].charCodeAt(0)>>8&&(dr=!0);Ee=or.join("")}for(qe=Ee.length;dr===void 0&&qe!==0;)Ee.charCodeAt(qe-1)>>8&&(dr=!0),qe--;if(!dr)return Ee;for(or=Re.noBOM?[]:[254,255],qe=0,gt=Ee.length;qe<gt;qe++){if((Sn=(Lr=Ee.charCodeAt(qe))>>8)>>8)throw new Error("Character at position "+qe+" of string '"+Ee+"' exceeds 16bits. Cannot be encoded into UCS-2 BE");or.push(Sn),or.push(Lr-(Sn<<8))}return String.fromCharCode.apply(void 0,or)})(M,se).replace(/\\/g,"\\\\").replace(/\(/g,"\\(").replace(/\)/g,"\\)")},Qr=g.__private__.beginPage=function(M){De[++kt]=[],ht[kt]={objId:0,contentsObjId:0,userUnit:Number(l),artBox:null,bleedBox:null,cropBox:null,trimBox:null,mediaBox:{bottomLeftX:0,bottomLeftY:0,topRightX:Number(M[0]),topRightY:Number(M[1])}},ps(kt),R(De[L])},Za=function(M,se){var Ee,Re,qe;switch(t=se||t,typeof M=="string"&&(Ee=k(M.toLowerCase()),Array.isArray(Ee)&&(Re=Ee[0],qe=Ee[1])),Array.isArray(M)&&(Re=M[0]*xt,qe=M[1]*xt),isNaN(Re)&&(Re=a[0],qe=a[1]),(Re>14400||qe>14400)&&(mn.warn("A page in a PDF can not be wider or taller than 14400 userUnit. jsPDF limits the width/height to 14400"),Re=Math.min(14400,Re),qe=Math.min(14400,qe)),a=[Re,qe],t.substr(0,1)){case"l":qe>Re&&(a=[qe,Re]);break;case"p":Re>qe&&(a=[qe,Re])}Qr(a),ar(Bl),H(Di),Dc!==0&&H(Dc+" J"),ga!==0&&H(ga+" j"),$t.publish("addPage",{pageNumber:kt})},gs=function(M){M>0&&M<=kt&&(De.splice(M,1),ht.splice(M,1),kt--,L>kt&&(L=kt),this.setPage(L))},ps=function(M){M>0&&M<=kt&&(L=M)},Ni=g.__private__.getNumberOfPages=g.getNumberOfPages=function(){return De.length-1},rl=function(M,se,Ee){var Re,qe=void 0;return Ee=Ee||{},M=M!==void 0?M:Rt[He].fontName,se=se!==void 0?se:Rt[He].fontStyle,Re=M.toLowerCase(),Lt[Re]!==void 0&&Lt[Re][se]!==void 0?qe=Lt[Re][se]:Lt[M]!==void 0&&Lt[M][se]!==void 0?qe=Lt[M][se]:Ee.disableWarning===!1&&mn.warn("Unable to look up font label for font '"+M+"', '"+se+"'. Refer to getFontList() for available fonts."),qe||Ee.noFallback||(qe=Lt.times[se])==null&&(qe=Lt.times.normal),qe},_n=g.__private__.putInfo=function(){var M=sn(),se=function(Re){return Re};for(var Ee in f!==null&&(se=ra.encryptor(M,0)),H("<<"),H("/Producer ("+_r(se("jsPDF "+er.version))+")"),dt)dt.hasOwnProperty(Ee)&&dt[Ee]&&H("/"+Ee.substr(0,1).toUpperCase()+Ee.substr(1)+" ("+_r(se(dt[Ee]))+")");H("/CreationDate ("+_r(se(re))+")"),H(">>"),H("endobj")},ho=g.__private__.putCatalog=function(M){var se=(M=M||{}).rootDictionaryObjId||be;switch(sn(),H("<<"),H("/Type /Catalog"),H("/Pages "+se+" 0 R"),Fe||(Fe="fullwidth"),Fe){case"fullwidth":H("/OpenAction [3 0 R /FitH null]");break;case"fullheight":H("/OpenAction [3 0 R /FitV null]");break;case"fullpage":H("/OpenAction [3 0 R /Fit]");break;case"original":H("/OpenAction [3 0 R /XYZ null null 1]");break;default:var Ee=""+Fe;Ee.substr(Ee.length-1)==="%"&&(Fe=parseInt(Fe)/100),typeof Fe=="number"&&H("/OpenAction [3 0 R /XYZ null null "+q(Fe)+"]")}switch(rt||(rt="continuous"),rt){case"continuous":H("/PageLayout /OneColumn");break;case"single":H("/PageLayout /SinglePage");break;case"two":case"twoleft":H("/PageLayout /TwoColumnLeft");break;case"tworight":H("/PageLayout /TwoColumnRight")}Ge&&H("/PageMode /"+Ge),$t.publish("putCatalog"),H(">>"),H("endobj")},ms=g.__private__.putTrailer=function(){H("trailer"),H("<<"),H("/Size "+(ie+1)),H("/Root "+ie+" 0 R"),H("/Info "+(ie-1)+" 0 R"),f!==null&&H("/Encrypt "+ra.oid+" 0 R"),H("/ID [ <"+ae+"> <"+ae+"> ]"),H(">>")},zr=g.__private__.putHeader=function(){H("%PDF-"+y),H("%")},Nu=g.__private__.putXRef=function(){var M="0000000000";H("xref"),H("0 "+(ie+1)),H("0000000000 65535 f ");for(var se=1;se<=ie;se++)typeof fe[se]=="function"?H((M+fe[se]()).slice(-10)+" 00000 n "):fe[se]!==void 0?H((M+fe[se]).slice(-10)+" 00000 n "):H("0000000000 00000 n ")},Bs=g.__private__.buildDocument=function(){var M;ie=0,ve=0,xe=[],fe=[],ce=[],be=Dn(),we=Dn(),R(xe),$t.publish("buildDocument"),zr(),Je(),(function(){$t.publish("putAdditionalObjects");for(var Ee=0;Ee<ce.length;Ee++){var Re=ce[Ee];he(Re.objId,!0),H(Re.content),H("endobj")}$t.publish("postPutAdditionalObjects")})(),M=[],(function(){for(var Ee in Rt)Rt.hasOwnProperty(Ee)&&(m===!1||m===!0&&x.hasOwnProperty(Ee))&&et(Rt[Ee])})(),(function(){var Ee;for(Ee in Ut)Ut.hasOwnProperty(Ee)&&At(Ut[Ee])})(),(function(){for(var Ee in Dr)Dr.hasOwnProperty(Ee)&&_t(Dr[Ee])})(),(function(Ee){var Re;for(Re in Mt)Mt.hasOwnProperty(Re)&&(Mt[Re]instanceof oh?Nt(Mt[Re]):Mt[Re]instanceof Hf&&Ft(Mt[Re],Ee))})(M),$t.publish("putResources"),M.forEach(Ot),Ot({resourcesOid:we,objectOid:Number.MAX_SAFE_INTEGER}),$t.publish("postPutResources"),f!==null&&(ra.oid=sn(),H("<<"),H("/Filter /Standard"),H("/V "+ra.v),H("/R "+ra.r),H("/U <"+ra.toHexString(ra.U)+">"),H("/O <"+ra.toHexString(ra.O)+">"),H("/P "+ra.P),H(">>"),H("endobj")),_n(),ho();var se=ve;return Nu(),ms(),H("startxref"),H(""+se),H("%%EOF"),R(De[L]),xe.join(`
`)},nl=g.__private__.getBlob=function(M){return new Blob([G(M)],{type:"application/pdf"})},Ou=g.output=g.__private__.output=($a=function(M,se){switch(typeof(se=se||{})=="string"?se={filename:se}:se.filename=se.filename||"generated.pdf",M){case void 0:return Bs();case"save":g.save(se.filename);break;case"arraybuffer":return G(Bs());case"blob":return nl(Bs());case"bloburi":case"bloburl":if(ur.URL!==void 0&&typeof ur.URL.createObjectURL=="function")return ur.URL&&ur.URL.createObjectURL(nl(Bs()))||void 0;mn.warn("bloburl is not supported by your system, because URL.createObjectURL is not supported by your browser.");break;case"datauristring":case"dataurlstring":var Ee="",Re=Bs();try{Ee=t3(Re)}catch{Ee=t3(unescape(encodeURIComponent(Re)))}return"data:application/pdf;filename="+se.filename+";base64,"+Ee;case"pdfobjectnewwindow":if(Object.prototype.toString.call(ur)==="[object Window]"){var qe="https://cdnjs.cloudflare.com/ajax/libs/pdfobject/2.1.1/pdfobject.min.js",gt=' integrity="sha512-4ze/a9/4jqu+tX9dfOqJYSvyYd5M6qum/3HpCLr+/Jqf0whc37VUbkpNGHR7/8pSnCFw47T1fmIpwBV7UySh3g==" crossorigin="anonymous"';se.pdfObjectUrl&&(qe=se.pdfObjectUrl,gt="");var wt='<html><style>html, body { padding: 0; margin: 0; } iframe { width: 100%; height: 100%; border: 0;}  </style><body><script src="'+qe+'"'+gt+'><\/script><script >PDFObject.embed("'+this.output("dataurlstring")+'", '+JSON.stringify(se)+");<\/script></body></html>",Gt=ur.open();return Gt!==null&&Gt.document.write(wt),Gt}throw new Error("The option pdfobjectnewwindow just works in a browser-environment.");case"pdfjsnewwindow":if(Object.prototype.toString.call(ur)==="[object Window]"){var Zt='<html><style>html, body { padding: 0; margin: 0; } iframe { width: 100%; height: 100%; border: 0;}  </style><body><iframe id="pdfViewer" src="'+(se.pdfJsUrl||"examples/PDF.js/web/viewer.html")+"?file=&downloadName="+se.filename+'" width="500px" height="400px" /></body></html>',or=ur.open();if(or!==null){or.document.write(Zt);var dr=this;or.document.documentElement.querySelector("#pdfViewer").onload=function(){or.document.title=se.filename,or.document.documentElement.querySelector("#pdfViewer").contentWindow.PDFViewerApplication.open(dr.output("bloburl"))}}return or}throw new Error("The option pdfjsnewwindow just works in a browser-environment.");case"dataurlnewwindow":if(Object.prototype.toString.call(ur)!=="[object Window]")throw new Error("The option dataurlnewwindow just works in a browser-environment.");var Lr='<html><style>html, body { padding: 0; margin: 0; } iframe { width: 100%; height: 100%; border: 0;}  </style><body><iframe src="'+this.output("datauristring",se)+'"></iframe></body></html>',Sn=ur.open();if(Sn!==null&&(Sn.document.write(Lr),Sn.document.title=se.filename),Sn||typeof safari>"u")return Sn;break;case"datauri":case"dataurl":return ur.document.location.href=this.output("datauristring",se);default:return null}},$a.foo=function(){try{return $a.apply(this,arguments)}catch(Ee){var M=Ee.stack||"";~M.indexOf(" at ")&&(M=M.split(" at ")[1]);var se="Error in function "+M.split(`
`)[0].split("<")[0]+": "+Ee.message;if(!ur.console)throw new Error(se);ur.console.error(se,Ee),ur.alert&&alert(se)}},$a.foo.bar=$a,$a.foo),Ja=function(M){return Array.isArray(Jr)===!0&&Jr.indexOf(M)>-1};switch(n){case"pt":xt=1;break;case"mm":xt=72/25.4;break;case"cm":xt=72/2.54;break;case"in":xt=72;break;case"px":xt=Ja("px_scaling")==1?.75:96/72;break;case"pc":case"em":xt=12;break;case"ex":xt=6;break;default:if(typeof n!="number")throw new Error("Invalid unit: "+n);xt=n}var ra=null;Y(),ge();var Gn=g.__private__.getPageInfo=g.getPageInfo=function(M){if(isNaN(M)||M%1!=0)throw new Error("Invalid argument passed to jsPDF.getPageInfo");return{objId:ht[M].objId,pageNumber:M,pageContext:ht[M]}},Nc=g.__private__.getPageInfoByObjId=function(M){if(isNaN(M)||M%1!=0)throw new Error("Invalid argument passed to jsPDF.getPageInfoByObjId");for(var se in ht)if(ht[se].objId===M)break;return Gn(se)},Mh=g.__private__.getCurrentPageInfo=g.getCurrentPageInfo=function(){return{objId:ht[L].objId,pageNumber:L,pageContext:ht[L]}};g.addPage=function(){return Za.apply(this,arguments),this},g.setPage=function(){return ps.apply(this,arguments),R.call(this,De[L]),this},g.insertPage=function(M){return this.addPage(),this.movePage(L,M),this},g.movePage=function(M,se){var Ee,Re;if(M>se){Ee=De[M],Re=ht[M];for(var qe=M;qe>se;qe--)De[qe]=De[qe-1],ht[qe]=ht[qe-1];De[se]=Ee,ht[se]=Re,this.setPage(se)}else if(M<se){Ee=De[M],Re=ht[M];for(var gt=M;gt<se;gt++)De[gt]=De[gt+1],ht[gt]=ht[gt+1];De[se]=Ee,ht[se]=Re,this.setPage(se)}return this},g.deletePage=function(){return gs.apply(this,arguments),this},g.__private__.text=g.text=function(M,se,Ee,Re,qe){var gt,wt,Gt,Zt,or,dr,Lr,Sn,Pn,on=(Re=Re||{}).scope||this;if(typeof M=="number"&&typeof se=="number"&&(typeof Ee=="string"||Array.isArray(Ee))){var na=Ee;Ee=se,se=M,M=na}if(arguments[3]instanceof jt==0?(Gt=arguments[4],Zt=arguments[5],an(Lr=arguments[3])==="object"&&Lr!==null||(typeof Gt=="string"&&(Zt=Gt,Gt=null),typeof Lr=="string"&&(Zt=Lr,Lr=null),typeof Lr=="number"&&(Gt=Lr,Lr=null),Re={flags:Lr,angle:Gt,align:Zt})):(D("The transform parameter of text() with a Matrix value"),Pn=qe),isNaN(se)||isNaN(Ee)||M==null)throw new Error("Invalid arguments passed to jsPDF.text");if(M.length===0)return on;var Wn,Ea="",bo=typeof Re.lineHeightFactor=="number"?Re.lineHeightFactor:fo,ys=on.internal.scaleFactor;function wo(Hr){return Hr=Hr.split("	").join(Array(Re.TabLen||9).join(" ")),_r(Hr,Lr)}function Iu(Hr){for(var Fr,ln=Hr.concat(),Un=[],Ys=ln.length;Ys--;)typeof(Fr=ln.shift())=="string"?Un.push(Fr):Array.isArray(Hr)&&(Fr.length===1||Fr[1]===void 0&&Fr[2]===void 0)?Un.push(Fr[0]):Un.push([Fr[0],Fr[1],Fr[2]]);return Un}function Fc(Hr,Fr){var ln;if(typeof Hr=="string")ln=Fr(Hr)[0];else if(Array.isArray(Hr)){for(var Un,Ys,Ss=Hr.concat(),Vl=[],Hu=Ss.length;Hu--;)typeof(Un=Ss.shift())=="string"?Vl.push(Fr(Un)[0]):Array.isArray(Un)&&typeof Un[0]=="string"&&(Ys=Fr(Un[0],Un[1],Un[2]),Vl.push([Ys[0],Ys[1],Ys[2]]));ln=Vl}return ln}var Us=!1,bs=!0;if(typeof M=="string")Us=!0;else if(Array.isArray(M)){var Hl=M.concat();wt=[];for(var _o,pa=Hl.length;pa--;)(typeof(_o=Hl.shift())!="string"||Array.isArray(_o)&&typeof _o[0]!="string")&&(bs=!1);Us=bs}if(Us===!1)throw new Error('Type of text must be string or Array. "'+M+'" is not recognized.');typeof M=="string"&&(M=M.match(/[\r?\n]/)?M.split(/\r\n|\r|\n/g):[M]);var il=le/on.internal.scaleFactor,sl=il*(bo-1);switch(Re.baseline){case"bottom":Ee-=sl;break;case"top":Ee+=il-sl;break;case"hanging":Ee+=il-2*sl;break;case"middle":Ee+=il/2-sl}if((dr=Re.maxWidth||0)>0&&(typeof M=="string"?M=on.splitTextToSize(M,dr):Object.prototype.toString.call(M)==="[object Array]"&&(M=M.reduce(function(Hr,Fr){return Hr.concat(on.splitTextToSize(Fr,dr))},[]))),gt={text:M,x:se,y:Ee,options:Re,mutex:{pdfEscape:_r,activeFontKey:He,fonts:Rt,activeFontSize:le}},$t.publish("preProcessText",gt),M=gt.text,Gt=(Re=gt.options).angle,Pn instanceof jt==0&&Gt&&typeof Gt=="number"){Gt*=Math.PI/180,Re.rotationDirection===0&&(Gt=-Gt),j===N&&(Gt=-Gt);var Mc=Math.cos(Gt),zs=Math.sin(Gt);Pn=new jt(Mc,zs,-zs,Mc,0,0)}else Gt&&Gt instanceof jt&&(Pn=Gt);j!==N||Pn||(Pn=da),(or=Re.charSpace||Vi)!==void 0&&(Ea+=B(V(or))+` Tc
`,this.setCharSpace(this.getCharSpace()||0)),(Sn=Re.horizontalScale)!==void 0&&(Ea+=B(100*Sn)+` Tz
`),Re.lang;var ei=-1,So=Re.renderingMode!==void 0?Re.renderingMode:Re.stroke,jc=on.internal.getCurrentPageInfo().pageContext;switch(So){case 0:case!1:case"fill":ei=0;break;case 1:case!0:case"stroke":ei=1;break;case 2:case"fillThenStroke":ei=2;break;case 3:case"invisible":ei=3;break;case 4:case"fillAndAddForClipping":ei=4;break;case 5:case"strokeAndAddPathForClipping":ei=5;break;case 6:case"fillThenStrokeAndAddToPathForClipping":ei=6;break;case 7:case"addToPathForClipping":ei=7}var Uu=jc.usedRenderingMode!==void 0?jc.usedRenderingMode:-1;ei!==-1?Ea+=ei+` Tr
`:Uu!==-1&&(Ea+=`0 Tr
`),ei!==-1&&(jc.usedRenderingMode=ei),Zt=Re.align||"left";var Li,ws=le*bo,ko=on.internal.pageSize.getWidth(),zu=Rt[He];or=Re.charSpace||Vi,dr=Re.maxWidth||0,Lr=Object.assign({autoencode:!0,noBOM:!0},Re.flags);var _s=[],ol=function(Hr){return on.getStringUnitWidth(Hr,{font:zu,charSpace:or,fontSize:le,doKerning:!1})*le/ys};if(Object.prototype.toString.call(M)==="[object Array]"){var fi;wt=Iu(M),Zt!=="left"&&(Li=wt.map(ol));var ti,Hs=0;if(Zt==="right"){se-=Li[0],M=[],pa=wt.length;for(var qs=0;qs<pa;qs++)qs===0?(ti=Oi(se),fi=Aa(Ee)):(ti=V(Hs-Li[qs]),fi=-ws),M.push([wt[qs],ti,fi]),Hs=Li[qs]}else if(Zt==="center"){se-=Li[0]/2,M=[],pa=wt.length;for(var Co=0;Co<pa;Co++)Co===0?(ti=Oi(se),fi=Aa(Ee)):(ti=V((Hs-Li[Co])/2),fi=-ws),M.push([wt[Co],ti,fi]),Hs=Li[Co]}else if(Zt==="left"){M=[],pa=wt.length;for(var Rc=0;Rc<pa;Rc++)M.push(wt[Rc])}else if(Zt==="justify"&&zu.encoding==="Identity-H"){M=[],pa=wt.length,dr=dr!==0?dr:ko;for(var Bc=0,In=0;In<pa;In++)if(fi=In===0?Aa(Ee):-ws,ti=In===0?Oi(se):Bc,In<pa-1){var qh=V((dr-Li[In])/(wt[In].split(" ").length-1)),Vs=wt[In].split(" ");M.push([Vs[0]+" ",ti,fi]),Bc=0;for(var Gs=1;Gs<Vs.length;Gs++){var Na=(ol(Vs[Gs-1]+" "+Vs[Gs])-ol(Vs[Gs]))*ys+qh;Gs==Vs.length-1?M.push([Vs[Gs],Na,0]):M.push([Vs[Gs]+" ",Na,0]),Bc-=Na}}else M.push([wt[In],ti,fi]);M.push(["",Bc,0])}else{if(Zt!=="justify")throw new Error('Unrecognized alignment option, use "left", "center", "right" or "justify".');for(M=[],pa=wt.length,dr=dr!==0?dr:ko,In=0;In<pa;In++){fi=In===0?Aa(Ee):-ws,ti=In===0?Oi(se):0;var To=wt[In].split(" ").length-1,Pc=To>0?(dr-Li[In])/To:0;In<pa-1?_s.push(B(V(Pc))):_s.push(0),M.push([wt[In],ti,fi])}}}(typeof Re.R2L=="boolean"?Re.R2L:Oe)===!0&&(M=Fc(M,function(Hr,Fr,ln){return[Hr.split("").reverse().join(""),Fr,ln]})),gt={text:M,x:se,y:Ee,options:Re,mutex:{pdfEscape:_r,activeFontKey:He,fonts:Rt,activeFontSize:le}},$t.publish("postProcessText",gt),M=gt.text,Wn=gt.mutex.isHex||!1;var Ic=Rt[He].encoding;Ic!=="WinAnsiEncoding"&&Ic!=="StandardEncoding"||(M=Fc(M,function(Hr,Fr,ln){return[wo(Hr),Fr,ln]})),wt=Iu(M),M=[];for(var Ao,Eo,Ws,ql=Array.isArray(wt[0])?1:0,Fi="",No=function(Hr,Fr,ln){var Un="";return ln instanceof jt?(ln=typeof Re.angle=="number"?Vn(ln,new jt(1,0,0,1,Hr,Fr)):Vn(new jt(1,0,0,1,Hr,Fr),ln),j===N&&(ln=Vn(new jt(1,0,0,-1,0,0),ln)),Un=ln.join(" ")+` Tm
`):Un=B(Hr)+" "+B(Fr)+` Td
`,Un},za=0;za<wt.length;za++){switch(Fi="",ql){case 1:Ws=(Wn?"<":"(")+wt[za][0]+(Wn?">":")"),Ao=parseFloat(wt[za][1]),Eo=parseFloat(wt[za][2]);break;case 0:Ws=(Wn?"<":"(")+wt[za]+(Wn?">":")"),Ao=Oi(se),Eo=Aa(Ee)}_s!==void 0&&_s[za]!==void 0&&(Fi=_s[za]+` Tw
`),za===0?M.push(Fi+No(Ao,Eo,Pn)+Ws):ql===0?M.push(Fi+Ws):ql===1&&M.push(Fi+No(Ao,Eo,Pn)+Ws)}M=ql===0?M.join(` Tj
T* `):M.join(` Tj
`),M+=` Tj
`;var Wi=`BT
/`;return Wi+=He+" "+le+` Tf
`,Wi+=B(le*bo)+` TL
`,Wi+=Ps+`
`,Wi+=Ea,Wi+=M,H(Wi+="ET"),x[He]=!0,on};var Du=g.__private__.clip=g.clip=function(M){return H(M==="evenodd"?"W*":"W"),this};g.clipEvenOdd=function(){return Du("evenodd")},g.__private__.discardPath=g.discardPath=function(){return H("n"),this};var Qa=g.__private__.isValidStyle=function(M){var se=!1;return[void 0,null,"S","D","F","DF","FD","f","f*","B","B*","n"].indexOf(M)!==-1&&(se=!0),se};g.__private__.setDefaultPathOperation=g.setDefaultPathOperation=function(M){return Qa(M)&&(h=M),this};var Lu=g.__private__.getStyle=g.getStyle=function(M){var se=h;switch(M){case"D":case"S":se="S";break;case"F":se="f";break;case"FD":case"DF":se="B";break;case"f":case"f*":case"B":case"B*":se=M}return se},Fu=g.close=function(){return H("h"),this};g.stroke=function(){return H("S"),this},g.fill=function(M){return xs("f",M),this},g.fillEvenOdd=function(M){return xs("f*",M),this},g.fillStroke=function(M){return xs("B",M),this},g.fillStrokeEvenOdd=function(M){return xs("B*",M),this};var xs=function(M,se){an(se)==="object"?Rh(se,M):H(M)},Rl=function(M){M===null||j===N&&M===void 0||(M=Lu(M),H(M))};function jh(M,se,Ee,Re,qe){var gt=new Hf(se||this.boundingBox,Ee||this.xStep,Re||this.yStep,this.gState,qe||this.matrix);gt.stream=this.stream;var wt=M+"$$"+this.cloneIndex+++"$$";return Ta(wt,gt),gt}var Rh=function(M,se){var Ee=hr[M.key],Re=Mt[Ee];if(Re instanceof oh)H("q"),H(Mu(se)),Re.gState&&g.setGState(Re.gState),H(M.matrix.toString()+" cm"),H("/"+Ee+" sh"),H("Q");else if(Re instanceof Hf){var qe=new jt(1,0,0,-1,0,yo());M.matrix&&(qe=qe.multiply(M.matrix||da),Ee=jh.call(Re,M.key,M.boundingBox,M.xStep,M.yStep,qe).id),H("q"),H("/Pattern cs"),H("/"+Ee+" scn"),Re.gState&&g.setGState(Re.gState),H(se),H("Q")}},Mu=function(M){switch(M){case"f":case"F":case"n":return"W n";case"f*":return"W* n";case"B":case"S":return"W S";case"B*":return"W* S"}},ju=g.moveTo=function(M,se){return H(B(V(M))+" "+B(F(se))+" m"),this},Bh=g.lineTo=function(M,se){return H(B(V(M))+" "+B(F(se))+" l"),this},hi=g.curveTo=function(M,se,Ee,Re,qe,gt){return H([B(V(M)),B(F(se)),B(V(Ee)),B(F(Re)),B(V(qe)),B(F(gt)),"c"].join(" ")),this};g.__private__.line=g.line=function(M,se,Ee,Re,qe){if(isNaN(M)||isNaN(se)||isNaN(Ee)||isNaN(Re)||!Qa(qe))throw new Error("Invalid arguments passed to jsPDF.line");return j===A?this.lines([[Ee-M,Re-se]],M,se,[1,1],qe||"S"):this.lines([[Ee-M,Re-se]],M,se,[1,1]).stroke()},g.__private__.lines=g.lines=function(M,se,Ee,Re,qe,gt){var wt,Gt,Zt,or,dr,Lr,Sn,Pn,on,na,Wn,Ea;if(typeof M=="number"&&(Ea=Ee,Ee=se,se=M,M=Ea),Re=Re||[1,1],gt=gt||!1,isNaN(se)||isNaN(Ee)||!Array.isArray(M)||!Array.isArray(Re)||!Qa(qe)||typeof gt!="boolean")throw new Error("Invalid arguments passed to jsPDF.lines");for(ju(se,Ee),wt=Re[0],Gt=Re[1],or=M.length,na=se,Wn=Ee,Zt=0;Zt<or;Zt++)(dr=M[Zt]).length===2?(na=dr[0]*wt+na,Wn=dr[1]*Gt+Wn,Bh(na,Wn)):(Lr=dr[0]*wt+na,Sn=dr[1]*Gt+Wn,Pn=dr[2]*wt+na,on=dr[3]*Gt+Wn,na=dr[4]*wt+na,Wn=dr[5]*Gt+Wn,hi(Lr,Sn,Pn,on,na,Wn));return gt&&Fu(),Rl(qe),this},g.path=function(M){for(var se=0;se<M.length;se++){var Ee=M[se],Re=Ee.c;switch(Ee.op){case"m":ju(Re[0],Re[1]);break;case"l":Bh(Re[0],Re[1]);break;case"c":hi.apply(this,Re);break;case"h":Fu()}}return this},g.__private__.rect=g.rect=function(M,se,Ee,Re,qe){if(isNaN(M)||isNaN(se)||isNaN(Ee)||isNaN(Re)||!Qa(qe))throw new Error("Invalid arguments passed to jsPDF.rect");return j===A&&(Re=-Re),H([B(V(M)),B(F(se)),B(V(Ee)),B(V(Re)),"re"].join(" ")),Rl(qe),this},g.__private__.triangle=g.triangle=function(M,se,Ee,Re,qe,gt,wt){if(isNaN(M)||isNaN(se)||isNaN(Ee)||isNaN(Re)||isNaN(qe)||isNaN(gt)||!Qa(wt))throw new Error("Invalid arguments passed to jsPDF.triangle");return this.lines([[Ee-M,Re-se],[qe-Ee,gt-Re],[M-qe,se-gt]],M,se,[1,1],wt,!0),this},g.__private__.roundedRect=g.roundedRect=function(M,se,Ee,Re,qe,gt,wt){if(isNaN(M)||isNaN(se)||isNaN(Ee)||isNaN(Re)||isNaN(qe)||isNaN(gt)||!Qa(wt))throw new Error("Invalid arguments passed to jsPDF.roundedRect");var Gt=4/3*(Math.SQRT2-1);return qe=Math.min(qe,.5*Ee),gt=Math.min(gt,.5*Re),this.lines([[Ee-2*qe,0],[qe*Gt,0,qe,gt-gt*Gt,qe,gt],[0,Re-2*gt],[0,gt*Gt,-qe*Gt,gt,-qe,gt],[2*qe-Ee,0],[-qe*Gt,0,-qe,-gt*Gt,-qe,-gt],[0,2*gt-Re],[0,-gt*Gt,qe*Gt,-gt,qe,-gt]],M+qe,se,[1,1],wt,!0),this},g.__private__.ellipse=g.ellipse=function(M,se,Ee,Re,qe){if(isNaN(M)||isNaN(se)||isNaN(Ee)||isNaN(Re)||!Qa(qe))throw new Error("Invalid arguments passed to jsPDF.ellipse");var gt=4/3*(Math.SQRT2-1)*Ee,wt=4/3*(Math.SQRT2-1)*Re;return ju(M+Ee,se),hi(M+Ee,se-wt,M+gt,se-Re,M,se-Re),hi(M-gt,se-Re,M-Ee,se-wt,M-Ee,se),hi(M-Ee,se+wt,M-gt,se+Re,M,se+Re),hi(M+gt,se+Re,M+Ee,se+wt,M+Ee,se),Rl(qe),this},g.__private__.circle=g.circle=function(M,se,Ee,Re){if(isNaN(M)||isNaN(se)||isNaN(Ee)||!Qa(Re))throw new Error("Invalid arguments passed to jsPDF.circle");return this.ellipse(M,se,Ee,Ee,Re)},g.setFont=function(M,se,Ee){return Ee&&(se=z(se,Ee)),He=rl(M,se,{disableWarning:!1}),this};var vs=g.__private__.getFont=g.getFont=function(){return Rt[rl.apply(g,arguments)]};g.__private__.getFontList=g.getFontList=function(){var M,se,Ee={};for(M in Lt)if(Lt.hasOwnProperty(M))for(se in Ee[M]=[],Lt[M])Lt[M].hasOwnProperty(se)&&Ee[M].push(se);return Ee},g.addFont=function(M,se,Ee,Re,qe){var gt=["StandardEncoding","MacRomanEncoding","Identity-H","WinAnsiEncoding"];return arguments[3]&&gt.indexOf(arguments[3])!==-1?qe=arguments[3]:arguments[3]&&gt.indexOf(arguments[3])==-1&&(Ee=z(Ee,Re)),Xr.call(this,M,se,Ee,qe=qe||"Identity-H")};var fo,Bl=r.lineWidth||.200025,al=g.__private__.getLineWidth=g.getLineWidth=function(){return Bl},ar=g.__private__.setLineWidth=g.setLineWidth=function(M){return Bl=M,H(B(V(M))+" w"),this};g.__private__.setLineDash=er.API.setLineDash=er.API.setLineDashPattern=function(M,se){if(M=M||[],se=se||0,isNaN(se)||!Array.isArray(M))throw new Error("Invalid arguments passed to jsPDF.setLineDash");return M=M.map(function(Ee){return B(V(Ee))}).join(" "),se=B(V(se)),H("["+M+"] "+se+" d"),this};var Ph=g.__private__.getLineHeight=g.getLineHeight=function(){return le*fo};g.__private__.getLineHeight=g.getLineHeight=function(){return le*fo};var Ru=g.__private__.setLineHeightFactor=g.setLineHeightFactor=function(M){return typeof(M=M||1.15)=="number"&&(fo=M),this},Ih=g.__private__.getLineHeightFactor=g.getLineHeightFactor=function(){return fo};Ru(r.lineHeight);var Oi=g.__private__.getHorizontalCoordinate=function(M){return V(M)},Aa=g.__private__.getVerticalCoordinate=function(M){return j===N?M:ht[L].mediaBox.topRightY-ht[L].mediaBox.bottomLeftY-V(M)},Bu=g.__private__.getHorizontalCoordinateString=g.getHorizontalCoordinateString=function(M){return B(Oi(M))},Pl=g.__private__.getVerticalCoordinateString=g.getVerticalCoordinateString=function(M){return B(Aa(M))},Di=r.strokeColor||"0 G";g.__private__.getStrokeColor=g.getDrawColor=function(){return Se(Di)},g.__private__.setStrokeColor=g.setDrawColor=function(M,se,Ee,Re){return Di=Ne({ch1:M,ch2:se,ch3:Ee,ch4:Re,pdfColorType:"draw",precision:2}),H(Di),this};var Il=r.fillColor||"0 g";g.__private__.getFillColor=g.getFillColor=function(){return Se(Il)},g.__private__.setFillColor=g.setFillColor=function(M,se,Ee,Re){return Il=Ne({ch1:M,ch2:se,ch3:Ee,ch4:Re,pdfColorType:"fill",precision:2}),H(Il),this};var Ps=r.textColor||"0 g",Uh=g.__private__.getTextColor=g.getTextColor=function(){return Se(Ps)};g.__private__.setTextColor=g.setTextColor=function(M,se,Ee,Re){return Ps=Ne({ch1:M,ch2:se,ch3:Ee,ch4:Re,pdfColorType:"text",precision:3}),this};var Vi=r.charSpace,Oc=g.__private__.getCharSpace=g.getCharSpace=function(){return parseFloat(Vi||0)};g.__private__.setCharSpace=g.setCharSpace=function(M){if(isNaN(M))throw new Error("Invalid argument passed to jsPDF.setCharSpace");return Vi=M,this};var Dc=0;g.CapJoinStyles={0:0,butt:0,but:0,miter:0,1:1,round:1,rounded:1,circle:1,2:2,projecting:2,project:2,square:2,bevel:2},g.__private__.setLineCap=g.setLineCap=function(M){var se=g.CapJoinStyles[M];if(se===void 0)throw new Error("Line cap style of '"+M+"' is not recognized. See or extend .CapJoinStyles property for valid styles");return Dc=se,H(se+" J"),this};var ga=0;g.__private__.setLineJoin=g.setLineJoin=function(M){var se=g.CapJoinStyles[M];if(se===void 0)throw new Error("Line join style of '"+M+"' is not recognized. See or extend .CapJoinStyles property for valid styles");return ga=se,H(se+" j"),this},g.__private__.setLineMiterLimit=g.__private__.setMiterLimit=g.setLineMiterLimit=g.setMiterLimit=function(M){if(M=M||0,isNaN(M))throw new Error("Invalid argument passed to jsPDF.setLineMiterLimit");return H(B(V(M))+" M"),this},g.GState=Mp,g.setGState=function(M){(M=typeof M=="string"?Ut[Kt[M]]:Is(null,M)).equals(St)||(H("/"+M.id+" gs"),St=M)};var Is=function(M,se){if(!M||!Kt[M]){var Ee=!1;for(var Re in Ut)if(Ut.hasOwnProperty(Re)&&Ut[Re].equals(se)){Ee=!0;break}if(Ee)se=Ut[Re];else{var qe="GS"+(Object.keys(Ut).length+1).toString(10);Ut[qe]=se,se.id=qe}return M&&(Kt[M]=se.id),$t.publish("addGState",se),se}};g.addGState=function(M,se){return Is(M,se),this},g.saveGraphicsState=function(){return H("q"),zt.push({key:He,size:le,color:Ps}),this},g.restoreGraphicsState=function(){H("Q");var M=zt.pop();return He=M.key,le=M.size,Ps=M.color,St=null,this},g.setCurrentTransformationMatrix=function(M){return H(M.toString()+" cm"),this},g.comment=function(M){return H("#"+M),this};var Gi=function(M,se){var Ee=M||0;Object.defineProperty(this,"x",{enumerable:!0,get:function(){return Ee},set:function(gt){isNaN(gt)||(Ee=parseFloat(gt))}});var Re=se||0;Object.defineProperty(this,"y",{enumerable:!0,get:function(){return Re},set:function(gt){isNaN(gt)||(Re=parseFloat(gt))}});var qe="pt";return Object.defineProperty(this,"type",{enumerable:!0,get:function(){return qe},set:function(gt){qe=gt.toString()}}),this},go=function(M,se,Ee,Re){Gi.call(this,M,se),this.type="rect";var qe=Ee||0;Object.defineProperty(this,"w",{enumerable:!0,get:function(){return qe},set:function(wt){isNaN(wt)||(qe=parseFloat(wt))}});var gt=Re||0;return Object.defineProperty(this,"h",{enumerable:!0,get:function(){return gt},set:function(wt){isNaN(wt)||(gt=parseFloat(wt))}}),this},Lc=function(){this.page=kt,this.currentPage=L,this.pages=De.slice(0),this.pagesContext=ht.slice(0),this.x=bt,this.y=Qt,this.matrix=Et,this.width=mo(L),this.height=Pu(L),this.outputDestination=Ye,this.id="",this.objectNumber=-1};Lc.prototype.restore=function(){kt=this.page,L=this.currentPage,ht=this.pagesContext,De=this.pages,bt=this.x,Qt=this.y,Et=this.matrix,zl(L,this.width),xo(L,this.height),Ye=this.outputDestination};var Ul=function(M,se,Ee,Re,qe){wn.push(new Lc),kt=L=0,De=[],bt=M,Qt=se,Et=qe,Qr([Ee,Re])};for(var po in g.beginFormObject=function(M,se,Ee,Re,qe){return Ul(M,se,Ee,Re,qe),this},g.endFormObject=function(M){return(function(se){if(bn[se])wn.pop().restore();else{var Ee=new Lc,Re="Xo"+(Object.keys(Dr).length+1).toString(10);Ee.id=Re,bn[se]=Re,Dr[Re]=Ee,$t.publish("addFormObject",Ee),wn.pop().restore()}})(M),this},g.doFormObject=function(M,se){var Ee=Dr[bn[M]];return H("q"),H(se.toString()+" cm"),H("/"+Ee.id+" Do"),H("Q"),this},g.getFormObject=function(M){var se=Dr[bn[M]];return{x:se.x,y:se.y,width:se.width,height:se.height,matrix:se.matrix}},g.save=function(M,se){return M=M||"generated.pdf",(se=se||{}).returnPromise=se.returnPromise||!1,se.returnPromise===!1?(nh(nl(Bs()),M),typeof nh.unload=="function"&&ur.setTimeout&&setTimeout(nh.unload,911),this):new Promise(function(Ee,Re){try{var qe=nh(nl(Bs()),M);typeof nh.unload=="function"&&ur.setTimeout&&setTimeout(nh.unload,911),Ee(qe)}catch(gt){Re(gt.message)}})},er.API)er.API.hasOwnProperty(po)&&(po==="events"&&er.API.events.length?(function(M,se){var Ee,Re,qe;for(qe=se.length-1;qe!==-1;qe--)Ee=se[qe][0],Re=se[qe][1],M.subscribe.apply(M,[Ee].concat(typeof Re=="function"?[Re]:Re))})($t,er.API.events):g[po]=er.API[po]);function mo(M){return ht[M].mediaBox.topRightX-ht[M].mediaBox.bottomLeftX}function zl(M,se){ht[M].mediaBox.topRightX=se+ht[M].mediaBox.bottomLeftX}function Pu(M){return ht[M].mediaBox.topRightY-ht[M].mediaBox.bottomLeftY}function xo(M,se){ht[M].mediaBox.topRightY=se+ht[M].mediaBox.bottomLeftY}var vo=g.getPageWidth=function(M){return mo(M=M||L)/xt},zh=g.setPageWidth=function(M,se){zl(M,se*xt)},yo=g.getPageHeight=function(M){return Pu(M=M||L)/xt},Hh=g.setPageHeight=function(M,se){xo(M,se*xt)};return g.internal={pdfEscape:_r,getStyle:Lu,getFont:vs,getFontSize:je,getCharSpace:Oc,getTextColor:Uh,getLineHeight:Ph,getLineHeightFactor:Ih,getLineWidth:al,write:ne,getHorizontalCoordinate:Oi,getVerticalCoordinate:Aa,getCoordinateString:Bu,getVerticalCoordinateString:Pl,collections:{},newObject:sn,newAdditionalObject:Ae,newObjectDeferred:Dn,newObjectDeferredBegin:he,getFilters:Xe,putStream:ot,events:$t,scaleFactor:xt,pageSize:{getWidth:function(){return vo(L)},setWidth:function(M){zh(L,M)},getHeight:function(){return yo(L)},setHeight:function(M){Hh(L,M)}},encryptionOptions:f,encryption:ra,getEncryptor:function(M){return f!==null?ra.encryptor(M,0):function(se){return se}},output:Ou,getNumberOfPages:Ni,get pages(){return De},out:H,f2:q,f3:O,getPageInfo:Gn,getPageInfoByObjId:Nc,getCurrentPageInfo:Mh,getPDFVersion:v,Point:Gi,Rectangle:go,Matrix:jt,hasHotfix:Ja},Object.defineProperty(g.internal.pageSize,"width",{get:function(){return vo(L)},set:function(M){zh(L,M)},enumerable:!0,configurable:!0}),Object.defineProperty(g.internal.pageSize,"height",{get:function(){return yo(L)},set:function(M){Hh(L,M)},enumerable:!0,configurable:!0}),(function(M){for(var se=0,Ee=K.length;se<Ee;se++){var Re=Xr.call(this,M[se][0],M[se][1],M[se][2],K[se][3],!0);m===!1&&(x[Re]=!0);var qe=M[se][0].split("-");Ht({id:Re,fontName:qe[0],fontStyle:qe[1]||""})}$t.publish("addFonts",{fonts:Rt,dictionary:Lt})}).call(g,K),He="F1",Za(a,t),$t.publish("initialized"),g}Rf.prototype.lsbFirstWord=function(r){return String.fromCharCode(255&r,r>>8&255,r>>16&255,r>>24&255)},Rf.prototype.toHexString=function(r){return r.split("").map(function(e){return("0"+(255&e.charCodeAt(0)).toString(16)).slice(-2)}).join("")},Rf.prototype.hexToBytes=function(r){for(var e=[],t=0;t<r.length;t+=2)e.push(String.fromCharCode(parseInt(r.substr(t,2),16)));return e.join("")},Rf.prototype.processOwnerPassword=function(r,e){return dv(fv(e).substr(0,5),r)},Rf.prototype.encryptor=function(r,e){var t=fv(this.encryptionKey+String.fromCharCode(255&r,r>>8&255,r>>16&255,255&e,e>>8&255)).substr(0,10);return function(n){return dv(t,n)}},Mp.prototype.equals=function(r){var e,t="id,objectNumber,equals";if(!r||an(r)!==an(this))return!1;var n=0;for(e in this)if(!(t.indexOf(e)>=0)){if(this.hasOwnProperty(e)&&!r.hasOwnProperty(e)||this[e]!==r[e])return!1;n++}for(e in r)r.hasOwnProperty(e)&&t.indexOf(e)<0&&n--;return n===0},er.API={events:[]},er.version="4.2.0";var Qn=er.API,my=1,Fh=function(r){return r.replace(/\\/g,"\\\\").replace(/\(/g,"\\(").replace(/\)/g,"\\)")},Of=function(r){return r.replace(/\\\\/g,"\\").replace(/\\\(/g,"(").replace(/\\\)/g,")")},kh=function(r){return r.toString().replace(/#/g,"#23").replace(/[\s\n\r()<>[\]{}\/%]/g,function(e){var t=e.charCodeAt(0).toString(16).toUpperCase();return"#"+(t.length===1?"0"+t:t)})},mr=function(r){return r.toFixed(2)},gu=function(r){return r.toFixed(5)};Qn.__acroform__={};var ds=function(r,e){r.prototype=Object.create(e.prototype),r.prototype.constructor=r},i3=function(r){return r*my},kl=function(r){var e=new lC,t=Xt.internal.getHeight(r)||0,n=Xt.internal.getWidth(r)||0;return e.BBox=[0,0,Number(mr(n)),Number(mr(t))],e},fz=Qn.__acroform__.setBit=function(r,e){if(r=r||0,e=e||0,isNaN(r)||isNaN(e))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.setBit");return r|1<<e},dz=Qn.__acroform__.clearBit=function(r,e){if(r=r||0,e=e||0,isNaN(r)||isNaN(e))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.clearBit");return r&~(1<<e)},gz=Qn.__acroform__.getBit=function(r,e){if(isNaN(r)||isNaN(e))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.getBit");return r&1<<e?1:0},la=Qn.__acroform__.getBitForPdf=function(r,e){if(isNaN(r)||isNaN(e))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.getBitForPdf");return gz(r,e-1)},ca=Qn.__acroform__.setBitForPdf=function(r,e){if(isNaN(r)||isNaN(e))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.setBitForPdf");return fz(r,e-1)},ua=Qn.__acroform__.clearBitForPdf=function(r,e){if(isNaN(r)||isNaN(e))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.clearBitForPdf");return dz(r,e-1)},pz=Qn.__acroform__.calculateCoordinates=function(r,e){var t=e.internal.getHorizontalCoordinate,n=e.internal.getVerticalCoordinate,a=r[0],i=r[1],o=r[2],l=r[3],u={};return u.lowerLeft_X=t(a)||0,u.lowerLeft_Y=n(i+l)||0,u.upperRight_X=t(a+o)||0,u.upperRight_Y=n(i)||0,[Number(mr(u.lowerLeft_X)),Number(mr(u.lowerLeft_Y)),Number(mr(u.upperRight_X)),Number(mr(u.upperRight_Y))]},mz=function(r){if(r.appearanceStreamContent)return r.appearanceStreamContent;if(r.V||r.DV){var e=[],t=r._V||r.DV,n=gv(r,t),a=r.scope.internal.getFont(r.fontName,r.fontStyle).id;e.push("/Tx BMC"),e.push("q"),e.push("BT"),e.push(r.scope.__private__.encodeColorString(r.color)),e.push("/"+a+" "+mr(n.fontSize)+" Tf"),e.push("1 0 0 1 0 0 Tm"),e.push(n.text),e.push("ET"),e.push("Q"),e.push("EMC");var i=kl(r);return i.scope=r.scope,i.stream=e.join(`
`),i}},gv=function(r,e){var t=r.fontSize===0?r.maxFontSize:r.fontSize,n={text:"",fontSize:""},a=(e=(e=e.substr(0,1)=="("?e.substr(1):e).substr(e.length-1)==")"?e.substr(0,e.length-1):e).split(" ");a=r.multiline?a.map(function(q){return q.split(`
`)}):a.map(function(q){return[q]});var i=t,o=Xt.internal.getHeight(r)||0;o=o<0?-o:o;var l=Xt.internal.getWidth(r)||0;l=l<0?-l:l;var u=function(q,O,V){if(q+1<a.length){var F=O+" "+a[q+1][0];return Ig(F,r,V).width<=l-4}return!1};i++;e:for(;i>0;){e="",i--;var h,f,m=Ig("3",r,i).height,x=r.multiline?o-i:(o-m)/2,g=x+=2,y=0,v=0,S=0;if(i<=0){e=`(...) Tj
`,e+="% Width of Text: "+Ig(e,r,i=12).width+", FieldWidth:"+l+`
`;break}for(var k="",A=0,N=0;N<a.length;N++)if(a.hasOwnProperty(N)){var j=!1;if(a[N].length!==1&&S!==a[N].length-1){if((m+2)*(A+2)+2>o)continue e;k+=a[N][S],j=!0,v=N,N--}else{k=(k+=a[N][S]+" ").substr(k.length-1)==" "?k.substr(0,k.length-1):k;var W=parseInt(N),ee=u(W,k,i),z=N>=a.length-1;if(ee&&!z){k+=" ",S=0;continue}if(ee||z){if(z)v=W;else if(r.multiline&&(m+2)*(A+2)+2>o)continue e}else{if(!r.multiline||(m+2)*(A+2)+2>o)continue e;v=W}}for(var B="",D=y;D<=v;D++){var Z=a[D];if(r.multiline){if(D===v){B+=Z[S]+" ",S=(S+1)%Z.length;continue}if(D===y){B+=Z[Z.length-1]+" ";continue}}B+=Z[0]+" "}switch(B=B.substr(B.length-1)==" "?B.substr(0,B.length-1):B,f=Ig(B,r,i).width,r.textAlign){case"right":h=l-f-2;break;case"center":h=(l-f)/2;break;default:h=2}e+=mr(h)+" "+mr(g)+` Td
`,e+="("+Fh(B)+`) Tj
`,e+=-mr(h)+` 0 Td
`,g=-(i+2),f=0,y=j?v:v+1,A++,k=""}break}return n.text=e,n.fontSize=i,n},Ig=function(r,e,t){var n=e.scope.internal.getFont(e.fontName,e.fontStyle),a=e.scope.getStringUnitWidth(r,{font:n,fontSize:parseFloat(t),charSpace:0})*parseFloat(t);return{height:e.scope.getStringUnitWidth("3",{font:n,fontSize:parseFloat(t),charSpace:0})*parseFloat(t)*1.5,width:a}},xz={fields:[],xForms:[],acroFormDictionaryRoot:null,printedOut:!1,internal:null,isInitialized:!1},vz=function(r,e){var t={type:"reference",object:r};e.internal.getPageInfo(r.page).pageContext.annotations.find(function(n){return n.type===t.type&&n.object===t.object})===void 0&&e.internal.getPageInfo(r.page).pageContext.annotations.push(t)},yz=function(r,e){if(e.scope=r,r.internal!==void 0&&(r.internal.acroformPlugin===void 0||r.internal.acroformPlugin.isInitialized===!1)){if(el.FieldNum=0,r.internal.acroformPlugin=JSON.parse(JSON.stringify(xz)),r.internal.acroformPlugin.acroFormDictionaryRoot)throw new Error("Exception while creating AcroformDictionary");my=r.internal.scaleFactor,r.internal.acroformPlugin.acroFormDictionaryRoot=new cC,r.internal.acroformPlugin.acroFormDictionaryRoot.scope=r,r.internal.acroformPlugin.acroFormDictionaryRoot._eventID=r.internal.events.subscribe("postPutResources",function(){(function(t){t.internal.events.unsubscribe(t.internal.acroformPlugin.acroFormDictionaryRoot._eventID),delete t.internal.acroformPlugin.acroFormDictionaryRoot._eventID,t.internal.acroformPlugin.printedOut=!0})(r)}),r.internal.events.subscribe("buildDocument",function(){(function(t){t.internal.acroformPlugin.acroFormDictionaryRoot.objId=void 0;var n=t.internal.acroformPlugin.acroFormDictionaryRoot.Fields;for(var a in n)if(n.hasOwnProperty(a)){var i=n[a];i.objId=void 0,i.hasAnnotation&&vz(i,t)}})(r)}),r.internal.events.subscribe("putCatalog",function(){(function(t){if(t.internal.acroformPlugin.acroFormDictionaryRoot===void 0)throw new Error("putCatalogCallback: Root missing.");t.internal.write("/AcroForm "+t.internal.acroformPlugin.acroFormDictionaryRoot.objId+" 0 R")})(r)}),r.internal.events.subscribe("postPutPages",function(t){(function(n,a){var i=!n;for(var o in n||(a.internal.newObjectDeferredBegin(a.internal.acroformPlugin.acroFormDictionaryRoot.objId,!0),a.internal.acroformPlugin.acroFormDictionaryRoot.putStream()),n=n||a.internal.acroformPlugin.acroFormDictionaryRoot.Kids)if(n.hasOwnProperty(o)){var l=n[o],u=[],h=l.Rect;if(l.Rect&&(l.Rect=pz(l.Rect,a)),a.internal.newObjectDeferredBegin(l.objId,!0),l.DA=Xt.createDefaultAppearanceStream(l),an(l)==="object"&&typeof l.getKeyValueListForStream=="function"&&(u=l.getKeyValueListForStream()),l.Rect=h,l.hasAppearanceStream&&!l.appearanceStreamContent){var f=mz(l);u.push({key:"AP",value:"<</N "+f+">>"}),a.internal.acroformPlugin.xForms.push(f)}if(l.appearanceStreamContent){var m="";for(var x in l.appearanceStreamContent)if(l.appearanceStreamContent.hasOwnProperty(x)){var g=l.appearanceStreamContent[x];if(m+="/"+x+" ",m+="<<",Object.keys(g).length>=1||Array.isArray(g)){for(var o in g)if(g.hasOwnProperty(o)){var y=g[o];typeof y=="function"&&(y=y.call(a,l)),m+="/"+o+" "+y+" ",a.internal.acroformPlugin.xForms.indexOf(y)>=0||a.internal.acroformPlugin.xForms.push(y)}}else typeof(y=g)=="function"&&(y=y.call(a,l)),m+="/"+o+" "+y,a.internal.acroformPlugin.xForms.indexOf(y)>=0||a.internal.acroformPlugin.xForms.push(y);m+=">>"}u.push({key:"AP",value:`<<
`+m+">>"})}a.internal.putStream({additionalKeyValues:u,objectId:l.objId}),a.internal.out("endobj")}i&&(function(v,S){for(var k in v)if(v.hasOwnProperty(k)){var A=k,N=v[k];S.internal.newObjectDeferredBegin(N.objId,!0),an(N)==="object"&&typeof N.putStream=="function"&&N.putStream(),delete v[A]}})(a.internal.acroformPlugin.xForms,a)})(t,r)}),r.internal.acroformPlugin.isInitialized=!0}},oC=Qn.__acroform__.arrayToPdfArray=function(r,e,t){var n=function(o){return o};if(Array.isArray(r)){for(var a="[",i=0;i<r.length;i++)switch(i!==0&&(a+=" "),an(r[i])){case"boolean":case"number":case"object":a+=r[i].toString();break;case"string":r[i].substr(0,1)==="/"?a+="/"+kh(r[i].substr(1)):(e!==void 0&&t&&(n=t.internal.getEncryptor(e)),a+="("+Fh(n(r[i].toString()))+")")}return a+"]"}throw new Error("Invalid argument passed to jsPDF.__acroform__.arrayToPdfArray")},dx=function(r,e,t){var n=function(a){return a};return e!==void 0&&t&&(n=t.internal.getEncryptor(e)),(r=r||"").toString(),"("+Fh(n(r))+")"},El=function(){this._objId=void 0,this._scope=void 0,Object.defineProperty(this,"objId",{get:function(){if(this._objId===void 0){if(this.scope===void 0)return;this._objId=this.scope.internal.newObjectDeferred()}return this._objId},set:function(r){this._objId=r}}),Object.defineProperty(this,"scope",{value:this._scope,writable:!0})};El.prototype.toString=function(){return this.objId+" 0 R"},El.prototype.putStream=function(){var r=this.getKeyValueListForStream();this.scope.internal.putStream({data:this.stream,additionalKeyValues:r,objectId:this.objId}),this.scope.internal.out("endobj")},El.prototype.getKeyValueListForStream=function(){var r=[],e=Object.getOwnPropertyNames(this).filter(function(i){return i!="content"&&i!="appearanceStreamContent"&&i!="scope"&&i!="objId"&&i.substring(0,1)!="_"});for(var t in e)if(Object.getOwnPropertyDescriptor(this,e[t]).configurable===!1){var n=e[t],a=this[n];a&&(Array.isArray(a)?r.push({key:n,value:oC(a,this.objId,this.scope)}):a instanceof El?(a.scope=this.scope,r.push({key:n,value:a.objId+" 0 R"})):typeof a!="function"&&r.push({key:n,value:a}))}return r};var lC=function(){El.call(this),Object.defineProperty(this,"Type",{value:"/XObject",configurable:!1,writable:!0}),Object.defineProperty(this,"Subtype",{value:"/Form",configurable:!1,writable:!0}),Object.defineProperty(this,"FormType",{value:1,configurable:!1,writable:!0});var r,e=[];Object.defineProperty(this,"BBox",{configurable:!1,get:function(){return e},set:function(t){e=t}}),Object.defineProperty(this,"Resources",{value:"2 0 R",configurable:!1,writable:!0}),Object.defineProperty(this,"stream",{enumerable:!1,configurable:!0,set:function(t){r=t.trim()},get:function(){return r||null}})};ds(lC,El);var cC=function(){El.call(this);var r,e=[];Object.defineProperty(this,"Kids",{enumerable:!1,configurable:!0,get:function(){return e.length>0?e:void 0}}),Object.defineProperty(this,"Fields",{enumerable:!1,configurable:!1,get:function(){return e}}),Object.defineProperty(this,"DA",{enumerable:!1,configurable:!1,get:function(){if(r){var t=function(n){return n};return this.scope&&(t=this.scope.internal.getEncryptor(this.objId)),"("+Fh(t(r))+")"}},set:function(t){r=t}})};ds(cC,El);var el=function r(){El.call(this);var e=4;Object.defineProperty(this,"F",{enumerable:!1,configurable:!1,get:function(){return e},set:function(k){if(isNaN(k))throw new Error('Invalid value "'+k+'" for attribute F supplied.');e=k}}),Object.defineProperty(this,"showWhenPrinted",{enumerable:!0,configurable:!0,get:function(){return!!la(e,3)},set:function(k){k?this.F=ca(e,3):this.F=ua(e,3)}});var t=0;Object.defineProperty(this,"Ff",{enumerable:!1,configurable:!1,get:function(){return t},set:function(k){if(isNaN(k))throw new Error('Invalid value "'+k+'" for attribute Ff supplied.');t=k}});var n=[];Object.defineProperty(this,"Rect",{enumerable:!1,configurable:!1,get:function(){if(n.length!==0)return n},set:function(k){n=k!==void 0?k:[]}}),Object.defineProperty(this,"x",{enumerable:!0,configurable:!0,get:function(){return!n||isNaN(n[0])?0:n[0]},set:function(k){n[0]=k}}),Object.defineProperty(this,"y",{enumerable:!0,configurable:!0,get:function(){return!n||isNaN(n[1])?0:n[1]},set:function(k){n[1]=k}}),Object.defineProperty(this,"width",{enumerable:!0,configurable:!0,get:function(){return!n||isNaN(n[2])?0:n[2]},set:function(k){n[2]=k}}),Object.defineProperty(this,"height",{enumerable:!0,configurable:!0,get:function(){return!n||isNaN(n[3])?0:n[3]},set:function(k){n[3]=k}});var a="";Object.defineProperty(this,"FT",{enumerable:!0,configurable:!1,get:function(){return a},set:function(k){switch(k){case"/Btn":case"/Tx":case"/Ch":case"/Sig":a=k;break;default:throw new Error('Invalid value "'+k+'" for attribute FT supplied.')}}});var i=null;Object.defineProperty(this,"T",{enumerable:!0,configurable:!1,get:function(){if(!i||i.length<1){if(this instanceof jp)return;i="FieldObject"+r.FieldNum++}var k=function(A){return A};return this.scope&&(k=this.scope.internal.getEncryptor(this.objId)),"("+Fh(k(i))+")"},set:function(k){i=k.toString()}}),Object.defineProperty(this,"fieldName",{configurable:!0,enumerable:!0,get:function(){return i},set:function(k){i=k}});var o="helvetica";Object.defineProperty(this,"fontName",{enumerable:!0,configurable:!0,get:function(){return o},set:function(k){o=k}});var l="normal";Object.defineProperty(this,"fontStyle",{enumerable:!0,configurable:!0,get:function(){return l},set:function(k){l=k}});var u=0;Object.defineProperty(this,"fontSize",{enumerable:!0,configurable:!0,get:function(){return u},set:function(k){u=k}});var h=void 0;Object.defineProperty(this,"maxFontSize",{enumerable:!0,configurable:!0,get:function(){return h===void 0?50/my:h},set:function(k){h=k}});var f="black";Object.defineProperty(this,"color",{enumerable:!0,configurable:!0,get:function(){return f},set:function(k){f=k}});var m="/F1 0 Tf 0 g";Object.defineProperty(this,"DA",{enumerable:!0,configurable:!1,get:function(){if(!(!m||this instanceof jp||this instanceof mh))return dx(m,this.objId,this.scope)},set:function(k){k=k.toString(),m=k}});var x=null;Object.defineProperty(this,"DV",{enumerable:!1,configurable:!1,get:function(){if(x)return this instanceof Xa==0?dx(x,this.objId,this.scope):x},set:function(k){k=k.toString(),x=this instanceof Xa==0?k.substr(0,1)==="("?Of(k.substr(1,k.length-2)):Of(k):k}}),Object.defineProperty(this,"defaultValue",{enumerable:!0,configurable:!0,get:function(){return this instanceof Xa==1?Of(x.substr(1,x.length-1)):x},set:function(k){k=k.toString(),x=this instanceof Xa==1?"/"+kh(k):k}});var g=null;Object.defineProperty(this,"_V",{enumerable:!1,configurable:!1,get:function(){if(g)return g},set:function(k){this.V=k}}),Object.defineProperty(this,"V",{enumerable:!1,configurable:!1,get:function(){if(g)return this instanceof Xa==0?dx(g,this.objId,this.scope):g},set:function(k){k=k.toString(),g=this instanceof Xa==0?k.substr(0,1)==="("?Of(k.substr(1,k.length-2)):Of(k):k}}),Object.defineProperty(this,"value",{enumerable:!0,configurable:!0,get:function(){return this instanceof Xa==1?Of(g.substr(1,g.length-1)):g},set:function(k){k=k.toString(),g=this instanceof Xa==1?"/"+kh(k):k}}),Object.defineProperty(this,"hasAnnotation",{enumerable:!0,configurable:!0,get:function(){return this.Rect}}),Object.defineProperty(this,"Type",{enumerable:!0,configurable:!1,get:function(){return this.hasAnnotation?"/Annot":null}}),Object.defineProperty(this,"Subtype",{enumerable:!0,configurable:!1,get:function(){return this.hasAnnotation?"/Widget":null}});var y,v=!1;Object.defineProperty(this,"hasAppearanceStream",{enumerable:!0,configurable:!0,get:function(){return v},set:function(k){k=!!k,v=k}}),Object.defineProperty(this,"page",{enumerable:!0,configurable:!0,get:function(){if(y)return y},set:function(k){y=k}}),Object.defineProperty(this,"readOnly",{enumerable:!0,configurable:!0,get:function(){return!!la(this.Ff,1)},set:function(k){k?this.Ff=ca(this.Ff,1):this.Ff=ua(this.Ff,1)}}),Object.defineProperty(this,"required",{enumerable:!0,configurable:!0,get:function(){return!!la(this.Ff,2)},set:function(k){k?this.Ff=ca(this.Ff,2):this.Ff=ua(this.Ff,2)}}),Object.defineProperty(this,"noExport",{enumerable:!0,configurable:!0,get:function(){return!!la(this.Ff,3)},set:function(k){k?this.Ff=ca(this.Ff,3):this.Ff=ua(this.Ff,3)}});var S=null;Object.defineProperty(this,"Q",{enumerable:!0,configurable:!1,get:function(){if(S!==null)return S},set:function(k){if([0,1,2].indexOf(k)===-1)throw new Error('Invalid value "'+k+'" for attribute Q supplied.');S=k}}),Object.defineProperty(this,"textAlign",{get:function(){var k;switch(S){case 0:default:k="left";break;case 1:k="center";break;case 2:k="right"}return k},configurable:!0,enumerable:!0,set:function(k){switch(k){case"right":case 2:S=2;break;case"center":case 1:S=1;break;default:S=0}}})};ds(el,El);var Kf=function(){el.call(this),this.FT="/Ch",this.V="()",this.fontName="zapfdingbats";var r=0;Object.defineProperty(this,"TI",{enumerable:!0,configurable:!1,get:function(){return r},set:function(t){r=t}}),Object.defineProperty(this,"topIndex",{enumerable:!0,configurable:!0,get:function(){return r},set:function(t){r=t}});var e=[];Object.defineProperty(this,"Opt",{enumerable:!0,configurable:!1,get:function(){return oC(e,this.objId,this.scope)},set:function(t){var n,a;a=[],typeof(n=t)=="string"&&(a=(function(i,o,l){l||(l=1);for(var u,h=[];u=o.exec(i);)h.push(u[l]);return h})(n,/\((.*?)\)/g)),e=a}}),this.getOptions=function(){return e},this.setOptions=function(t){e=t,this.sort&&e.sort()},this.addOption=function(t){t=(t=t||"").toString(),e.push(t),this.sort&&e.sort()},this.removeOption=function(t,n){for(n=n||!1,t=(t=t||"").toString();e.indexOf(t)!==-1&&(e.splice(e.indexOf(t),1),n!==!1););},Object.defineProperty(this,"combo",{enumerable:!0,configurable:!0,get:function(){return!!la(this.Ff,18)},set:function(t){t?this.Ff=ca(this.Ff,18):this.Ff=ua(this.Ff,18)}}),Object.defineProperty(this,"edit",{enumerable:!0,configurable:!0,get:function(){return!!la(this.Ff,19)},set:function(t){this.combo===!0&&(t?this.Ff=ca(this.Ff,19):this.Ff=ua(this.Ff,19))}}),Object.defineProperty(this,"sort",{enumerable:!0,configurable:!0,get:function(){return!!la(this.Ff,20)},set:function(t){t?(this.Ff=ca(this.Ff,20),e.sort()):this.Ff=ua(this.Ff,20)}}),Object.defineProperty(this,"multiSelect",{enumerable:!0,configurable:!0,get:function(){return!!la(this.Ff,22)},set:function(t){t?this.Ff=ca(this.Ff,22):this.Ff=ua(this.Ff,22)}}),Object.defineProperty(this,"doNotSpellCheck",{enumerable:!0,configurable:!0,get:function(){return!!la(this.Ff,23)},set:function(t){t?this.Ff=ca(this.Ff,23):this.Ff=ua(this.Ff,23)}}),Object.defineProperty(this,"commitOnSelChange",{enumerable:!0,configurable:!0,get:function(){return!!la(this.Ff,27)},set:function(t){t?this.Ff=ca(this.Ff,27):this.Ff=ua(this.Ff,27)}}),this.hasAppearanceStream=!1};ds(Kf,el);var $f=function(){Kf.call(this),this.fontName="helvetica",this.combo=!1};ds($f,Kf);var Zf=function(){$f.call(this),this.combo=!0};ds(Zf,$f);var Qg=function(){Zf.call(this),this.edit=!0};ds(Qg,Zf);var Xa=function(){el.call(this),this.FT="/Btn",Object.defineProperty(this,"noToggleToOff",{enumerable:!0,configurable:!0,get:function(){return!!la(this.Ff,15)},set:function(t){t?this.Ff=ca(this.Ff,15):this.Ff=ua(this.Ff,15)}}),Object.defineProperty(this,"radio",{enumerable:!0,configurable:!0,get:function(){return!!la(this.Ff,16)},set:function(t){t?this.Ff=ca(this.Ff,16):this.Ff=ua(this.Ff,16)}}),Object.defineProperty(this,"pushButton",{enumerable:!0,configurable:!0,get:function(){return!!la(this.Ff,17)},set:function(t){t?this.Ff=ca(this.Ff,17):this.Ff=ua(this.Ff,17)}}),Object.defineProperty(this,"radioIsUnison",{enumerable:!0,configurable:!0,get:function(){return!!la(this.Ff,26)},set:function(t){t?this.Ff=ca(this.Ff,26):this.Ff=ua(this.Ff,26)}});var r,e={};Object.defineProperty(this,"MK",{enumerable:!1,configurable:!1,get:function(){var t=function(i){return i};if(this.scope&&(t=this.scope.internal.getEncryptor(this.objId)),Object.keys(e).length!==0){var n,a=[];for(n in a.push("<<"),e)a.push("/"+n+" ("+Fh(t(e[n]))+")");return a.push(">>"),a.join(`
`)}},set:function(t){an(t)==="object"&&(e=t)}}),Object.defineProperty(this,"caption",{enumerable:!0,configurable:!0,get:function(){return e.CA||""},set:function(t){typeof t=="string"&&(e.CA=t)}}),Object.defineProperty(this,"AS",{enumerable:!1,configurable:!1,get:function(){return r},set:function(t){var n=t==null?"":t.toString();n.substr(0,1)==="/"&&(n=n.substr(1)),r="/"+kh(n)}}),Object.defineProperty(this,"appearanceState",{enumerable:!0,configurable:!0,get:function(){return r.substr(1,r.length-1)},set:function(t){r="/"+kh(t)}})};ds(Xa,el);var ep=function(){Xa.call(this),this.pushButton=!0};ds(ep,Xa);var Jf=function(){Xa.call(this),this.radio=!0,this.pushButton=!1;var r=[];Object.defineProperty(this,"Kids",{enumerable:!0,configurable:!1,get:function(){return r},set:function(e){r=e!==void 0?e:[]}})};ds(Jf,Xa);var jp=function(){var r,e;el.call(this),Object.defineProperty(this,"Parent",{enumerable:!1,configurable:!1,get:function(){return r},set:function(a){r=a}}),Object.defineProperty(this,"optionName",{enumerable:!1,configurable:!0,get:function(){return e},set:function(a){e=a}});var t,n={};Object.defineProperty(this,"MK",{enumerable:!1,configurable:!1,get:function(){var a=function(l){return l};this.scope&&(a=this.scope.internal.getEncryptor(this.objId));var i,o=[];for(i in o.push("<<"),n)o.push("/"+i+" ("+Fh(a(n[i]))+")");return o.push(">>"),o.join(`
`)},set:function(a){an(a)==="object"&&(n=a)}}),Object.defineProperty(this,"caption",{enumerable:!0,configurable:!0,get:function(){return n.CA||""},set:function(a){typeof a=="string"&&(n.CA=a)}}),Object.defineProperty(this,"AS",{enumerable:!1,configurable:!1,get:function(){return t},set:function(a){var i=a==null?"":a.toString();i.substr(0,1)==="/"&&(i=i.substr(1)),t="/"+kh(i)}}),Object.defineProperty(this,"appearanceState",{enumerable:!0,configurable:!0,get:function(){return t.substr(1,t.length-1)},set:function(a){var i=a==null?"":a.toString();i.substr(0,1)==="/"&&(i=i.substr(1)),t="/"+kh(i)}}),this.caption="l",this.appearanceState="Off",this._AppearanceType=Xt.RadioButton.Circle,this.appearanceStreamContent=this._AppearanceType.createAppearanceStream(this.optionName)};ds(jp,el),Jf.prototype.setAppearance=function(r){if(!("createAppearanceStream"in r)||!("getCA"in r))throw new Error("Couldn't assign Appearance to RadioButton. Appearance was Invalid!");for(var e in this.Kids)if(this.Kids.hasOwnProperty(e)){var t=this.Kids[e];t.appearanceStreamContent=r.createAppearanceStream(t.optionName),t.caption=r.getCA()}},Jf.prototype.createOption=function(r){var e=new jp;return e.Parent=this,e.optionName=r,this.Kids.push(e),bz.call(this.scope,e),e};var tp=function(){Xa.call(this),this.fontName="zapfdingbats",this.caption="3",this.appearanceState="On",this.value="On",this.textAlign="center",this.appearanceStreamContent=Xt.CheckBox.createAppearanceStream()};ds(tp,Xa);var mh=function(){el.call(this),this.FT="/Tx",Object.defineProperty(this,"multiline",{enumerable:!0,configurable:!0,get:function(){return!!la(this.Ff,13)},set:function(e){e?this.Ff=ca(this.Ff,13):this.Ff=ua(this.Ff,13)}}),Object.defineProperty(this,"fileSelect",{enumerable:!0,configurable:!0,get:function(){return!!la(this.Ff,21)},set:function(e){e?this.Ff=ca(this.Ff,21):this.Ff=ua(this.Ff,21)}}),Object.defineProperty(this,"doNotSpellCheck",{enumerable:!0,configurable:!0,get:function(){return!!la(this.Ff,23)},set:function(e){e?this.Ff=ca(this.Ff,23):this.Ff=ua(this.Ff,23)}}),Object.defineProperty(this,"doNotScroll",{enumerable:!0,configurable:!0,get:function(){return!!la(this.Ff,24)},set:function(e){e?this.Ff=ca(this.Ff,24):this.Ff=ua(this.Ff,24)}}),Object.defineProperty(this,"comb",{enumerable:!0,configurable:!0,get:function(){return!!la(this.Ff,25)},set:function(e){e?this.Ff=ca(this.Ff,25):this.Ff=ua(this.Ff,25)}}),Object.defineProperty(this,"richText",{enumerable:!0,configurable:!0,get:function(){return!!la(this.Ff,26)},set:function(e){e?this.Ff=ca(this.Ff,26):this.Ff=ua(this.Ff,26)}});var r=null;Object.defineProperty(this,"MaxLen",{enumerable:!0,configurable:!1,get:function(){return r},set:function(e){r=e}}),Object.defineProperty(this,"maxLength",{enumerable:!0,configurable:!0,get:function(){return r},set:function(e){Number.isInteger(e)&&(r=e)}}),Object.defineProperty(this,"hasAppearanceStream",{enumerable:!0,configurable:!0,get:function(){return this.V||this.DV}})};ds(mh,el);var rp=function(){mh.call(this),Object.defineProperty(this,"password",{enumerable:!0,configurable:!0,get:function(){return!!la(this.Ff,14)},set:function(r){r?this.Ff=ca(this.Ff,14):this.Ff=ua(this.Ff,14)}}),this.password=!0};ds(rp,mh);var Xt={CheckBox:{createAppearanceStream:function(){return{N:{On:Xt.CheckBox.YesNormal},D:{On:Xt.CheckBox.YesPushDown,Off:Xt.CheckBox.OffPushDown}}},YesPushDown:function(r){var e=kl(r);e.scope=r.scope;var t=[],n=r.scope.internal.getFont(r.fontName,r.fontStyle).id,a=r.scope.__private__.encodeColorString(r.color),i=gv(r,r.caption);return t.push("0.749023 g"),t.push("0 0 "+mr(Xt.internal.getWidth(r))+" "+mr(Xt.internal.getHeight(r))+" re"),t.push("f"),t.push("BMC"),t.push("q"),t.push("0 0 1 rg"),t.push("/"+n+" "+mr(i.fontSize)+" Tf "+a),t.push("BT"),t.push(i.text),t.push("ET"),t.push("Q"),t.push("EMC"),e.stream=t.join(`
`),e},YesNormal:function(r){var e=kl(r);e.scope=r.scope;var t=r.scope.internal.getFont(r.fontName,r.fontStyle).id,n=r.scope.__private__.encodeColorString(r.color),a=[],i=Xt.internal.getHeight(r),o=Xt.internal.getWidth(r),l=gv(r,r.caption);return a.push("1 g"),a.push("0 0 "+mr(o)+" "+mr(i)+" re"),a.push("f"),a.push("q"),a.push("0 0 1 rg"),a.push("0 0 "+mr(o-1)+" "+mr(i-1)+" re"),a.push("W"),a.push("n"),a.push("0 g"),a.push("BT"),a.push("/"+t+" "+mr(l.fontSize)+" Tf "+n),a.push(l.text),a.push("ET"),a.push("Q"),e.stream=a.join(`
`),e},OffPushDown:function(r){var e=kl(r);e.scope=r.scope;var t=[];return t.push("0.749023 g"),t.push("0 0 "+mr(Xt.internal.getWidth(r))+" "+mr(Xt.internal.getHeight(r))+" re"),t.push("f"),e.stream=t.join(`
`),e}},RadioButton:{Circle:{createAppearanceStream:function(r){var e={D:{Off:Xt.RadioButton.Circle.OffPushDown},N:{}};return e.N[r]=Xt.RadioButton.Circle.YesNormal,e.D[r]=Xt.RadioButton.Circle.YesPushDown,e},getCA:function(){return"l"},YesNormal:function(r){var e=kl(r);e.scope=r.scope;var t=[],n=Xt.internal.getWidth(r)<=Xt.internal.getHeight(r)?Xt.internal.getWidth(r)/4:Xt.internal.getHeight(r)/4;n=Number((.9*n).toFixed(5));var a=Xt.internal.Bezier_C,i=Number((n*a).toFixed(5));return t.push("q"),t.push("1 0 0 1 "+gu(Xt.internal.getWidth(r)/2)+" "+gu(Xt.internal.getHeight(r)/2)+" cm"),t.push(n+" 0 m"),t.push(n+" "+i+" "+i+" "+n+" 0 "+n+" c"),t.push("-"+i+" "+n+" -"+n+" "+i+" -"+n+" 0 c"),t.push("-"+n+" -"+i+" -"+i+" -"+n+" 0 -"+n+" c"),t.push(i+" -"+n+" "+n+" -"+i+" "+n+" 0 c"),t.push("f"),t.push("Q"),e.stream=t.join(`
`),e},YesPushDown:function(r){var e=kl(r);e.scope=r.scope;var t=[],n=Xt.internal.getWidth(r)<=Xt.internal.getHeight(r)?Xt.internal.getWidth(r)/4:Xt.internal.getHeight(r)/4;n=Number((.9*n).toFixed(5));var a=Number((2*n).toFixed(5)),i=Number((a*Xt.internal.Bezier_C).toFixed(5)),o=Number((n*Xt.internal.Bezier_C).toFixed(5));return t.push("0.749023 g"),t.push("q"),t.push("1 0 0 1 "+gu(Xt.internal.getWidth(r)/2)+" "+gu(Xt.internal.getHeight(r)/2)+" cm"),t.push(a+" 0 m"),t.push(a+" "+i+" "+i+" "+a+" 0 "+a+" c"),t.push("-"+i+" "+a+" -"+a+" "+i+" -"+a+" 0 c"),t.push("-"+a+" -"+i+" -"+i+" -"+a+" 0 -"+a+" c"),t.push(i+" -"+a+" "+a+" -"+i+" "+a+" 0 c"),t.push("f"),t.push("Q"),t.push("0 g"),t.push("q"),t.push("1 0 0 1 "+gu(Xt.internal.getWidth(r)/2)+" "+gu(Xt.internal.getHeight(r)/2)+" cm"),t.push(n+" 0 m"),t.push(n+" "+o+" "+o+" "+n+" 0 "+n+" c"),t.push("-"+o+" "+n+" -"+n+" "+o+" -"+n+" 0 c"),t.push("-"+n+" -"+o+" -"+o+" -"+n+" 0 -"+n+" c"),t.push(o+" -"+n+" "+n+" -"+o+" "+n+" 0 c"),t.push("f"),t.push("Q"),e.stream=t.join(`
`),e},OffPushDown:function(r){var e=kl(r);e.scope=r.scope;var t=[],n=Xt.internal.getWidth(r)<=Xt.internal.getHeight(r)?Xt.internal.getWidth(r)/4:Xt.internal.getHeight(r)/4;n=Number((.9*n).toFixed(5));var a=Number((2*n).toFixed(5)),i=Number((a*Xt.internal.Bezier_C).toFixed(5));return t.push("0.749023 g"),t.push("q"),t.push("1 0 0 1 "+gu(Xt.internal.getWidth(r)/2)+" "+gu(Xt.internal.getHeight(r)/2)+" cm"),t.push(a+" 0 m"),t.push(a+" "+i+" "+i+" "+a+" 0 "+a+" c"),t.push("-"+i+" "+a+" -"+a+" "+i+" -"+a+" 0 c"),t.push("-"+a+" -"+i+" -"+i+" -"+a+" 0 -"+a+" c"),t.push(i+" -"+a+" "+a+" -"+i+" "+a+" 0 c"),t.push("f"),t.push("Q"),e.stream=t.join(`
`),e}},Cross:{createAppearanceStream:function(r){var e={D:{Off:Xt.RadioButton.Cross.OffPushDown},N:{}};return e.N[r]=Xt.RadioButton.Cross.YesNormal,e.D[r]=Xt.RadioButton.Cross.YesPushDown,e},getCA:function(){return"8"},YesNormal:function(r){var e=kl(r);e.scope=r.scope;var t=[],n=Xt.internal.calculateCross(r);return t.push("q"),t.push("1 1 "+mr(Xt.internal.getWidth(r)-2)+" "+mr(Xt.internal.getHeight(r)-2)+" re"),t.push("W"),t.push("n"),t.push(mr(n.x1.x)+" "+mr(n.x1.y)+" m"),t.push(mr(n.x2.x)+" "+mr(n.x2.y)+" l"),t.push(mr(n.x4.x)+" "+mr(n.x4.y)+" m"),t.push(mr(n.x3.x)+" "+mr(n.x3.y)+" l"),t.push("s"),t.push("Q"),e.stream=t.join(`
`),e},YesPushDown:function(r){var e=kl(r);e.scope=r.scope;var t=Xt.internal.calculateCross(r),n=[];return n.push("0.749023 g"),n.push("0 0 "+mr(Xt.internal.getWidth(r))+" "+mr(Xt.internal.getHeight(r))+" re"),n.push("f"),n.push("q"),n.push("1 1 "+mr(Xt.internal.getWidth(r)-2)+" "+mr(Xt.internal.getHeight(r)-2)+" re"),n.push("W"),n.push("n"),n.push(mr(t.x1.x)+" "+mr(t.x1.y)+" m"),n.push(mr(t.x2.x)+" "+mr(t.x2.y)+" l"),n.push(mr(t.x4.x)+" "+mr(t.x4.y)+" m"),n.push(mr(t.x3.x)+" "+mr(t.x3.y)+" l"),n.push("s"),n.push("Q"),e.stream=n.join(`
`),e},OffPushDown:function(r){var e=kl(r);e.scope=r.scope;var t=[];return t.push("0.749023 g"),t.push("0 0 "+mr(Xt.internal.getWidth(r))+" "+mr(Xt.internal.getHeight(r))+" re"),t.push("f"),e.stream=t.join(`
`),e}}},createDefaultAppearanceStream:function(r){var e=r.scope.internal.getFont(r.fontName,r.fontStyle).id,t=r.scope.__private__.encodeColorString(r.color);return"/"+e+" "+r.fontSize+" Tf "+t}};Xt.internal={Bezier_C:.551915024494,calculateCross:function(r){var e=Xt.internal.getWidth(r),t=Xt.internal.getHeight(r),n=Math.min(e,t);return{x1:{x:(e-n)/2,y:(t-n)/2+n},x2:{x:(e-n)/2+n,y:(t-n)/2},x3:{x:(e-n)/2,y:(t-n)/2},x4:{x:(e-n)/2+n,y:(t-n)/2+n}}}},Xt.internal.getWidth=function(r){var e=0;return an(r)==="object"&&(e=i3(r.Rect[2])),e},Xt.internal.getHeight=function(r){var e=0;return an(r)==="object"&&(e=i3(r.Rect[3])),e};var bz=Qn.addField=function(r){if(yz(this,r),!(r instanceof el))throw new Error("Invalid argument passed to jsPDF.addField.");var e;return(e=r).scope.internal.acroformPlugin.printedOut&&(e.scope.internal.acroformPlugin.printedOut=!1,e.scope.internal.acroformPlugin.acroFormDictionaryRoot=null),e.scope.internal.acroformPlugin.acroFormDictionaryRoot.Fields.push(e),r.page=r.scope.internal.getCurrentPageInfo().pageNumber,this};Qn.AcroFormChoiceField=Kf,Qn.AcroFormListBox=$f,Qn.AcroFormComboBox=Zf,Qn.AcroFormEditBox=Qg,Qn.AcroFormButton=Xa,Qn.AcroFormPushButton=ep,Qn.AcroFormRadioButton=Jf,Qn.AcroFormCheckBox=tp,Qn.AcroFormTextField=mh,Qn.AcroFormPasswordField=rp,Qn.AcroFormAppearance=Xt,Qn.AcroForm={ChoiceField:Kf,ListBox:$f,ComboBox:Zf,EditBox:Qg,Button:Xa,PushButton:ep,RadioButton:Jf,CheckBox:tp,TextField:mh,PasswordField:rp,Appearance:Xt},er.AcroForm={ChoiceField:Kf,ListBox:$f,ComboBox:Zf,EditBox:Qg,Button:Xa,PushButton:ep,RadioButton:Jf,CheckBox:tp,TextField:mh,PasswordField:rp,Appearance:Xt};er.AcroForm;function uC(r){return r.reduce(function(e,t,n){return e[t]=n,e},{})}(function(r){var e="addImage_";r.__addimage__={};var t="UNKNOWN",n={PNG:[[137,80,78,71]],TIFF:[[77,77,0,42],[73,73,42,0]],JPEG:[[255,216,255,224,void 0,void 0,74,70,73,70,0],[255,216,255,225,void 0,void 0,69,120,105,102,0,0],[255,216,255,219],[255,216,255,238]],JPEG2000:[[0,0,0,12,106,80,32,32]],GIF87a:[[71,73,70,56,55,97]],GIF89a:[[71,73,70,56,57,97]],WEBP:[[82,73,70,70,void 0,void 0,void 0,void 0,87,69,66,80]],BMP:[[66,77],[66,65],[67,73],[67,80],[73,67],[80,84]]},a=r.__addimage__.getImageFileTypeByImageData=function(q,O){var V,F,re,ae,J,ge=t;if((O=O||t)==="RGBA"||q.data!==void 0&&q.data instanceof Uint8ClampedArray&&"height"in q&&"width"in q)return"RGBA";if(ee(q))for(J in n)for(re=n[J],V=0;V<re.length;V+=1){for(ae=!0,F=0;F<re[V].length;F+=1)if(re[V][F]!==void 0&&re[V][F]!==q[F]){ae=!1;break}if(ae===!0){ge=J;break}}else for(J in n)for(re=n[J],V=0;V<re.length;V+=1){for(ae=!0,F=0;F<re[V].length;F+=1)if(re[V][F]!==void 0&&re[V][F]!==q.charCodeAt(F)){ae=!1;break}if(ae===!0){ge=J;break}}return ge===t&&O!==t&&(ge=O),ge},i=function q(O){for(var V=this.internal.write,F=this.internal.putStream,re=(0,this.internal.getFilters)();re.indexOf("FlateEncode")!==-1;)re.splice(re.indexOf("FlateEncode"),1);O.objectId=this.internal.newObject();var ae=[];if(ae.push({key:"Type",value:"/XObject"}),ae.push({key:"Subtype",value:"/Image"}),ae.push({key:"Width",value:O.width}),ae.push({key:"Height",value:O.height}),O.colorSpace===k.INDEXED?ae.push({key:"ColorSpace",value:"[/Indexed /DeviceRGB "+(O.palette.length/3-1)+" "+("sMask"in O&&O.sMask!==void 0?O.objectId+2:O.objectId+1)+" 0 R]"}):(ae.push({key:"ColorSpace",value:"/"+O.colorSpace}),O.colorSpace===k.DEVICE_CMYK&&ae.push({key:"Decode",value:"[1 0 1 0 1 0 1 0]"})),ae.push({key:"BitsPerComponent",value:O.bitsPerComponent}),"decodeParameters"in O&&O.decodeParameters!==void 0&&ae.push({key:"DecodeParms",value:"<<"+O.decodeParameters+">>"}),"transparency"in O&&Array.isArray(O.transparency)&&O.transparency.length>0){for(var J="",ge=0,te=O.transparency.length;ge<te;ge++)J+=O.transparency[ge]+" "+O.transparency[ge]+" ";ae.push({key:"Mask",value:"["+J+"]"})}O.sMask!==void 0&&ae.push({key:"SMask",value:O.objectId+1+" 0 R"});var ke=O.filter!==void 0?["/"+O.filter]:void 0;if(F({data:O.data,additionalKeyValues:ae,alreadyAppliedFilters:ke,objectId:O.objectId}),V("endobj"),"sMask"in O&&O.sMask!==void 0){var Y,w=(Y=O.sMaskBitsPerComponent)!==null&&Y!==void 0?Y:O.bitsPerComponent,L={width:O.width,height:O.height,colorSpace:"DeviceGray",bitsPerComponent:w,data:O.sMask};"filter"in O&&(L.decodeParameters="/Predictor ".concat(O.predictor," /Colors 1 /BitsPerComponent ").concat(w," /Columns ").concat(O.width),L.filter=O.filter),q.call(this,L)}if(O.colorSpace===k.INDEXED){var P=this.internal.newObject();F({data:B(new Uint8Array(O.palette)),objectId:P}),V("endobj")}},o=function(){var q=this.internal.collections[e+"images"];for(var O in q)i.call(this,q[O])},l=function(){var q,O=this.internal.collections[e+"images"],V=this.internal.write;for(var F in O)V("/I"+(q=O[F]).index,q.objectId,"0","R")},u=function(){this.internal.collections[e+"images"]||(this.internal.collections[e+"images"]={},this.internal.events.subscribe("putResources",o),this.internal.events.subscribe("putXobjectDict",l))},h=function(){var q=this.internal.collections[e+"images"];return u.call(this),q},f=function(){return Object.keys(this.internal.collections[e+"images"]).length},m=function(q){return typeof r["process"+q.toUpperCase()]=="function"},x=function(q){return an(q)==="object"&&q.nodeType===1},g=function(q,O){if(q.nodeName==="IMG"&&q.hasAttribute("src")){var V=""+q.getAttribute("src");if(V.indexOf("data:image/")===0)return Jg(unescape(V).split("base64,").pop());var F=r.loadFile(V,!0);if(F!==void 0)return F}if(q.nodeName==="CANVAS"){if(q.width===0||q.height===0)throw new Error("Given canvas must have data. Canvas width: "+q.width+", height: "+q.height);var re;switch(O){case"PNG":re="image/png";break;case"WEBP":re="image/webp";break;default:re="image/jpeg"}return Jg(q.toDataURL(re,1).split("base64,").pop())}},y=function(q){var O=this.internal.collections[e+"images"];if(O){for(var V in O)if(q===O[V].alias)return O[V]}},v=function(q,O,V){return q||O||(q=-96,O=-96),q<0&&(q=-1*V.width*72/q/this.internal.scaleFactor),O<0&&(O=-1*V.height*72/O/this.internal.scaleFactor),q===0&&(q=O*V.width/V.height),O===0&&(O=q*V.height/V.width),[q,O]},S=function(q,O,V,F,re,ae){var J=v.call(this,V,F,re),ge=this.internal.getCoordinateString,te=this.internal.getVerticalCoordinateString,ke=h.call(this);if(V=J[0],F=J[1],ke[re.index]=re,ae){ae*=Math.PI/180;var Y=Math.cos(ae),w=Math.sin(ae),L=function(U){return U.toFixed(4)},P=[L(Y),L(w),L(-1*w),L(Y),0,0,"cm"]}this.internal.write("q"),ae?(this.internal.write([1,"0","0",1,ge(q),te(O+F),"cm"].join(" ")),this.internal.write(P.join(" ")),this.internal.write([ge(V),"0","0",ge(F),"0","0","cm"].join(" "))):this.internal.write([ge(V),"0","0",ge(F),ge(q),te(O+F),"cm"].join(" ")),this.isAdvancedAPI()&&this.internal.write([1,0,0,-1,0,0,"cm"].join(" ")),this.internal.write("/I"+re.index+" Do"),this.internal.write("Q")},k=r.color_spaces={DEVICE_RGB:"DeviceRGB",DEVICE_GRAY:"DeviceGray",DEVICE_CMYK:"DeviceCMYK",CAL_GREY:"CalGray",CAL_RGB:"CalRGB",LAB:"Lab",ICC_BASED:"ICCBased",INDEXED:"Indexed",PATTERN:"Pattern",SEPARATION:"Separation",DEVICE_N:"DeviceN"};r.decode={DCT_DECODE:"DCTDecode",FLATE_DECODE:"FlateDecode",LZW_DECODE:"LZWDecode",JPX_DECODE:"JPXDecode",JBIG2_DECODE:"JBIG2Decode",ASCII85_DECODE:"ASCII85Decode",ASCII_HEX_DECODE:"ASCIIHexDecode",RUN_LENGTH_DECODE:"RunLengthDecode",CCITT_FAX_DECODE:"CCITTFaxDecode"};var A=r.image_compression={NONE:"NONE",FAST:"FAST",MEDIUM:"MEDIUM",SLOW:"SLOW"},N=r.__addimage__.sHashCode=function(q){var O,V,F=0;if(typeof q=="string")for(V=q.length,O=0;O<V;O++)F=(F<<5)-F+q.charCodeAt(O),F|=0;else if(ee(q))for(V=q.byteLength/2,O=0;O<V;O++)F=(F<<5)-F+q[O],F|=0;return F},j=r.__addimage__.validateStringAsBase64=function(q){(q=q||"").toString().trim();var O=!0;return q.length===0&&(O=!1),q.length%4!=0&&(O=!1),/^[A-Za-z0-9+/]+$/.test(q.substr(0,q.length-2))===!1&&(O=!1),/^[A-Za-z0-9/][A-Za-z0-9+/]|[A-Za-z0-9+/]=|==$/.test(q.substr(-2))===!1&&(O=!1),O},W=r.__addimage__.extractImageFromDataUrl=function(q){if(q==null||!(q=q.trim()).startsWith("data:"))return null;var O=q.indexOf(",");return O<0?null:q.substring(0,O).trim().endsWith("base64")?q.substring(O+1):null};r.__addimage__.isArrayBuffer=function(q){return q instanceof ArrayBuffer};var ee=r.__addimage__.isArrayBufferView=function(q){return q instanceof Int8Array||q instanceof Uint8Array||q instanceof Uint8ClampedArray||q instanceof Int16Array||q instanceof Uint16Array||q instanceof Int32Array||q instanceof Uint32Array||q instanceof Float32Array||q instanceof Float64Array},z=r.__addimage__.binaryStringToUint8Array=function(q){for(var O=q.length,V=new Uint8Array(O),F=0;F<O;F++)V[F]=q.charCodeAt(F);return V},B=r.__addimage__.arrayBufferToBinaryString=function(q){for(var O="",V=ee(q)?q:new Uint8Array(q),F=0;F<V.length;F+=8192)O+=String.fromCharCode.apply(null,V.subarray(F,F+8192));return O};r.addImage=function(){var q,O,V,F,re,ae,J,ge,te;if(typeof arguments[1]=="number"?(O=t,V=arguments[1],F=arguments[2],re=arguments[3],ae=arguments[4],J=arguments[5],ge=arguments[6],te=arguments[7]):(O=arguments[1],V=arguments[2],F=arguments[3],re=arguments[4],ae=arguments[5],J=arguments[6],ge=arguments[7],te=arguments[8]),an(q=arguments[0])==="object"&&!x(q)&&"imageData"in q){var ke=q;q=ke.imageData,O=ke.format||O||t,V=ke.x||V||0,F=ke.y||F||0,re=ke.w||ke.width||re,ae=ke.h||ke.height||ae,J=ke.alias||J,ge=ke.compression||ge,te=ke.rotation||ke.angle||te}var Y=this.internal.getFilters();if(ge===void 0&&Y.indexOf("FlateEncode")!==-1&&(ge="SLOW"),isNaN(V)||isNaN(F))throw new Error("Invalid coordinates passed to jsPDF.addImage");u.call(this);var w=D.call(this,q,O,J,ge);return S.call(this,V,F,re,ae,w,te),this};var D=function(q,O,V,F){var re,ae,J;if(typeof q=="string"&&a(q)===t){q=unescape(q);var ge=Z(q,!1);(ge!==""||(ge=r.loadFile(q,!0))!==void 0)&&(q=ge)}if(x(q)&&(q=g(q,O)),O=a(q,O),!m(O))throw new Error("addImage does not support files of type '"+O+"', please ensure that a plugin for '"+O+"' support is added.");if(((J=V)==null||J.length===0)&&(V=(function(te){return typeof te=="string"||ee(te)?N(te):ee(te.data)?N(te.data):null})(q)),(re=y.call(this,V))||(q instanceof Uint8Array||O==="RGBA"||(ae=q,q=z(q)),re=this["process"+O.toUpperCase()](q,f.call(this),V,(function(te){return te&&typeof te=="string"&&(te=te.toUpperCase()),te in r.image_compression?te:A.NONE})(F),ae)),!re)throw new Error("An unknown error occurred whilst processing the image.");return re},Z=r.__addimage__.convertBase64ToBinaryString=function(q,O){O=typeof O!="boolean"||O;var V,F="";if(typeof q=="string"){var re;V=(re=W(q))!==null&&re!==void 0?re:q;try{F=Jg(V)}catch(ae){if(O)throw j(V)?new Error("atob-Error in jsPDF.convertBase64ToBinaryString "+ae.message):new Error("Supplied Data is not a valid base64-String jsPDF.convertBase64ToBinaryString ")}}return F};r.getImageProperties=function(q){var O,V,F="";if(x(q)&&(q=g(q)),typeof q=="string"&&a(q)===t&&((F=Z(q,!1))===""&&(F=r.loadFile(q)||""),q=F),V=a(q),!m(V))throw new Error("addImage does not support files of type '"+V+"', please ensure that a plugin for '"+V+"' support is added.");if(q instanceof Uint8Array||(q=z(q)),!(O=this["process"+V.toUpperCase()](q)))throw new Error("An unknown error occurred whilst processing the image");return O.fileType=V,O}})(er.API),(function(r){var e=function(t){if(t!==void 0&&t!="")return!0};er.API.events.push(["addPage",function(t){this.internal.getPageInfo(t.pageNumber).pageContext.annotations=[]}]),r.events.push(["putPage",function(t){for(var n,a,i,o=this.internal.getCoordinateString,l=this.internal.getVerticalCoordinateString,u=this.internal.getPageInfoByObjId(t.objId),h=t.pageContext.annotations,f=!1,m=0;m<h.length&&!f;m++)switch((n=h[m]).type){case"link":(e(n.options.url)||e(n.options.pageNumber))&&(f=!0);break;case"reference":case"text":case"freetext":f=!0}if(f!=0){this.internal.write("/Annots [");for(var x=0;x<h.length;x++){n=h[x];var g=this.internal.pdfEscape,y=this.internal.getEncryptor(t.objId);switch(n.type){case"reference":this.internal.write(" "+n.object.objId+" 0 R ");break;case"text":var v=this.internal.newAdditionalObject(),S=this.internal.newAdditionalObject(),k=this.internal.getEncryptor(v.objId),A=n.title||"Note";i="<</Type /Annot /Subtype /Text "+(a="/Rect ["+o(n.bounds.x)+" "+l(n.bounds.y+n.bounds.h)+" "+o(n.bounds.x+n.bounds.w)+" "+l(n.bounds.y)+"] ")+"/Contents ("+g(k(n.contents))+")",i+=" /Popup "+S.objId+" 0 R",i+=" /P "+u.objId+" 0 R",i+=" /T ("+g(k(A))+") >>",v.content=i;var N=v.objId+" 0 R";i="<</Type /Annot /Subtype /Popup "+(a="/Rect ["+o(n.bounds.x+30)+" "+l(n.bounds.y+n.bounds.h)+" "+o(n.bounds.x+n.bounds.w+30)+" "+l(n.bounds.y)+"] ")+" /Parent "+N,n.open&&(i+=" /Open true"),i+=" >>",S.content=i,this.internal.write(v.objId,"0 R",S.objId,"0 R");break;case"freetext":a="/Rect ["+o(n.bounds.x)+" "+l(n.bounds.y)+" "+o(n.bounds.x+n.bounds.w)+" "+l(n.bounds.y+n.bounds.h)+"] ";var j=n.color||"#000000";i="<</Type /Annot /Subtype /FreeText "+a+"/Contents ("+g(y(n.contents))+")",i+=" /DS(font: Helvetica,sans-serif 12.0pt; text-align:left; color:#"+j+")",i+=" /Border [0 0 0]",i+=" >>",this.internal.write(i);break;case"link":if(n.options.name){var W=this.annotations._nameMap[n.options.name];n.options.pageNumber=W.page,n.options.top=W.y}else n.options.top||(n.options.top=0);if(a="/Rect ["+n.finalBounds.x+" "+n.finalBounds.y+" "+n.finalBounds.w+" "+n.finalBounds.h+"] ",i="",n.options.url)i="<</Type /Annot /Subtype /Link "+a+"/Border [0 0 0] /A <</S /URI /URI ("+g(y(n.options.url))+") >>";else if(n.options.pageNumber)switch(i="<</Type /Annot /Subtype /Link "+a+"/Border [0 0 0] /Dest ["+this.internal.getPageInfo(n.options.pageNumber).objId+" 0 R",n.options.magFactor=n.options.magFactor||"XYZ",n.options.magFactor){case"Fit":i+=" /Fit]";break;case"FitH":i+=" /FitH "+n.options.top+"]";break;case"FitV":n.options.left=n.options.left||0,i+=" /FitV "+n.options.left+"]";break;default:var ee=l(n.options.top);n.options.left=n.options.left||0,n.options.zoom===void 0&&(n.options.zoom=0),i+=" /XYZ "+n.options.left+" "+ee+" "+n.options.zoom+"]"}i!=""&&(i+=" >>",this.internal.write(i))}}this.internal.write("]")}}]),r.createAnnotation=function(t){var n=this.internal.getCurrentPageInfo();switch(t.type){case"link":this.link(t.bounds.x,t.bounds.y,t.bounds.w,t.bounds.h,t);break;case"text":case"freetext":n.pageContext.annotations.push(t)}},r.link=function(t,n,a,i,o){var l=this.internal.getCurrentPageInfo(),u=this.internal.getCoordinateString,h=this.internal.getVerticalCoordinateString;l.pageContext.annotations.push({finalBounds:{x:u(t),y:h(n),w:u(t+a),h:h(n+i)},options:o,type:"link"})},r.textWithLink=function(t,n,a,i){var o,l,u=this.getTextWidth(t),h=this.internal.getLineHeight()/this.internal.scaleFactor;if(i.maxWidth!==void 0){l=i.maxWidth;var f=this.splitTextToSize(t,l).length;o=Math.ceil(h*f)}else l=u,o=h;return this.text(t,n,a,i),a+=.2*h,i.align==="center"&&(n-=u/2),i.align==="right"&&(n-=u),this.link(n,a-h,l,o,i),u},r.getTextWidth=function(t){var n=this.internal.getFontSize();return this.getStringUnitWidth(t)*n/this.internal.scaleFactor}})(er.API),(function(r){var e={1569:[65152],1570:[65153,65154],1571:[65155,65156],1572:[65157,65158],1573:[65159,65160],1574:[65161,65162,65163,65164],1575:[65165,65166],1576:[65167,65168,65169,65170],1577:[65171,65172],1578:[65173,65174,65175,65176],1579:[65177,65178,65179,65180],1580:[65181,65182,65183,65184],1581:[65185,65186,65187,65188],1582:[65189,65190,65191,65192],1583:[65193,65194],1584:[65195,65196],1585:[65197,65198],1586:[65199,65200],1587:[65201,65202,65203,65204],1588:[65205,65206,65207,65208],1589:[65209,65210,65211,65212],1590:[65213,65214,65215,65216],1591:[65217,65218,65219,65220],1592:[65221,65222,65223,65224],1593:[65225,65226,65227,65228],1594:[65229,65230,65231,65232],1601:[65233,65234,65235,65236],1602:[65237,65238,65239,65240],1603:[65241,65242,65243,65244],1604:[65245,65246,65247,65248],1605:[65249,65250,65251,65252],1606:[65253,65254,65255,65256],1607:[65257,65258,65259,65260],1608:[65261,65262],1609:[65263,65264,64488,64489],1610:[65265,65266,65267,65268],1649:[64336,64337],1655:[64477],1657:[64358,64359,64360,64361],1658:[64350,64351,64352,64353],1659:[64338,64339,64340,64341],1662:[64342,64343,64344,64345],1663:[64354,64355,64356,64357],1664:[64346,64347,64348,64349],1667:[64374,64375,64376,64377],1668:[64370,64371,64372,64373],1670:[64378,64379,64380,64381],1671:[64382,64383,64384,64385],1672:[64392,64393],1676:[64388,64389],1677:[64386,64387],1678:[64390,64391],1681:[64396,64397],1688:[64394,64395],1700:[64362,64363,64364,64365],1702:[64366,64367,64368,64369],1705:[64398,64399,64400,64401],1709:[64467,64468,64469,64470],1711:[64402,64403,64404,64405],1713:[64410,64411,64412,64413],1715:[64406,64407,64408,64409],1722:[64414,64415],1723:[64416,64417,64418,64419],1726:[64426,64427,64428,64429],1728:[64420,64421],1729:[64422,64423,64424,64425],1733:[64480,64481],1734:[64473,64474],1735:[64471,64472],1736:[64475,64476],1737:[64482,64483],1739:[64478,64479],1740:[64508,64509,64510,64511],1744:[64484,64485,64486,64487],1746:[64430,64431],1747:[64432,64433]},t={65247:{65154:65269,65156:65271,65160:65273,65166:65275},65248:{65154:65270,65156:65272,65160:65274,65166:65276},65165:{65247:{65248:{65258:65010}}},1617:{1612:64606,1613:64607,1614:64608,1615:64609,1616:64610}},n={1612:64606,1613:64607,1614:64608,1615:64609,1616:64610},a=[1570,1571,1573,1575];r.__arabicParser__={};var i=r.__arabicParser__.isInArabicSubstitutionA=function(v){return e[v.charCodeAt(0)]!==void 0},o=r.__arabicParser__.isArabicLetter=function(v){return typeof v=="string"&&/^[\u0600-\u06FF\u0750-\u077F\u08A0-\u08FF\uFB50-\uFDFF\uFE70-\uFEFF]+$/.test(v)},l=r.__arabicParser__.isArabicEndLetter=function(v){return o(v)&&i(v)&&e[v.charCodeAt(0)].length<=2},u=r.__arabicParser__.isArabicAlfLetter=function(v){return o(v)&&a.indexOf(v.charCodeAt(0))>=0};r.__arabicParser__.arabicLetterHasIsolatedForm=function(v){return o(v)&&i(v)&&e[v.charCodeAt(0)].length>=1};var h=r.__arabicParser__.arabicLetterHasFinalForm=function(v){return o(v)&&i(v)&&e[v.charCodeAt(0)].length>=2};r.__arabicParser__.arabicLetterHasInitialForm=function(v){return o(v)&&i(v)&&e[v.charCodeAt(0)].length>=3};var f=r.__arabicParser__.arabicLetterHasMedialForm=function(v){return o(v)&&i(v)&&e[v.charCodeAt(0)].length==4},m=r.__arabicParser__.resolveLigatures=function(v){var S=0,k=t,A="",N=0;for(S=0;S<v.length;S+=1)k[v.charCodeAt(S)]!==void 0?(N++,typeof(k=k[v.charCodeAt(S)])=="number"&&(A+=String.fromCharCode(k),k=t,N=0),S===v.length-1&&(k=t,A+=v.charAt(S-(N-1)),S-=N-1,N=0)):(k=t,A+=v.charAt(S-N),S-=N,N=0);return A};r.__arabicParser__.isArabicDiacritic=function(v){return v!==void 0&&n[v.charCodeAt(0)]!==void 0};var x=r.__arabicParser__.getCorrectForm=function(v,S,k){return o(v)?i(v)===!1?-1:!h(v)||!o(S)&&!o(k)||!o(k)&&l(S)||l(v)&&!o(S)||l(v)&&u(S)||l(v)&&l(S)?0:f(v)&&o(S)&&!l(S)&&o(k)&&h(k)?3:l(v)||!o(k)?1:2:-1},g=function(v){var S=0,k=0,A=0,N="",j="",W="",ee=(v=v||"").split("\\s+"),z=[];for(S=0;S<ee.length;S+=1){for(z.push(""),k=0;k<ee[S].length;k+=1)N=ee[S][k],j=ee[S][k-1],W=ee[S][k+1],o(N)?(A=x(N,j,W),z[S]+=A!==-1?String.fromCharCode(e[N.charCodeAt(0)][A]):N):z[S]+=N;z[S]=m(z[S])}return z.join(" ")},y=r.__arabicParser__.processArabic=r.processArabic=function(){var v,S=typeof arguments[0]=="string"?arguments[0]:arguments[0].text,k=[];if(Array.isArray(S)){var A=0;for(k=[],A=0;A<S.length;A+=1)Array.isArray(S[A])?k.push([g(S[A][0]),S[A][1],S[A][2]]):k.push([g(S[A])]);v=k}else v=g(S);return typeof arguments[0]=="string"?v:(arguments[0].text=v,arguments[0])};r.events.push(["preProcessText",y])})(er.API),er.API.autoPrint=function(r){var e;return(r=r||{}).variant=r.variant||"non-conform",r.variant==="javascript"?this.addJS("print({});"):(this.internal.events.subscribe("postPutResources",function(){e=this.internal.newObject(),this.internal.out("<<"),this.internal.out("/S /Named"),this.internal.out("/Type /Action"),this.internal.out("/N /Print"),this.internal.out(">>"),this.internal.out("endobj")}),this.internal.events.subscribe("putCatalog",function(){this.internal.out("/OpenAction "+e+" 0 R")})),this},(function(r){var e=function(){var t=void 0;Object.defineProperty(this,"pdf",{get:function(){return t},set:function(l){t=l}});var n=150;Object.defineProperty(this,"width",{get:function(){return n},set:function(l){n=isNaN(l)||Number.isInteger(l)===!1||l<0?150:l,this.getContext("2d").pageWrapXEnabled&&(this.getContext("2d").pageWrapX=n+1)}});var a=300;Object.defineProperty(this,"height",{get:function(){return a},set:function(l){a=isNaN(l)||Number.isInteger(l)===!1||l<0?300:l,this.getContext("2d").pageWrapYEnabled&&(this.getContext("2d").pageWrapY=a+1)}});var i=[];Object.defineProperty(this,"childNodes",{get:function(){return i},set:function(l){i=l}});var o={};Object.defineProperty(this,"style",{get:function(){return o},set:function(l){o=l}}),Object.defineProperty(this,"parentNode",{})};e.prototype.getContext=function(t,n){var a;if((t=t||"2d")!=="2d")return null;for(a in n)this.pdf.context2d.hasOwnProperty(a)&&(this.pdf.context2d[a]=n[a]);return this.pdf.context2d._canvas=this,this.pdf.context2d},e.prototype.toDataURL=function(){throw new Error("toDataURL is not implemented.")},r.events.push(["initialized",function(){this.canvas=new e,this.canvas.pdf=this}])})(er.API),(function(r){var e={left:0,top:0,bottom:0,right:0},t=!1,n=function(){this.internal.__cell__===void 0&&(this.internal.__cell__={},this.internal.__cell__.padding=3,this.internal.__cell__.headerFunction=void 0,this.internal.__cell__.margins=Object.assign({},e),this.internal.__cell__.margins.width=this.getPageWidth(),a.call(this))},a=function(){this.internal.__cell__.lastCell=new i,this.internal.__cell__.pages=1},i=function(){var u=arguments[0];Object.defineProperty(this,"x",{enumerable:!0,get:function(){return u},set:function(v){u=v}});var h=arguments[1];Object.defineProperty(this,"y",{enumerable:!0,get:function(){return h},set:function(v){h=v}});var f=arguments[2];Object.defineProperty(this,"width",{enumerable:!0,get:function(){return f},set:function(v){f=v}});var m=arguments[3];Object.defineProperty(this,"height",{enumerable:!0,get:function(){return m},set:function(v){m=v}});var x=arguments[4];Object.defineProperty(this,"text",{enumerable:!0,get:function(){return x},set:function(v){x=v}});var g=arguments[5];Object.defineProperty(this,"lineNumber",{enumerable:!0,get:function(){return g},set:function(v){g=v}});var y=arguments[6];return Object.defineProperty(this,"align",{enumerable:!0,get:function(){return y},set:function(v){y=v}}),this};i.prototype.clone=function(){return new i(this.x,this.y,this.width,this.height,this.text,this.lineNumber,this.align)},i.prototype.toArray=function(){return[this.x,this.y,this.width,this.height,this.text,this.lineNumber,this.align]},r.setHeaderFunction=function(u){return n.call(this),this.internal.__cell__.headerFunction=typeof u=="function"?u:void 0,this},r.getTextDimensions=function(u,h){n.call(this);var f=(h=h||{}).fontSize||this.getFontSize(),m=h.font||this.getFont(),x=h.scaleFactor||this.internal.scaleFactor,g=0,y=0,v=0,S=this;if(!Array.isArray(u)&&typeof u!="string"){if(typeof u!="number")throw new Error("getTextDimensions expects text-parameter to be of type String or type Number or an Array of Strings.");u=String(u)}var k=h.maxWidth;k>0?typeof u=="string"?u=this.splitTextToSize(u,k):Object.prototype.toString.call(u)==="[object Array]"&&(u=u.reduce(function(N,j){return N.concat(S.splitTextToSize(j,k))},[])):u=Array.isArray(u)?u:[u];for(var A=0;A<u.length;A++)g<(v=this.getStringUnitWidth(u[A],{font:m})*f)&&(g=v);return g!==0&&(y=u.length),{w:g/=x,h:Math.max((y*f*this.getLineHeightFactor()-f*(this.getLineHeightFactor()-1))/x,0)}},r.cellAddPage=function(){n.call(this),this.addPage();var u=this.internal.__cell__.margins||e;return this.internal.__cell__.lastCell=new i(u.left,u.top,void 0,void 0),this.internal.__cell__.pages+=1,this};var o=r.cell=function(){var u;u=arguments[0]instanceof i?arguments[0]:new i(arguments[0],arguments[1],arguments[2],arguments[3],arguments[4],arguments[5],arguments[6]),n.call(this);var h=this.internal.__cell__.lastCell,f=this.internal.__cell__.padding,m=this.internal.__cell__.margins||e,x=this.internal.__cell__.tableHeaderRow,g=this.internal.__cell__.printHeaders;return h.lineNumber!==void 0&&(h.lineNumber===u.lineNumber?(u.x=(h.x||0)+(h.width||0),u.y=h.y||0):h.y+h.height+u.height+m.bottom>this.getPageHeight()?(this.cellAddPage(),u.y=m.top,g&&x&&(this.printHeaderRow(u.lineNumber,!0),u.y+=x[0].height)):u.y=h.y+h.height||u.y),u.text[0]!==void 0&&(this.rect(u.x,u.y,u.width,u.height,t===!0?"FD":void 0),u.align==="right"?this.text(u.text,u.x+u.width-f,u.y+f,{align:"right",baseline:"top"}):u.align==="center"?this.text(u.text,u.x+u.width/2,u.y+f,{align:"center",baseline:"top",maxWidth:u.width-f-f}):this.text(u.text,u.x+f,u.y+f,{align:"left",baseline:"top",maxWidth:u.width-f-f})),this.internal.__cell__.lastCell=u,this};r.table=function(u,h,f,m,x){if(n.call(this),!f)throw new Error("No data for PDF table.");var g,y,v,S,k=[],A=[],N=[],j={},W={},ee=[],z=[],B=(x=x||{}).autoSize||!1,D=x.printHeaders!==!1,Z=x.css&&x.css["font-size"]!==void 0?16*x.css["font-size"]:x.fontSize||12,q=x.margins||Object.assign({width:this.getPageWidth()},e),O=typeof x.padding=="number"?x.padding:3,V=x.headerBackgroundColor||"#c8c8c8",F=x.headerTextColor||"#000";if(a.call(this),this.internal.__cell__.printHeaders=D,this.internal.__cell__.margins=q,this.internal.__cell__.table_font_size=Z,this.internal.__cell__.padding=O,this.internal.__cell__.headerBackgroundColor=V,this.internal.__cell__.headerTextColor=F,this.setFontSize(Z),m==null)A=k=Object.keys(f[0]),N=k.map(function(){return"left"});else if(Array.isArray(m)&&an(m[0])==="object")for(k=m.map(function(ke){return ke.name}),A=m.map(function(ke){return ke.prompt||ke.name||""}),N=m.map(function(ke){return ke.align||"left"}),g=0;g<m.length;g+=1)W[m[g].name]=.7499990551181103*m[g].width;else Array.isArray(m)&&typeof m[0]=="string"&&(A=k=m,N=k.map(function(){return"left"}));if(B||Array.isArray(m)&&typeof m[0]=="string")for(g=0;g<k.length;g+=1){for(j[S=k[g]]=f.map(function(ke){return ke[S]}),this.setFont(void 0,"bold"),ee.push(this.getTextDimensions(A[g],{fontSize:this.internal.__cell__.table_font_size,scaleFactor:this.internal.scaleFactor}).w),y=j[S],this.setFont(void 0,"normal"),v=0;v<y.length;v+=1)ee.push(this.getTextDimensions(y[v],{fontSize:this.internal.__cell__.table_font_size,scaleFactor:this.internal.scaleFactor}).w);W[S]=Math.max.apply(null,ee)+O+O,ee=[]}if(D){var re={};for(g=0;g<k.length;g+=1)re[k[g]]={},re[k[g]].text=A[g],re[k[g]].align=N[g];var ae=l.call(this,re,W);z=k.map(function(ke){return new i(u,h,W[ke],ae,re[ke].text,void 0,re[ke].align)}),this.setTableHeaderRow(z),this.printHeaderRow(1,!1)}var J=m.reduce(function(ke,Y){return ke[Y.name]=Y.align,ke},{});for(g=0;g<f.length;g+=1){"rowStart"in x&&x.rowStart instanceof Function&&x.rowStart({row:g,data:f[g]},this);var ge=l.call(this,f[g],W);for(v=0;v<k.length;v+=1){var te=f[g][k[v]];"cellStart"in x&&x.cellStart instanceof Function&&x.cellStart({row:g,col:v,data:te},this),o.call(this,new i(u,h,W[k[v]],ge,te,g+2,J[k[v]]))}}return this.internal.__cell__.table_x=u,this.internal.__cell__.table_y=h,this};var l=function(u,h){var f=this.internal.__cell__.padding,m=this.internal.__cell__.table_font_size,x=this.internal.scaleFactor;return Object.keys(u).map(function(g){var y=u[g];return this.splitTextToSize(y.hasOwnProperty("text")?y.text:y,h[g]-f-f)},this).map(function(g){return this.getLineHeightFactor()*g.length*m/x+f+f},this).reduce(function(g,y){return Math.max(g,y)},0)};r.setTableHeaderRow=function(u){n.call(this),this.internal.__cell__.tableHeaderRow=u},r.printHeaderRow=function(u,h){if(n.call(this),!this.internal.__cell__.tableHeaderRow)throw new Error("Property tableHeaderRow does not exist.");var f;if(t=!0,typeof this.internal.__cell__.headerFunction=="function"){var m=this.internal.__cell__.headerFunction(this,this.internal.__cell__.pages);this.internal.__cell__.lastCell=new i(m[0],m[1],m[2],m[3],void 0,-1)}this.setFont(void 0,"bold");for(var x=[],g=0;g<this.internal.__cell__.tableHeaderRow.length;g+=1){f=this.internal.__cell__.tableHeaderRow[g].clone(),h&&(f.y=this.internal.__cell__.margins.top||0,x.push(f)),f.lineNumber=u;var y=this.getTextColor();this.setTextColor(this.internal.__cell__.headerTextColor),this.setFillColor(this.internal.__cell__.headerBackgroundColor),o.call(this,f),this.setTextColor(y)}x.length>0&&this.setTableHeaderRow(x),this.setFont(void 0,"normal"),t=!1}})(er.API);var hC={italic:["italic","oblique","normal"],oblique:["oblique","italic","normal"],normal:["normal","oblique","italic"]},fC=["ultra-condensed","extra-condensed","condensed","semi-condensed","normal","semi-expanded","expanded","extra-expanded","ultra-expanded"],pv=uC(fC),dC=[100,200,300,400,500,600,700,800,900],wz=uC(dC);function gx(r){var e=r.family.replace(/"|'/g,"").toLowerCase(),t=(function(i){return hC[i=i||"normal"]?i:"normal"})(r.style),n=(function(i){return i?typeof i=="number"?i>=100&&i<=900&&i%100==0?i:400:/^\d00$/.test(i)?parseInt(i):i==="bold"?700:400:400})(r.weight),a=(function(i){return typeof pv[i=i||"normal"]=="number"?i:"normal"})(r.stretch);return{family:e,style:t,weight:n,stretch:a,src:r.src||[],ref:r.ref||{name:e,style:[a,t,n].join(" ")}}}function s3(r,e,t,n){var a;for(a=t;a>=0&&a<e.length;a+=n)if(r[e[a]])return r[e[a]];for(a=t;a>=0&&a<e.length;a-=n)if(r[e[a]])return r[e[a]]}var _z={"sans-serif":"helvetica",fixed:"courier",monospace:"courier",terminal:"courier",cursive:"times",fantasy:"times",serif:"times"},o3={caption:"times",icon:"times",menu:"times","message-box":"times","small-caption":"times","status-bar":"times"};function l3(r){return[r.stretch,r.style,r.weight,r.family].join(" ")}function c3(r){return r.trimLeft()}function Sz(r,e){for(var t=0;t<r.length;){if(r.charAt(t)===e)return[r.substring(0,t),r.substring(t+1)];t+=1}return null}function kz(r){var e=r.match(/^(-[a-z_]|[a-z_])[a-z0-9_-]*/i);return e===null?null:[e[0],r.substring(e[0].length)]}var Df,Ug,u3,h3,f3,px=["times"];function d3(r,e,t,n,a){var i=4,o=p3;switch(a){case er.API.image_compression.FAST:i=1,o=g3;break;case er.API.image_compression.MEDIUM:i=6,o=m3;break;case er.API.image_compression.SLOW:i=9,o=x3}r=(function(u,h,f,m){for(var x,g=u.length/h,y=new Uint8Array(u.length+g),v=[Cz,g3,p3,m3,x3],S=0;S<g;S+=1){var k=S*h,A=u.subarray(k,k+h);if(m)y.set(m(A,f,x),k+S);else{for(var N=v.length,j=[],W=0;W<N;W+=1)j[W]=v[W](A,f,x);var ee=Az(j.concat());y.set(j[ee],k+S)}x=A}return y})(r,e,Math.ceil(t*n/8),o);var l=lv(r,{level:i});return er.API.__addimage__.arrayBufferToBinaryString(l)}function Cz(r){var e=Array.apply([],r);return e.unshift(0),e}function g3(r,e){var t=r.length,n=[];n[0]=1;for(var a=0;a<t;a+=1){var i=r[a-e]||0;n[a+1]=r[a]-i+256&255}return n}function p3(r,e,t){var n=r.length,a=[];a[0]=2;for(var i=0;i<n;i+=1){var o=t&&t[i]||0;a[i+1]=r[i]-o+256&255}return a}function m3(r,e,t){var n=r.length,a=[];a[0]=3;for(var i=0;i<n;i+=1){var o=r[i-e]||0,l=t&&t[i]||0;a[i+1]=r[i]+256-(o+l>>>1)&255}return a}function x3(r,e,t){var n=r.length,a=[];a[0]=4;for(var i=0;i<n;i+=1){var o=Tz(r[i-e]||0,t&&t[i]||0,t&&t[i-e]||0);a[i+1]=r[i]-o+256&255}return a}function Tz(r,e,t){if(r===e&&e===t)return r;var n=Math.abs(e-t),a=Math.abs(r-t),i=Math.abs(r+e-t-t);return n<=a&&n<=i?r:a<=i?e:t}function Az(r){var e=r.map(function(t){return t.reduce(function(n,a){return n+Math.abs(a)},0)});return e.indexOf(Math.min.apply(null,e))}function mx(r,e,t){var n=e*t,a=Math.floor(n/8),i=16-(n-8*a+t),o=(1<<t)-1;return gC(r,a)>>i&o}function v3(r,e,t,n){var a=t*n,i=Math.floor(a/8),o=16-(a-8*i+n),l=(1<<n)-1,u=(e&l)<<o;(function(h,f,m){if(f+1<h.byteLength)h.setUint16(f,m,!1);else{var x=m>>8&255;h.setUint8(f,x)}})(r,i,gC(r,i)&~(l<<o)&65535|u)}function gC(r,e){return e+1<r.byteLength?r.getUint16(e,!1):r.getUint8(e)<<8}function Ez(r){var e=0;if(r[e++]!==71||r[e++]!==73||r[e++]!==70||r[e++]!==56||(r[e++]+1&253)!=56||r[e++]!==97)throw new Error("Invalid GIF 87a/89a header.");var t=r[e++]|r[e++]<<8,n=r[e++]|r[e++]<<8,a=r[e++],i=a>>7,o=1<<1+(7&a);r[e++],r[e++];var l=null,u=null;i&&(l=e,u=o,e+=3*o);var h=!0,f=[],m=0,x=null,g=0,y=null;for(this.width=t,this.height=n;h&&e<r.length;)switch(r[e++]){case 33:switch(r[e++]){case 255:if(r[e]!==11||r[e+1]==78&&r[e+2]==69&&r[e+3]==84&&r[e+4]==83&&r[e+5]==67&&r[e+6]==65&&r[e+7]==80&&r[e+8]==69&&r[e+9]==50&&r[e+10]==46&&r[e+11]==48&&r[e+12]==3&&r[e+13]==1&&r[e+16]==0)e+=14,y=r[e++]|r[e++]<<8,e++;else for(e+=12;;){if(!((q=r[e++])>=0))throw Error("Invalid block size");if(q===0)break;e+=q}break;case 249:if(r[e++]!==4||r[e+4]!==0)throw new Error("Invalid graphics extension block.");var v=r[e++];m=r[e++]|r[e++]<<8,x=r[e++],1&v||(x=null),g=v>>2&7,e++;break;case 254:for(;;){if(!((q=r[e++])>=0))throw Error("Invalid block size");if(q===0)break;e+=q}break;default:throw new Error("Unknown graphic control label: 0x"+r[e-1].toString(16))}break;case 44:var S=r[e++]|r[e++]<<8,k=r[e++]|r[e++]<<8,A=r[e++]|r[e++]<<8,N=r[e++]|r[e++]<<8,j=r[e++],W=j>>6&1,ee=1<<1+(7&j),z=l,B=u,D=!1;j>>7&&(D=!0,z=e,B=ee,e+=3*ee);var Z=e;for(e++;;){var q;if(!((q=r[e++])>=0))throw Error("Invalid block size");if(q===0)break;e+=q}f.push({x:S,y:k,width:A,height:N,has_local_palette:D,palette_offset:z,palette_size:B,data_offset:Z,data_length:e-Z,transparent_index:x,interlaced:!!W,delay:m,disposal:g});break;case 59:h=!1;break;default:throw new Error("Unknown gif block: 0x"+r[e-1].toString(16))}this.numFrames=function(){return f.length},this.loopCount=function(){return y},this.frameInfo=function(O){if(O<0||O>=f.length)throw new Error("Frame index out of range.");return f[O]},this.decodeAndBlitFrameBGRA=function(O,V){var F=this.frameInfo(O),re=F.width*F.height;if(re>536870912)throw new Error("Image dimensions exceed 512MB, which is too large.");var ae=new Uint8Array(re);y3(r,F.data_offset,ae,re);var J=F.palette_offset,ge=F.transparent_index;ge===null&&(ge=256);var te=F.width,ke=t-te,Y=te,w=4*(F.y*t+F.x),L=4*((F.y+F.height)*t+F.x),P=w,U=4*ke;F.interlaced===!0&&(U+=4*t*7);for(var ie=8,fe=0,xe=ae.length;fe<xe;++fe){var ve=ae[fe];if(Y===0&&(Y=te,(P+=U)>=L&&(U=4*ke+4*t*(ie-1),P=w+(te+ke)*(ie<<1),ie>>=1)),ve===ge)P+=4;else{var ce=r[J+3*ve],De=r[J+3*ve+1],ue=r[J+3*ve+2];V[P++]=ue,V[P++]=De,V[P++]=ce,V[P++]=255}--Y}},this.decodeAndBlitFrameRGBA=function(O,V){var F=this.frameInfo(O),re=F.width*F.height;if(re>536870912)throw new Error("Image dimensions exceed 512MB, which is too large.");var ae=new Uint8Array(re);y3(r,F.data_offset,ae,re);var J=F.palette_offset,ge=F.transparent_index;ge===null&&(ge=256);var te=F.width,ke=t-te,Y=te,w=4*(F.y*t+F.x),L=4*((F.y+F.height)*t+F.x),P=w,U=4*ke;F.interlaced===!0&&(U+=4*t*7);for(var ie=8,fe=0,xe=ae.length;fe<xe;++fe){var ve=ae[fe];if(Y===0&&(Y=te,(P+=U)>=L&&(U=4*ke+4*t*(ie-1),P=w+(te+ke)*(ie<<1),ie>>=1)),ve===ge)P+=4;else{var ce=r[J+3*ve],De=r[J+3*ve+1],ue=r[J+3*ve+2];V[P++]=ce,V[P++]=De,V[P++]=ue,V[P++]=255}--Y}}}function y3(r,e,t,n){for(var a=r[e++],i=1<<a,o=i+1,l=o+1,u=a+1,h=(1<<u)-1,f=0,m=0,x=0,g=r[e++],y=new Int32Array(4096),v=null;;){for(;f<16&&g!==0;)m|=r[e++]<<f,f+=8,g===1?g=r[e++]:--g;if(f<u)break;var S=m&h;if(m>>=u,f-=u,S!==i){if(S===o)break;for(var k=S<l?S:v,A=0,N=k;N>i;)N=y[N]>>8,++A;var j=N;if(x+A+(k!==S?1:0)>n)return void mn.log("Warning, gif stream longer than expected.");t[x++]=j;var W=x+=A;for(k!==S&&(t[x++]=j),N=k;A--;)N=y[N],t[--W]=255&N,N>>=8;v!==null&&l<4096&&(y[l++]=v<<8|j,l>=h+1&&u<12&&(++u,h=h<<1|1)),v=S}else l=o+1,h=(1<<(u=a+1))-1,v=null}return x!==n&&mn.log("Warning, gif stream shorter than expected."),t}/**
 * @license
  Copyright (c) 2008, Adobe Systems Incorporated
  All rights reserved.

  Redistribution and use in source and binary forms, with or without 
  modification, are permitted provided that the following conditions are
  met:

  * Redistributions of source code must retain the above copyright notice, 
    this list of conditions and the following disclaimer.
  
  * Redistributions in binary form must reproduce the above copyright
    notice, this list of conditions and the following disclaimer in the 
    documentation and/or other materials provided with the distribution.
  
  * Neither the name of Adobe Systems Incorporated nor the names of its 
    contributors may be used to endorse or promote products derived from 
    this software without specific prior written permission.

  THIS SOFTWARE IS PROVIDED BY THE COPYRIGHT HOLDERS AND CONTRIBUTORS "AS
  IS" AND ANY EXPRESS OR IMPLIED WARRANTIES, INCLUDING, BUT NOT LIMITED TO,
  THE IMPLIED WARRANTIES OF MERCHANTABILITY AND FITNESS FOR A PARTICULAR
  PURPOSE ARE DISCLAIMED. IN NO EVENT SHALL THE COPYRIGHT OWNER OR 
  CONTRIBUTORS BE LIABLE FOR ANY DIRECT, INDIRECT, INCIDENTAL, SPECIAL,
  EXEMPLARY, OR CONSEQUENTIAL DAMAGES (INCLUDING, BUT NOT LIMITED TO,
  PROCUREMENT OF SUBSTITUTE GOODS OR SERVICES; LOSS OF USE, DATA, OR
  PROFITS; OR BUSINESS INTERRUPTION) HOWEVER CAUSED AND ON ANY THEORY OF
  LIABILITY, WHETHER IN CONTRACT, STRICT LIABILITY, OR TORT (INCLUDING
  NEGLIGENCE OR OTHERWISE) ARISING IN ANY WAY OUT OF THE USE OF THIS
  SOFTWARE, EVEN IF ADVISED OF THE POSSIBILITY OF SUCH DAMAGE.
*/function xx(r){var e,t,n,a,i,o=Math.floor,l=new Array(64),u=new Array(64),h=new Array(64),f=new Array(64),m=new Array(65535),x=new Array(65535),g=new Array(64),y=new Array(64),v=[],S=0,k=7,A=new Array(64),N=new Array(64),j=new Array(64),W=new Array(256),ee=new Array(2048),z=[0,1,5,6,14,15,27,28,2,4,7,13,16,26,29,42,3,8,12,17,25,30,41,43,9,11,18,24,31,40,44,53,10,19,23,32,39,45,52,54,20,22,33,38,46,51,55,60,21,34,37,47,50,56,59,61,35,36,48,49,57,58,62,63],B=[0,0,1,5,1,1,1,1,1,1,0,0,0,0,0,0,0],D=[0,1,2,3,4,5,6,7,8,9,10,11],Z=[0,0,2,1,3,3,2,4,3,5,5,4,4,0,0,1,125],q=[1,2,3,0,4,17,5,18,33,49,65,6,19,81,97,7,34,113,20,50,129,145,161,8,35,66,177,193,21,82,209,240,36,51,98,114,130,9,10,22,23,24,25,26,37,38,39,40,41,42,52,53,54,55,56,57,58,67,68,69,70,71,72,73,74,83,84,85,86,87,88,89,90,99,100,101,102,103,104,105,106,115,116,117,118,119,120,121,122,131,132,133,134,135,136,137,138,146,147,148,149,150,151,152,153,154,162,163,164,165,166,167,168,169,170,178,179,180,181,182,183,184,185,186,194,195,196,197,198,199,200,201,202,210,211,212,213,214,215,216,217,218,225,226,227,228,229,230,231,232,233,234,241,242,243,244,245,246,247,248,249,250],O=[0,0,3,1,1,1,1,1,1,1,1,1,0,0,0,0,0],V=[0,1,2,3,4,5,6,7,8,9,10,11],F=[0,0,2,1,2,4,4,3,4,7,5,4,4,0,1,2,119],re=[0,1,2,3,17,4,5,33,49,6,18,65,81,7,97,113,19,34,50,129,8,20,66,145,161,177,193,9,35,51,82,240,21,98,114,209,10,22,36,52,225,37,241,23,24,25,26,38,39,40,41,42,53,54,55,56,57,58,67,68,69,70,71,72,73,74,83,84,85,86,87,88,89,90,99,100,101,102,103,104,105,106,115,116,117,118,119,120,121,122,130,131,132,133,134,135,136,137,138,146,147,148,149,150,151,152,153,154,162,163,164,165,166,167,168,169,170,178,179,180,181,182,183,184,185,186,194,195,196,197,198,199,200,201,202,210,211,212,213,214,215,216,217,218,226,227,228,229,230,231,232,233,234,242,243,244,245,246,247,248,249,250];function ae(w,L){for(var P=0,U=0,ie=new Array,fe=1;fe<=16;fe++){for(var xe=1;xe<=w[fe];xe++)ie[L[U]]=[],ie[L[U]][0]=P,ie[L[U]][1]=fe,U++,P++;P*=2}return ie}function J(w){for(var L=w[0],P=w[1]-1;P>=0;)L&1<<P&&(S|=1<<k),P--,--k<0&&(S==255?(ge(255),ge(0)):ge(S),k=7,S=0)}function ge(w){v.push(w)}function te(w){ge(w>>8&255),ge(255&w)}function ke(w,L,P,U,ie){for(var fe,xe=ie[0],ve=ie[240],ce=(function(le,Fe){var je,Oe,Ge,$e,rt,it,Tt,dt,He,xt,bt=0;for(He=0;He<8;++He){je=le[bt],Oe=le[bt+1],Ge=le[bt+2],$e=le[bt+3],rt=le[bt+4],it=le[bt+5],Tt=le[bt+6];var Qt=je+(dt=le[bt+7]),Et=je-dt,Rt=Oe+Tt,Lt=Oe-Tt,zt=Ge+it,Mt=Ge-it,hr=$e+rt,Ut=$e-rt,Kt=Qt+hr,St=Qt-hr,kt=Rt+zt,ht=Rt-zt;le[bt]=Kt+kt,le[bt+4]=Kt-kt;var $t=.707106781*(ht+St);le[bt+2]=St+$t,le[bt+6]=St-$t;var Jr=.382683433*((Kt=Ut+Mt)-(ht=Lt+Et)),Dr=.5411961*Kt+Jr,bn=1.306562965*ht+Jr,wn=.707106781*(kt=Mt+Lt),jt=Et+wn,Vn=Et-wn;le[bt+5]=Vn+Dr,le[bt+3]=Vn-Dr,le[bt+1]=jt+bn,le[bt+7]=jt-bn,bt+=8}for(bt=0,He=0;He<8;++He){je=le[bt],Oe=le[bt+8],Ge=le[bt+16],$e=le[bt+24],rt=le[bt+32],it=le[bt+40],Tt=le[bt+48];var da=je+(dt=le[bt+56]),Ta=je-dt,$a=Oe+Tt,sn=Oe-Tt,Dn=Ge+it,he=Ge-it,Ae=$e+rt,be=$e-rt,we=da+Ae,Se=da-Ae,Ne=$a+Dn,Xe=$a-Dn;le[bt]=we+Ne,le[bt+32]=we-Ne;var ot=.707106781*(Xe+Se);le[bt+16]=Se+ot,le[bt+48]=Se-ot;var Ze=.382683433*((we=be+he)-(Xe=sn+Ta)),Je=.5411961*we+Ze,et=1.306562965*Xe+Ze,_t=.707106781*(Ne=he+sn),Nt=Ta+_t,Ft=Ta-_t;le[bt+40]=Ft+Je,le[bt+24]=Ft-Je,le[bt+8]=Nt+et,le[bt+56]=Nt-et,bt++}for(He=0;He<64;++He)xt=le[He]*Fe[He],g[He]=xt>0?xt+.5|0:xt-.5|0;return g})(w,L),De=0;De<64;++De)y[z[De]]=ce[De];var ue=y[0]-P;P=y[0],ue==0?J(U[0]):(J(U[x[fe=32767+ue]]),J(m[fe]));for(var Ye=63;Ye>0&&y[Ye]==0;)Ye--;if(Ye==0)return J(xe),P;for(var R,H=1;H<=Ye;){for(var ne=H;y[H]==0&&H<=Ye;)++H;var G=H-ne;if(G>=16){R=G>>4;for(var K=1;K<=R;++K)J(ve);G&=15}fe=32767+y[H],J(ie[(G<<4)+x[fe]]),J(m[fe]),H++}return Ye!=63&&J(xe),P}function Y(w){w=Math.min(Math.max(w,1),100),i!=w&&((function(L){for(var P=[16,11,10,16,24,40,51,61,12,12,14,19,26,58,60,55,14,13,16,24,40,57,69,56,14,17,22,29,51,87,80,62,18,22,37,56,68,109,103,77,24,35,55,64,81,104,113,92,49,64,78,87,103,121,120,101,72,92,95,98,112,100,103,99],U=0;U<64;U++){var ie=o((P[U]*L+50)/100);ie=Math.min(Math.max(ie,1),255),l[z[U]]=ie}for(var fe=[17,18,24,47,99,99,99,99,18,21,26,66,99,99,99,99,24,26,56,99,99,99,99,99,47,66,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99],xe=0;xe<64;xe++){var ve=o((fe[xe]*L+50)/100);ve=Math.min(Math.max(ve,1),255),u[z[xe]]=ve}for(var ce=[1,1.387039845,1.306562965,1.175875602,1,.785694958,.5411961,.275899379],De=0,ue=0;ue<8;ue++)for(var Ye=0;Ye<8;Ye++)h[De]=1/(l[z[De]]*ce[ue]*ce[Ye]*8),f[De]=1/(u[z[De]]*ce[ue]*ce[Ye]*8),De++})(w<50?Math.floor(5e3/w):Math.floor(200-2*w)),i=w)}this.encode=function(w,L){L&&Y(L),v=new Array,S=0,k=7,te(65496),te(65504),te(16),ge(74),ge(70),ge(73),ge(70),ge(0),ge(1),ge(1),ge(0),te(1),te(1),ge(0),ge(0),(function(){te(65499),te(132),ge(0);for(var Oe=0;Oe<64;Oe++)ge(l[Oe]);ge(1);for(var Ge=0;Ge<64;Ge++)ge(u[Ge])})(),(function(Oe,Ge){te(65472),te(17),ge(8),te(Ge),te(Oe),ge(3),ge(1),ge(17),ge(0),ge(2),ge(17),ge(1),ge(3),ge(17),ge(1)})(w.width,w.height),(function(){te(65476),te(418),ge(0);for(var Oe=0;Oe<16;Oe++)ge(B[Oe+1]);for(var Ge=0;Ge<=11;Ge++)ge(D[Ge]);ge(16);for(var $e=0;$e<16;$e++)ge(Z[$e+1]);for(var rt=0;rt<=161;rt++)ge(q[rt]);ge(1);for(var it=0;it<16;it++)ge(O[it+1]);for(var Tt=0;Tt<=11;Tt++)ge(V[Tt]);ge(17);for(var dt=0;dt<16;dt++)ge(F[dt+1]);for(var He=0;He<=161;He++)ge(re[He])})(),te(65498),te(12),ge(3),ge(1),ge(0),ge(2),ge(17),ge(3),ge(17),ge(0),ge(63),ge(0);var P=0,U=0,ie=0;S=0,k=7,this.encode.displayName="_encode_";for(var fe,xe,ve,ce,De,ue,Ye,R,H,ne=w.data,G=w.width,K=w.height,le=4*G,Fe=0;Fe<K;){for(fe=0;fe<le;){for(De=le*Fe+fe,Ye=-1,R=0,H=0;H<64;H++)ue=De+(R=H>>3)*le+(Ye=4*(7&H)),Fe+R>=K&&(ue-=le*(Fe+1+R-K)),fe+Ye>=le&&(ue-=fe+Ye-le+4),xe=ne[ue++],ve=ne[ue++],ce=ne[ue++],A[H]=(ee[xe]+ee[ve+256|0]+ee[ce+512|0]>>16)-128,N[H]=(ee[xe+768|0]+ee[ve+1024|0]+ee[ce+1280|0]>>16)-128,j[H]=(ee[xe+1280|0]+ee[ve+1536|0]+ee[ce+1792|0]>>16)-128;P=ke(A,h,P,e,n),U=ke(N,f,U,t,a),ie=ke(j,f,ie,t,a),fe+=32}Fe+=8}if(k>=0){var je=[];je[1]=k+1,je[0]=(1<<k+1)-1,J(je)}return te(65497),new Uint8Array(v)},r=r||50,(function(){for(var w=String.fromCharCode,L=0;L<256;L++)W[L]=w(L)})(),e=ae(B,D),t=ae(O,V),n=ae(Z,q),a=ae(F,re),(function(){for(var w=1,L=2,P=1;P<=15;P++){for(var U=w;U<L;U++)x[32767+U]=P,m[32767+U]=[],m[32767+U][1]=P,m[32767+U][0]=U;for(var ie=-(L-1);ie<=-w;ie++)x[32767+ie]=P,m[32767+ie]=[],m[32767+ie][1]=P,m[32767+ie][0]=L-1+ie;w<<=1,L<<=1}})(),(function(){for(var w=0;w<256;w++)ee[w]=19595*w,ee[w+256|0]=38470*w,ee[w+512|0]=7471*w+32768,ee[w+768|0]=-11059*w,ee[w+1024|0]=-21709*w,ee[w+1280|0]=32768*w+8421375,ee[w+1536|0]=-27439*w,ee[w+1792|0]=-5329*w})(),Y(r)}/**
 * @license
 * Copyright (c) 2017 Aras Abbasi
 *
 * Licensed under the MIT License.
 * http://opensource.org/licenses/mit-license
 */function zo(r,e){if(this.pos=0,this.buffer=r,this.datav=new DataView(r.buffer),this.is_with_alpha=!!e,this.bottom_up=!0,this.flag=String.fromCharCode(this.buffer[0])+String.fromCharCode(this.buffer[1]),this.pos+=2,["BM","BA","CI","CP","IC","PT"].indexOf(this.flag)===-1)throw new Error("Invalid BMP File");this.parseHeader(),this.parseBGR()}function b3(r){function e(D){if(!D)throw Error("assert :P")}function t(D,Z,q){for(var O=0;4>O;O++)if(D[Z+O]!=q.charCodeAt(O))return!0;return!1}function n(D,Z,q,O,V){for(var F=0;F<V;F++)D[Z+F]=q[O+F]}function a(D,Z,q,O){for(var V=0;V<O;V++)D[Z+V]=q}function i(D){return new Int32Array(D)}function o(D,Z){for(var q=[],O=0;O<D;O++)q.push(new Z);return q}function l(D,Z){var q=[];return(function O(V,F,re){for(var ae=re[F],J=0;J<ae&&(V.push(re.length>F+1?[]:new Z),!(re.length<F+1));J++)O(V[J],F+1,re)})(q,0,D),q}var u=function(){var D=this;function Z(b,T){for(var I=1<<T-1>>>0;b&I;)I>>>=1;return I?(b&I-1)+I:b}function q(b,T,I,X,oe){e(!(X%I));do b[T+(X-=I)]=oe;while(0<X)}function O(b,T,I,X,oe){if(e(2328>=oe),512>=oe)var de=i(512);else if((de=i(oe))==null)return 0;return(function(pe,ye,_e,Te,Be,Qe){var Ce,Ue,We=ye,ut=1<<_e,Ke=i(16),lt=i(16);for(e(Be!=0),e(Te!=null),e(pe!=null),e(0<_e),Ue=0;Ue<Be;++Ue){if(15<Te[Ue])return 0;++Ke[Te[Ue]]}if(Ke[0]==Be)return 0;for(lt[1]=0,Ce=1;15>Ce;++Ce){if(Ke[Ce]>1<<Ce)return 0;lt[Ce+1]=lt[Ce]+Ke[Ce]}for(Ue=0;Ue<Be;++Ue)Ce=Te[Ue],0<Te[Ue]&&(Qe[lt[Ce]++]=Ue);if(lt[15]==1)return(Te=new V).g=0,Te.value=Qe[0],q(pe,We,1,ut,Te),ut;var pt,Ct=-1,yt=ut-1,Yt=0,Pt=1,cr=1,Vt=1<<_e;for(Ue=0,Ce=1,Be=2;Ce<=_e;++Ce,Be<<=1){if(Pt+=cr<<=1,0>(cr-=Ke[Ce]))return 0;for(;0<Ke[Ce];--Ke[Ce])(Te=new V).g=Ce,Te.value=Qe[Ue++],q(pe,We+Yt,Be,Vt,Te),Yt=Z(Yt,Ce)}for(Ce=_e+1,Be=2;15>=Ce;++Ce,Be<<=1){if(Pt+=cr<<=1,0>(cr-=Ke[Ce]))return 0;for(;0<Ke[Ce];--Ke[Ce]){if(Te=new V,(Yt&yt)!=Ct){for(We+=Vt,pt=1<<(Ct=Ce)-_e;15>Ct&&!(0>=(pt-=Ke[Ct]));)++Ct,pt<<=1;ut+=Vt=1<<(pt=Ct-_e),pe[ye+(Ct=Yt&yt)].g=pt+_e,pe[ye+Ct].value=We-ye-Ct}Te.g=Ce-_e,Te.value=Qe[Ue++],q(pe,We+(Yt>>_e),Be,Vt,Te),Yt=Z(Yt,Ce)}}return Pt!=2*lt[15]-1?0:ut})(b,T,I,X,oe,de)}function V(){this.value=this.g=0}function F(){this.value=this.g=0}function re(){this.G=o(5,V),this.H=i(5),this.jc=this.Qb=this.qb=this.nd=0,this.pd=o(ol,F)}function ae(b,T,I,X){e(b!=null),e(T!=null),e(2147483648>X),b.Ca=254,b.I=0,b.b=-8,b.Ka=0,b.oa=T,b.pa=I,b.Jd=T,b.Yc=I+X,b.Zc=4<=X?I+X-4+1:I,xe(b)}function J(b,T){for(var I=0;0<T--;)I|=ce(b,128)<<T;return I}function ge(b,T){var I=J(b,T);return ve(b)?-I:I}function te(b,T,I,X){var oe,de=0;for(e(b!=null),e(T!=null),e(4294967288>X),b.Sb=X,b.Ra=0,b.u=0,b.h=0,4<X&&(X=4),oe=0;oe<X;++oe)de+=T[I+oe]<<8*oe;b.Ra=de,b.bb=X,b.oa=T,b.pa=I}function ke(b){for(;8<=b.u&&b.bb<b.Sb;)b.Ra>>>=8,b.Ra+=b.oa[b.pa+b.bb]<<Hs-8>>>0,++b.bb,b.u-=8;U(b)&&(b.h=1,b.u=0)}function Y(b,T){if(e(0<=T),!b.h&&T<=ti){var I=P(b)&fi[T];return b.u+=T,ke(b),I}return b.h=1,b.u=0}function w(){this.b=this.Ca=this.I=0,this.oa=[],this.pa=0,this.Jd=[],this.Yc=0,this.Zc=[],this.Ka=0}function L(){this.Ra=0,this.oa=[],this.h=this.u=this.bb=this.Sb=this.pa=0}function P(b){return b.Ra>>>(b.u&Hs-1)>>>0}function U(b){return e(b.bb<=b.Sb),b.h||b.bb==b.Sb&&b.u>Hs}function ie(b,T){b.u=T,b.h=U(b)}function fe(b){b.u>=qs&&(e(b.u>=qs),ke(b))}function xe(b){e(b!=null&&b.oa!=null),b.pa<b.Zc?(b.I=(b.oa[b.pa++]|b.I<<8)>>>0,b.b+=8):(e(b!=null&&b.oa!=null),b.pa<b.Yc?(b.b+=8,b.I=b.oa[b.pa++]|b.I<<8):b.Ka?b.b=0:(b.I<<=8,b.b+=8,b.Ka=1))}function ve(b){return J(b,1)}function ce(b,T){var I=b.Ca;0>b.b&&xe(b);var X=b.b,oe=I*T>>>8,de=(b.I>>>X>oe)+0;for(de?(I-=oe,b.I-=oe+1<<X>>>0):I=oe+1,X=I,oe=0;256<=X;)oe+=8,X>>=8;return X=7^oe+Co[X],b.b-=X,b.Ca=(I<<X)-1,de}function De(b,T,I){b[T+0]=I>>24&255,b[T+1]=I>>16&255,b[T+2]=I>>8&255,b[T+3]=255&I}function ue(b,T){return b[T+0]|b[T+1]<<8}function Ye(b,T){return ue(b,T)|b[T+2]<<16}function R(b,T){return ue(b,T)|ue(b,T+2)<<16}function H(b,T){var I=1<<T;return e(b!=null),e(0<T),b.X=i(I),b.X==null?0:(b.Mb=32-T,b.Xa=T,1)}function ne(b,T){e(b!=null),e(T!=null),e(b.Xa==T.Xa),n(T.X,0,b.X,0,1<<T.Xa)}function G(){this.X=[],this.Xa=this.Mb=0}function K(b,T,I,X){e(I!=null),e(X!=null);var oe=I[0],de=X[0];return oe==0&&(oe=(b*de+T/2)/T),de==0&&(de=(T*oe+b/2)/b),0>=oe||0>=de?0:(I[0]=oe,X[0]=de,1)}function le(b,T){return b+(1<<T)-1>>>T}function Fe(b,T){return((4278255360&b)+(4278255360&T)>>>0&4278255360)+((16711935&b)+(16711935&T)>>>0&16711935)>>>0}function je(b,T){D[T]=function(I,X,oe,de,pe,ye,_e){var Te;for(Te=0;Te<pe;++Te){var Be=D[b](ye[_e+Te-1],oe,de+Te);ye[_e+Te]=Fe(I[X+Te],Be)}}}function Oe(){this.ud=this.hd=this.jd=0}function Ge(b,T){return((4278124286&(b^T))>>>1)+(b&T)>>>0}function $e(b){return 0<=b&&256>b?b:0>b?0:255<b?255:void 0}function rt(b,T){return $e(b+(b-T+.5>>1))}function it(b,T,I){return Math.abs(T-I)-Math.abs(b-I)}function Tt(b,T,I,X,oe,de,pe){for(X=de[pe-1],I=0;I<oe;++I)de[pe+I]=X=Fe(b[T+I],X)}function dt(b,T,I,X,oe){var de;for(de=0;de<I;++de){var pe=b[T+de],ye=pe>>8&255,_e=16711935&(_e=(_e=16711935&pe)+((ye<<16)+ye));X[oe+de]=(4278255360&pe)+_e>>>0}}function He(b,T){T.jd=255&b,T.hd=b>>8&255,T.ud=b>>16&255}function xt(b,T,I,X,oe,de){var pe;for(pe=0;pe<X;++pe){var ye=T[I+pe],_e=ye>>>8,Te=ye,Be=255&(Be=(Be=ye>>>16)+((b.jd<<24>>24)*(_e<<24>>24)>>>5));Te=255&(Te=(Te+=(b.hd<<24>>24)*(_e<<24>>24)>>>5)+((b.ud<<24>>24)*(Be<<24>>24)>>>5)),oe[de+pe]=(4278255360&ye)+(Be<<16)+Te}}function bt(b,T,I,X,oe){D[T]=function(de,pe,ye,_e,Te,Be,Qe,Ce,Ue){for(_e=Qe;_e<Ce;++_e)for(Qe=0;Qe<Ue;++Qe)Te[Be++]=oe(ye[X(de[pe++])])},D[b]=function(de,pe,ye,_e,Te,Be,Qe){var Ce=8>>de.b,Ue=de.Ea,We=de.K[0],ut=de.w;if(8>Ce)for(de=(1<<de.b)-1,ut=(1<<Ce)-1;pe<ye;++pe){var Ke,lt=0;for(Ke=0;Ke<Ue;++Ke)Ke&de||(lt=X(_e[Te++])),Be[Qe++]=oe(We[lt&ut]),lt>>=Ce}else D["VP8LMapColor"+I](_e,Te,We,ut,Be,Qe,pe,ye,Ue)}}function Qt(b,T,I,X,oe){for(I=T+I;T<I;){var de=b[T++];X[oe++]=de>>16&255,X[oe++]=de>>8&255,X[oe++]=255&de}}function Et(b,T,I,X,oe){for(I=T+I;T<I;){var de=b[T++];X[oe++]=de>>16&255,X[oe++]=de>>8&255,X[oe++]=255&de,X[oe++]=de>>24&255}}function Rt(b,T,I,X,oe){for(I=T+I;T<I;){var de=(pe=b[T++])>>16&240|pe>>12&15,pe=240&pe|pe>>28&15;X[oe++]=de,X[oe++]=pe}}function Lt(b,T,I,X,oe){for(I=T+I;T<I;){var de=(pe=b[T++])>>16&248|pe>>13&7,pe=pe>>5&224|pe>>3&31;X[oe++]=de,X[oe++]=pe}}function zt(b,T,I,X,oe){for(I=T+I;T<I;){var de=b[T++];X[oe++]=255&de,X[oe++]=de>>8&255,X[oe++]=de>>16&255}}function Mt(b,T,I,X,oe,de){if(de==0)for(I=T+I;T<I;)De(X,((de=b[T++])[0]>>24|de[1]>>8&65280|de[2]<<8&16711680|de[3]<<24)>>>0),oe+=32;else n(X,oe,b,T,I)}function hr(b,T){D[T][0]=D[b+"0"],D[T][1]=D[b+"1"],D[T][2]=D[b+"2"],D[T][3]=D[b+"3"],D[T][4]=D[b+"4"],D[T][5]=D[b+"5"],D[T][6]=D[b+"6"],D[T][7]=D[b+"7"],D[T][8]=D[b+"8"],D[T][9]=D[b+"9"],D[T][10]=D[b+"10"],D[T][11]=D[b+"11"],D[T][12]=D[b+"12"],D[T][13]=D[b+"13"],D[T][14]=D[b+"0"],D[T][15]=D[b+"0"]}function Ut(b){return b==Xu||b==Xh||b==zc||b==Kh}function Kt(){this.eb=[],this.size=this.A=this.fb=0}function St(){this.y=[],this.f=[],this.ea=[],this.F=[],this.Tc=this.Ed=this.Cd=this.Fd=this.lb=this.Db=this.Ab=this.fa=this.J=this.W=this.N=this.O=0}function kt(){this.Rd=this.height=this.width=this.S=0,this.f={},this.f.RGBA=new Kt,this.f.kb=new St,this.sd=null}function ht(){this.width=[0],this.height=[0],this.Pd=[0],this.Qd=[0],this.format=[0]}function $t(){this.Id=this.fd=this.Md=this.hb=this.ib=this.da=this.bd=this.cd=this.j=this.v=this.Da=this.Sd=this.ob=0}function Jr(b){return alert("todo:WebPSamplerProcessPlane"),b.T}function Dr(b,T){var I=b.T,X=T.ba.f.RGBA,oe=X.eb,de=X.fb+b.ka*X.A,pe=La[T.ba.S],ye=b.y,_e=b.O,Te=b.f,Be=b.N,Qe=b.ea,Ce=b.W,Ue=T.cc,We=T.dc,ut=T.Mc,Ke=T.Nc,lt=b.ka,pt=b.ka+b.T,Ct=b.U,yt=Ct+1>>1;for(lt==0?pe(ye,_e,null,null,Te,Be,Qe,Ce,Te,Be,Qe,Ce,oe,de,null,null,Ct):(pe(T.ec,T.fc,ye,_e,Ue,We,ut,Ke,Te,Be,Qe,Ce,oe,de-X.A,oe,de,Ct),++I);lt+2<pt;lt+=2)Ue=Te,We=Be,ut=Qe,Ke=Ce,Be+=b.Rc,Ce+=b.Rc,de+=2*X.A,pe(ye,(_e+=2*b.fa)-b.fa,ye,_e,Ue,We,ut,Ke,Te,Be,Qe,Ce,oe,de-X.A,oe,de,Ct);return _e+=b.fa,b.j+pt<b.o?(n(T.ec,T.fc,ye,_e,Ct),n(T.cc,T.dc,Te,Be,yt),n(T.Mc,T.Nc,Qe,Ce,yt),I--):1&pt||pe(ye,_e,null,null,Te,Be,Qe,Ce,Te,Be,Qe,Ce,oe,de+X.A,null,null,Ct),I}function bn(b,T,I){var X=b.F,oe=[b.J];if(X!=null){var de=b.U,pe=T.ba.S,ye=pe==Yu||pe==zc;T=T.ba.f.RGBA;var _e=[0],Te=b.ka;_e[0]=b.T,b.Kb&&(Te==0?--_e[0]:(--Te,oe[0]-=b.width),b.j+b.ka+b.T==b.o&&(_e[0]=b.o-b.j-Te));var Be=T.eb;Te=T.fb+Te*T.A,b=qu(X,oe[0],b.width,de,_e,Be,Te+(ye?0:3),T.A),e(I==_e),b&&Ut(pe)&&Gl(Be,Te,ye,de,_e,T.A)}return 0}function wn(b){var T=b.ma,I=T.ba.S,X=11>I,oe=I==qa||I==Xi||I==Yu||I==Uc||I==12||Ut(I);if(T.memory=null,T.Ib=null,T.Jb=null,T.Nd=null,!ko(T.Oa,b,oe?11:12))return 0;if(oe&&Ut(I)&&Iu(),b.da)alert("todo:use_scaling");else{if(X){if(T.Ib=Jr,b.Kb){if(I=b.U+1>>1,T.memory=i(b.U+2*I),T.memory==null)return 0;T.ec=T.memory,T.fc=0,T.cc=T.ec,T.dc=T.fc+b.U,T.Mc=T.cc,T.Nc=T.dc+I,T.Ib=Dr,Iu()}}else alert("todo:EmitYUV");oe&&(T.Jb=bn,X&&ys())}if(X&&!gl){for(b=0;256>b;++b)Fa[b]=89858*(b-128)+Vc>>es,rm[b]=-22014*(b-128)+Vc,o1[b]=-45773*(b-128),ef[b]=113618*(b-128)+Vc>>es;for(b=Kl;b<dl;++b)T=76283*(b-16)+Vc>>es,nm[b-Kl]=_n(T,255),am[b-Kl]=_n(T+8>>4,15);gl=1}return 1}function jt(b){var T=b.ma,I=b.U,X=b.T;return e(!(1&b.ka)),0>=I||0>=X?0:(I=T.Ib(b,T),T.Jb!=null&&T.Jb(b,T,I),T.Dc+=I,1)}function Vn(b){b.ma.memory=null}function da(b,T,I,X){return Y(b,8)!=47?0:(T[0]=Y(b,14)+1,I[0]=Y(b,14)+1,X[0]=Y(b,1),Y(b,3)!=0?0:!b.h)}function Ta(b,T){if(4>b)return b+1;var I=b-2>>1;return(2+(1&b)<<I)+Y(T,I)+1}function $a(b,T){return 120<T?T-120:1<=(I=((I=$i[T-1])>>4)*b+(8-(15&I)))?I:1;var I}function sn(b,T,I){var X=P(I),oe=b[T+=255&X].g-8;return 0<oe&&(ie(I,I.u+8),X=P(I),T+=b[T].value,T+=X&(1<<oe)-1),ie(I,I.u+b[T].g),b[T].value}function Dn(b,T,I){return I.g+=b.g,I.value+=b.value<<T>>>0,e(8>=I.g),b.g}function he(b,T,I){var X=b.xc;return e((T=X==0?0:b.vc[b.md*(I>>X)+(T>>X)])<b.Wb),b.Ya[T]}function Ae(b,T,I,X){var oe=b.ab,de=b.c*T,pe=b.C;T=pe+T;var ye=I,_e=X;for(X=b.Ta,I=b.Ua;0<oe--;){var Te=b.gc[oe],Be=pe,Qe=T,Ce=ye,Ue=_e,We=(_e=X,ye=I,Te.Ea);switch(e(Be<Qe),e(Qe<=Te.nc),Te.hc){case 2:In(Ce,Ue,(Qe-Be)*We,_e,ye);break;case 0:var ut=Be,Ke=Qe,lt=_e,pt=ye,Ct=(Vt=Te).Ea;ut==0&&(Rc(Ce,Ue,null,null,1,lt,pt),Tt(Ce,Ue+1,0,0,Ct-1,lt,pt+1),Ue+=Ct,pt+=Ct,++ut);for(var yt=1<<Vt.b,Yt=yt-1,Pt=le(Ct,Vt.b),cr=Vt.K,Vt=Vt.w+(ut>>Vt.b)*Pt;ut<Ke;){var kr=cr,gn=Vt,gr=1;for(Bc(Ce,Ue,lt,pt-Ct,1,lt,pt);gr<Ct;){var It=(gr&~Yt)+yt;It>Ct&&(It=Ct),(0,To[kr[gn++]>>8&15])(Ce,Ue+ +gr,lt,pt+gr-Ct,It-gr,lt,pt+gr),gr=It}Ue+=Ct,pt+=Ct,++ut&Yt||(Vt+=Pt)}Qe!=Te.nc&&n(_e,ye-We,_e,ye+(Qe-Be-1)*We,We);break;case 1:for(We=Ce,Ke=Ue,Ct=(Ce=Te.Ea)-(pt=Ce&~(lt=(Ue=1<<Te.b)-1)),ut=le(Ce,Te.b),yt=Te.K,Te=Te.w+(Be>>Te.b)*ut;Be<Qe;){for(Yt=yt,Pt=Te,cr=new Oe,Vt=Ke+pt,kr=Ke+Ce;Ke<Vt;)He(Yt[Pt++],cr),Pc(cr,We,Ke,Ue,_e,ye),Ke+=Ue,ye+=Ue;Ke<kr&&(He(Yt[Pt++],cr),Pc(cr,We,Ke,Ct,_e,ye),Ke+=Ct,ye+=Ct),++Be&lt||(Te+=ut)}break;case 3:if(Ce==_e&&Ue==ye&&0<Te.b){for(Ke=_e,Ce=We=ye+(Qe-Be)*We-(pt=(Qe-Be)*le(Te.Ea,Te.b)),Ue=_e,lt=ye,ut=[],pt=(Ct=pt)-1;0<=pt;--pt)ut[pt]=Ue[lt+pt];for(pt=Ct-1;0<=pt;--pt)Ke[Ce+pt]=ut[pt];qh(Te,Be,Qe,_e,We,_e,ye)}else qh(Te,Be,Qe,Ce,Ue,_e,ye)}ye=X,_e=I}_e!=I&&n(X,I,ye,_e,de)}function be(b,T){var I=b.V,X=b.Ba+b.c*b.C,oe=T-b.C;if(e(T<=b.l.o),e(16>=oe),0<oe){var de=b.l,pe=b.Ta,ye=b.Ua,_e=de.width;if(Ae(b,oe,I,X),oe=ye=[ye],e((I=b.C)<(X=T)),e(de.v<de.va),X>de.o&&(X=de.o),I<de.j){var Te=de.j-I;I=de.j,oe[0]+=Te*_e}if(I>=X?I=0:(oe[0]+=4*de.v,de.ka=I-de.j,de.U=de.va-de.v,de.T=X-I,I=1),I){if(ye=ye[0],11>(I=b.ca).S){var Be=I.f.RGBA,Qe=(X=I.S,oe=de.U,de=de.T,Te=Be.eb,Be.A),Ce=de;for(Be=Be.fb+b.Ma*Be.A;0<Ce--;){var Ue=pe,We=ye,ut=oe,Ke=Te,lt=Be;switch(X){case Wh:Ic(Ue,We,ut,Ke,lt);break;case qa:Ao(Ue,We,ut,Ke,lt);break;case Xu:Ao(Ue,We,ut,Ke,lt),Gl(Ke,lt,0,ut,1,0);break;case Yh:ql(Ue,We,ut,Ke,lt);break;case Xi:Mt(Ue,We,ut,Ke,lt,1);break;case Xh:Mt(Ue,We,ut,Ke,lt,1),Gl(Ke,lt,0,ut,1,0);break;case Yu:Mt(Ue,We,ut,Ke,lt,0);break;case zc:Mt(Ue,We,ut,Ke,lt,0),Gl(Ke,lt,1,ut,1,0);break;case Uc:Eo(Ue,We,ut,Ke,lt);break;case Kh:Eo(Ue,We,ut,Ke,lt),Yi(Ke,lt,ut,1,0);break;case ll:Ws(Ue,We,ut,Ke,lt);break;default:e(0)}ye+=_e,Be+=Qe}b.Ma+=de}else alert("todo:EmitRescaledRowsYUVA");e(b.Ma<=I.height)}}b.C=T,e(b.C<=b.i)}function we(b){var T;if(0<b.ua)return 0;for(T=0;T<b.Wb;++T){var I=b.Ya[T].G,X=b.Ya[T].H;if(0<I[1][X[1]+0].g||0<I[2][X[2]+0].g||0<I[3][X[3]+0].g)return 0}return 1}function Se(b,T,I,X,oe,de){if(b.Z!=0){var pe=b.qd,ye=b.rd;for(e(Do[b.Z]!=null);T<I;++T)Do[b.Z](pe,ye,X,oe,X,oe,de),pe=X,ye=oe,oe+=de;b.qd=pe,b.rd=ye}}function Ne(b,T){var I=b.l.ma,X=I.Z==0||I.Z==1?b.l.j:b.C;if(X=b.C<X?X:b.C,e(T<=b.l.o),T>X){var oe=b.l.width,de=I.ca,pe=I.tb+oe*X,ye=b.V,_e=b.Ba+b.c*X,Te=b.gc;e(b.ab==1),e(Te[0].hc==3),Gs(Te[0],X,T,ye,_e,de,pe),Se(I,X,T,de,pe,oe)}b.C=b.Ma=T}function Xe(b,T,I,X,oe,de,pe){var ye=b.$/X,_e=b.$%X,Te=b.m,Be=b.s,Qe=I+b.$,Ce=Qe;oe=I+X*oe;var Ue=I+X*de,We=280+Be.ua,ut=b.Pb?ye:16777216,Ke=0<Be.ua?Be.Wa:null,lt=Be.wc,pt=Qe<Ue?he(Be,_e,ye):null;e(b.C<de),e(Ue<=oe);var Ct=!1;e:for(;;){for(;Ct||Qe<Ue;){var yt=0;if(ye>=ut){var Yt=Qe-I;e((ut=b).Pb),ut.wd=ut.m,ut.xd=Yt,0<ut.s.ua&&ne(ut.s.Wa,ut.s.vb),ut=ye+cl}if(_e&lt||(pt=he(Be,_e,ye)),e(pt!=null),pt.Qb&&(T[Qe]=pt.qb,Ct=!0),!Ct)if(fe(Te),pt.jc){yt=Te,Yt=T;var Pt=Qe,cr=pt.pd[P(yt)&ol-1];e(pt.jc),256>cr.g?(ie(yt,yt.u+cr.g),Yt[Pt]=cr.value,yt=0):(ie(yt,yt.u+cr.g-256),e(256<=cr.value),yt=cr.value),yt==0&&(Ct=!0)}else yt=sn(pt.G[0],pt.H[0],Te);if(Te.h)break;if(Ct||256>yt){if(!Ct)if(pt.nd)T[Qe]=(pt.qb|yt<<8)>>>0;else{if(fe(Te),Ct=sn(pt.G[1],pt.H[1],Te),fe(Te),Yt=sn(pt.G[2],pt.H[2],Te),Pt=sn(pt.G[3],pt.H[3],Te),Te.h)break;T[Qe]=(Pt<<24|Ct<<16|yt<<8|Yt)>>>0}if(Ct=!1,++Qe,++_e>=X&&(_e=0,++ye,pe!=null&&ye<=de&&!(ye%16)&&pe(b,ye),Ke!=null))for(;Ce<Qe;)yt=T[Ce++],Ke.X[(506832829*yt&4294967295)>>>Ke.Mb]=yt}else if(280>yt){if(yt=Ta(yt-256,Te),Yt=sn(pt.G[4],pt.H[4],Te),fe(Te),Yt=$a(X,Yt=Ta(Yt,Te)),Te.h)break;if(Qe-I<Yt||oe-Qe<yt)break e;for(Pt=0;Pt<yt;++Pt)T[Qe+Pt]=T[Qe+Pt-Yt];for(Qe+=yt,_e+=yt;_e>=X;)_e-=X,++ye,pe!=null&&ye<=de&&!(ye%16)&&pe(b,ye);if(e(Qe<=oe),_e&lt&&(pt=he(Be,_e,ye)),Ke!=null)for(;Ce<Qe;)yt=T[Ce++],Ke.X[(506832829*yt&4294967295)>>>Ke.Mb]=yt}else{if(!(yt<We))break e;for(Ct=yt-280,e(Ke!=null);Ce<Qe;)yt=T[Ce++],Ke.X[(506832829*yt&4294967295)>>>Ke.Mb]=yt;yt=Qe,e(!(Ct>>>(Yt=Ke).Xa)),T[yt]=Yt.X[Ct],Ct=!0}Ct||e(Te.h==U(Te))}if(b.Pb&&Te.h&&Qe<oe)e(b.m.h),b.a=5,b.m=b.wd,b.$=b.xd,0<b.s.ua&&ne(b.s.vb,b.s.Wa);else{if(Te.h)break e;pe!=null&&pe(b,ye>de?de:ye),b.a=0,b.$=Qe-I}return 1}return b.a=3,0}function ot(b){e(b!=null),b.vc=null,b.yc=null,b.Ya=null;var T=b.Wa;T!=null&&(T.X=null),b.vb=null,e(b!=null)}function Ze(){var b=new or;return b==null?null:(b.a=0,b.xb=w0,hr("Predictor","VP8LPredictors"),hr("Predictor","VP8LPredictors_C"),hr("PredictorAdd","VP8LPredictorsAdd"),hr("PredictorAdd","VP8LPredictorsAdd_C"),In=dt,Pc=xt,Ic=Qt,Ao=Et,Eo=Rt,Ws=Lt,ql=zt,D.VP8LMapColor32b=Vs,D.VP8LMapColor8b=Na,b)}function Je(b,T,I,X,oe){var de=1,pe=[b],ye=[T],_e=X.m,Te=X.s,Be=null,Qe=0;e:for(;;){if(I)for(;de&&Y(_e,1);){var Ce=pe,Ue=ye,We=X,ut=1,Ke=We.m,lt=We.gc[We.ab],pt=Y(Ke,2);if(We.Oc&1<<pt)de=0;else{switch(We.Oc|=1<<pt,lt.hc=pt,lt.Ea=Ce[0],lt.nc=Ue[0],lt.K=[null],++We.ab,e(4>=We.ab),pt){case 0:case 1:lt.b=Y(Ke,3)+2,ut=Je(le(lt.Ea,lt.b),le(lt.nc,lt.b),0,We,lt.K),lt.K=lt.K[0];break;case 3:var Ct,yt=Y(Ke,8)+1,Yt=16<yt?0:4<yt?1:2<yt?2:3;if(Ce[0]=le(lt.Ea,Yt),lt.b=Yt,Ct=ut=Je(yt,1,0,We,lt.K)){var Pt,cr=yt,Vt=lt,kr=1<<(8>>Vt.b),gn=i(kr);if(gn==null)Ct=0;else{var gr=Vt.K[0],It=Vt.w;for(gn[0]=Vt.K[0][0],Pt=1;Pt<1*cr;++Pt)gn[Pt]=Fe(gr[It+Pt],gn[Pt-1]);for(;Pt<4*kr;++Pt)gn[Pt]=0;Vt.K[0]=null,Vt.K[0]=gn,Ct=1}}ut=Ct;break;case 2:break;default:e(0)}de=ut}}if(pe=pe[0],ye=ye[0],de&&Y(_e,1)&&!(de=1<=(Qe=Y(_e,4))&&11>=Qe)){X.a=3;break e}var Dt;if(Dt=de)t:{var kn,ir,vr,Kr=X,aa=pe,Ma=ye,cn=Qe,Yn=I,Va=Kr.m,Xn=Kr.s,wr=[null],Rr=1,Cn=0,qr=Zi[cn];r:for(;;){if(Yn&&Y(Va,1)){var ia=Y(Va,3)+2,Tn=le(aa,ia),Br=le(Ma,ia),Hn=Tn*Br;if(!Je(Tn,Br,0,Kr,wr))break r;for(wr=wr[0],Xn.xc=ia,kn=0;kn<Hn;++kn){var $r=wr[kn]>>8&65535;wr[kn]=$r,$r>=Rr&&(Rr=$r+1)}}if(Va.h)break r;for(ir=0;5>ir;++ir){var Kn=Yl[ir];!ir&&0<cn&&(Kn+=1<<cn),Cn<Kn&&(Cn=Kn)}var $n=o(Rr*qr,V),tn=Rr,Mr=o(tn,re);if(Mr==null)var Ga=null;else e(65536>=tn),Ga=Mr;var Fn=i(Cn);if(Ga==null||Fn==null||$n==null){Kr.a=1;break r}var tr=$n;for(kn=vr=0;kn<Rr;++kn){var rr=Ga[kn],Pr=rr.G,di=rr.H,ts=0,ni=1,Zn=0;for(ir=0;5>ir;++ir){Kn=Yl[ir],Pr[ir]=tr,di[ir]=vr,!ir&&0<cn&&(Kn+=1<<cn);a:{var pl,ml=Kn,rf=Kr,un=Fn,S0=tr,k0=vr,nf=0,Lo=rf.m,im=Y(Lo,1);if(a(un,0,0,ml),im){var C0=Y(Lo,1)+1,T0=Y(Lo,1),af=Y(Lo,T0==0?1:8);un[af]=1,C0==2&&(un[af=Y(Lo,8)]=1);var ma=1}else{var Mn=i(19),Ju=Y(Lo,4)+4;if(19<Ju){rf.a=3;var xl=0;break a}for(pl=0;pl<Ju;++pl)Mn[Ku[pl]]=Y(Lo,3);var Wc=void 0,$l=void 0,Ks=rf,sf=Mn,Yc=ml,of=un,lf=0,Fo=Ks.m,A0=8,E0=o(128,V);n:for(;O(E0,0,7,sf,19);){if(Y(Fo,1)){var l1=2+2*Y(Fo,3);if((Wc=2+Y(Fo,l1))>Yc)break n}else Wc=Yc;for($l=0;$l<Yc&&Wc--;){fe(Fo);var N0=E0[0+(127&P(Fo))];ie(Fo,Fo.u+N0.g);var vl=N0.value;if(16>vl)of[$l++]=vl,vl!=0&&(A0=vl);else{var c1=vl==16,u1=vl-16,h1=Hc[u1],O0=Y(Fo,Ki[u1])+h1;if($l+O0>Yc)break n;for(var f1=c1?A0:0;0<O0--;)of[$l++]=f1}}lf=1;break n}lf||(Ks.a=3),ma=lf}(ma=ma&&!Lo.h)&&(nf=O(S0,k0,8,un,ml)),ma&&nf!=0?xl=nf:(rf.a=3,xl=0)}if(xl==0)break r;if(ni&&$h[ir]==1&&(ni=tr[vr].g==0),ts+=tr[vr].g,vr+=xl,3>=ir){var Zl,cf=Fn[0];for(Zl=1;Zl<Kn;++Zl)Fn[Zl]>cf&&(cf=Fn[Zl]);Zn+=cf}}if(rr.nd=ni,rr.Qb=0,ni&&(rr.qb=(Pr[3][di[3]+0].value<<24|Pr[1][di[1]+0].value<<16|Pr[2][di[2]+0].value)>>>0,ts==0&&256>Pr[0][di[0]+0].value&&(rr.Qb=1,rr.qb+=Pr[0][di[0]+0].value<<8)),rr.jc=!rr.Qb&&6>Zn,rr.jc){var Qu,$s=rr;for(Qu=0;Qu<ol;++Qu){var Mo=Qu,jo=$s.pd[Mo],uf=$s.G[0][$s.H[0]+Mo];256<=uf.value?(jo.g=uf.g+256,jo.value=uf.value):(jo.g=0,jo.value=0,Mo>>=Dn(uf,8,jo),Mo>>=Dn($s.G[1][$s.H[1]+Mo],16,jo),Mo>>=Dn($s.G[2][$s.H[2]+Mo],0,jo),Dn($s.G[3][$s.H[3]+Mo],24,jo))}}}Xn.vc=wr,Xn.Wb=Rr,Xn.Ya=Ga,Xn.yc=$n,Dt=1;break t}Dt=0}if(!(de=Dt)){X.a=3;break e}if(0<Qe){if(Te.ua=1<<Qe,!H(Te.Wa,Qe)){X.a=1,de=0;break e}}else Te.ua=0;var hf=X,Jl=pe,d1=ye,Xc=hf.s,Kc=Xc.xc;if(hf.c=Jl,hf.i=d1,Xc.md=le(Jl,Kc),Xc.wc=Kc==0?-1:(1<<Kc)-1,I){X.xb=ul;break e}if((Be=i(pe*ye))==null){X.a=1,de=0;break e}de=(de=Xe(X,Be,0,pe,ye,ye,null))&&!_e.h;break e}return de?(oe!=null?oe[0]=Be:(e(Be==null),e(I)),X.$=0,I||ot(Te)):ot(Te),de}function et(b,T){var I=b.c*b.i,X=I+T+16*T;return e(b.c<=T),b.V=i(X),b.V==null?(b.Ta=null,b.Ua=0,b.a=1,0):(b.Ta=b.V,b.Ua=b.Ba+I+T,1)}function _t(b,T){var I=b.C,X=T-I,oe=b.V,de=b.Ba+b.c*I;for(e(T<=b.l.o);0<X;){var pe=16<X?16:X,ye=b.l.ma,_e=b.l.width,Te=_e*pe,Be=ye.ca,Qe=ye.tb+_e*I,Ce=b.Ta,Ue=b.Ua;Ae(b,pe,oe,de),Mi(Ce,Ue,Be,Qe,Te),Se(ye,I,I+pe,Be,Qe,_e),X-=pe,oe+=pe*b.c,I+=pe}e(I==T),b.C=b.Ma=T}function Nt(){this.ub=this.yd=this.td=this.Rb=0}function Ft(){this.Kd=this.Ld=this.Ud=this.Td=this.i=this.c=0}function At(){this.Fb=this.Bb=this.Cb=0,this.Zb=i(4),this.Lb=i(4)}function Ot(){this.Yb=(function(){var b=[];return(function T(I,X,oe){for(var de=oe[X],pe=0;pe<de&&(I.push(oe.length>X+1?[]:0),!(oe.length<X+1));pe++)T(I[pe],X+1,oe)})(b,0,[3,11]),b})()}function Ht(){this.jb=i(3),this.Wc=l([4,8],Ot),this.Xc=l([4,17],Ot)}function Xr(){this.Pc=this.wb=this.Tb=this.zd=0,this.vd=new i(4),this.od=new i(4)}function _r(){this.ld=this.La=this.dd=this.tc=0}function Qr(){this.Na=this.la=0}function Za(){this.Sc=[0,0],this.Eb=[0,0],this.Qc=[0,0],this.ia=this.lc=0}function gs(){this.ad=i(384),this.Za=0,this.Ob=i(16),this.$b=this.Ad=this.ia=this.Gc=this.Hc=this.Dd=0}function ps(){this.uc=this.M=this.Nb=0,this.wa=Array(new _r),this.Y=0,this.ya=Array(new gs),this.aa=0,this.l=new ho}function Ni(){this.y=i(16),this.f=i(8),this.ea=i(8)}function rl(){this.cb=this.a=0,this.sc="",this.m=new w,this.Od=new Nt,this.Kc=new Ft,this.ed=new Xr,this.Qa=new At,this.Ic=this.$c=this.Aa=0,this.D=new ps,this.Xb=this.Va=this.Hb=this.zb=this.yb=this.Ub=this.za=0,this.Jc=o(8,w),this.ia=0,this.pb=o(4,Za),this.Pa=new Ht,this.Bd=this.kc=0,this.Ac=[],this.Bc=0,this.zc=[0,0,0,0],this.Gd=Array(new Ni),this.Hd=0,this.rb=Array(new Qr),this.sb=0,this.wa=Array(new _r),this.Y=0,this.oc=[],this.pc=0,this.sa=[],this.ta=0,this.qa=[],this.ra=0,this.Ha=[],this.B=this.R=this.Ia=0,this.Ec=[],this.M=this.ja=this.Vb=this.Fc=0,this.ya=Array(new gs),this.L=this.aa=0,this.gd=l([4,2],_r),this.ga=null,this.Fa=[],this.Cc=this.qc=this.P=0,this.Gb=[],this.Uc=0,this.mb=[],this.nb=0,this.rc=[],this.Ga=this.Vc=0}function _n(b,T){return 0>b?0:b>T?T:b}function ho(){this.T=this.U=this.ka=this.height=this.width=0,this.y=[],this.f=[],this.ea=[],this.Rc=this.fa=this.W=this.N=this.O=0,this.ma="void",this.put="VP8IoPutHook",this.ac="VP8IoSetupHook",this.bc="VP8IoTeardownHook",this.ha=this.Kb=0,this.data=[],this.hb=this.ib=this.da=this.o=this.j=this.va=this.v=this.Da=this.ob=this.w=0,this.F=[],this.J=0}function ms(){var b=new rl;return b!=null&&(b.a=0,b.sc="OK",b.cb=0,b.Xb=0,ji||(ji=nl)),b}function zr(b,T,I){return b.a==0&&(b.a=T,b.sc=I,b.cb=0),0}function Nu(b,T,I){return 3<=I&&b[T+0]==157&&b[T+1]==1&&b[T+2]==42}function Bs(b,T){if(b==null)return 0;if(b.a=0,b.sc="OK",T==null)return zr(b,2,"null VP8Io passed to VP8GetHeaders()");var I=T.data,X=T.w,oe=T.ha;if(4>oe)return zr(b,7,"Truncated header.");var de=I[X+0]|I[X+1]<<8|I[X+2]<<16,pe=b.Od;if(pe.Rb=!(1&de),pe.td=de>>1&7,pe.yd=de>>4&1,pe.ub=de>>5,3<pe.td)return zr(b,3,"Incorrect keyframe parameters.");if(!pe.yd)return zr(b,4,"Frame not displayable.");X+=3,oe-=3;var ye=b.Kc;if(pe.Rb){if(7>oe)return zr(b,7,"cannot parse picture header");if(!Nu(I,X,oe))return zr(b,3,"Bad code word");ye.c=16383&(I[X+4]<<8|I[X+3]),ye.Td=I[X+4]>>6,ye.i=16383&(I[X+6]<<8|I[X+5]),ye.Ud=I[X+6]>>6,X+=7,oe-=7,b.za=ye.c+15>>4,b.Ub=ye.i+15>>4,T.width=ye.c,T.height=ye.i,T.Da=0,T.j=0,T.v=0,T.va=T.width,T.o=T.height,T.da=0,T.ib=T.width,T.hb=T.height,T.U=T.width,T.T=T.height,a((de=b.Pa).jb,0,255,de.jb.length),e((de=b.Qa)!=null),de.Cb=0,de.Bb=0,de.Fb=1,a(de.Zb,0,0,de.Zb.length),a(de.Lb,0,0,de.Lb)}if(pe.ub>oe)return zr(b,7,"bad partition length");ae(de=b.m,I,X,pe.ub),X+=pe.ub,oe-=pe.ub,pe.Rb&&(ye.Ld=ve(de),ye.Kd=ve(de)),ye=b.Qa;var _e,Te=b.Pa;if(e(de!=null),e(ye!=null),ye.Cb=ve(de),ye.Cb){if(ye.Bb=ve(de),ve(de)){for(ye.Fb=ve(de),_e=0;4>_e;++_e)ye.Zb[_e]=ve(de)?ge(de,7):0;for(_e=0;4>_e;++_e)ye.Lb[_e]=ve(de)?ge(de,6):0}if(ye.Bb)for(_e=0;3>_e;++_e)Te.jb[_e]=ve(de)?J(de,8):255}else ye.Bb=0;if(de.Ka)return zr(b,3,"cannot parse segment header");if((ye=b.ed).zd=ve(de),ye.Tb=J(de,6),ye.wb=J(de,3),ye.Pc=ve(de),ye.Pc&&ve(de)){for(Te=0;4>Te;++Te)ve(de)&&(ye.vd[Te]=ge(de,6));for(Te=0;4>Te;++Te)ve(de)&&(ye.od[Te]=ge(de,6))}if(b.L=ye.Tb==0?0:ye.zd?1:2,de.Ka)return zr(b,3,"cannot parse filter header");var Be=oe;if(oe=_e=X,X=_e+Be,ye=Be,b.Xb=(1<<J(b.m,2))-1,Be<3*(Te=b.Xb))I=7;else{for(_e+=3*Te,ye-=3*Te,Be=0;Be<Te;++Be){var Qe=I[oe+0]|I[oe+1]<<8|I[oe+2]<<16;Qe>ye&&(Qe=ye),ae(b.Jc[+Be],I,_e,Qe),_e+=Qe,ye-=Qe,oe+=3}ae(b.Jc[+Te],I,_e,ye),I=_e<X?0:5}if(I!=0)return zr(b,I,"cannot parse partitions");for(I=J(_e=b.m,7),oe=ve(_e)?ge(_e,4):0,X=ve(_e)?ge(_e,4):0,ye=ve(_e)?ge(_e,4):0,Te=ve(_e)?ge(_e,4):0,_e=ve(_e)?ge(_e,4):0,Be=b.Qa,Qe=0;4>Qe;++Qe){if(Be.Cb){var Ce=Be.Zb[Qe];Be.Fb||(Ce+=I)}else{if(0<Qe){b.pb[Qe]=b.pb[0];continue}Ce=I}var Ue=b.pb[Qe];Ue.Sc[0]=Ji[_n(Ce+oe,127)],Ue.Sc[1]=Qi[_n(Ce+0,127)],Ue.Eb[0]=2*Ji[_n(Ce+X,127)],Ue.Eb[1]=101581*Qi[_n(Ce+ye,127)]>>16,8>Ue.Eb[1]&&(Ue.Eb[1]=8),Ue.Qc[0]=Ji[_n(Ce+Te,117)],Ue.Qc[1]=Qi[_n(Ce+_e,127)],Ue.lc=Ce+_e}if(!pe.Rb)return zr(b,4,"Not a key frame.");for(ve(de),pe=b.Pa,I=0;4>I;++I){for(oe=0;8>oe;++oe)for(X=0;3>X;++X)for(ye=0;11>ye;++ye)Te=ce(de,dn[I][oe][X][ye])?J(de,8):s1[I][oe][X][ye],pe.Wc[I][oe].Yb[X][ye]=Te;for(oe=0;17>oe;++oe)pe.Xc[I][oe]=pe.Wc[I][Cr[oe]]}return b.kc=ve(de),b.kc&&(b.Bd=J(de,8)),b.cb=1}function nl(b,T,I,X,oe,de,pe){var ye=T[oe].Yb[I];for(I=0;16>oe;++oe){if(!ce(b,ye[I+0]))return oe;for(;!ce(b,ye[I+1]);)if(ye=T[++oe].Yb[0],I=0,oe==16)return 16;var _e=T[oe+1].Yb;if(ce(b,ye[I+2])){var Te=b,Be=0;if(ce(Te,(Ce=ye)[(Qe=I)+3]))if(ce(Te,Ce[Qe+6])){for(ye=0,Qe=2*(Be=ce(Te,Ce[Qe+8]))+(Ce=ce(Te,Ce[Qe+9+Be])),Be=0,Ce=i1[Qe];Ce[ye];++ye)Be+=Be+ce(Te,Ce[ye]);Be+=3+(8<<Qe)}else ce(Te,Ce[Qe+7])?(Be=7+2*ce(Te,165),Be+=ce(Te,145)):Be=5+ce(Te,159);else Be=ce(Te,Ce[Qe+4])?3+ce(Te,Ce[Qe+5]):2;ye=_e[2]}else Be=1,ye=_e[1];_e=pe+b0[oe],0>(Te=b).b&&xe(Te);var Qe,Ce=Te.b,Ue=(Qe=Te.Ca>>1)-(Te.I>>Ce)>>31;--Te.b,Te.Ca+=Ue,Te.Ca|=1,Te.I-=(Qe+1&Ue)<<Ce,de[_e]=((Be^Ue)-Ue)*X[(0<oe)+0]}return 16}function Ou(b){var T=b.rb[b.sb-1];T.la=0,T.Na=0,a(b.zc,0,0,b.zc.length),b.ja=0}function Ja(b,T,I,X,oe){oe=b[T+I+32*X]+(oe>>3),b[T+I+32*X]=-256&oe?0>oe?0:255:oe}function ra(b,T,I,X,oe,de){Ja(b,T,0,I,X+oe),Ja(b,T,1,I,X+de),Ja(b,T,2,I,X-de),Ja(b,T,3,I,X-oe)}function Gn(b){return(20091*b>>16)+b}function Nc(b,T,I,X){var oe,de=0,pe=i(16);for(oe=0;4>oe;++oe){var ye=b[T+0]+b[T+8],_e=b[T+0]-b[T+8],Te=(35468*b[T+4]>>16)-Gn(b[T+12]),Be=Gn(b[T+4])+(35468*b[T+12]>>16);pe[de+0]=ye+Be,pe[de+1]=_e+Te,pe[de+2]=_e-Te,pe[de+3]=ye-Be,de+=4,T++}for(oe=de=0;4>oe;++oe)ye=(b=pe[de+0]+4)+pe[de+8],_e=b-pe[de+8],Te=(35468*pe[de+4]>>16)-Gn(pe[de+12]),Ja(I,X,0,0,ye+(Be=Gn(pe[de+4])+(35468*pe[de+12]>>16))),Ja(I,X,1,0,_e+Te),Ja(I,X,2,0,_e-Te),Ja(I,X,3,0,ye-Be),de++,X+=32}function Mh(b,T,I,X){var oe=b[T+0]+4,de=35468*b[T+4]>>16,pe=Gn(b[T+4]),ye=35468*b[T+1]>>16;ra(I,X,0,oe+pe,b=Gn(b[T+1]),ye),ra(I,X,1,oe+de,b,ye),ra(I,X,2,oe-de,b,ye),ra(I,X,3,oe-pe,b,ye)}function Du(b,T,I,X,oe){Nc(b,T,I,X),oe&&Nc(b,T+16,I,X+4)}function Qa(b,T,I,X){No(b,T+0,I,X,1),No(b,T+32,I,X+128,1)}function Lu(b,T,I,X){var oe;for(b=b[T+0]+4,oe=0;4>oe;++oe)for(T=0;4>T;++T)Ja(I,X,T,oe,b)}function Fu(b,T,I,X){b[T+0]&&Hr(b,T+0,I,X),b[T+16]&&Hr(b,T+16,I,X+4),b[T+32]&&Hr(b,T+32,I,X+128),b[T+48]&&Hr(b,T+48,I,X+128+4)}function xs(b,T,I,X){var oe,de=i(16);for(oe=0;4>oe;++oe){var pe=b[T+0+oe]+b[T+12+oe],ye=b[T+4+oe]+b[T+8+oe],_e=b[T+4+oe]-b[T+8+oe],Te=b[T+0+oe]-b[T+12+oe];de[0+oe]=pe+ye,de[8+oe]=pe-ye,de[4+oe]=Te+_e,de[12+oe]=Te-_e}for(oe=0;4>oe;++oe)pe=(b=de[0+4*oe]+3)+de[3+4*oe],ye=de[1+4*oe]+de[2+4*oe],_e=de[1+4*oe]-de[2+4*oe],Te=b-de[3+4*oe],I[X+0]=pe+ye>>3,I[X+16]=Te+_e>>3,I[X+32]=pe-ye>>3,I[X+48]=Te-_e>>3,X+=64}function Rl(b,T,I){var X,oe=T-32,de=Ha,pe=255-b[oe-1];for(X=0;X<I;++X){var ye,_e=de,Te=pe+b[T-1];for(ye=0;ye<I;++ye)b[T+ye]=_e[Te+b[oe+ye]];T+=32}}function jh(b,T){Rl(b,T,4)}function Rh(b,T){Rl(b,T,8)}function Mu(b,T){Rl(b,T,16)}function ju(b,T){var I;for(I=0;16>I;++I)n(b,T+32*I,b,T-32,16)}function Bh(b,T){var I;for(I=16;0<I;--I)a(b,T,b[T-1],16),T+=32}function hi(b,T,I){var X;for(X=0;16>X;++X)a(T,I+32*X,b,16)}function vs(b,T){var I,X=16;for(I=0;16>I;++I)X+=b[T-1+32*I]+b[T+I-32];hi(X>>5,b,T)}function fo(b,T){var I,X=8;for(I=0;16>I;++I)X+=b[T-1+32*I];hi(X>>4,b,T)}function Bl(b,T){var I,X=8;for(I=0;16>I;++I)X+=b[T+I-32];hi(X>>4,b,T)}function al(b,T){hi(128,b,T)}function ar(b,T,I){return b+2*T+I+2>>2}function Ph(b,T){var I,X=T-32;for(X=new Uint8Array([ar(b[X-1],b[X+0],b[X+1]),ar(b[X+0],b[X+1],b[X+2]),ar(b[X+1],b[X+2],b[X+3]),ar(b[X+2],b[X+3],b[X+4])]),I=0;4>I;++I)n(b,T+32*I,X,0,X.length)}function Ru(b,T){var I=b[T-1],X=b[T-1+32],oe=b[T-1+64],de=b[T-1+96];De(b,T+0,16843009*ar(b[T-1-32],I,X)),De(b,T+32,16843009*ar(I,X,oe)),De(b,T+64,16843009*ar(X,oe,de)),De(b,T+96,16843009*ar(oe,de,de))}function Ih(b,T){var I,X=4;for(I=0;4>I;++I)X+=b[T+I-32]+b[T-1+32*I];for(X>>=3,I=0;4>I;++I)a(b,T+32*I,X,4)}function Oi(b,T){var I=b[T-1+0],X=b[T-1+32],oe=b[T-1+64],de=b[T-1-32],pe=b[T+0-32],ye=b[T+1-32],_e=b[T+2-32],Te=b[T+3-32];b[T+0+96]=ar(X,oe,b[T-1+96]),b[T+1+96]=b[T+0+64]=ar(I,X,oe),b[T+2+96]=b[T+1+64]=b[T+0+32]=ar(de,I,X),b[T+3+96]=b[T+2+64]=b[T+1+32]=b[T+0+0]=ar(pe,de,I),b[T+3+64]=b[T+2+32]=b[T+1+0]=ar(ye,pe,de),b[T+3+32]=b[T+2+0]=ar(_e,ye,pe),b[T+3+0]=ar(Te,_e,ye)}function Aa(b,T){var I=b[T+1-32],X=b[T+2-32],oe=b[T+3-32],de=b[T+4-32],pe=b[T+5-32],ye=b[T+6-32],_e=b[T+7-32];b[T+0+0]=ar(b[T+0-32],I,X),b[T+1+0]=b[T+0+32]=ar(I,X,oe),b[T+2+0]=b[T+1+32]=b[T+0+64]=ar(X,oe,de),b[T+3+0]=b[T+2+32]=b[T+1+64]=b[T+0+96]=ar(oe,de,pe),b[T+3+32]=b[T+2+64]=b[T+1+96]=ar(de,pe,ye),b[T+3+64]=b[T+2+96]=ar(pe,ye,_e),b[T+3+96]=ar(ye,_e,_e)}function Bu(b,T){var I=b[T-1+0],X=b[T-1+32],oe=b[T-1+64],de=b[T-1-32],pe=b[T+0-32],ye=b[T+1-32],_e=b[T+2-32],Te=b[T+3-32];b[T+0+0]=b[T+1+64]=de+pe+1>>1,b[T+1+0]=b[T+2+64]=pe+ye+1>>1,b[T+2+0]=b[T+3+64]=ye+_e+1>>1,b[T+3+0]=_e+Te+1>>1,b[T+0+96]=ar(oe,X,I),b[T+0+64]=ar(X,I,de),b[T+0+32]=b[T+1+96]=ar(I,de,pe),b[T+1+32]=b[T+2+96]=ar(de,pe,ye),b[T+2+32]=b[T+3+96]=ar(pe,ye,_e),b[T+3+32]=ar(ye,_e,Te)}function Pl(b,T){var I=b[T+0-32],X=b[T+1-32],oe=b[T+2-32],de=b[T+3-32],pe=b[T+4-32],ye=b[T+5-32],_e=b[T+6-32],Te=b[T+7-32];b[T+0+0]=I+X+1>>1,b[T+1+0]=b[T+0+64]=X+oe+1>>1,b[T+2+0]=b[T+1+64]=oe+de+1>>1,b[T+3+0]=b[T+2+64]=de+pe+1>>1,b[T+0+32]=ar(I,X,oe),b[T+1+32]=b[T+0+96]=ar(X,oe,de),b[T+2+32]=b[T+1+96]=ar(oe,de,pe),b[T+3+32]=b[T+2+96]=ar(de,pe,ye),b[T+3+64]=ar(pe,ye,_e),b[T+3+96]=ar(ye,_e,Te)}function Di(b,T){var I=b[T-1+0],X=b[T-1+32],oe=b[T-1+64],de=b[T-1+96];b[T+0+0]=I+X+1>>1,b[T+2+0]=b[T+0+32]=X+oe+1>>1,b[T+2+32]=b[T+0+64]=oe+de+1>>1,b[T+1+0]=ar(I,X,oe),b[T+3+0]=b[T+1+32]=ar(X,oe,de),b[T+3+32]=b[T+1+64]=ar(oe,de,de),b[T+3+64]=b[T+2+64]=b[T+0+96]=b[T+1+96]=b[T+2+96]=b[T+3+96]=de}function Il(b,T){var I=b[T-1+0],X=b[T-1+32],oe=b[T-1+64],de=b[T-1+96],pe=b[T-1-32],ye=b[T+0-32],_e=b[T+1-32],Te=b[T+2-32];b[T+0+0]=b[T+2+32]=I+pe+1>>1,b[T+0+32]=b[T+2+64]=X+I+1>>1,b[T+0+64]=b[T+2+96]=oe+X+1>>1,b[T+0+96]=de+oe+1>>1,b[T+3+0]=ar(ye,_e,Te),b[T+2+0]=ar(pe,ye,_e),b[T+1+0]=b[T+3+32]=ar(I,pe,ye),b[T+1+32]=b[T+3+64]=ar(X,I,pe),b[T+1+64]=b[T+3+96]=ar(oe,X,I),b[T+1+96]=ar(de,oe,X)}function Ps(b,T){var I;for(I=0;8>I;++I)n(b,T+32*I,b,T-32,8)}function Uh(b,T){var I;for(I=0;8>I;++I)a(b,T,b[T-1],8),T+=32}function Vi(b,T,I){var X;for(X=0;8>X;++X)a(T,I+32*X,b,8)}function Oc(b,T){var I,X=8;for(I=0;8>I;++I)X+=b[T+I-32]+b[T-1+32*I];Vi(X>>4,b,T)}function Dc(b,T){var I,X=4;for(I=0;8>I;++I)X+=b[T+I-32];Vi(X>>3,b,T)}function ga(b,T){var I,X=4;for(I=0;8>I;++I)X+=b[T-1+32*I];Vi(X>>3,b,T)}function Is(b,T){Vi(128,b,T)}function Gi(b,T,I){var X=b[T-I],oe=b[T+0],de=3*(oe-X)+Oo[1020+b[T-2*I]-b[T+I]],pe=Wu[112+(de+4>>3)];b[T-I]=Ha[255+X+Wu[112+(de+3>>3)]],b[T+0]=Ha[255+oe-pe]}function go(b,T,I,X){var oe=b[T+0],de=b[T+I];return Oa[255+b[T-2*I]-b[T-I]]>X||Oa[255+de-oe]>X}function Lc(b,T,I,X){return 4*Oa[255+b[T-I]-b[T+0]]+Oa[255+b[T-2*I]-b[T+I]]<=X}function Ul(b,T,I,X,oe){var de=b[T-3*I],pe=b[T-2*I],ye=b[T-I],_e=b[T+0],Te=b[T+I],Be=b[T+2*I],Qe=b[T+3*I];return 4*Oa[255+ye-_e]+Oa[255+pe-Te]>X?0:Oa[255+b[T-4*I]-de]<=oe&&Oa[255+de-pe]<=oe&&Oa[255+pe-ye]<=oe&&Oa[255+Qe-Be]<=oe&&Oa[255+Be-Te]<=oe&&Oa[255+Te-_e]<=oe}function po(b,T,I,X){var oe=2*X+1;for(X=0;16>X;++X)Lc(b,T+X,I,oe)&&Gi(b,T+X,I)}function mo(b,T,I,X){var oe=2*X+1;for(X=0;16>X;++X)Lc(b,T+X*I,1,oe)&&Gi(b,T+X*I,1)}function zl(b,T,I,X){var oe;for(oe=3;0<oe;--oe)po(b,T+=4*I,I,X)}function Pu(b,T,I,X){var oe;for(oe=3;0<oe;--oe)mo(b,T+=4,I,X)}function xo(b,T,I,X,oe,de,pe,ye){for(de=2*de+1;0<oe--;){if(Ul(b,T,I,de,pe))if(go(b,T,I,ye))Gi(b,T,I);else{var _e=b,Te=T,Be=I,Qe=_e[Te-2*Be],Ce=_e[Te-Be],Ue=_e[Te+0],We=_e[Te+Be],ut=_e[Te+2*Be],Ke=27*(pt=Oo[1020+3*(Ue-Ce)+Oo[1020+Qe-We]])+63>>7,lt=18*pt+63>>7,pt=9*pt+63>>7;_e[Te-3*Be]=Ha[255+_e[Te-3*Be]+pt],_e[Te-2*Be]=Ha[255+Qe+lt],_e[Te-Be]=Ha[255+Ce+Ke],_e[Te+0]=Ha[255+Ue-Ke],_e[Te+Be]=Ha[255+We-lt],_e[Te+2*Be]=Ha[255+ut-pt]}T+=X}}function vo(b,T,I,X,oe,de,pe,ye){for(de=2*de+1;0<oe--;){if(Ul(b,T,I,de,pe))if(go(b,T,I,ye))Gi(b,T,I);else{var _e=b,Te=T,Be=I,Qe=_e[Te-Be],Ce=_e[Te+0],Ue=_e[Te+Be],We=Wu[112+(4+(ut=3*(Ce-Qe))>>3)],ut=Wu[112+(ut+3>>3)],Ke=We+1>>1;_e[Te-2*Be]=Ha[255+_e[Te-2*Be]+Ke],_e[Te-Be]=Ha[255+Qe+ut],_e[Te+0]=Ha[255+Ce-We],_e[Te+Be]=Ha[255+Ue-Ke]}T+=X}}function zh(b,T,I,X,oe,de){xo(b,T,I,1,16,X,oe,de)}function yo(b,T,I,X,oe,de){xo(b,T,1,I,16,X,oe,de)}function Hh(b,T,I,X,oe,de){var pe;for(pe=3;0<pe;--pe)vo(b,T+=4*I,I,1,16,X,oe,de)}function M(b,T,I,X,oe,de){var pe;for(pe=3;0<pe;--pe)vo(b,T+=4,1,I,16,X,oe,de)}function se(b,T,I,X,oe,de,pe,ye){xo(b,T,oe,1,8,de,pe,ye),xo(I,X,oe,1,8,de,pe,ye)}function Ee(b,T,I,X,oe,de,pe,ye){xo(b,T,1,oe,8,de,pe,ye),xo(I,X,1,oe,8,de,pe,ye)}function Re(b,T,I,X,oe,de,pe,ye){vo(b,T+4*oe,oe,1,8,de,pe,ye),vo(I,X+4*oe,oe,1,8,de,pe,ye)}function qe(b,T,I,X,oe,de,pe,ye){vo(b,T+4,1,oe,8,de,pe,ye),vo(I,X+4,1,oe,8,de,pe,ye)}function gt(){this.ba=new kt,this.ec=[],this.cc=[],this.Mc=[],this.Dc=this.Nc=this.dc=this.fc=0,this.Oa=new $t,this.memory=0,this.Ib="OutputFunc",this.Jb="OutputAlphaFunc",this.Nd="OutputRowFunc"}function wt(){this.data=[],this.offset=this.kd=this.ha=this.w=0,this.na=[],this.xa=this.gb=this.Ja=this.Sa=this.P=0}function Gt(){this.nc=this.Ea=this.b=this.hc=0,this.K=[],this.w=0}function Zt(){this.ua=0,this.Wa=new G,this.vb=new G,this.md=this.xc=this.wc=0,this.vc=[],this.Wb=0,this.Ya=new re,this.yc=new V}function or(){this.xb=this.a=0,this.l=new ho,this.ca=new kt,this.V=[],this.Ba=0,this.Ta=[],this.Ua=0,this.m=new L,this.Pb=0,this.wd=new L,this.Ma=this.$=this.C=this.i=this.c=this.xd=0,this.s=new Zt,this.ab=0,this.gc=o(4,Gt),this.Oc=0}function dr(){this.Lc=this.Z=this.$a=this.i=this.c=0,this.l=new ho,this.ic=0,this.ca=[],this.tb=0,this.qd=null,this.rd=0}function Lr(b,T,I,X,oe,de,pe){for(b=b==null?0:b[T+0],T=0;T<pe;++T)oe[de+T]=b+I[X+T]&255,b=oe[de+T]}function Sn(b,T,I,X,oe,de,pe){var ye;if(b==null)Lr(null,null,I,X,oe,de,pe);else for(ye=0;ye<pe;++ye)oe[de+ye]=b[T+ye]+I[X+ye]&255}function Pn(b,T,I,X,oe,de,pe){if(b==null)Lr(null,null,I,X,oe,de,pe);else{var ye,_e=b[T+0],Te=_e,Be=_e;for(ye=0;ye<pe;++ye)Te=Be+(_e=b[T+ye])-Te,Be=I[X+ye]+(-256&Te?0>Te?0:255:Te)&255,Te=_e,oe[de+ye]=Be}}function on(b,T,I,X){var oe=T.width,de=T.o;if(e(b!=null&&T!=null),0>I||0>=X||I+X>de)return null;if(!b.Cc){if(b.ga==null){var pe;if(b.ga=new dr,(pe=b.ga==null)||(pe=T.width*T.o,e(b.Gb.length==0),b.Gb=i(pe),b.Uc=0,b.Gb==null?pe=0:(b.mb=b.Gb,b.nb=b.Uc,b.rc=null,pe=1),pe=!pe),!pe){pe=b.ga;var ye=b.Fa,_e=b.P,Te=b.qc,Be=b.mb,Qe=b.nb,Ce=_e+1,Ue=Te-1,We=pe.l;if(e(ye!=null&&Be!=null&&T!=null),Do[0]=null,Do[1]=Lr,Do[2]=Sn,Do[3]=Pn,pe.ca=Be,pe.tb=Qe,pe.c=T.width,pe.i=T.height,e(0<pe.c&&0<pe.i),1>=Te)T=0;else if(pe.$a=3&ye[_e+0],pe.Z=ye[_e+0]>>2&3,pe.Lc=ye[_e+0]>>4&3,_e=ye[_e+0]>>6&3,0>pe.$a||1<pe.$a||4<=pe.Z||1<pe.Lc||_e)T=0;else if(We.put=jt,We.ac=wn,We.bc=Vn,We.ma=pe,We.width=T.width,We.height=T.height,We.Da=T.Da,We.v=T.v,We.va=T.va,We.j=T.j,We.o=T.o,pe.$a)e:{e(pe.$a==1),T=Ze();t:for(;;){if(T==null){T=0;break e}if(e(pe!=null),pe.mc=T,T.c=pe.c,T.i=pe.i,T.l=pe.l,T.l.ma=pe,T.l.width=pe.c,T.l.height=pe.i,T.a=0,te(T.m,ye,Ce,Ue),!Je(pe.c,pe.i,1,T,null)||(T.ab==1&&T.gc[0].hc==3&&we(T.s)?(pe.ic=1,ye=T.c*T.i,T.Ta=null,T.Ua=0,T.V=i(ye),T.Ba=0,T.V==null?(T.a=1,T=0):T=1):(pe.ic=0,T=et(T,pe.c)),!T))break t;T=1;break e}pe.mc=null,T=0}else T=Ue>=pe.c*pe.i;pe=!T}if(pe)return null;b.ga.Lc!=1?b.Ga=0:X=de-I}e(b.ga!=null),e(I+X<=de);e:{if(T=(ye=b.ga).c,de=ye.l.o,ye.$a==0){if(Ce=b.rc,Ue=b.Vc,We=b.Fa,_e=b.P+1+I*T,Te=b.mb,Be=b.nb+I*T,e(_e<=b.P+b.qc),ye.Z!=0)for(e(Do[ye.Z]!=null),pe=0;pe<X;++pe)Do[ye.Z](Ce,Ue,We,_e,Te,Be,T),Ce=Te,Ue=Be,Be+=T,_e+=T;else for(pe=0;pe<X;++pe)n(Te,Be,We,_e,T),Ce=Te,Ue=Be,Be+=T,_e+=T;b.rc=Ce,b.Vc=Ue}else{if(e(ye.mc!=null),T=I+X,e((pe=ye.mc)!=null),e(T<=pe.i),pe.C>=T)T=1;else if(ye.ic||ys(),ye.ic){ye=pe.V,Ce=pe.Ba,Ue=pe.c;var ut=pe.i,Ke=(We=1,_e=pe.$/Ue,Te=pe.$%Ue,Be=pe.m,Qe=pe.s,pe.$),lt=Ue*ut,pt=Ue*T,Ct=Qe.wc,yt=Ke<pt?he(Qe,Te,_e):null;e(Ke<=lt),e(T<=ut),e(we(Qe));t:for(;;){for(;!Be.h&&Ke<pt;){if(Te&Ct||(yt=he(Qe,Te,_e)),e(yt!=null),fe(Be),256>(ut=sn(yt.G[0],yt.H[0],Be)))ye[Ce+Ke]=ut,++Ke,++Te>=Ue&&(Te=0,++_e<=T&&!(_e%16)&&Ne(pe,_e));else{if(!(280>ut)){We=0;break t}ut=Ta(ut-256,Be);var Yt,Pt=sn(yt.G[4],yt.H[4],Be);if(fe(Be),!(Ke>=(Pt=$a(Ue,Pt=Ta(Pt,Be)))&&lt-Ke>=ut)){We=0;break t}for(Yt=0;Yt<ut;++Yt)ye[Ce+Ke+Yt]=ye[Ce+Ke+Yt-Pt];for(Ke+=ut,Te+=ut;Te>=Ue;)Te-=Ue,++_e<=T&&!(_e%16)&&Ne(pe,_e);Ke<pt&&Te&Ct&&(yt=he(Qe,Te,_e))}e(Be.h==U(Be))}Ne(pe,_e>T?T:_e);break t}!We||Be.h&&Ke<lt?(We=0,pe.a=Be.h?5:3):pe.$=Ke,T=We}else T=Xe(pe,pe.V,pe.Ba,pe.c,pe.i,T,_t);if(!T){X=0;break e}}I+X>=de&&(b.Cc=1),X=1}if(!X)return null;if(b.Cc&&((X=b.ga)!=null&&(X.mc=null),b.ga=null,0<b.Ga))return alert("todo:WebPDequantizeLevels"),null}return b.nb+I*oe}function na(b,T,I,X,oe,de){for(;0<oe--;){var pe,ye=b,_e=T+(I?1:0),Te=b,Be=T+(I?0:3);for(pe=0;pe<X;++pe){var Qe=Te[Be+4*pe];Qe!=255&&(Qe*=32897,ye[_e+4*pe+0]=ye[_e+4*pe+0]*Qe>>23,ye[_e+4*pe+1]=ye[_e+4*pe+1]*Qe>>23,ye[_e+4*pe+2]=ye[_e+4*pe+2]*Qe>>23)}T+=de}}function Wn(b,T,I,X,oe){for(;0<X--;){var de;for(de=0;de<I;++de){var pe=b[T+2*de+0],ye=15&(Te=b[T+2*de+1]),_e=4369*ye,Te=(240&Te|Te>>4)*_e>>16;b[T+2*de+0]=(240&pe|pe>>4)*_e>>16&240|(15&pe|pe<<4)*_e>>16>>4&15,b[T+2*de+1]=240&Te|ye}T+=oe}}function Ea(b,T,I,X,oe,de,pe,ye){var _e,Te,Be=255;for(Te=0;Te<oe;++Te){for(_e=0;_e<X;++_e){var Qe=b[T+_e];de[pe+4*_e]=Qe,Be&=Qe}T+=I,pe+=ye}return Be!=255}function bo(b,T,I,X,oe){var de;for(de=0;de<oe;++de)I[X+de]=b[T+de]>>8}function ys(){Gl=na,Yi=Wn,qu=Ea,Mi=bo}function wo(b,T,I){D[b]=function(X,oe,de,pe,ye,_e,Te,Be,Qe,Ce,Ue,We,ut,Ke,lt,pt,Ct){var yt,Yt=Ct-1>>1,Pt=ye[_e+0]|Te[Be+0]<<16,cr=Qe[Ce+0]|Ue[We+0]<<16;e(X!=null);var Vt=3*Pt+cr+131074>>2;for(T(X[oe+0],255&Vt,Vt>>16,ut,Ke),de!=null&&(Vt=3*cr+Pt+131074>>2,T(de[pe+0],255&Vt,Vt>>16,lt,pt)),yt=1;yt<=Yt;++yt){var kr=ye[_e+yt]|Te[Be+yt]<<16,gn=Qe[Ce+yt]|Ue[We+yt]<<16,gr=Pt+kr+cr+gn+524296,It=gr+2*(kr+cr)>>3;Vt=It+Pt>>1,Pt=(gr=gr+2*(Pt+gn)>>3)+kr>>1,T(X[oe+2*yt-1],255&Vt,Vt>>16,ut,Ke+(2*yt-1)*I),T(X[oe+2*yt-0],255&Pt,Pt>>16,ut,Ke+(2*yt-0)*I),de!=null&&(Vt=gr+cr>>1,Pt=It+gn>>1,T(de[pe+2*yt-1],255&Vt,Vt>>16,lt,pt+(2*yt-1)*I),T(de[pe+2*yt+0],255&Pt,Pt>>16,lt,pt+(2*yt+0)*I)),Pt=kr,cr=gn}1&Ct||(Vt=3*Pt+cr+131074>>2,T(X[oe+Ct-1],255&Vt,Vt>>16,ut,Ke+(Ct-1)*I),de!=null&&(Vt=3*cr+Pt+131074>>2,T(de[pe+Ct-1],255&Vt,Vt>>16,lt,pt+(Ct-1)*I)))}}function Iu(){La[Wh]=Xl,La[qa]=qc,La[Yh]=_0,La[Xi]=Jh,La[Yu]=hl,La[Uc]=Xs,La[ll]=fl,La[Xu]=qc,La[Xh]=Jh,La[zc]=hl,La[Kh]=Xs}function Fc(b){return b&-16384?0>b?0:255:b>>Qh}function Us(b,T){return Fc((19077*b>>8)+(26149*T>>8)-14234)}function bs(b,T,I){return Fc((19077*b>>8)-(6419*T>>8)-(13320*I>>8)+8708)}function Hl(b,T){return Fc((19077*b>>8)+(33050*T>>8)-17685)}function _o(b,T,I,X,oe){X[oe+0]=Us(b,I),X[oe+1]=bs(b,T,I),X[oe+2]=Hl(b,T)}function pa(b,T,I,X,oe){X[oe+0]=Hl(b,T),X[oe+1]=bs(b,T,I),X[oe+2]=Us(b,I)}function il(b,T,I,X,oe){var de=bs(b,T,I);T=de<<3&224|Hl(b,T)>>3,X[oe+0]=248&Us(b,I)|de>>5,X[oe+1]=T}function sl(b,T,I,X,oe){var de=240&Hl(b,T)|15;X[oe+0]=240&Us(b,I)|bs(b,T,I)>>4,X[oe+1]=de}function Mc(b,T,I,X,oe){X[oe+0]=255,_o(b,T,I,X,oe+1)}function zs(b,T,I,X,oe){pa(b,T,I,X,oe),X[oe+3]=255}function ei(b,T,I,X,oe){_o(b,T,I,X,oe),X[oe+3]=255}function So(b,T,I){D[b]=function(X,oe,de,pe,ye,_e,Te,Be,Qe){for(var Ce=Be+(-2&Qe)*I;Be!=Ce;)T(X[oe+0],de[pe+0],ye[_e+0],Te,Be),T(X[oe+1],de[pe+0],ye[_e+0],Te,Be+I),oe+=2,++pe,++_e,Be+=2*I;1&Qe&&T(X[oe+0],de[pe+0],ye[_e+0],Te,Be)}}function jc(b,T,I){return I==0?b==0?T==0?6:5:T==0?4:0:I}function Uu(b,T,I,X,oe){switch(b>>>30){case 3:No(T,I,X,oe,0);break;case 2:za(T,I,X,oe);break;case 1:Hr(T,I,X,oe)}}function Li(b,T){var I,X,oe=T.M,de=T.Nb,pe=b.oc,ye=b.pc+40,_e=b.oc,Te=b.pc+584,Be=b.oc,Qe=b.pc+600;for(I=0;16>I;++I)pe[ye+32*I-1]=129;for(I=0;8>I;++I)_e[Te+32*I-1]=129,Be[Qe+32*I-1]=129;for(0<oe?pe[ye-1-32]=_e[Te-1-32]=Be[Qe-1-32]=129:(a(pe,ye-32-1,127,21),a(_e,Te-32-1,127,9),a(Be,Qe-32-1,127,9)),X=0;X<b.za;++X){var Ce=T.ya[T.aa+X];if(0<X){for(I=-1;16>I;++I)n(pe,ye+32*I-4,pe,ye+32*I+12,4);for(I=-1;8>I;++I)n(_e,Te+32*I-4,_e,Te+32*I+4,4),n(Be,Qe+32*I-4,Be,Qe+32*I+4,4)}var Ue=b.Gd,We=b.Hd+X,ut=Ce.ad,Ke=Ce.Hc;if(0<oe&&(n(pe,ye-32,Ue[We].y,0,16),n(_e,Te-32,Ue[We].f,0,8),n(Be,Qe-32,Ue[We].ea,0,8)),Ce.Za){var lt=pe,pt=ye-32+16;for(0<oe&&(X>=b.za-1?a(lt,pt,Ue[We].y[15],4):n(lt,pt,Ue[We+1].y,0,4)),I=0;4>I;I++)lt[pt+128+I]=lt[pt+256+I]=lt[pt+384+I]=lt[pt+0+I];for(I=0;16>I;++I,Ke<<=2)lt=pe,pt=ye+zn[I],Ln[Ce.Ob[I]](lt,pt),Uu(Ke,ut,16*+I,lt,pt)}else if(lt=jc(X,oe,Ce.Ob[0]),ri[lt](pe,ye),Ke!=0)for(I=0;16>I;++I,Ke<<=2)Uu(Ke,ut,16*+I,pe,ye+zn[I]);for(I=Ce.Gc,lt=jc(X,oe,Ce.Dd),ks[lt](_e,Te),ks[lt](Be,Qe),Ke=ut,lt=_e,pt=Te,255&(Ce=0|I)&&(170&Ce?Wi(Ke,256,lt,pt):Fr(Ke,256,lt,pt)),Ce=Be,Ke=Qe,255&(I>>=8)&&(170&I?Wi(ut,320,Ce,Ke):Fr(ut,320,Ce,Ke)),oe<b.Ub-1&&(n(Ue[We].y,0,pe,ye+480,16),n(Ue[We].f,0,_e,Te+224,8),n(Ue[We].ea,0,Be,Qe+224,8)),I=8*de*b.B,Ue=b.sa,We=b.ta+16*X+16*de*b.R,ut=b.qa,Ce=b.ra+8*X+I,Ke=b.Ha,lt=b.Ia+8*X+I,I=0;16>I;++I)n(Ue,We+I*b.R,pe,ye+32*I,16);for(I=0;8>I;++I)n(ut,Ce+I*b.B,_e,Te+32*I,8),n(Ke,lt+I*b.B,Be,Qe+32*I,8)}}function ws(b,T,I,X,oe,de,pe,ye,_e){var Te=[0],Be=[0],Qe=0,Ce=_e!=null?_e.kd:0,Ue=_e??new wt;if(b==null||12>I)return 7;Ue.data=b,Ue.w=T,Ue.ha=I,T=[T],I=[I],Ue.gb=[Ue.gb];e:{var We=T,ut=I,Ke=Ue.gb;if(e(b!=null),e(ut!=null),e(Ke!=null),Ke[0]=0,12<=ut[0]&&!t(b,We[0],"RIFF")){if(t(b,We[0]+8,"WEBP")){Ke=3;break e}var lt=R(b,We[0]+4);if(12>lt||4294967286<lt){Ke=3;break e}if(Ce&&lt>ut[0]-8){Ke=7;break e}Ke[0]=lt,We[0]+=12,ut[0]-=12}Ke=0}if(Ke!=0)return Ke;for(lt=0<Ue.gb[0],I=I[0];;){e:{var pt=b;ut=T,Ke=I;var Ct=Te,yt=Be,Yt=We=[0];if((Vt=Qe=[Qe])[0]=0,8>Ke[0])Ke=7;else{if(!t(pt,ut[0],"VP8X")){if(R(pt,ut[0]+4)!=10){Ke=3;break e}if(18>Ke[0]){Ke=7;break e}var Pt=R(pt,ut[0]+8),cr=1+Ye(pt,ut[0]+12);if(2147483648<=cr*(pt=1+Ye(pt,ut[0]+15))){Ke=3;break e}Yt!=null&&(Yt[0]=Pt),Ct!=null&&(Ct[0]=cr),yt!=null&&(yt[0]=pt),ut[0]+=18,Ke[0]-=18,Vt[0]=1}Ke=0}}if(Qe=Qe[0],We=We[0],Ke!=0)return Ke;if(ut=!!(2&We),!lt&&Qe)return 3;if(de!=null&&(de[0]=!!(16&We)),pe!=null&&(pe[0]=ut),ye!=null&&(ye[0]=0),pe=Te[0],We=Be[0],Qe&&ut&&_e==null){Ke=0;break}if(4>I){Ke=7;break}if(lt&&Qe||!lt&&!Qe&&!t(b,T[0],"ALPH")){I=[I],Ue.na=[Ue.na],Ue.P=[Ue.P],Ue.Sa=[Ue.Sa];e:{Pt=b,Ke=T,lt=I;var Vt=Ue.gb;Ct=Ue.na,yt=Ue.P,Yt=Ue.Sa,cr=22,e(Pt!=null),e(lt!=null),pt=Ke[0];var kr=lt[0];for(e(Ct!=null),e(Yt!=null),Ct[0]=null,yt[0]=null,Yt[0]=0;;){if(Ke[0]=pt,lt[0]=kr,8>kr){Ke=7;break e}var gn=R(Pt,pt+4);if(4294967286<gn){Ke=3;break e}var gr=8+gn+1&-2;if(cr+=gr,0<Vt&&cr>Vt){Ke=3;break e}if(!t(Pt,pt,"VP8 ")||!t(Pt,pt,"VP8L")){Ke=0;break e}if(kr[0]<gr){Ke=7;break e}t(Pt,pt,"ALPH")||(Ct[0]=Pt,yt[0]=pt+8,Yt[0]=gn),pt+=gr,kr-=gr}}if(I=I[0],Ue.na=Ue.na[0],Ue.P=Ue.P[0],Ue.Sa=Ue.Sa[0],Ke!=0)break}I=[I],Ue.Ja=[Ue.Ja],Ue.xa=[Ue.xa];e:if(Vt=b,Ke=T,lt=I,Ct=Ue.gb[0],yt=Ue.Ja,Yt=Ue.xa,Pt=Ke[0],pt=!t(Vt,Pt,"VP8 "),cr=!t(Vt,Pt,"VP8L"),e(Vt!=null),e(lt!=null),e(yt!=null),e(Yt!=null),8>lt[0])Ke=7;else{if(pt||cr){if(Vt=R(Vt,Pt+4),12<=Ct&&Vt>Ct-12){Ke=3;break e}if(Ce&&Vt>lt[0]-8){Ke=7;break e}yt[0]=Vt,Ke[0]+=8,lt[0]-=8,Yt[0]=cr}else Yt[0]=5<=lt[0]&&Vt[Pt+0]==47&&!(Vt[Pt+4]>>5),yt[0]=lt[0];Ke=0}if(I=I[0],Ue.Ja=Ue.Ja[0],Ue.xa=Ue.xa[0],T=T[0],Ke!=0)break;if(4294967286<Ue.Ja)return 3;if(ye==null||ut||(ye[0]=Ue.xa?2:1),pe=[pe],We=[We],Ue.xa){if(5>I){Ke=7;break}ye=pe,Ce=We,ut=de,b==null||5>I?b=0:5<=I&&b[T+0]==47&&!(b[T+4]>>5)?(lt=[0],Vt=[0],Ct=[0],te(yt=new L,b,T,I),da(yt,lt,Vt,Ct)?(ye!=null&&(ye[0]=lt[0]),Ce!=null&&(Ce[0]=Vt[0]),ut!=null&&(ut[0]=Ct[0]),b=1):b=0):b=0}else{if(10>I){Ke=7;break}ye=We,b==null||10>I||!Nu(b,T+3,I-3)?b=0:(Ce=b[T+0]|b[T+1]<<8|b[T+2]<<16,ut=16383&(b[T+7]<<8|b[T+6]),b=16383&(b[T+9]<<8|b[T+8]),1&Ce||3<(Ce>>1&7)||!(Ce>>4&1)||Ce>>5>=Ue.Ja||!ut||!b?b=0:(pe&&(pe[0]=ut),ye&&(ye[0]=b),b=1))}if(!b||(pe=pe[0],We=We[0],Qe&&(Te[0]!=pe||Be[0]!=We)))return 3;_e!=null&&(_e[0]=Ue,_e.offset=T-_e.w,e(4294967286>T-_e.w),e(_e.offset==_e.ha-I));break}return Ke==0||Ke==7&&Qe&&_e==null?(de!=null&&(de[0]|=Ue.na!=null&&0<Ue.na.length),X!=null&&(X[0]=pe),oe!=null&&(oe[0]=We),0):Ke}function ko(b,T,I){var X=T.width,oe=T.height,de=0,pe=0,ye=X,_e=oe;if(T.Da=b!=null&&0<b.Da,T.Da&&(ye=b.cd,_e=b.bd,de=b.v,pe=b.j,11>I||(de&=-2,pe&=-2),0>de||0>pe||0>=ye||0>=_e||de+ye>X||pe+_e>oe))return 0;if(T.v=de,T.j=pe,T.va=de+ye,T.o=pe+_e,T.U=ye,T.T=_e,T.da=b!=null&&0<b.da,T.da){if(!K(ye,_e,I=[b.ib],de=[b.hb]))return 0;T.ib=I[0],T.hb=de[0]}return T.ob=b!=null&&b.ob,T.Kb=b==null||!b.Sd,T.da&&(T.ob=T.ib<3*X/4&&T.hb<3*oe/4,T.Kb=0),1}function zu(b){if(b==null)return 2;if(11>b.S){var T=b.f.RGBA;T.fb+=(b.height-1)*T.A,T.A=-T.A}else T=b.f.kb,b=b.height,T.O+=(b-1)*T.fa,T.fa=-T.fa,T.N+=(b-1>>1)*T.Ab,T.Ab=-T.Ab,T.W+=(b-1>>1)*T.Db,T.Db=-T.Db,T.F!=null&&(T.J+=(b-1)*T.lb,T.lb=-T.lb);return 0}function _s(b,T,I,X){if(X==null||0>=b||0>=T)return 2;if(I!=null){if(I.Da){var oe=I.cd,de=I.bd,pe=-2&I.v,ye=-2&I.j;if(0>pe||0>ye||0>=oe||0>=de||pe+oe>b||ye+de>T)return 2;b=oe,T=de}if(I.da){if(!K(b,T,oe=[I.ib],de=[I.hb]))return 2;b=oe[0],T=de[0]}}X.width=b,X.height=T;e:{var _e=X.width,Te=X.height;if(b=X.S,0>=_e||0>=Te||!(b>=Wh&&13>b))b=2;else{if(0>=X.Rd&&X.sd==null){pe=de=oe=T=0;var Be=(ye=_e*tf[b])*Te;if(11>b||(de=(Te+1)/2*(T=(_e+1)/2),b==12&&(pe=(oe=_e)*Te)),(Te=i(Be+2*de+pe))==null){b=1;break e}X.sd=Te,11>b?((_e=X.f.RGBA).eb=Te,_e.fb=0,_e.A=ye,_e.size=Be):((_e=X.f.kb).y=Te,_e.O=0,_e.fa=ye,_e.Fd=Be,_e.f=Te,_e.N=0+Be,_e.Ab=T,_e.Cd=de,_e.ea=Te,_e.W=0+Be+de,_e.Db=T,_e.Ed=de,b==12&&(_e.F=Te,_e.J=0+Be+2*de),_e.Tc=pe,_e.lb=oe)}if(T=1,oe=X.S,de=X.width,pe=X.height,oe>=Wh&&13>oe)if(11>oe)b=X.f.RGBA,T&=(ye=Math.abs(b.A))*(pe-1)+de<=b.size,T&=ye>=de*tf[oe],T&=b.eb!=null;else{b=X.f.kb,ye=(de+1)/2,Be=(pe+1)/2,_e=Math.abs(b.fa),Te=Math.abs(b.Ab);var Qe=Math.abs(b.Db),Ce=Math.abs(b.lb),Ue=Ce*(pe-1)+de;T&=_e*(pe-1)+de<=b.Fd,T&=Te*(Be-1)+ye<=b.Cd,T=(T&=Qe*(Be-1)+ye<=b.Ed)&_e>=de&Te>=ye&Qe>=ye,T&=b.y!=null,T&=b.f!=null,T&=b.ea!=null,oe==12&&(T&=Ce>=de,T&=Ue<=b.Tc,T&=b.F!=null)}else T=0;b=T?0:2}}return b!=0||I!=null&&I.fd&&(b=zu(X)),b}var ol=64,fi=[0,1,3,7,15,31,63,127,255,511,1023,2047,4095,8191,16383,32767,65535,131071,262143,524287,1048575,2097151,4194303,8388607,16777215],ti=24,Hs=32,qs=8,Co=[0,0,1,1,2,2,2,2,3,3,3,3,3,3,3,3,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7];je("Predictor0","PredictorAdd0"),D.Predictor0=function(){return 4278190080},D.Predictor1=function(b){return b},D.Predictor2=function(b,T,I){return T[I+0]},D.Predictor3=function(b,T,I){return T[I+1]},D.Predictor4=function(b,T,I){return T[I-1]},D.Predictor5=function(b,T,I){return Ge(Ge(b,T[I+1]),T[I+0])},D.Predictor6=function(b,T,I){return Ge(b,T[I-1])},D.Predictor7=function(b,T,I){return Ge(b,T[I+0])},D.Predictor8=function(b,T,I){return Ge(T[I-1],T[I+0])},D.Predictor9=function(b,T,I){return Ge(T[I+0],T[I+1])},D.Predictor10=function(b,T,I){return Ge(Ge(b,T[I-1]),Ge(T[I+0],T[I+1]))},D.Predictor11=function(b,T,I){var X=T[I+0];return 0>=it(X>>24&255,b>>24&255,(T=T[I-1])>>24&255)+it(X>>16&255,b>>16&255,T>>16&255)+it(X>>8&255,b>>8&255,T>>8&255)+it(255&X,255&b,255&T)?X:b},D.Predictor12=function(b,T,I){var X=T[I+0];return($e((b>>24&255)+(X>>24&255)-((T=T[I-1])>>24&255))<<24|$e((b>>16&255)+(X>>16&255)-(T>>16&255))<<16|$e((b>>8&255)+(X>>8&255)-(T>>8&255))<<8|$e((255&b)+(255&X)-(255&T)))>>>0},D.Predictor13=function(b,T,I){var X=T[I-1];return(rt((b=Ge(b,T[I+0]))>>24&255,X>>24&255)<<24|rt(b>>16&255,X>>16&255)<<16|rt(b>>8&255,X>>8&255)<<8|rt(255&b,255&X))>>>0};var Rc=D.PredictorAdd0;D.PredictorAdd1=Tt,je("Predictor2","PredictorAdd2"),je("Predictor3","PredictorAdd3"),je("Predictor4","PredictorAdd4"),je("Predictor5","PredictorAdd5"),je("Predictor6","PredictorAdd6"),je("Predictor7","PredictorAdd7"),je("Predictor8","PredictorAdd8"),je("Predictor9","PredictorAdd9"),je("Predictor10","PredictorAdd10"),je("Predictor11","PredictorAdd11"),je("Predictor12","PredictorAdd12"),je("Predictor13","PredictorAdd13");var Bc=D.PredictorAdd2;bt("ColorIndexInverseTransform","MapARGB","32b",function(b){return b>>8&255},function(b){return b}),bt("VP8LColorIndexInverseTransformAlpha","MapAlpha","8b",function(b){return b},function(b){return b>>8&255});var In,qh=D.ColorIndexInverseTransform,Vs=D.MapARGB,Gs=D.VP8LColorIndexInverseTransformAlpha,Na=D.MapAlpha,To=D.VP8LPredictorsAdd=[];To.length=16,(D.VP8LPredictors=[]).length=16,(D.VP8LPredictorsAdd_C=[]).length=16,(D.VP8LPredictors_C=[]).length=16;var Pc,Ic,Ao,Eo,Ws,ql,Fi,No,za,Wi,Hr,Fr,ln,Un,Ys,Ss,Vl,Hu,x0,r1,n1,a1,v0,y0,Gl,Yi,qu,Mi,Wl=i(511),Vh=i(2041),Vu=i(225),Gu=i(767),Gh=0,Oo=Vh,Wu=Vu,Ha=Gu,Oa=Wl,Wh=0,qa=1,Yh=2,Xi=3,Yu=4,Uc=5,ll=6,Xu=7,Xh=8,zc=9,Kh=10,Ki=[2,3,7],Hc=[3,3,11],Yl=[280,256,256,256,40],$h=[0,1,1,1,0],Ku=[17,18,0,1,2,3,4,5,16,6,7,8,9,10,11,12,13,14,15],$i=[24,7,23,25,40,6,39,41,22,26,38,42,56,5,55,57,21,27,54,58,37,43,72,4,71,73,20,28,53,59,70,74,36,44,88,69,75,52,60,3,87,89,19,29,86,90,35,45,68,76,85,91,51,61,104,2,103,105,18,30,102,106,34,46,84,92,67,77,101,107,50,62,120,1,119,121,83,93,17,31,100,108,66,78,118,122,33,47,117,123,49,63,99,109,82,94,0,116,124,65,79,16,32,98,110,48,115,125,81,95,64,114,126,97,111,80,113,127,96,112],Zi=[2954,2956,2958,2962,2970,2986,3018,3082,3212,3468,3980,5004],cl=8,Ji=[4,5,6,7,8,9,10,10,11,12,13,14,15,16,17,17,18,19,20,20,21,21,22,22,23,23,24,25,25,26,27,28,29,30,31,32,33,34,35,36,37,37,38,39,40,41,42,43,44,45,46,46,47,48,49,50,51,52,53,54,55,56,57,58,59,60,61,62,63,64,65,66,67,68,69,70,71,72,73,74,75,76,76,77,78,79,80,81,82,83,84,85,86,87,88,89,91,93,95,96,98,100,101,102,104,106,108,110,112,114,116,118,122,124,126,128,130,132,134,136,138,140,143,145,148,151,154,157],Qi=[4,5,6,7,8,9,10,11,12,13,14,15,16,17,18,19,20,21,22,23,24,25,26,27,28,29,30,31,32,33,34,35,36,37,38,39,40,41,42,43,44,45,46,47,48,49,50,51,52,53,54,55,56,57,58,60,62,64,66,68,70,72,74,76,78,80,82,84,86,88,90,92,94,96,98,100,102,104,106,108,110,112,114,116,119,122,125,128,131,134,137,140,143,146,149,152,155,158,161,164,167,170,173,177,181,185,189,193,197,201,205,209,213,217,221,225,229,234,239,245,249,254,259,264,269,274,279,284],ji=null,i1=[[173,148,140,0],[176,155,140,135,0],[180,157,141,134,130,0],[254,254,243,230,196,177,153,140,133,130,129,0]],b0=[0,1,4,8,5,2,3,6,9,12,13,10,7,11,14,15],Zh=[-0,1,-1,2,-2,3,4,6,-3,5,-4,-5,-6,7,-7,8,-8,-9],s1=[[[[128,128,128,128,128,128,128,128,128,128,128],[128,128,128,128,128,128,128,128,128,128,128],[128,128,128,128,128,128,128,128,128,128,128]],[[253,136,254,255,228,219,128,128,128,128,128],[189,129,242,255,227,213,255,219,128,128,128],[106,126,227,252,214,209,255,255,128,128,128]],[[1,98,248,255,236,226,255,255,128,128,128],[181,133,238,254,221,234,255,154,128,128,128],[78,134,202,247,198,180,255,219,128,128,128]],[[1,185,249,255,243,255,128,128,128,128,128],[184,150,247,255,236,224,128,128,128,128,128],[77,110,216,255,236,230,128,128,128,128,128]],[[1,101,251,255,241,255,128,128,128,128,128],[170,139,241,252,236,209,255,255,128,128,128],[37,116,196,243,228,255,255,255,128,128,128]],[[1,204,254,255,245,255,128,128,128,128,128],[207,160,250,255,238,128,128,128,128,128,128],[102,103,231,255,211,171,128,128,128,128,128]],[[1,152,252,255,240,255,128,128,128,128,128],[177,135,243,255,234,225,128,128,128,128,128],[80,129,211,255,194,224,128,128,128,128,128]],[[1,1,255,128,128,128,128,128,128,128,128],[246,1,255,128,128,128,128,128,128,128,128],[255,128,128,128,128,128,128,128,128,128,128]]],[[[198,35,237,223,193,187,162,160,145,155,62],[131,45,198,221,172,176,220,157,252,221,1],[68,47,146,208,149,167,221,162,255,223,128]],[[1,149,241,255,221,224,255,255,128,128,128],[184,141,234,253,222,220,255,199,128,128,128],[81,99,181,242,176,190,249,202,255,255,128]],[[1,129,232,253,214,197,242,196,255,255,128],[99,121,210,250,201,198,255,202,128,128,128],[23,91,163,242,170,187,247,210,255,255,128]],[[1,200,246,255,234,255,128,128,128,128,128],[109,178,241,255,231,245,255,255,128,128,128],[44,130,201,253,205,192,255,255,128,128,128]],[[1,132,239,251,219,209,255,165,128,128,128],[94,136,225,251,218,190,255,255,128,128,128],[22,100,174,245,186,161,255,199,128,128,128]],[[1,182,249,255,232,235,128,128,128,128,128],[124,143,241,255,227,234,128,128,128,128,128],[35,77,181,251,193,211,255,205,128,128,128]],[[1,157,247,255,236,231,255,255,128,128,128],[121,141,235,255,225,227,255,255,128,128,128],[45,99,188,251,195,217,255,224,128,128,128]],[[1,1,251,255,213,255,128,128,128,128,128],[203,1,248,255,255,128,128,128,128,128,128],[137,1,177,255,224,255,128,128,128,128,128]]],[[[253,9,248,251,207,208,255,192,128,128,128],[175,13,224,243,193,185,249,198,255,255,128],[73,17,171,221,161,179,236,167,255,234,128]],[[1,95,247,253,212,183,255,255,128,128,128],[239,90,244,250,211,209,255,255,128,128,128],[155,77,195,248,188,195,255,255,128,128,128]],[[1,24,239,251,218,219,255,205,128,128,128],[201,51,219,255,196,186,128,128,128,128,128],[69,46,190,239,201,218,255,228,128,128,128]],[[1,191,251,255,255,128,128,128,128,128,128],[223,165,249,255,213,255,128,128,128,128,128],[141,124,248,255,255,128,128,128,128,128,128]],[[1,16,248,255,255,128,128,128,128,128,128],[190,36,230,255,236,255,128,128,128,128,128],[149,1,255,128,128,128,128,128,128,128,128]],[[1,226,255,128,128,128,128,128,128,128,128],[247,192,255,128,128,128,128,128,128,128,128],[240,128,255,128,128,128,128,128,128,128,128]],[[1,134,252,255,255,128,128,128,128,128,128],[213,62,250,255,255,128,128,128,128,128,128],[55,93,255,128,128,128,128,128,128,128,128]],[[128,128,128,128,128,128,128,128,128,128,128],[128,128,128,128,128,128,128,128,128,128,128],[128,128,128,128,128,128,128,128,128,128,128]]],[[[202,24,213,235,186,191,220,160,240,175,255],[126,38,182,232,169,184,228,174,255,187,128],[61,46,138,219,151,178,240,170,255,216,128]],[[1,112,230,250,199,191,247,159,255,255,128],[166,109,228,252,211,215,255,174,128,128,128],[39,77,162,232,172,180,245,178,255,255,128]],[[1,52,220,246,198,199,249,220,255,255,128],[124,74,191,243,183,193,250,221,255,255,128],[24,71,130,219,154,170,243,182,255,255,128]],[[1,182,225,249,219,240,255,224,128,128,128],[149,150,226,252,216,205,255,171,128,128,128],[28,108,170,242,183,194,254,223,255,255,128]],[[1,81,230,252,204,203,255,192,128,128,128],[123,102,209,247,188,196,255,233,128,128,128],[20,95,153,243,164,173,255,203,128,128,128]],[[1,222,248,255,216,213,128,128,128,128,128],[168,175,246,252,235,205,255,255,128,128,128],[47,116,215,255,211,212,255,255,128,128,128]],[[1,121,236,253,212,214,255,255,128,128,128],[141,84,213,252,201,202,255,219,128,128,128],[42,80,160,240,162,185,255,205,128,128,128]],[[1,1,255,128,128,128,128,128,128,128,128],[244,1,255,128,128,128,128,128,128,128,128],[238,1,255,128,128,128,128,128,128,128,128]]]],Da=[[[231,120,48,89,115,113,120,152,112],[152,179,64,126,170,118,46,70,95],[175,69,143,80,85,82,72,155,103],[56,58,10,171,218,189,17,13,152],[114,26,17,163,44,195,21,10,173],[121,24,80,195,26,62,44,64,85],[144,71,10,38,171,213,144,34,26],[170,46,55,19,136,160,33,206,71],[63,20,8,114,114,208,12,9,226],[81,40,11,96,182,84,29,16,36]],[[134,183,89,137,98,101,106,165,148],[72,187,100,130,157,111,32,75,80],[66,102,167,99,74,62,40,234,128],[41,53,9,178,241,141,26,8,107],[74,43,26,146,73,166,49,23,157],[65,38,105,160,51,52,31,115,128],[104,79,12,27,217,255,87,17,7],[87,68,71,44,114,51,15,186,23],[47,41,14,110,182,183,21,17,194],[66,45,25,102,197,189,23,18,22]],[[88,88,147,150,42,46,45,196,205],[43,97,183,117,85,38,35,179,61],[39,53,200,87,26,21,43,232,171],[56,34,51,104,114,102,29,93,77],[39,28,85,171,58,165,90,98,64],[34,22,116,206,23,34,43,166,73],[107,54,32,26,51,1,81,43,31],[68,25,106,22,64,171,36,225,114],[34,19,21,102,132,188,16,76,124],[62,18,78,95,85,57,50,48,51]],[[193,101,35,159,215,111,89,46,111],[60,148,31,172,219,228,21,18,111],[112,113,77,85,179,255,38,120,114],[40,42,1,196,245,209,10,25,109],[88,43,29,140,166,213,37,43,154],[61,63,30,155,67,45,68,1,209],[100,80,8,43,154,1,51,26,71],[142,78,78,16,255,128,34,197,171],[41,40,5,102,211,183,4,1,221],[51,50,17,168,209,192,23,25,82]],[[138,31,36,171,27,166,38,44,229],[67,87,58,169,82,115,26,59,179],[63,59,90,180,59,166,93,73,154],[40,40,21,116,143,209,34,39,175],[47,15,16,183,34,223,49,45,183],[46,17,33,183,6,98,15,32,183],[57,46,22,24,128,1,54,17,37],[65,32,73,115,28,128,23,128,205],[40,3,9,115,51,192,18,6,223],[87,37,9,115,59,77,64,21,47]],[[104,55,44,218,9,54,53,130,226],[64,90,70,205,40,41,23,26,57],[54,57,112,184,5,41,38,166,213],[30,34,26,133,152,116,10,32,134],[39,19,53,221,26,114,32,73,255],[31,9,65,234,2,15,1,118,73],[75,32,12,51,192,255,160,43,51],[88,31,35,67,102,85,55,186,85],[56,21,23,111,59,205,45,37,192],[55,38,70,124,73,102,1,34,98]],[[125,98,42,88,104,85,117,175,82],[95,84,53,89,128,100,113,101,45],[75,79,123,47,51,128,81,171,1],[57,17,5,71,102,57,53,41,49],[38,33,13,121,57,73,26,1,85],[41,10,67,138,77,110,90,47,114],[115,21,2,10,102,255,166,23,6],[101,29,16,10,85,128,101,196,26],[57,18,10,102,102,213,34,20,43],[117,20,15,36,163,128,68,1,26]],[[102,61,71,37,34,53,31,243,192],[69,60,71,38,73,119,28,222,37],[68,45,128,34,1,47,11,245,171],[62,17,19,70,146,85,55,62,70],[37,43,37,154,100,163,85,160,1],[63,9,92,136,28,64,32,201,85],[75,15,9,9,64,255,184,119,16],[86,6,28,5,64,255,25,248,1],[56,8,17,132,137,255,55,116,128],[58,15,20,82,135,57,26,121,40]],[[164,50,31,137,154,133,25,35,218],[51,103,44,131,131,123,31,6,158],[86,40,64,135,148,224,45,183,128],[22,26,17,131,240,154,14,1,209],[45,16,21,91,64,222,7,1,197],[56,21,39,155,60,138,23,102,213],[83,12,13,54,192,255,68,47,28],[85,26,85,85,128,128,32,146,171],[18,11,7,63,144,171,4,4,246],[35,27,10,146,174,171,12,26,128]],[[190,80,35,99,180,80,126,54,45],[85,126,47,87,176,51,41,20,32],[101,75,128,139,118,146,116,128,85],[56,41,15,176,236,85,37,9,62],[71,30,17,119,118,255,17,18,138],[101,38,60,138,55,70,43,26,142],[146,36,19,30,171,255,97,27,20],[138,45,61,62,219,1,81,188,64],[32,41,20,117,151,142,20,21,163],[112,19,12,61,195,128,48,4,24]]],dn=[[[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[176,246,255,255,255,255,255,255,255,255,255],[223,241,252,255,255,255,255,255,255,255,255],[249,253,253,255,255,255,255,255,255,255,255]],[[255,244,252,255,255,255,255,255,255,255,255],[234,254,254,255,255,255,255,255,255,255,255],[253,255,255,255,255,255,255,255,255,255,255]],[[255,246,254,255,255,255,255,255,255,255,255],[239,253,254,255,255,255,255,255,255,255,255],[254,255,254,255,255,255,255,255,255,255,255]],[[255,248,254,255,255,255,255,255,255,255,255],[251,255,254,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,253,254,255,255,255,255,255,255,255,255],[251,254,254,255,255,255,255,255,255,255,255],[254,255,254,255,255,255,255,255,255,255,255]],[[255,254,253,255,254,255,255,255,255,255,255],[250,255,254,255,254,255,255,255,255,255,255],[254,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]]],[[[217,255,255,255,255,255,255,255,255,255,255],[225,252,241,253,255,255,254,255,255,255,255],[234,250,241,250,253,255,253,254,255,255,255]],[[255,254,255,255,255,255,255,255,255,255,255],[223,254,254,255,255,255,255,255,255,255,255],[238,253,254,254,255,255,255,255,255,255,255]],[[255,248,254,255,255,255,255,255,255,255,255],[249,254,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,253,255,255,255,255,255,255,255,255,255],[247,254,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,253,254,255,255,255,255,255,255,255,255],[252,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,254,254,255,255,255,255,255,255,255,255],[253,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,254,253,255,255,255,255,255,255,255,255],[250,255,255,255,255,255,255,255,255,255,255],[254,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]]],[[[186,251,250,255,255,255,255,255,255,255,255],[234,251,244,254,255,255,255,255,255,255,255],[251,251,243,253,254,255,254,255,255,255,255]],[[255,253,254,255,255,255,255,255,255,255,255],[236,253,254,255,255,255,255,255,255,255,255],[251,253,253,254,254,255,255,255,255,255,255]],[[255,254,254,255,255,255,255,255,255,255,255],[254,254,254,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,254,255,255,255,255,255,255,255,255,255],[254,254,255,255,255,255,255,255,255,255,255],[254,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[254,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]]],[[[248,255,255,255,255,255,255,255,255,255,255],[250,254,252,254,255,255,255,255,255,255,255],[248,254,249,253,255,255,255,255,255,255,255]],[[255,253,253,255,255,255,255,255,255,255,255],[246,253,253,255,255,255,255,255,255,255,255],[252,254,251,254,254,255,255,255,255,255,255]],[[255,254,252,255,255,255,255,255,255,255,255],[248,254,253,255,255,255,255,255,255,255,255],[253,255,254,254,255,255,255,255,255,255,255]],[[255,251,254,255,255,255,255,255,255,255,255],[245,251,254,255,255,255,255,255,255,255,255],[253,253,254,255,255,255,255,255,255,255,255]],[[255,251,253,255,255,255,255,255,255,255,255],[252,253,254,255,255,255,255,255,255,255,255],[255,254,255,255,255,255,255,255,255,255,255]],[[255,252,255,255,255,255,255,255,255,255,255],[249,255,254,255,255,255,255,255,255,255,255],[255,255,254,255,255,255,255,255,255,255,255]],[[255,255,253,255,255,255,255,255,255,255,255],[250,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[254,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]]]],Cr=[0,1,2,3,6,4,5,6,6,6,6,6,6,6,6,7,0],ri=[],Ln=[],ks=[],ul=1,w0=2,Do=[],La=[];wo("UpsampleRgbLinePair",_o,3),wo("UpsampleBgrLinePair",pa,3),wo("UpsampleRgbaLinePair",ei,4),wo("UpsampleBgraLinePair",zs,4),wo("UpsampleArgbLinePair",Mc,4),wo("UpsampleRgba4444LinePair",sl,2),wo("UpsampleRgb565LinePair",il,2);var Xl=D.UpsampleRgbLinePair,_0=D.UpsampleBgrLinePair,qc=D.UpsampleRgbaLinePair,Jh=D.UpsampleBgraLinePair,hl=D.UpsampleArgbLinePair,Xs=D.UpsampleRgba4444LinePair,fl=D.UpsampleRgb565LinePair,es=16,Vc=1<<es-1,Kl=-227,dl=482,Qh=6,gl=0,Fa=i(256),ef=i(256),o1=i(256),rm=i(256),nm=i(dl-Kl),am=i(dl-Kl);So("YuvToRgbRow",_o,3),So("YuvToBgrRow",pa,3),So("YuvToRgbaRow",ei,4),So("YuvToBgraRow",zs,4),So("YuvToArgbRow",Mc,4),So("YuvToRgba4444Row",sl,2),So("YuvToRgb565Row",il,2);var zn=[0,4,8,12,128,132,136,140,256,260,264,268,384,388,392,396],Gc=[0,2,8],$u=[8,7,6,4,4,2,2,2,1,1,1,1],Zu=1;this.WebPDecodeRGBA=function(b,T,I,X,oe){var de=qa,pe=new gt,ye=new kt;pe.ba=ye,ye.S=de,ye.width=[ye.width],ye.height=[ye.height];var _e=ye.width,Te=ye.height,Be=new ht;if(Be==null||b==null)var Qe=2;else e(Be!=null),Qe=ws(b,T,I,Be.width,Be.height,Be.Pd,Be.Qd,Be.format,null);if(Qe!=0?_e=0:(_e!=null&&(_e[0]=Be.width[0]),Te!=null&&(Te[0]=Be.height[0]),_e=1),_e){ye.width=ye.width[0],ye.height=ye.height[0],X!=null&&(X[0]=ye.width),oe!=null&&(oe[0]=ye.height);e:{if(X=new ho,(oe=new wt).data=b,oe.w=T,oe.ha=I,oe.kd=1,T=[0],e(oe!=null),((b=ws(oe.data,oe.w,oe.ha,null,null,null,T,null,oe))==0||b==7)&&T[0]&&(b=4),(T=b)==0){if(e(pe!=null),X.data=oe.data,X.w=oe.w+oe.offset,X.ha=oe.ha-oe.offset,X.put=jt,X.ac=wn,X.bc=Vn,X.ma=pe,oe.xa){if((b=Ze())==null){pe=1;break e}if((function(Ce,Ue){var We=[0],ut=[0],Ke=[0];t:for(;;){if(Ce==null)return 0;if(Ue==null)return Ce.a=2,0;if(Ce.l=Ue,Ce.a=0,te(Ce.m,Ue.data,Ue.w,Ue.ha),!da(Ce.m,We,ut,Ke)){Ce.a=3;break t}if(Ce.xb=w0,Ue.width=We[0],Ue.height=ut[0],!Je(We[0],ut[0],1,Ce,null))break t;return 1}return e(Ce.a!=0),0})(b,X)){if(X=(T=_s(X.width,X.height,pe.Oa,pe.ba))==0){t:{X=b;r:for(;;){if(X==null){X=0;break t}if(e(X.s.yc!=null),e(X.s.Ya!=null),e(0<X.s.Wb),e((I=X.l)!=null),e((oe=I.ma)!=null),X.xb!=0){if(X.ca=oe.ba,X.tb=oe.tb,e(X.ca!=null),!ko(oe.Oa,I,Xi)){X.a=2;break r}if(!et(X,I.width)||I.da)break r;if((I.da||Ut(X.ca.S))&&ys(),11>X.ca.S||(alert("todo:WebPInitConvertARGBToYUV"),X.ca.f.kb.F!=null&&ys()),X.Pb&&0<X.s.ua&&X.s.vb.X==null&&!H(X.s.vb,X.s.Wa.Xa)){X.a=1;break r}X.xb=0}if(!Xe(X,X.V,X.Ba,X.c,X.i,I.o,be))break r;oe.Dc=X.Ma,X=1;break t}e(X.a!=0),X=0}X=!X}X&&(T=b.a)}else T=b.a}else{if((b=new ms)==null){pe=1;break e}if(b.Fa=oe.na,b.P=oe.P,b.qc=oe.Sa,Bs(b,X)){if((T=_s(X.width,X.height,pe.Oa,pe.ba))==0){if(b.Aa=0,I=pe.Oa,e((oe=b)!=null),I!=null){if(0<(_e=0>(_e=I.Md)?0:100<_e?255:255*_e/100)){for(Te=Be=0;4>Te;++Te)12>(Qe=oe.pb[Te]).lc&&(Qe.ia=_e*$u[0>Qe.lc?0:Qe.lc]>>3),Be|=Qe.ia;Be&&(alert("todo:VP8InitRandom"),oe.ia=1)}oe.Ga=I.Id,100<oe.Ga?oe.Ga=100:0>oe.Ga&&(oe.Ga=0)}(function(Ce,Ue){if(Ce==null)return 0;if(Ue==null)return zr(Ce,2,"NULL VP8Io parameter in VP8Decode().");if(!Ce.cb&&!Bs(Ce,Ue))return 0;if(e(Ce.cb),Ue.ac==null||Ue.ac(Ue)){Ue.ob&&(Ce.L=0);var We=Gc[Ce.L];if(Ce.L==2?(Ce.yb=0,Ce.zb=0):(Ce.yb=Ue.v-We>>4,Ce.zb=Ue.j-We>>4,0>Ce.yb&&(Ce.yb=0),0>Ce.zb&&(Ce.zb=0)),Ce.Va=Ue.o+15+We>>4,Ce.Hb=Ue.va+15+We>>4,Ce.Hb>Ce.za&&(Ce.Hb=Ce.za),Ce.Va>Ce.Ub&&(Ce.Va=Ce.Ub),0<Ce.L){var ut=Ce.ed;for(We=0;4>We;++We){var Ke;if(Ce.Qa.Cb){var lt=Ce.Qa.Lb[We];Ce.Qa.Fb||(lt+=ut.Tb)}else lt=ut.Tb;for(Ke=0;1>=Ke;++Ke){var pt=Ce.gd[We][Ke],Ct=lt;if(ut.Pc&&(Ct+=ut.vd[0],Ke&&(Ct+=ut.od[0])),0<(Ct=0>Ct?0:63<Ct?63:Ct)){var yt=Ct;0<ut.wb&&(yt=4<ut.wb?yt>>2:yt>>1)>9-ut.wb&&(yt=9-ut.wb),1>yt&&(yt=1),pt.dd=yt,pt.tc=2*Ct+yt,pt.ld=40<=Ct?2:15<=Ct?1:0}else pt.tc=0;pt.La=Ke}}}We=0}else zr(Ce,6,"Frame setup failed"),We=Ce.a;if(We=We==0){if(We){Ce.$c=0,0<Ce.Aa||(Ce.Ic=Zu);t:{We=Ce.Ic,ut=4*(yt=Ce.za);var Yt=32*yt,Pt=yt+1,cr=0<Ce.L?yt*(0<Ce.Aa?2:1):0,Vt=(Ce.Aa==2?2:1)*yt;if((pt=ut+832+(Ke=3*(16*We+Gc[Ce.L])/2*Yt)+(lt=Ce.Fa!=null&&0<Ce.Fa.length?Ce.Kc.c*Ce.Kc.i:0))!=pt)We=0;else{if(pt>Ce.Vb){if(Ce.Vb=0,Ce.Ec=i(pt),Ce.Fc=0,Ce.Ec==null){We=zr(Ce,1,"no memory during frame initialization.");break t}Ce.Vb=pt}pt=Ce.Ec,Ct=Ce.Fc,Ce.Ac=pt,Ce.Bc=Ct,Ct+=ut,Ce.Gd=o(Yt,Ni),Ce.Hd=0,Ce.rb=o(Pt+1,Qr),Ce.sb=1,Ce.wa=cr?o(cr,_r):null,Ce.Y=0,Ce.D.Nb=0,Ce.D.wa=Ce.wa,Ce.D.Y=Ce.Y,0<Ce.Aa&&(Ce.D.Y+=yt),e(!0),Ce.oc=pt,Ce.pc=Ct,Ct+=832,Ce.ya=o(Vt,gs),Ce.aa=0,Ce.D.ya=Ce.ya,Ce.D.aa=Ce.aa,Ce.Aa==2&&(Ce.D.aa+=yt),Ce.R=16*yt,Ce.B=8*yt,yt=(Yt=Gc[Ce.L])*Ce.R,Yt=Yt/2*Ce.B,Ce.sa=pt,Ce.ta=Ct+yt,Ce.qa=Ce.sa,Ce.ra=Ce.ta+16*We*Ce.R+Yt,Ce.Ha=Ce.qa,Ce.Ia=Ce.ra+8*We*Ce.B+Yt,Ce.$c=0,Ct+=Ke,Ce.mb=lt?pt:null,Ce.nb=lt?Ct:null,e(Ct+lt<=Ce.Fc+Ce.Vb),Ou(Ce),a(Ce.Ac,Ce.Bc,0,ut),We=1}}if(We){if(Ue.ka=0,Ue.y=Ce.sa,Ue.O=Ce.ta,Ue.f=Ce.qa,Ue.N=Ce.ra,Ue.ea=Ce.Ha,Ue.Vd=Ce.Ia,Ue.fa=Ce.R,Ue.Rc=Ce.B,Ue.F=null,Ue.J=0,!Gh){for(We=-255;255>=We;++We)Wl[255+We]=0>We?-We:We;for(We=-1020;1020>=We;++We)Vh[1020+We]=-128>We?-128:127<We?127:We;for(We=-112;112>=We;++We)Vu[112+We]=-16>We?-16:15<We?15:We;for(We=-255;510>=We;++We)Gu[255+We]=0>We?0:255<We?255:We;Gh=1}Fi=xs,No=Du,Wi=Qa,Hr=Lu,Fr=Fu,za=Mh,ln=zh,Un=yo,Ys=se,Ss=Ee,Vl=Hh,Hu=M,x0=Re,r1=qe,n1=po,a1=mo,v0=zl,y0=Pu,Ln[0]=Ih,Ln[1]=jh,Ln[2]=Ph,Ln[3]=Ru,Ln[4]=Oi,Ln[5]=Bu,Ln[6]=Aa,Ln[7]=Pl,Ln[8]=Il,Ln[9]=Di,ri[0]=vs,ri[1]=Mu,ri[2]=ju,ri[3]=Bh,ri[4]=fo,ri[5]=Bl,ri[6]=al,ks[0]=Oc,ks[1]=Rh,ks[2]=Ps,ks[3]=Uh,ks[4]=ga,ks[5]=Dc,ks[6]=Is,We=1}else We=0}We&&(We=(function(kr,gn){for(kr.M=0;kr.M<kr.Va;++kr.M){var gr,It=kr.Jc[kr.M&kr.Xb],Dt=kr.m,kn=kr;for(gr=0;gr<kn.za;++gr){var ir=Dt,vr=kn,Kr=vr.Ac,aa=vr.Bc+4*gr,Ma=vr.zc,cn=vr.ya[vr.aa+gr];if(vr.Qa.Bb?cn.$b=ce(ir,vr.Pa.jb[0])?2+ce(ir,vr.Pa.jb[2]):ce(ir,vr.Pa.jb[1]):cn.$b=0,vr.kc&&(cn.Ad=ce(ir,vr.Bd)),cn.Za=!ce(ir,145)+0,cn.Za){var Yn=cn.Ob,Va=0;for(vr=0;4>vr;++vr){var Xn,wr=Ma[0+vr];for(Xn=0;4>Xn;++Xn){wr=Da[Kr[aa+Xn]][wr];for(var Rr=Zh[ce(ir,wr[0])];0<Rr;)Rr=Zh[2*Rr+ce(ir,wr[Rr])];wr=-Rr,Kr[aa+Xn]=wr}n(Yn,Va,Kr,aa,4),Va+=4,Ma[0+vr]=wr}}else wr=ce(ir,156)?ce(ir,128)?1:3:ce(ir,163)?2:0,cn.Ob[0]=wr,a(Kr,aa,wr,4),a(Ma,0,wr,4);cn.Dd=ce(ir,142)?ce(ir,114)?ce(ir,183)?1:3:2:0}if(kn.m.Ka)return zr(kr,7,"Premature end-of-partition0 encountered.");for(;kr.ja<kr.za;++kr.ja){if(kn=It,ir=(Dt=kr).rb[Dt.sb-1],Kr=Dt.rb[Dt.sb+Dt.ja],gr=Dt.ya[Dt.aa+Dt.ja],aa=Dt.kc?gr.Ad:0)ir.la=Kr.la=0,gr.Za||(ir.Na=Kr.Na=0),gr.Hc=0,gr.Gc=0,gr.ia=0;else{var Cn,qr;if(ir=Kr,Kr=kn,aa=Dt.Pa.Xc,Ma=Dt.ya[Dt.aa+Dt.ja],cn=Dt.pb[Ma.$b],vr=Ma.ad,Yn=0,Va=Dt.rb[Dt.sb-1],wr=Xn=0,a(vr,Yn,0,384),Ma.Za)var ia=0,Tn=aa[3];else{Rr=i(16);var Br=ir.Na+Va.Na;if(Br=ji(Kr,aa[1],Br,cn.Eb,0,Rr,0),ir.Na=Va.Na=(0<Br)+0,1<Br)Fi(Rr,0,vr,Yn);else{var Hn=Rr[0]+3>>3;for(Rr=0;256>Rr;Rr+=16)vr[Yn+Rr]=Hn}ia=1,Tn=aa[0]}var $r=15&ir.la,Kn=15&Va.la;for(Rr=0;4>Rr;++Rr){var $n=1&Kn;for(Hn=qr=0;4>Hn;++Hn)$r=$r>>1|($n=(Br=ji(Kr,Tn,Br=$n+(1&$r),cn.Sc,ia,vr,Yn))>ia)<<7,qr=qr<<2|(3<Br?3:1<Br?2:vr[Yn+0]!=0),Yn+=16;$r>>=4,Kn=Kn>>1|$n<<7,Xn=(Xn<<8|qr)>>>0}for(Tn=$r,ia=Kn>>4,Cn=0;4>Cn;Cn+=2){for(qr=0,$r=ir.la>>4+Cn,Kn=Va.la>>4+Cn,Rr=0;2>Rr;++Rr){for($n=1&Kn,Hn=0;2>Hn;++Hn)Br=$n+(1&$r),$r=$r>>1|($n=0<(Br=ji(Kr,aa[2],Br,cn.Qc,0,vr,Yn)))<<3,qr=qr<<2|(3<Br?3:1<Br?2:vr[Yn+0]!=0),Yn+=16;$r>>=2,Kn=Kn>>1|$n<<5}wr|=qr<<4*Cn,Tn|=$r<<4<<Cn,ia|=(240&Kn)<<Cn}ir.la=Tn,Va.la=ia,Ma.Hc=Xn,Ma.Gc=wr,Ma.ia=43690&wr?0:cn.ia,aa=!(Xn|wr)}if(0<Dt.L&&(Dt.wa[Dt.Y+Dt.ja]=Dt.gd[gr.$b][gr.Za],Dt.wa[Dt.Y+Dt.ja].La|=!aa),kn.Ka)return zr(kr,7,"Premature end-of-file encountered.")}if(Ou(kr),Dt=gn,kn=1,gr=(It=kr).D,ir=0<It.L&&It.M>=It.zb&&It.M<=It.Va,It.Aa==0)t:{if(gr.M=It.M,gr.uc=ir,Li(It,gr),kn=1,gr=(qr=It.D).Nb,ir=(wr=Gc[It.L])*It.R,Kr=wr/2*It.B,Rr=16*gr*It.R,Hn=8*gr*It.B,aa=It.sa,Ma=It.ta-ir+Rr,cn=It.qa,vr=It.ra-Kr+Hn,Yn=It.Ha,Va=It.Ia-Kr+Hn,Kn=($r=qr.M)==0,Xn=$r>=It.Va-1,It.Aa==2&&Li(It,qr),qr.uc)for($n=(Br=It).D.M,e(Br.D.uc),qr=Br.yb;qr<Br.Hb;++qr){ia=qr,Tn=$n;var tn=(Mr=(Zn=Br).D).Nb;Cn=Zn.R;var Mr=Mr.wa[Mr.Y+ia],Ga=Zn.sa,Fn=Zn.ta+16*tn*Cn+16*ia,tr=Mr.dd,rr=Mr.tc;if(rr!=0)if(e(3<=rr),Zn.L==1)0<ia&&a1(Ga,Fn,Cn,rr+4),Mr.La&&y0(Ga,Fn,Cn,rr),0<Tn&&n1(Ga,Fn,Cn,rr+4),Mr.La&&v0(Ga,Fn,Cn,rr);else{var Pr=Zn.B,di=Zn.qa,ts=Zn.ra+8*tn*Pr+8*ia,ni=Zn.Ha,Zn=Zn.Ia+8*tn*Pr+8*ia;tn=Mr.ld,0<ia&&(Un(Ga,Fn,Cn,rr+4,tr,tn),Ss(di,ts,ni,Zn,Pr,rr+4,tr,tn)),Mr.La&&(Hu(Ga,Fn,Cn,rr,tr,tn),r1(di,ts,ni,Zn,Pr,rr,tr,tn)),0<Tn&&(ln(Ga,Fn,Cn,rr+4,tr,tn),Ys(di,ts,ni,Zn,Pr,rr+4,tr,tn)),Mr.La&&(Vl(Ga,Fn,Cn,rr,tr,tn),x0(di,ts,ni,Zn,Pr,rr,tr,tn))}}if(It.ia&&alert("todo:DitherRow"),Dt.put!=null){if(qr=16*$r,$r=16*($r+1),Kn?(Dt.y=It.sa,Dt.O=It.ta+Rr,Dt.f=It.qa,Dt.N=It.ra+Hn,Dt.ea=It.Ha,Dt.W=It.Ia+Hn):(qr-=wr,Dt.y=aa,Dt.O=Ma,Dt.f=cn,Dt.N=vr,Dt.ea=Yn,Dt.W=Va),Xn||($r-=wr),$r>Dt.o&&($r=Dt.o),Dt.F=null,Dt.J=null,It.Fa!=null&&0<It.Fa.length&&qr<$r&&(Dt.J=on(It,Dt,qr,$r-qr),Dt.F=It.mb,Dt.F==null&&Dt.F.length==0)){kn=zr(It,3,"Could not decode alpha data.");break t}qr<Dt.j&&(wr=Dt.j-qr,qr=Dt.j,e(!(1&wr)),Dt.O+=It.R*wr,Dt.N+=It.B*(wr>>1),Dt.W+=It.B*(wr>>1),Dt.F!=null&&(Dt.J+=Dt.width*wr)),qr<$r&&(Dt.O+=Dt.v,Dt.N+=Dt.v>>1,Dt.W+=Dt.v>>1,Dt.F!=null&&(Dt.J+=Dt.v),Dt.ka=qr-Dt.j,Dt.U=Dt.va-Dt.v,Dt.T=$r-qr,kn=Dt.put(Dt))}gr+1!=It.Ic||Xn||(n(It.sa,It.ta-ir,aa,Ma+16*It.R,ir),n(It.qa,It.ra-Kr,cn,vr+8*It.B,Kr),n(It.Ha,It.Ia-Kr,Yn,Va+8*It.B,Kr))}if(!kn)return zr(kr,6,"Output aborted.")}return 1})(Ce,Ue)),Ue.bc!=null&&Ue.bc(Ue),We&=1}return We?(Ce.cb=0,We):0})(b,X)||(T=b.a)}}else T=b.a}T==0&&pe.Oa!=null&&pe.Oa.fd&&(T=zu(pe.ba))}pe=T}de=pe!=0?null:11>de?ye.f.RGBA.eb:ye.f.kb.y}else de=null;return de};var tf=[3,4,3,4,4,2,2,4,4,4,2,1,1]};function h(D,Z){for(var q="",O=0;O<4;O++)q+=String.fromCharCode(D[Z++]);return q}function f(D,Z){return D[Z+0]|D[Z+1]<<8}function m(D,Z){return(D[Z+0]|D[Z+1]<<8|D[Z+2]<<16)>>>0}function x(D,Z){return(D[Z+0]|D[Z+1]<<8|D[Z+2]<<16|D[Z+3]<<24)>>>0}new u;var g=[0],y=[0],v=[],S=new u,k=r,A=(function(D,Z){var q={},O=0,V=!1,F=0,re=0;if(q.frames=[],!(function(w,L){for(var P=0;P<4;P++)if(w[L+P]!="RIFF".charCodeAt(P))return!0;return!1})(D,Z)){for(x(D,Z+=4),Z+=8;Z<D.length;){var ae=h(D,Z),J=x(D,Z+=4);Z+=4;var ge=J+(1&J);switch(ae){case"VP8 ":case"VP8L":q.frames[O]===void 0&&(q.frames[O]={}),(Y=q.frames[O]).src_off=V?re:Z-8,Y.src_size=F+J+8,O++,V&&(V=!1,F=0,re=0);break;case"VP8X":(Y=q.header={}).feature_flags=D[Z];var te=Z+4;Y.canvas_width=1+m(D,te),te+=3,Y.canvas_height=1+m(D,te),te+=3;break;case"ALPH":V=!0,F=ge+8,re=Z-8;break;case"ANIM":(Y=q.header).bgcolor=x(D,Z),te=Z+4,Y.loop_count=f(D,te),te+=2;break;case"ANMF":var ke,Y;(Y=q.frames[O]={}).offset_x=2*m(D,Z),Z+=3,Y.offset_y=2*m(D,Z),Z+=3,Y.width=1+m(D,Z),Z+=3,Y.height=1+m(D,Z),Z+=3,Y.duration=m(D,Z),Z+=3,ke=D[Z++],Y.dispose=1&ke,Y.blend=ke>>1&1}ae!="ANMF"&&(Z+=ge)}return q}})(k,0);A.response=k,A.rgbaoutput=!0,A.dataurl=!1;var N=A.header?A.header:null,j=A.frames?A.frames:null;if(N){N.loop_counter=N.loop_count,g=[N.canvas_height],y=[N.canvas_width];for(var W=0;W<j.length&&j[W].blend!=0;W++);}var ee=j[0],z=S.WebPDecodeRGBA(k,ee.src_off,ee.src_size,y,g);ee.rgba=z,ee.imgwidth=y[0],ee.imgheight=g[0];for(var B=0;B<y[0]*g[0]*4;B++)v[B]=z[B];return this.width=y,this.height=g,this.data=v,this}/** ====================================================================
 * @license
 * jsPDF XMP metadata plugin
 * Copyright (c) 2016 Jussi Utunen, u-jussi@suomi24.fi
 *
 * Permission is hereby granted, free of charge, to any person obtaining
 * a copy of this software and associated documentation files (the
 * "Software"), to deal in the Software without restriction, including
 * without limitation the rights to use, copy, modify, merge, publish,
 * distribute, sublicense, and/or sell copies of the Software, and to
 * permit persons to whom the Software is furnished to do so, subject to
 * the following conditions:
 *
 * The above copyright notice and this permission notice shall be
 * included in all copies or substantial portions of the Software.
 *
 * THE SOFTWARE IS PROVIDED "AS IS", WITHOUT WARRANTY OF ANY KIND,
 * EXPRESS OR IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF
 * MERCHANTABILITY, FITNESS FOR A PARTICULAR PURPOSE AND
 * NONINFRINGEMENT. IN NO EVENT SHALL THE AUTHORS OR COPYRIGHT HOLDERS BE
 * LIABLE FOR ANY CLAIM, DAMAGES OR OTHER LIABILITY, WHETHER IN AN ACTION
 * OF CONTRACT, TORT OR OTHERWISE, ARISING FROM, OUT OF OR IN CONNECTION
 * WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN THE SOFTWARE.
 * ====================================================================
 */function Nz(){var r,e=this.internal.__metadata__.metadata,t=unescape(encodeURIComponent(e));r=this.internal.__metadata__.rawXml?t:'<x:xmpmeta xmlns:x="adobe:ns:meta/"><rdf:RDF xmlns:rdf="http://www.w3.org/1999/02/22-rdf-syntax-ns#"><rdf:Description rdf:about="" xmlns:jspdf="'+this.internal.__metadata__.namespaceUri+'"><jspdf:metadata>'+t.replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/"/g,"&quot;").replace(/'/g,"&apos;")+"</jspdf:metadata></rdf:Description></rdf:RDF></x:xmpmeta>",this.internal.__metadata__.metadataObjectNumber=this.internal.newObject(),this.internal.write("<< /Type /Metadata /Subtype /XML /Length "+r.length+" >>"),this.internal.write("stream"),this.internal.write(r),this.internal.write("endstream"),this.internal.write("endobj")}function Oz(){this.internal.__metadata__.metadataObjectNumber&&this.internal.write("/Metadata "+this.internal.__metadata__.metadataObjectNumber+" 0 R")}(function(r){var e,t,n,a,i,o,l,u,h,f=function(w){return w=w||{},this.isStrokeTransparent=w.isStrokeTransparent||!1,this.strokeOpacity=w.strokeOpacity||1,this.strokeStyle=w.strokeStyle||"#000000",this.fillStyle=w.fillStyle||"#000000",this.isFillTransparent=w.isFillTransparent||!1,this.fillOpacity=w.fillOpacity||1,this.font=w.font||"10px sans-serif",this.textBaseline=w.textBaseline||"alphabetic",this.textAlign=w.textAlign||"left",this.lineWidth=w.lineWidth||1,this.lineJoin=w.lineJoin||"miter",this.lineCap=w.lineCap||"butt",this.path=w.path||[],this.transform=w.transform!==void 0?w.transform.clone():new u,this.globalCompositeOperation=w.globalCompositeOperation||"normal",this.globalAlpha=w.globalAlpha||1,this.clip_path=w.clip_path||[],this.currentPoint=w.currentPoint||new o,this.miterLimit=w.miterLimit||10,this.lastPoint=w.lastPoint||new o,this.lineDashOffset=w.lineDashOffset||0,this.lineDash=w.lineDash||[],this.margin=w.margin||[0,0,0,0],this.prevPageLastElemOffset=w.prevPageLastElemOffset||0,this.ignoreClearRect=typeof w.ignoreClearRect!="boolean"||w.ignoreClearRect,this};r.events.push(["initialized",function(){this.context2d=new m(this),e=this.internal.f2,t=this.internal.getCoordinateString,n=this.internal.getVerticalCoordinateString,a=this.internal.getHorizontalCoordinate,i=this.internal.getVerticalCoordinate,o=this.internal.Point,l=this.internal.Rectangle,u=this.internal.Matrix,h=new f}]);var m=function(w){Object.defineProperty(this,"canvas",{get:function(){return{parentNode:!1,style:!1}}});var L=w;Object.defineProperty(this,"pdf",{get:function(){return L}});var P=!1;Object.defineProperty(this,"pageWrapXEnabled",{get:function(){return P},set:function(H){P=!!H}});var U=!1;Object.defineProperty(this,"pageWrapYEnabled",{get:function(){return U},set:function(H){U=!!H}});var ie=0;Object.defineProperty(this,"posX",{get:function(){return ie},set:function(H){isNaN(H)||(ie=H)}});var fe=0;Object.defineProperty(this,"posY",{get:function(){return fe},set:function(H){isNaN(H)||(fe=H)}}),Object.defineProperty(this,"margin",{get:function(){return h.margin},set:function(H){var ne;typeof H=="number"?ne=[H,H,H,H]:((ne=new Array(4))[0]=H[0],ne[1]=H.length>=2?H[1]:ne[0],ne[2]=H.length>=3?H[2]:ne[0],ne[3]=H.length>=4?H[3]:ne[1]),h.margin=ne}});var xe=!1;Object.defineProperty(this,"autoPaging",{get:function(){return xe},set:function(H){xe=H}});var ve=0;Object.defineProperty(this,"lastBreak",{get:function(){return ve},set:function(H){ve=H}});var ce=[];Object.defineProperty(this,"pageBreaks",{get:function(){return ce},set:function(H){ce=H}}),Object.defineProperty(this,"ctx",{get:function(){return h},set:function(H){H instanceof f&&(h=H)}}),Object.defineProperty(this,"path",{get:function(){return h.path},set:function(H){h.path=H}});var De=[];Object.defineProperty(this,"ctxStack",{get:function(){return De},set:function(H){De=H}}),Object.defineProperty(this,"fillStyle",{get:function(){return this.ctx.fillStyle},set:function(H){var ne;ne=x(H),this.ctx.fillStyle=ne.style,this.ctx.isFillTransparent=ne.a===0,this.ctx.fillOpacity=ne.a,this.pdf.setFillColor(ne.r,ne.g,ne.b,{a:ne.a}),this.pdf.setTextColor(ne.r,ne.g,ne.b,{a:ne.a})}}),Object.defineProperty(this,"strokeStyle",{get:function(){return this.ctx.strokeStyle},set:function(H){var ne=x(H);this.ctx.strokeStyle=ne.style,this.ctx.isStrokeTransparent=ne.a===0,this.ctx.strokeOpacity=ne.a,ne.a===0?this.pdf.setDrawColor(255,255,255):(ne.a,this.pdf.setDrawColor(ne.r,ne.g,ne.b))}}),Object.defineProperty(this,"lineCap",{get:function(){return this.ctx.lineCap},set:function(H){["butt","round","square"].indexOf(H)!==-1&&(this.ctx.lineCap=H,this.pdf.setLineCap(H))}}),Object.defineProperty(this,"lineWidth",{get:function(){return this.ctx.lineWidth},set:function(H){isNaN(H)||(this.ctx.lineWidth=H,this.pdf.setLineWidth(H))}}),Object.defineProperty(this,"lineJoin",{get:function(){return this.ctx.lineJoin},set:function(H){["bevel","round","miter"].indexOf(H)!==-1&&(this.ctx.lineJoin=H,this.pdf.setLineJoin(H))}}),Object.defineProperty(this,"miterLimit",{get:function(){return this.ctx.miterLimit},set:function(H){isNaN(H)||(this.ctx.miterLimit=H,this.pdf.setMiterLimit(H))}}),Object.defineProperty(this,"textBaseline",{get:function(){return this.ctx.textBaseline},set:function(H){this.ctx.textBaseline=H}}),Object.defineProperty(this,"textAlign",{get:function(){return this.ctx.textAlign},set:function(H){["right","end","center","left","start"].indexOf(H)!==-1&&(this.ctx.textAlign=H)}});var ue=null,Ye=null,R=null;Object.defineProperty(this,"fontFaces",{get:function(){return R},set:function(H){ue=null,Ye=null,R=H}}),Object.defineProperty(this,"font",{get:function(){return this.ctx.font},set:function(H){var ne;if(this.ctx.font=H,(ne=/^\s*(?=(?:(?:[-a-z]+\s*){0,2}(italic|oblique))?)(?=(?:(?:[-a-z]+\s*){0,2}(small-caps))?)(?=(?:(?:[-a-z]+\s*){0,2}(bold(?:er)?|lighter|[1-9]00))?)(?:(?:normal|\1|\2|\3)\s*){0,3}((?:xx?-)?(?:small|large)|medium|smaller|larger|[.\d]+(?:\%|in|[cem]m|ex|p[ctx]))(?:\s*\/\s*(normal|[.\d]+(?:\%|in|[cem]m|ex|p[ctx])))?\s*([-_,\"\'\sa-z0-9]+?)\s*$/i.exec(H))!==null){var G=ne[1];ne[2];var K=ne[3],le=ne[4];ne[5];var Fe=ne[6],je=/^([.\d]+)((?:%|in|[cem]m|ex|p[ctx]))$/i.exec(le)[2];le=Math.floor(je==="px"?parseFloat(le)*this.pdf.internal.scaleFactor:je==="em"?parseFloat(le)*this.pdf.getFontSize():parseFloat(le)*this.pdf.internal.scaleFactor),this.pdf.setFontSize(le);var Oe=(function(bt){var Qt,Et,Rt=[],Lt=bt.trim();if(Lt==="")return px;if(Lt in o3)return[o3[Lt]];for(;Lt!=="";){switch(Et=null,Qt=(Lt=c3(Lt)).charAt(0)){case'"':case"'":Et=Sz(Lt.substring(1),Qt);break;default:Et=kz(Lt)}if(Et===null||(Rt.push(Et[0]),(Lt=c3(Et[1]))!==""&&Lt.charAt(0)!==","))return px;Lt=Lt.replace(/^,/,"")}return Rt})(Fe);if(this.fontFaces){var Ge=(function(bt,Qt){var Et=bt.getFontList(),Rt=JSON.stringify(Et);if(ue===null||Ye!==Rt){var Lt=(function(zt){var Mt=[];return Object.keys(zt).forEach(function(hr){zt[hr].forEach(function(Ut){var Kt=null;switch(Ut){case"bold":Kt={family:hr,weight:"bold"};break;case"italic":Kt={family:hr,style:"italic"};break;case"bolditalic":Kt={family:hr,weight:"bold",style:"italic"};break;case"":case"normal":Kt={family:hr}}Kt!==null&&(Kt.ref={name:hr,style:Ut},Mt.push(Kt))})}),Mt})(Et);ue=(function(zt){for(var Mt={},hr=0;hr<zt.length;++hr){var Ut=gx(zt[hr]),Kt=Ut.family,St=Ut.stretch,kt=Ut.style,ht=Ut.weight;Mt[Kt]=Mt[Kt]||{},Mt[Kt][St]=Mt[Kt][St]||{},Mt[Kt][St][kt]=Mt[Kt][St][kt]||{},Mt[Kt][St][kt][ht]=Ut}return Mt})(Lt.concat(Qt)),Ye=Rt}return ue})(this.pdf,this.fontFaces),$e=Oe.map(function(bt){return{family:bt,stretch:"normal",weight:K,style:G}}),rt=(function(bt,Qt,Et){for(var Rt=(Et=Et||{}).defaultFontFamily||"times",Lt=Object.assign({},_z,Et.genericFontFamilies||{}),zt=null,Mt=null,hr=0;hr<Qt.length;++hr)if(Lt[(zt=gx(Qt[hr])).family]&&(zt.family=Lt[zt.family]),bt.hasOwnProperty(zt.family)){Mt=bt[zt.family];break}if(!(Mt=Mt||bt[Rt]))throw new Error("Could not find a font-family for the rule '"+l3(zt)+"' and default family '"+Rt+"'.");if(Mt=(function(Ut,Kt){if(Kt[Ut])return Kt[Ut];var St=pv[Ut],kt=St<=pv.normal?-1:1,ht=s3(Kt,fC,St,kt);if(!ht)throw new Error("Could not find a matching font-stretch value for "+Ut);return ht})(zt.stretch,Mt),Mt=(function(Ut,Kt){if(Kt[Ut])return Kt[Ut];for(var St=hC[Ut],kt=0;kt<St.length;++kt)if(Kt[St[kt]])return Kt[St[kt]];throw new Error("Could not find a matching font-style for "+Ut)})(zt.style,Mt),!(Mt=(function(Ut,Kt){if(Kt[Ut])return Kt[Ut];if(Ut===400&&Kt[500])return Kt[500];if(Ut===500&&Kt[400])return Kt[400];var St=wz[Ut],kt=s3(Kt,dC,St,Ut<400?-1:1);if(!kt)throw new Error("Could not find a matching font-weight for value "+Ut);return kt})(zt.weight,Mt)))throw new Error("Failed to resolve a font for the rule '"+l3(zt)+"'.");return Mt})(Ge,$e);this.pdf.setFont(rt.ref.name,rt.ref.style)}else{var it="";(K==="bold"||parseInt(K,10)>=700||G==="bold")&&(it="bold"),G==="italic"&&(it+="italic"),it.length===0&&(it="normal");for(var Tt="",dt={arial:"Helvetica",Arial:"Helvetica",verdana:"Helvetica",Verdana:"Helvetica",helvetica:"Helvetica",Helvetica:"Helvetica","sans-serif":"Helvetica",fixed:"Courier",monospace:"Courier",terminal:"Courier",cursive:"Times",fantasy:"Times",serif:"Times"},He=0;He<Oe.length;He++){if(this.pdf.internal.getFont(Oe[He],it,{noFallback:!0,disableWarning:!0})!==void 0){Tt=Oe[He];break}if(it==="bolditalic"&&this.pdf.internal.getFont(Oe[He],"bold",{noFallback:!0,disableWarning:!0})!==void 0)Tt=Oe[He],it="bold";else if(this.pdf.internal.getFont(Oe[He],"normal",{noFallback:!0,disableWarning:!0})!==void 0){Tt=Oe[He],it="normal";break}}if(Tt===""){for(var xt=0;xt<Oe.length;xt++)if(dt[Oe[xt]]){Tt=dt[Oe[xt]];break}}Tt=Tt===""?"Times":Tt,this.pdf.setFont(Tt,it)}}}}),Object.defineProperty(this,"globalCompositeOperation",{get:function(){return this.ctx.globalCompositeOperation},set:function(H){this.ctx.globalCompositeOperation=H}}),Object.defineProperty(this,"globalAlpha",{get:function(){return this.ctx.globalAlpha},set:function(H){this.ctx.globalAlpha=H}}),Object.defineProperty(this,"lineDashOffset",{get:function(){return this.ctx.lineDashOffset},set:function(H){this.ctx.lineDashOffset=H,Y.call(this)}}),Object.defineProperty(this,"lineDash",{get:function(){return this.ctx.lineDash},set:function(H){this.ctx.lineDash=H,Y.call(this)}}),Object.defineProperty(this,"ignoreClearRect",{get:function(){return this.ctx.ignoreClearRect},set:function(H){this.ctx.ignoreClearRect=!!H}})};m.prototype.setLineDash=function(w){this.lineDash=w},m.prototype.getLineDash=function(){return this.lineDash.length%2?this.lineDash.concat(this.lineDash):this.lineDash.slice()},m.prototype.fill=function(){j.call(this,"fill",!1)},m.prototype.stroke=function(){j.call(this,"stroke",!1)},m.prototype.beginPath=function(){this.path=[{type:"begin"}]},m.prototype.moveTo=function(w,L){if(isNaN(w)||isNaN(L))throw mn.error("jsPDF.context2d.moveTo: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.moveTo");var P=this.ctx.transform.applyToPoint(new o(w,L));this.path.push({type:"mt",x:P.x,y:P.y}),this.ctx.lastPoint=new o(w,L)},m.prototype.closePath=function(){var w=new o(0,0),L=0;for(L=this.path.length-1;L!==-1;L--)if(this.path[L].type==="begin"&&an(this.path[L+1])==="object"&&typeof this.path[L+1].x=="number"){w=new o(this.path[L+1].x,this.path[L+1].y);break}this.path.push({type:"close"}),this.ctx.lastPoint=new o(w.x,w.y)},m.prototype.lineTo=function(w,L){if(isNaN(w)||isNaN(L))throw mn.error("jsPDF.context2d.lineTo: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.lineTo");var P=this.ctx.transform.applyToPoint(new o(w,L));this.path.push({type:"lt",x:P.x,y:P.y}),this.ctx.lastPoint=new o(P.x,P.y)},m.prototype.clip=function(){this.ctx.clip_path=JSON.parse(JSON.stringify(this.path)),j.call(this,null,!0)},m.prototype.quadraticCurveTo=function(w,L,P,U){if(isNaN(P)||isNaN(U)||isNaN(w)||isNaN(L))throw mn.error("jsPDF.context2d.quadraticCurveTo: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.quadraticCurveTo");var ie=this.ctx.transform.applyToPoint(new o(P,U)),fe=this.ctx.transform.applyToPoint(new o(w,L));this.path.push({type:"qct",x1:fe.x,y1:fe.y,x:ie.x,y:ie.y}),this.ctx.lastPoint=new o(ie.x,ie.y)},m.prototype.bezierCurveTo=function(w,L,P,U,ie,fe){if(isNaN(ie)||isNaN(fe)||isNaN(w)||isNaN(L)||isNaN(P)||isNaN(U))throw mn.error("jsPDF.context2d.bezierCurveTo: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.bezierCurveTo");var xe=this.ctx.transform.applyToPoint(new o(ie,fe)),ve=this.ctx.transform.applyToPoint(new o(w,L)),ce=this.ctx.transform.applyToPoint(new o(P,U));this.path.push({type:"bct",x1:ve.x,y1:ve.y,x2:ce.x,y2:ce.y,x:xe.x,y:xe.y}),this.ctx.lastPoint=new o(xe.x,xe.y)},m.prototype.arc=function(w,L,P,U,ie,fe){if(isNaN(w)||isNaN(L)||isNaN(P)||isNaN(U)||isNaN(ie))throw mn.error("jsPDF.context2d.arc: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.arc");if(fe=!!fe,!this.ctx.transform.isIdentity){var xe=this.ctx.transform.applyToPoint(new o(w,L));w=xe.x,L=xe.y;var ve=this.ctx.transform.applyToPoint(new o(0,P)),ce=this.ctx.transform.applyToPoint(new o(0,0));P=Math.sqrt(Math.pow(ve.x-ce.x,2)+Math.pow(ve.y-ce.y,2))}Math.abs(ie-U)>=2*Math.PI&&(U=0,ie=2*Math.PI),this.path.push({type:"arc",x:w,y:L,radius:P,startAngle:U,endAngle:ie,counterclockwise:fe})},m.prototype.arcTo=function(w,L,P,U,ie){throw new Error("arcTo not implemented.")},m.prototype.rect=function(w,L,P,U){if(isNaN(w)||isNaN(L)||isNaN(P)||isNaN(U))throw mn.error("jsPDF.context2d.rect: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.rect");this.moveTo(w,L),this.lineTo(w+P,L),this.lineTo(w+P,L+U),this.lineTo(w,L+U),this.lineTo(w,L),this.lineTo(w+P,L),this.lineTo(w,L)},m.prototype.fillRect=function(w,L,P,U){if(isNaN(w)||isNaN(L)||isNaN(P)||isNaN(U))throw mn.error("jsPDF.context2d.fillRect: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.fillRect");if(!g.call(this)){var ie={};this.lineCap!=="butt"&&(ie.lineCap=this.lineCap,this.lineCap="butt"),this.lineJoin!=="miter"&&(ie.lineJoin=this.lineJoin,this.lineJoin="miter"),this.beginPath(),this.rect(w,L,P,U),this.fill(),ie.hasOwnProperty("lineCap")&&(this.lineCap=ie.lineCap),ie.hasOwnProperty("lineJoin")&&(this.lineJoin=ie.lineJoin)}},m.prototype.strokeRect=function(w,L,P,U){if(isNaN(w)||isNaN(L)||isNaN(P)||isNaN(U))throw mn.error("jsPDF.context2d.strokeRect: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.strokeRect");y.call(this)||(this.beginPath(),this.rect(w,L,P,U),this.stroke())},m.prototype.clearRect=function(w,L,P,U){if(isNaN(w)||isNaN(L)||isNaN(P)||isNaN(U))throw mn.error("jsPDF.context2d.clearRect: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.clearRect");this.ignoreClearRect||(this.fillStyle="#ffffff",this.fillRect(w,L,P,U))},m.prototype.save=function(w){w=typeof w!="boolean"||w;for(var L=this.pdf.internal.getCurrentPageInfo().pageNumber,P=0;P<this.pdf.internal.getNumberOfPages();P++)this.pdf.setPage(P+1),this.pdf.internal.out("q");if(this.pdf.setPage(L),w){this.ctx.fontSize=this.pdf.internal.getFontSize();var U=new f(this.ctx);this.ctxStack.push(this.ctx),this.ctx=U}},m.prototype.restore=function(w){w=typeof w!="boolean"||w;for(var L=this.pdf.internal.getCurrentPageInfo().pageNumber,P=0;P<this.pdf.internal.getNumberOfPages();P++)this.pdf.setPage(P+1),this.pdf.internal.out("Q");this.pdf.setPage(L),w&&this.ctxStack.length!==0&&(this.ctx=this.ctxStack.pop(),this.fillStyle=this.ctx.fillStyle,this.strokeStyle=this.ctx.strokeStyle,this.font=this.ctx.font,this.lineCap=this.ctx.lineCap,this.lineWidth=this.ctx.lineWidth,this.lineJoin=this.ctx.lineJoin,this.lineDash=this.ctx.lineDash,this.lineDashOffset=this.ctx.lineDashOffset)},m.prototype.toDataURL=function(){throw new Error("toDataUrl not implemented.")};var x=function(w){var L,P,U,ie;if(w.isCanvasGradient===!0&&(w=w.getColor()),!w)return{r:0,g:0,b:0,a:0,style:w};if(/transparent|rgba\s*\(\s*(\d+)\s*,\s*(\d+)\s*,\s*(\d+)\s*,\s*0+\s*\)/.test(w))L=0,P=0,U=0,ie=0;else{var fe=/rgb\s*\(\s*(\d+)\s*,\s*(\d+)\s*,\s*(\d+)\s*\)/.exec(w);if(fe!==null)L=parseInt(fe[1]),P=parseInt(fe[2]),U=parseInt(fe[3]),ie=1;else if((fe=/rgba\s*\(\s*(\d+)\s*,\s*(\d+)\s*,\s*(\d+)\s*,\s*([\d.]+)\s*\)/.exec(w))!==null)L=parseInt(fe[1]),P=parseInt(fe[2]),U=parseInt(fe[3]),ie=parseFloat(fe[4]);else{if(ie=1,typeof w=="string"&&w.charAt(0)!=="#"){var xe=new aC(w);w=xe.ok?xe.toHex():"#000000"}w.length===4?(L=w.substring(1,2),L+=L,P=w.substring(2,3),P+=P,U=w.substring(3,4),U+=U):(L=w.substring(1,3),P=w.substring(3,5),U=w.substring(5,7)),L=parseInt(L,16),P=parseInt(P,16),U=parseInt(U,16)}}return{r:L,g:P,b:U,a:ie,style:w}},g=function(){return this.ctx.isFillTransparent||this.globalAlpha==0},y=function(){return!!(this.ctx.isStrokeTransparent||this.globalAlpha==0)};m.prototype.fillText=function(w,L,P,U){if(isNaN(L)||isNaN(P)||typeof w!="string")throw mn.error("jsPDF.context2d.fillText: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.fillText");if(U=isNaN(U)?void 0:U,!g.call(this)){var ie=ge(this.ctx.transform.rotation),fe=this.ctx.transform.scaleX;O.call(this,{text:w,x:L,y:P,scale:fe,angle:ie,align:this.textAlign,maxWidth:U})}},m.prototype.strokeText=function(w,L,P,U){if(isNaN(L)||isNaN(P)||typeof w!="string")throw mn.error("jsPDF.context2d.strokeText: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.strokeText");if(!y.call(this)){U=isNaN(U)?void 0:U;var ie=ge(this.ctx.transform.rotation),fe=this.ctx.transform.scaleX;O.call(this,{text:w,x:L,y:P,scale:fe,renderingMode:"stroke",angle:ie,align:this.textAlign,maxWidth:U})}},m.prototype.measureText=function(w){if(typeof w!="string")throw mn.error("jsPDF.context2d.measureText: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.measureText");var L=this.pdf,P=this.pdf.internal.scaleFactor,U=L.internal.getFontSize(),ie=L.getStringUnitWidth(w)*U/L.internal.scaleFactor;return new function(fe){var xe=(fe=fe||{}).width||0;return Object.defineProperty(this,"width",{get:function(){return xe}}),this}({width:ie*=Math.round(96*P/72*1e4)/1e4})},m.prototype.scale=function(w,L){if(isNaN(w)||isNaN(L))throw mn.error("jsPDF.context2d.scale: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.scale");var P=new u(w,0,0,L,0,0);this.ctx.transform=this.ctx.transform.multiply(P)},m.prototype.rotate=function(w){if(isNaN(w))throw mn.error("jsPDF.context2d.rotate: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.rotate");var L=new u(Math.cos(w),Math.sin(w),-Math.sin(w),Math.cos(w),0,0);this.ctx.transform=this.ctx.transform.multiply(L)},m.prototype.translate=function(w,L){if(isNaN(w)||isNaN(L))throw mn.error("jsPDF.context2d.translate: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.translate");var P=new u(1,0,0,1,w,L);this.ctx.transform=this.ctx.transform.multiply(P)},m.prototype.transform=function(w,L,P,U,ie,fe){if(isNaN(w)||isNaN(L)||isNaN(P)||isNaN(U)||isNaN(ie)||isNaN(fe))throw mn.error("jsPDF.context2d.transform: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.transform");var xe=new u(w,L,P,U,ie,fe);this.ctx.transform=this.ctx.transform.multiply(xe)},m.prototype.setTransform=function(w,L,P,U,ie,fe){w=isNaN(w)?1:w,L=isNaN(L)?0:L,P=isNaN(P)?0:P,U=isNaN(U)?1:U,ie=isNaN(ie)?0:ie,fe=isNaN(fe)?0:fe,this.ctx.transform=new u(w,L,P,U,ie,fe)};var v=function(){return this.margin[0]>0||this.margin[1]>0||this.margin[2]>0||this.margin[3]>0};m.prototype.drawImage=function(w,L,P,U,ie,fe,xe,ve,ce){var De=this.pdf.getImageProperties(w),ue=1,Ye=1,R=1,H=1;U!==void 0&&ve!==void 0&&(R=ve/U,H=ce/ie,ue=De.width/U*ve/U,Ye=De.height/ie*ce/ie),fe===void 0&&(fe=L,xe=P,L=0,P=0),U!==void 0&&ve===void 0&&(ve=U,ce=ie),U===void 0&&ve===void 0&&(ve=De.width,ce=De.height);var ne=this.ctx.transform.decompose(),G=ge(ne.rotate.shx),K=new u,le=(K=(K=(K=K.multiply(ne.translate)).multiply(ne.skew)).multiply(ne.scale)).applyToRectangle(new l(fe-L*R,xe-P*H,U*ue,ie*Ye));if(this.autoPaging){for(var Fe,je=S.call(this,le),Oe=[],Ge=0;Ge<je.length;Ge+=1)Oe.indexOf(je[Ge])===-1&&Oe.push(je[Ge]);N(Oe);for(var $e=Oe[0],rt=Oe[Oe.length-1],it=$e;it<rt+1;it++){this.pdf.setPage(it);var Tt=this.pdf.internal.pageSize.width-this.margin[3]-this.margin[1],dt=it===1?this.posY+this.margin[0]:this.margin[0],He=this.pdf.internal.pageSize.height-this.posY-this.margin[0]-this.margin[2],xt=this.pdf.internal.pageSize.height-this.margin[0]-this.margin[2],bt=it===1?0:He+(it-2)*xt;if(this.ctx.clip_path.length!==0){var Qt=this.path;Fe=JSON.parse(JSON.stringify(this.ctx.clip_path)),this.path=A(Fe,this.posX+this.margin[3],-bt+dt+this.ctx.prevPageLastElemOffset),W.call(this,"fill",!0),this.path=Qt}var Et=JSON.parse(JSON.stringify(le));Et=A([Et],this.posX+this.margin[3],-bt+dt+this.ctx.prevPageLastElemOffset)[0];var Rt=(it>$e||it<rt)&&v.call(this);Rt&&(this.pdf.saveGraphicsState(),this.pdf.rect(this.margin[3],this.margin[0],Tt,xt,null).clip().discardPath()),this.pdf.addImage(w,"JPEG",Et.x,Et.y,Et.w,Et.h,null,null,G),Rt&&this.pdf.restoreGraphicsState()}}else this.pdf.addImage(w,"JPEG",le.x,le.y,le.w,le.h,null,null,G)};var S=function(w,L,P){var U=[];L=L||this.pdf.internal.pageSize.width,P=P||this.pdf.internal.pageSize.height-this.margin[0]-this.margin[2];var ie=this.posY+this.ctx.prevPageLastElemOffset;switch(w.type){default:case"mt":case"lt":U.push(Math.floor((w.y+ie)/P)+1);break;case"arc":U.push(Math.floor((w.y+ie-w.radius)/P)+1),U.push(Math.floor((w.y+ie+w.radius)/P)+1);break;case"qct":var fe=te(this.ctx.lastPoint.x,this.ctx.lastPoint.y,w.x1,w.y1,w.x,w.y);U.push(Math.floor((fe.y+ie)/P)+1),U.push(Math.floor((fe.y+fe.h+ie)/P)+1);break;case"bct":var xe=ke(this.ctx.lastPoint.x,this.ctx.lastPoint.y,w.x1,w.y1,w.x2,w.y2,w.x,w.y);U.push(Math.floor((xe.y+ie)/P)+1),U.push(Math.floor((xe.y+xe.h+ie)/P)+1);break;case"rect":U.push(Math.floor((w.y+ie)/P)+1),U.push(Math.floor((w.y+w.h+ie)/P)+1)}for(var ve=0;ve<U.length;ve+=1)for(;this.pdf.internal.getNumberOfPages()<U[ve];)k.call(this);return U},k=function(){var w=this.fillStyle,L=this.strokeStyle,P=this.font,U=this.lineCap,ie=this.lineWidth,fe=this.lineJoin;this.pdf.addPage(),this.fillStyle=w,this.strokeStyle=L,this.font=P,this.lineCap=U,this.lineWidth=ie,this.lineJoin=fe},A=function(w,L,P){for(var U=0;U<w.length;U++)switch(w[U].type){case"bct":w[U].x2+=L,w[U].y2+=P;case"qct":w[U].x1+=L,w[U].y1+=P;default:w[U].x+=L,w[U].y+=P}return w},N=function(w){return w.sort(function(L,P){return L-P})},j=function(w,L){var P=this.fillStyle,U=this.strokeStyle,ie=this.lineCap,fe=this.lineWidth,xe=Math.abs(fe*this.ctx.transform.scaleX),ve=this.lineJoin;if(this.autoPaging){for(var ce,De,ue=JSON.parse(JSON.stringify(this.path)),Ye=JSON.parse(JSON.stringify(this.path)),R=[],H=0;H<Ye.length;H++)if(Ye[H].x!==void 0)for(var ne=S.call(this,Ye[H]),G=0;G<ne.length;G+=1)R.indexOf(ne[G])===-1&&R.push(ne[G]);for(var K=0;K<R.length;K++)for(;this.pdf.internal.getNumberOfPages()<R[K];)k.call(this);N(R);for(var le=R[0],Fe=R[R.length-1],je=le;je<Fe+1;je++){this.pdf.setPage(je),this.fillStyle=P,this.strokeStyle=U,this.lineCap=ie,this.lineWidth=xe,this.lineJoin=ve;var Oe=this.pdf.internal.pageSize.width-this.margin[3]-this.margin[1],Ge=je===1?this.posY+this.margin[0]:this.margin[0],$e=this.pdf.internal.pageSize.height-this.posY-this.margin[0]-this.margin[2],rt=this.pdf.internal.pageSize.height-this.margin[0]-this.margin[2],it=je===1?0:$e+(je-2)*rt;if(this.ctx.clip_path.length!==0){var Tt=this.path;ce=JSON.parse(JSON.stringify(this.ctx.clip_path)),this.path=A(ce,this.posX+this.margin[3],-it+Ge+this.ctx.prevPageLastElemOffset),W.call(this,w,!0),this.path=Tt}if(De=JSON.parse(JSON.stringify(ue)),this.path=A(De,this.posX+this.margin[3],-it+Ge+this.ctx.prevPageLastElemOffset),L===!1||je===0){var dt=(je>le||je<Fe)&&v.call(this);dt&&(this.pdf.saveGraphicsState(),this.pdf.rect(this.margin[3],this.margin[0],Oe,rt,null).clip().discardPath()),W.call(this,w,L),dt&&this.pdf.restoreGraphicsState()}this.lineWidth=fe}this.path=ue}else this.lineWidth=xe,W.call(this,w,L),this.lineWidth=fe},W=function(w,L){if((w!=="stroke"||L||!y.call(this))&&(w==="stroke"||L||!g.call(this))){for(var P,U,ie=[],fe=this.path,xe=0;xe<fe.length;xe++){var ve=fe[xe];switch(ve.type){case"begin":ie.push({begin:!0});break;case"close":ie.push({close:!0});break;case"mt":ie.push({start:ve,deltas:[],abs:[]});break;case"lt":var ce=ie.length;if(fe[xe-1]&&!isNaN(fe[xe-1].x)&&(P=[ve.x-fe[xe-1].x,ve.y-fe[xe-1].y],ce>0)){for(;ce>=0;ce--)if(ie[ce-1].close!==!0&&ie[ce-1].begin!==!0){ie[ce-1].deltas.push(P),ie[ce-1].abs.push(ve);break}}break;case"bct":P=[ve.x1-fe[xe-1].x,ve.y1-fe[xe-1].y,ve.x2-fe[xe-1].x,ve.y2-fe[xe-1].y,ve.x-fe[xe-1].x,ve.y-fe[xe-1].y],ie[ie.length-1].deltas.push(P);break;case"qct":var De=fe[xe-1].x+2/3*(ve.x1-fe[xe-1].x),ue=fe[xe-1].y+2/3*(ve.y1-fe[xe-1].y),Ye=ve.x+2/3*(ve.x1-ve.x),R=ve.y+2/3*(ve.y1-ve.y),H=ve.x,ne=ve.y;P=[De-fe[xe-1].x,ue-fe[xe-1].y,Ye-fe[xe-1].x,R-fe[xe-1].y,H-fe[xe-1].x,ne-fe[xe-1].y],ie[ie.length-1].deltas.push(P);break;case"arc":ie.push({deltas:[],abs:[],arc:!0}),Array.isArray(ie[ie.length-1].abs)&&ie[ie.length-1].abs.push(ve)}}U=L?null:w==="stroke"?"stroke":"fill";for(var G=!1,K=0;K<ie.length;K++)if(ie[K].arc)for(var le=ie[K].abs,Fe=0;Fe<le.length;Fe++){var je=le[Fe];je.type==="arc"?B.call(this,je.x,je.y,je.radius,je.startAngle,je.endAngle,je.counterclockwise,void 0,L,!G):V.call(this,je.x,je.y),G=!0}else if(ie[K].close===!0)this.pdf.internal.out("h"),G=!1;else if(ie[K].begin!==!0){var Oe=ie[K].start.x,Ge=ie[K].start.y;F.call(this,ie[K].deltas,Oe,Ge),G=!0}U&&D.call(this,U),L&&Z.call(this)}},ee=function(w){var L=this.pdf.internal.getFontSize()/this.pdf.internal.scaleFactor,P=L*(this.pdf.internal.getLineHeightFactor()-1);switch(this.ctx.textBaseline){case"bottom":return w-P;case"top":return w+L-P;case"hanging":return w+L-2*P;case"middle":return w+L/2-P;default:return w}},z=function(w){return w+this.pdf.internal.getFontSize()/this.pdf.internal.scaleFactor*(this.pdf.internal.getLineHeightFactor()-1)};m.prototype.createLinearGradient=function(){var w=function(){};return w.colorStops=[],w.addColorStop=function(L,P){this.colorStops.push([L,P])},w.getColor=function(){return this.colorStops.length===0?"#000000":this.colorStops[0][1]},w.isCanvasGradient=!0,w},m.prototype.createPattern=function(){return this.createLinearGradient()},m.prototype.createRadialGradient=function(){return this.createLinearGradient()};var B=function(w,L,P,U,ie,fe,xe,ve,ce){for(var De=ae.call(this,P,U,ie,fe),ue=0;ue<De.length;ue++){var Ye=De[ue];ue===0&&(ce?q.call(this,Ye.x1+w,Ye.y1+L):V.call(this,Ye.x1+w,Ye.y1+L)),re.call(this,w,L,Ye.x2,Ye.y2,Ye.x3,Ye.y3,Ye.x4,Ye.y4)}ve?Z.call(this):D.call(this,xe)},D=function(w){switch(w){case"stroke":this.pdf.internal.out("S");break;case"fill":this.pdf.internal.out("f")}},Z=function(){this.pdf.clip(),this.pdf.discardPath()},q=function(w,L){this.pdf.internal.out(t(w)+" "+n(L)+" m")},O=function(w){var L;switch(w.align){case"right":case"end":L="right";break;case"center":L="center";break;default:L="left"}var P,U,ie,fe=this.pdf.getTextDimensions(w.text),xe=ee.call(this,w.y),ve=z.call(this,xe)-fe.h,ce=this.ctx.transform.applyToPoint(new o(w.x,xe));if(this.autoPaging){var De=this.ctx.transform.decompose(),ue=new u;ue=(ue=(ue=ue.multiply(De.translate)).multiply(De.skew)).multiply(De.scale);for(var Ye=this.ctx.transform.applyToRectangle(new l(w.x,xe,fe.w,fe.h)),R=ue.applyToRectangle(new l(w.x,ve,fe.w,fe.h)),H=S.call(this,R),ne=[],G=0;G<H.length;G+=1)ne.indexOf(H[G])===-1&&ne.push(H[G]);N(ne);for(var K=ne[0],le=ne[ne.length-1],Fe=K;Fe<le+1;Fe++){this.pdf.setPage(Fe);var je=Fe===1?this.posY+this.margin[0]:this.margin[0],Oe=this.pdf.internal.pageSize.height-this.posY-this.margin[0]-this.margin[2],Ge=this.pdf.internal.pageSize.height-this.margin[2],$e=Ge-this.margin[0],rt=this.pdf.internal.pageSize.width-this.margin[1],it=rt-this.margin[3],Tt=Fe===1?0:Oe+(Fe-2)*$e;if(this.ctx.clip_path.length!==0){var dt=this.path;P=JSON.parse(JSON.stringify(this.ctx.clip_path)),this.path=A(P,this.posX+this.margin[3],-1*Tt+je),W.call(this,"fill",!0),this.path=dt}var He=A([JSON.parse(JSON.stringify(R))],this.posX+this.margin[3],-Tt+je+this.ctx.prevPageLastElemOffset)[0];w.scale>=.01&&(U=this.pdf.internal.getFontSize(),this.pdf.setFontSize(U*w.scale),ie=this.lineWidth,this.lineWidth=ie*w.scale);var xt=this.autoPaging!=="text";if(xt||He.y+He.h<=Ge){if(xt||He.y>=je&&He.x<=rt){var bt=xt?w.text:this.pdf.splitTextToSize(w.text,w.maxWidth||rt-He.x)[0],Qt=A([JSON.parse(JSON.stringify(Ye))],this.posX+this.margin[3],-Tt+je+this.ctx.prevPageLastElemOffset)[0],Et=xt&&(Fe>K||Fe<le)&&v.call(this);Et&&(this.pdf.saveGraphicsState(),this.pdf.rect(this.margin[3],this.margin[0],it,$e,null).clip().discardPath()),this.pdf.text(bt,Qt.x,Qt.y,{angle:w.angle,align:L,renderingMode:w.renderingMode}),Et&&this.pdf.restoreGraphicsState()}}else He.y<Ge&&(this.ctx.prevPageLastElemOffset+=Ge-He.y);w.scale>=.01&&(this.pdf.setFontSize(U),this.lineWidth=ie)}}else w.scale>=.01&&(U=this.pdf.internal.getFontSize(),this.pdf.setFontSize(U*w.scale),ie=this.lineWidth,this.lineWidth=ie*w.scale),this.pdf.text(w.text,ce.x+this.posX,ce.y+this.posY,{angle:w.angle,align:L,renderingMode:w.renderingMode,maxWidth:w.maxWidth}),w.scale>=.01&&(this.pdf.setFontSize(U),this.lineWidth=ie)},V=function(w,L,P,U){P=P||0,U=U||0,this.pdf.internal.out(t(w+P)+" "+n(L+U)+" l")},F=function(w,L,P){return this.pdf.lines(w,L,P,null,null)},re=function(w,L,P,U,ie,fe,xe,ve){this.pdf.internal.out([e(a(P+w)),e(i(U+L)),e(a(ie+w)),e(i(fe+L)),e(a(xe+w)),e(i(ve+L)),"c"].join(" "))},ae=function(w,L,P,U){for(var ie=2*Math.PI,fe=Math.PI/2;L>P;)L-=ie;var xe=Math.abs(P-L);xe<ie&&U&&(xe=ie-xe);for(var ve=[],ce=U?-1:1,De=L;xe>1e-5;){var ue=De+ce*Math.min(xe,fe);ve.push(J.call(this,w,De,ue)),xe-=Math.abs(ue-De),De=ue}return ve},J=function(w,L,P){var U=(P-L)/2,ie=w*Math.cos(U),fe=w*Math.sin(U),xe=ie,ve=-fe,ce=xe*xe+ve*ve,De=ce+xe*ie+ve*fe,ue=4/3*(Math.sqrt(2*ce*De)-De)/(xe*fe-ve*ie),Ye=xe-ue*ve,R=ve+ue*xe,H=Ye,ne=-R,G=U+L,K=Math.cos(G),le=Math.sin(G);return{x1:w*Math.cos(L),y1:w*Math.sin(L),x2:Ye*K-R*le,y2:Ye*le+R*K,x3:H*K-ne*le,y3:H*le+ne*K,x4:w*Math.cos(P),y4:w*Math.sin(P)}},ge=function(w){return 180*w/Math.PI},te=function(w,L,P,U,ie,fe){var xe=w+.5*(P-w),ve=L+.5*(U-L),ce=ie+.5*(P-ie),De=fe+.5*(U-fe),ue=Math.min(w,ie,xe,ce),Ye=Math.max(w,ie,xe,ce),R=Math.min(L,fe,ve,De),H=Math.max(L,fe,ve,De);return new l(ue,R,Ye-ue,H-R)},ke=function(w,L,P,U,ie,fe,xe,ve){var ce,De,ue,Ye,R,H,ne,G,K,le,Fe,je,Oe,Ge,$e=P-w,rt=U-L,it=ie-P,Tt=fe-U,dt=xe-ie,He=ve-fe;for(De=0;De<41;De++)K=(ne=(ue=w+(ce=De/40)*$e)+ce*((R=P+ce*it)-ue))+ce*(R+ce*(ie+ce*dt-R)-ne),le=(G=(Ye=L+ce*rt)+ce*((H=U+ce*Tt)-Ye))+ce*(H+ce*(fe+ce*He-H)-G),De==0?(Fe=K,je=le,Oe=K,Ge=le):(Fe=Math.min(Fe,K),je=Math.min(je,le),Oe=Math.max(Oe,K),Ge=Math.max(Ge,le));return new l(Math.round(Fe),Math.round(je),Math.round(Oe-Fe),Math.round(Ge-je))},Y=function(){if(this.prevLineDash||this.ctx.lineDash.length||this.ctx.lineDashOffset){var w,L,P=(w=this.ctx.lineDash,L=this.ctx.lineDashOffset,JSON.stringify({lineDash:w,lineDashOffset:L}));this.prevLineDash!==P&&(this.pdf.setLineDash(this.ctx.lineDash,this.ctx.lineDashOffset),this.prevLineDash=P)}}})(er.API),(function(r){var e=function(o){var l,u,h,f,m,x,g,y,v,S;for(u=[],h=0,f=(o+=l="\0\0\0\0".slice(o.length%4||4)).length;f>h;h+=4)(m=(o.charCodeAt(h)<<24)+(o.charCodeAt(h+1)<<16)+(o.charCodeAt(h+2)<<8)+o.charCodeAt(h+3))!==0?(x=(m=((m=((m=((m=(m-(S=m%85))/85)-(v=m%85))/85)-(y=m%85))/85)-(g=m%85))/85)%85,u.push(x+33,g+33,y+33,v+33,S+33)):u.push(122);return(function(k,A){for(var N=A;N>0;N--)k.pop()})(u,l.length),String.fromCharCode.apply(String,u)+"~>"},t=function(o){var l,u,h,f,m,x=String,g="length",y=255,v="charCodeAt",S="slice",k="replace";for(o[S](-2),o=o[S](0,-2)[k](/\s/g,"")[k]("z","!!!!!"),h=[],f=0,m=(o+=l="uuuuu"[S](o[g]%5||5))[g];m>f;f+=5)u=52200625*(o[v](f)-33)+614125*(o[v](f+1)-33)+7225*(o[v](f+2)-33)+85*(o[v](f+3)-33)+(o[v](f+4)-33),h.push(y&u>>24,y&u>>16,y&u>>8,y&u);return(function(A,N){for(var j=N;j>0;j--)A.pop()})(h,l[g]),x.fromCharCode.apply(x,h)},n=function(o){return o.split("").map(function(l){return("0"+l.charCodeAt().toString(16)).slice(-2)}).join("")+">"},a=function(o){var l=new RegExp(/^([0-9A-Fa-f]{2})+$/);if((o=o.replace(/\s/g,"")).indexOf(">")!==-1&&(o=o.substr(0,o.indexOf(">"))),o.length%2&&(o+="0"),l.test(o)===!1)return"";for(var u="",h=0;h<o.length;h+=2)u+=String.fromCharCode("0x"+(o[h]+o[h+1]));return u},i=function(o){for(var l=new Uint8Array(o.length),u=o.length;u--;)l[u]=o.charCodeAt(u);return(l=lv(l)).reduce(function(h,f){return h+String.fromCharCode(f)},"")};r.processDataByFilters=function(o,l){var u=0,h=o||"",f=[];for(typeof(l=l||[])=="string"&&(l=[l]),u=0;u<l.length;u+=1)switch(l[u]){case"ASCII85Decode":case"/ASCII85Decode":h=t(h),f.push("/ASCII85Encode");break;case"ASCII85Encode":case"/ASCII85Encode":h=e(h),f.push("/ASCII85Decode");break;case"ASCIIHexDecode":case"/ASCIIHexDecode":h=a(h),f.push("/ASCIIHexEncode");break;case"ASCIIHexEncode":case"/ASCIIHexEncode":h=n(h),f.push("/ASCIIHexDecode");break;case"FlateEncode":case"/FlateEncode":h=i(h),f.push("/FlateDecode");break;default:throw new Error('The filter: "'+l[u]+'" is not implemented')}return{data:h,reverseChain:f.reverse().join(" ")}}})(er.API),(function(r){r.loadFile=function(e,t,n){return(function(a,i,o){i=i!==!1,o=typeof o=="function"?o:function(){};var l=void 0;try{l=(function(u,h,f){var m=new XMLHttpRequest,x=0,g=function(y){var v=y.length,S=[],k=String.fromCharCode;for(x=0;x<v;x+=1)S.push(k(255&y.charCodeAt(x)));return S.join("")};if(m.open("GET",u,!h),m.overrideMimeType("text/plain; charset=x-user-defined"),h===!1&&(m.onload=function(){m.status===200?f(g(this.responseText)):f(void 0)}),m.send(null),h&&m.status===200)return g(m.responseText)})(a,i,o)}catch{}return l})(e,t,n)},r.allowFsRead=void 0,r.loadImageFile=r.loadFile})(er.API),(function(r){function e(){return(ur.html2canvas?Promise.resolve(ur.html2canvas):$g(()=>import("./html2canvas.esm-QH1iLAAe.js"),[])).catch(function(l){return Promise.reject(new Error("Could not load html2canvas: "+l))}).then(function(l){return l.default?l.default:l})}function t(){return(ur.DOMPurify?Promise.resolve(ur.DOMPurify):$g(()=>import("./purify.es-B9ZVCkUG.js"),[])).catch(function(l){return Promise.reject(new Error("Could not load dompurify: "+l))}).then(function(l){return l.default?l.default:l})}var n=function(l){var u=an(l);return u==="undefined"?"undefined":u==="string"||l instanceof String?"string":u==="number"||l instanceof Number?"number":u==="function"||l instanceof Function?"function":l&&l.constructor===Array?"array":l&&l.nodeType===1?"element":u==="object"?"object":"unknown"},a=function(l,u){var h=document.createElement(l);for(var f in u.className&&(h.className=u.className),u.innerHTML&&u.dompurify&&(h.innerHTML=u.dompurify.sanitize(u.innerHTML)),u.style)h.style[f]=u.style[f];return h},i=function l(u,h){for(var f=u.nodeType===3?document.createTextNode(u.nodeValue):u.cloneNode(!1),m=u.firstChild;m;m=m.nextSibling)h!==!0&&m.nodeType===1&&m.nodeName==="SCRIPT"||f.appendChild(l(m,h));return u.nodeType===1&&(u.nodeName==="CANVAS"?(f.width=u.width,f.height=u.height,f.getContext("2d").drawImage(u,0,0)):u.nodeName!=="TEXTAREA"&&u.nodeName!=="SELECT"||(f.value=u.value),f.addEventListener("load",function(){f.scrollTop=u.scrollTop,f.scrollLeft=u.scrollLeft},!0)),f},o=function l(u){var h=Object.assign(l.convert(Promise.resolve()),JSON.parse(JSON.stringify(l.template))),f=l.convert(Promise.resolve(),h);return(f=f.setProgress(1,l,1,[l])).set(u)};(o.prototype=Object.create(Promise.prototype)).constructor=o,o.convert=function(l,u){return l.__proto__=u||o.prototype,l},o.template={prop:{src:null,container:null,overlay:null,canvas:null,img:null,pdf:null,pageSize:null,callback:function(){}},progress:{val:0,state:null,n:0,stack:[]},opt:{filename:"file.pdf",margin:[0,0,0,0],enableLinks:!0,x:0,y:0,html2canvas:{},jsPDF:{},backgroundColor:"transparent"}},o.prototype.from=function(l,u){return this.then(function(){switch(u=u||(function(h){switch(n(h)){case"string":return"string";case"element":return h.nodeName.toLowerCase()==="canvas"?"canvas":"element";default:return"unknown"}})(l),u){case"string":return this.then(t).then(function(h){return this.set({src:a("div",{innerHTML:l,dompurify:h})})});case"element":return this.set({src:l});case"canvas":return this.set({canvas:l});case"img":return this.set({img:l});default:return this.error("Unknown source type.")}})},o.prototype.to=function(l){switch(l){case"container":return this.toContainer();case"canvas":return this.toCanvas();case"img":return this.toImg();case"pdf":return this.toPdf();default:return this.error("Invalid target.")}},o.prototype.toContainer=function(){return this.thenList([function(){return this.prop.src||this.error("Cannot duplicate - no source HTML.")},function(){return this.prop.pageSize||this.setPageSize()}]).then(function(){var l={position:"relative",display:"inline-block",width:(typeof this.opt.width!="number"||isNaN(this.opt.width)||typeof this.opt.windowWidth!="number"||isNaN(this.opt.windowWidth)?Math.max(this.prop.src.clientWidth,this.prop.src.scrollWidth,this.prop.src.offsetWidth):this.opt.windowWidth)+"px",left:0,right:0,top:0,margin:"auto",backgroundColor:this.opt.backgroundColor},u=i(this.prop.src,this.opt.html2canvas.javascriptEnabled);u.tagName==="BODY"&&(l.height=Math.max(document.body.scrollHeight,document.body.offsetHeight,document.documentElement.clientHeight,document.documentElement.scrollHeight,document.documentElement.offsetHeight)+"px"),this.prop.overlay=a("div",{className:"html2pdf__overlay",style:{position:"fixed",overflow:"hidden",zIndex:1e3,left:"-100000px",right:0,bottom:0,top:0}}),this.prop.container=a("div",{className:"html2pdf__container",style:l}),this.prop.container.appendChild(u),this.prop.container.firstChild.appendChild(a("div",{style:{clear:"both",border:"0 none transparent",margin:0,padding:0,height:0}})),this.prop.container.style.float="none",this.prop.overlay.appendChild(this.prop.container),document.body.appendChild(this.prop.overlay),this.prop.container.firstChild.style.position="relative",this.prop.container.height=Math.max(this.prop.container.firstChild.clientHeight,this.prop.container.firstChild.scrollHeight,this.prop.container.firstChild.offsetHeight)+"px"})},o.prototype.toCanvas=function(){var l=[function(){return document.body.contains(this.prop.container)||this.toContainer()}];return this.thenList(l).then(e).then(function(u){var h=Object.assign({},this.opt.html2canvas);return delete h.onrendered,u(this.prop.container,h)}).then(function(u){(this.opt.html2canvas.onrendered||function(){})(u),this.prop.canvas=u,document.body.removeChild(this.prop.overlay)})},o.prototype.toContext2d=function(){var l=[function(){return document.body.contains(this.prop.container)||this.toContainer()}];return this.thenList(l).then(e).then(function(u){var h=this.opt.jsPDF,f=this.opt.fontFaces,m=typeof this.opt.width!="number"||isNaN(this.opt.width)||typeof this.opt.windowWidth!="number"||isNaN(this.opt.windowWidth)?1:this.opt.width/this.opt.windowWidth,x=Object.assign({async:!0,allowTaint:!0,scale:m,scrollX:this.opt.scrollX||0,scrollY:this.opt.scrollY||0,backgroundColor:"#ffffff",imageTimeout:15e3,logging:!0,proxy:null,removeContainer:!0,foreignObjectRendering:!1,useCORS:!1},this.opt.html2canvas);if(delete x.onrendered,h.context2d.autoPaging=this.opt.autoPaging===void 0||this.opt.autoPaging,h.context2d.posX=this.opt.x,h.context2d.posY=this.opt.y,h.context2d.margin=this.opt.margin,h.context2d.fontFaces=f,f)for(var g=0;g<f.length;++g){var y=f[g],v=y.src.find(function(S){return S.format==="truetype"});v&&h.addFont(v.url,y.ref.name,y.ref.style)}return x.windowHeight=x.windowHeight||0,x.windowHeight=x.windowHeight==0?Math.max(this.prop.container.clientHeight,this.prop.container.scrollHeight,this.prop.container.offsetHeight):x.windowHeight,h.context2d.save(!0),u(this.prop.container,x)}).then(function(u){this.opt.jsPDF.context2d.restore(!0),(this.opt.html2canvas.onrendered||function(){})(u),this.prop.canvas=u,document.body.removeChild(this.prop.overlay)})},o.prototype.toImg=function(){return this.thenList([function(){return this.prop.canvas||this.toCanvas()}]).then(function(){var l=this.prop.canvas.toDataURL("image/"+this.opt.image.type,this.opt.image.quality);this.prop.img=document.createElement("img"),this.prop.img.src=l})},o.prototype.toPdf=function(){return this.thenList([function(){return this.toContext2d()}]).then(function(){this.prop.pdf=this.prop.pdf||this.opt.jsPDF})},o.prototype.output=function(l,u,h){return(h=h||"pdf").toLowerCase()==="img"||h.toLowerCase()==="image"?this.outputImg(l,u):this.outputPdf(l,u)},o.prototype.outputPdf=function(l,u){return this.thenList([function(){return this.prop.pdf||this.toPdf()}]).then(function(){return this.prop.pdf.output(l,u)})},o.prototype.outputImg=function(l){return this.thenList([function(){return this.prop.img||this.toImg()}]).then(function(){switch(l){case void 0:case"img":return this.prop.img;case"datauristring":case"dataurlstring":return this.prop.img.src;case"datauri":case"dataurl":return document.location.href=this.prop.img.src;default:throw'Image output type "'+l+'" is not supported.'}})},o.prototype.save=function(l){return this.thenList([function(){return this.prop.pdf||this.toPdf()}]).set(l?{filename:l}:null).then(function(){this.prop.pdf.save(this.opt.filename)})},o.prototype.doCallback=function(){return this.thenList([function(){return this.prop.pdf||this.toPdf()}]).then(function(){this.prop.callback(this.prop.pdf)})},o.prototype.set=function(l){if(n(l)!=="object")return this;var u=Object.keys(l||{}).map(function(h){if(h in o.template.prop)return function(){this.prop[h]=l[h]};switch(h){case"margin":return this.setMargin.bind(this,l.margin);case"jsPDF":return function(){return this.opt.jsPDF=l.jsPDF,this.setPageSize()};case"pageSize":return this.setPageSize.bind(this,l.pageSize);default:return function(){this.opt[h]=l[h]}}},this);return this.then(function(){return this.thenList(u)})},o.prototype.get=function(l,u){return this.then(function(){var h=l in o.template.prop?this.prop[l]:this.opt[l];return u?u(h):h})},o.prototype.setMargin=function(l){return this.then(function(){switch(n(l)){case"number":l=[l,l,l,l];case"array":if(l.length===2&&(l=[l[0],l[1],l[0],l[1]]),l.length===4)break;default:return this.error("Invalid margin array.")}this.opt.margin=l}).then(this.setPageSize)},o.prototype.setPageSize=function(l){function u(h,f){return Math.floor(h*f/72*96)}return this.then(function(){(l=l||er.getPageSize(this.opt.jsPDF)).hasOwnProperty("inner")||(l.inner={width:l.width-this.opt.margin[1]-this.opt.margin[3],height:l.height-this.opt.margin[0]-this.opt.margin[2]},l.inner.px={width:u(l.inner.width,l.k),height:u(l.inner.height,l.k)},l.inner.ratio=l.inner.height/l.inner.width),this.prop.pageSize=l})},o.prototype.setProgress=function(l,u,h,f){return l!=null&&(this.progress.val=l),u!=null&&(this.progress.state=u),h!=null&&(this.progress.n=h),f!=null&&(this.progress.stack=f),this.progress.ratio=this.progress.val/this.progress.state,this},o.prototype.updateProgress=function(l,u,h,f){return this.setProgress(l?this.progress.val+l:null,u||null,h?this.progress.n+h:null,f?this.progress.stack.concat(f):null)},o.prototype.then=function(l,u){var h=this;return this.thenCore(l,u,function(f,m){return h.updateProgress(null,null,1,[f]),Promise.prototype.then.call(this,function(x){return h.updateProgress(null,f),x}).then(f,m).then(function(x){return h.updateProgress(1),x})})},o.prototype.thenCore=function(l,u,h){h=h||Promise.prototype.then;var f=this;l&&(l=l.bind(f)),u&&(u=u.bind(f));var m=Promise.toString().indexOf("[native code]")!==-1&&Promise.name==="Promise"?f:o.convert(Object.assign({},f),Promise.prototype),x=h.call(m,l,u);return o.convert(x,f.__proto__)},o.prototype.thenExternal=function(l,u){return Promise.prototype.then.call(this,l,u)},o.prototype.thenList=function(l){var u=this;return l.forEach(function(h){u=u.thenCore(h)}),u},o.prototype.catch=function(l){l&&(l=l.bind(this));var u=Promise.prototype.catch.call(this,l);return o.convert(u,this)},o.prototype.catchExternal=function(l){return Promise.prototype.catch.call(this,l)},o.prototype.error=function(l){return this.then(function(){throw new Error(l)})},o.prototype.using=o.prototype.set,o.prototype.saveAs=o.prototype.save,o.prototype.export=o.prototype.output,o.prototype.run=o.prototype.then,er.getPageSize=function(l,u,h){if(an(l)==="object"){var f=l;l=f.orientation,u=f.unit||u,h=f.format||h}u=u||"mm",h=h||"a4",l=(""+(l||"P")).toLowerCase();var m,x=(""+h).toLowerCase(),g={a0:[2383.94,3370.39],a1:[1683.78,2383.94],a2:[1190.55,1683.78],a3:[841.89,1190.55],a4:[595.28,841.89],a5:[419.53,595.28],a6:[297.64,419.53],a7:[209.76,297.64],a8:[147.4,209.76],a9:[104.88,147.4],a10:[73.7,104.88],b0:[2834.65,4008.19],b1:[2004.09,2834.65],b2:[1417.32,2004.09],b3:[1000.63,1417.32],b4:[708.66,1000.63],b5:[498.9,708.66],b6:[354.33,498.9],b7:[249.45,354.33],b8:[175.75,249.45],b9:[124.72,175.75],b10:[87.87,124.72],c0:[2599.37,3676.54],c1:[1836.85,2599.37],c2:[1298.27,1836.85],c3:[918.43,1298.27],c4:[649.13,918.43],c5:[459.21,649.13],c6:[323.15,459.21],c7:[229.61,323.15],c8:[161.57,229.61],c9:[113.39,161.57],c10:[79.37,113.39],dl:[311.81,623.62],letter:[612,792],"government-letter":[576,756],legal:[612,1008],"junior-legal":[576,360],ledger:[1224,792],tabloid:[792,1224],"credit-card":[153,243]};switch(u){case"pt":m=1;break;case"mm":m=72/25.4;break;case"cm":m=72/2.54;break;case"in":m=72;break;case"px":m=.75;break;case"pc":case"em":m=12;break;case"ex":m=6;break;default:throw"Invalid unit: "+u}var y,v=0,S=0;if(g.hasOwnProperty(x))v=g[x][1]/m,S=g[x][0]/m;else try{v=h[1],S=h[0]}catch{throw new Error("Invalid format: "+h)}if(l==="p"||l==="portrait")l="p",S>v&&(y=S,S=v,v=y);else{if(l!=="l"&&l!=="landscape")throw"Invalid orientation: "+l;l="l",v>S&&(y=S,S=v,v=y)}return{width:S,height:v,unit:u,k:m,orientation:l}},r.html=function(l,u){(u=u||{}).callback=u.callback||function(){},u.html2canvas=u.html2canvas||{},u.html2canvas.canvas=u.html2canvas.canvas||this.canvas,u.jsPDF=u.jsPDF||this,u.fontFaces=u.fontFaces?u.fontFaces.map(gx):null;var h=new o(u);return u.worker?h:h.from(l).doCallback()}})(er.API),er.API.addJS=function(r){var e,t,n=(function(a){for(var i="",o=0;o<a.length;o++){var l=a[o];if(l==="("||l===")"){for(var u=0,h=o-1;h>=0&&a[h]==="\\";h--)u++;i+=u%2==0?"\\"+l:l}else i+=l}return i})(r);return this.internal.events.subscribe("postPutResources",function(){e=this.internal.newObject(),this.internal.out("<<"),this.internal.out("/Names [(EmbeddedJS) "+(e+1)+" 0 R]"),this.internal.out(">>"),this.internal.out("endobj"),t=this.internal.newObject(),this.internal.out("<<"),this.internal.out("/S /JavaScript"),this.internal.out("/JS ("+n+")"),this.internal.out(">>"),this.internal.out("endobj")}),this.internal.events.subscribe("putCatalog",function(){e!==void 0&&t!==void 0&&this.internal.out("/Names <</JavaScript "+e+" 0 R>>")}),this},(function(r){var e;r.events.push(["postPutResources",function(){var t=this,n=/^(\d+) 0 obj$/;if(this.outline.root.children.length>0)for(var a=t.outline.render().split(/\r\n/),i=0;i<a.length;i++){var o=a[i],l=n.exec(o);if(l!=null){var u=l[1];t.internal.newObjectDeferredBegin(u,!1)}t.internal.write(o)}if(this.outline.createNamedDestinations){var h=this.internal.pages.length,f=[];for(i=0;i<h;i++){var m=t.internal.newObject();f.push(m);var x=t.internal.getPageInfo(i+1);t.internal.write("<< /D["+x.objId+" 0 R /XYZ null null null]>> endobj")}var g=t.internal.newObject();for(t.internal.write("<< /Names [ "),i=0;i<f.length;i++)t.internal.write("(page_"+(i+1)+")"+f[i]+" 0 R");t.internal.write(" ] >>","endobj"),e=t.internal.newObject(),t.internal.write("<< /Dests "+g+" 0 R"),t.internal.write(">>","endobj")}}]),r.events.push(["putCatalog",function(){var t=this;t.outline.root.children.length>0&&(t.internal.write("/Outlines",this.outline.makeRef(this.outline.root)),this.outline.createNamedDestinations&&t.internal.write("/Names "+e+" 0 R"))}]),r.events.push(["initialized",function(){var t=this;t.outline={createNamedDestinations:!1,root:{children:[]}},t.outline.add=function(n,a,i){var o={title:a,options:i,children:[]};return n==null&&(n=this.root),n.children.push(o),o},t.outline.render=function(){return this.ctx={},this.ctx.val="",this.ctx.pdf=t,this.genIds_r(this.root),this.renderRoot(this.root),this.renderItems(this.root),this.ctx.val},t.outline.genIds_r=function(n){n.id=t.internal.newObjectDeferred();for(var a=0;a<n.children.length;a++)this.genIds_r(n.children[a])},t.outline.renderRoot=function(n){this.objStart(n),this.line("/Type /Outlines"),n.children.length>0&&(this.line("/First "+this.makeRef(n.children[0])),this.line("/Last "+this.makeRef(n.children[n.children.length-1]))),this.line("/Count "+this.count_r({count:0},n)),this.objEnd()},t.outline.renderItems=function(n){for(var a=this.ctx.pdf.internal.getVerticalCoordinateString,i=0;i<n.children.length;i++){var o=n.children[i];this.objStart(o),this.line("/Title "+this.makeString(o.title)),this.line("/Parent "+this.makeRef(n)),i>0&&this.line("/Prev "+this.makeRef(n.children[i-1])),i<n.children.length-1&&this.line("/Next "+this.makeRef(n.children[i+1])),o.children.length>0&&(this.line("/First "+this.makeRef(o.children[0])),this.line("/Last "+this.makeRef(o.children[o.children.length-1])));var l=this.count=this.count_r({count:0},o);if(l>0&&this.line("/Count "+l),o.options&&o.options.pageNumber){var u=t.internal.getPageInfo(o.options.pageNumber);this.line("/Dest ["+u.objId+" 0 R /XYZ 0 "+a(0)+" 0]")}this.objEnd()}for(var h=0;h<n.children.length;h++)this.renderItems(n.children[h])},t.outline.line=function(n){this.ctx.val+=n+`\r
`},t.outline.makeRef=function(n){return n.id+" 0 R"},t.outline.makeString=function(n){return"("+t.internal.pdfEscape(n)+")"},t.outline.objStart=function(n){this.ctx.val+=`\r
`+n.id+` 0 obj\r
<<\r
`},t.outline.objEnd=function(){this.ctx.val+=`>> \r
endobj\r
`},t.outline.count_r=function(n,a){for(var i=0;i<a.children.length;i++)n.count++,this.count_r(n,a.children[i]);return n.count}}])})(er.API),(function(r){var e=[192,193,194,195,196,197,198,199];r.processJPEG=function(t,n,a,i,o,l){var u,h=this.decode.DCT_DECODE,f=null;if(typeof t=="string"||this.__addimage__.isArrayBuffer(t)||this.__addimage__.isArrayBufferView(t)){switch(t=o||t,t=this.__addimage__.isArrayBuffer(t)?new Uint8Array(t):t,u=(function(m){for(var x,g=256*m.charCodeAt(4)+m.charCodeAt(5),y=m.length,v={width:0,height:0,numcomponents:1},S=4;S<y;S+=2){if(S+=g,e.indexOf(m.charCodeAt(S+1))!==-1){x=256*m.charCodeAt(S+5)+m.charCodeAt(S+6),v={width:256*m.charCodeAt(S+7)+m.charCodeAt(S+8),height:x,numcomponents:m.charCodeAt(S+9)};break}g=256*m.charCodeAt(S+2)+m.charCodeAt(S+3)}return v})(t=this.__addimage__.isArrayBufferView(t)?this.__addimage__.arrayBufferToBinaryString(t):t),u.numcomponents){case 1:l=this.color_spaces.DEVICE_GRAY;break;case 4:l=this.color_spaces.DEVICE_CMYK;break;case 3:l=this.color_spaces.DEVICE_RGB}f={data:t,width:u.width,height:u.height,colorSpace:l,bitsPerComponent:8,filter:h,index:n,alias:a}}return f}})(er.API),er.API.processPNG=function(r,e,t,n){if(this.__addimage__.isArrayBuffer(r)&&(r=new Uint8Array(r)),this.__addimage__.isArrayBufferView(r)){var a,i=oz(r,{checkCrc:!0}),o=i.width,l=i.height,u=i.channels,h=i.palette,f=i.depth;a=h&&u===1?(function(B){for(var D=B.width,Z=B.height,q=B.data,O=B.palette,V=B.depth,F=!1,re=[],ae=[],J=void 0,ge=!1,te=0,ke=0;ke<O.length;ke++){var Y=p4(O[ke],4),w=Y[0],L=Y[1],P=Y[2],U=Y[3];re.push(w,L,P),U!=null&&(U===0?(te++,ae.length<1&&ae.push(ke)):U<255&&(ge=!0))}if(ge||te>1){F=!0,ae=void 0;var ie=D*Z;J=new Uint8Array(ie);for(var fe=new DataView(q.buffer),xe=0;xe<ie;xe++){var ve=mx(fe,xe,V),ce=p4(O[ve],4)[3];J[xe]=ce}}else te===0&&(ae=void 0);return{colorSpace:"Indexed",colorsPerPixel:1,sMaskBitsPerComponent:F?8:void 0,colorBytes:q,alphaBytes:J,needSMask:F,palette:re,mask:ae}})(i):u===2||u===4?(function(B){for(var D=B.data,Z=B.width,q=B.height,O=B.channels,V=B.depth,F=O===2?"DeviceGray":"DeviceRGB",re=O-1,ae=Z*q,J=re,ge=ae*J,te=1*ae,ke=Math.ceil(ge*V/8),Y=Math.ceil(te*V/8),w=new Uint8Array(ke),L=new Uint8Array(Y),P=new DataView(D.buffer),U=new DataView(w.buffer),ie=new DataView(L.buffer),fe=!1,xe=0;xe<ae;xe++){for(var ve=xe*O,ce=0;ce<J;ce++)v3(U,mx(P,ve+ce,V),xe*J+ce,V);var De=mx(P,ve+J,V);De<(1<<V)-1&&(fe=!0),v3(ie,De,1*xe,V)}return{colorSpace:F,colorsPerPixel:re,sMaskBitsPerComponent:fe?V:void 0,colorBytes:w,alphaBytes:L,needSMask:fe}})(i):(function(B){var D=B.data,Z=B.channels===1?"DeviceGray":"DeviceRGB";return{colorSpace:Z,colorsPerPixel:Z==="DeviceGray"?1:3,colorBytes:D instanceof Uint16Array?(function(q){for(var O=q.length,V=new Uint8Array(2*O),F=new DataView(V.buffer,V.byteOffset,V.byteLength),re=0;re<O;re++)F.setUint16(2*re,q[re],!1);return V})(D):D,needSMask:!1}})(i);var m,x,g,y=a,v=y.colorSpace,S=y.colorsPerPixel,k=y.sMaskBitsPerComponent,A=y.colorBytes,N=y.alphaBytes,j=y.needSMask,W=y.palette,ee=y.mask,z=null;return n!==er.API.image_compression.NONE&&typeof lv=="function"?(z=(function(B){var D;switch(B){case er.API.image_compression.FAST:D=11;break;case er.API.image_compression.MEDIUM:D=13;break;case er.API.image_compression.SLOW:D=14;break;default:D=12}return D})(n),m=this.decode.FLATE_DECODE,x="/Predictor ".concat(z," /Colors ").concat(S," /BitsPerComponent ").concat(f," /Columns ").concat(o),r=d3(A,Math.ceil(o*S*f/8),S,f,n),j&&(g=d3(N,Math.ceil(o*k/8),1,k,n))):(m=void 0,x=void 0,r=A,j&&(g=N)),(this.__addimage__.isArrayBuffer(r)||this.__addimage__.isArrayBufferView(r))&&(r=this.__addimage__.arrayBufferToBinaryString(r)),(g&&this.__addimage__.isArrayBuffer(g)||this.__addimage__.isArrayBufferView(g))&&(g=this.__addimage__.arrayBufferToBinaryString(g)),{alias:t,data:r,index:e,filter:m,decodeParameters:x,transparency:ee,palette:W,sMask:g,predictor:z,width:o,height:l,bitsPerComponent:f,sMaskBitsPerComponent:k,colorSpace:v}}},(function(r){r.processGIF89A=function(e,t,n,a){var i=new Ez(e),o=i.width,l=i.height,u=[];i.decodeAndBlitFrameRGBA(0,u);var h={data:u,width:o,height:l},f=new xx(100).encode(h,100);return r.processJPEG.call(this,f,t,n,a)},r.processGIF87A=r.processGIF89A})(er.API),zo.prototype.parseHeader=function(){if(this.fileSize=this.datav.getUint32(this.pos,!0),this.pos+=4,this.reserved=this.datav.getUint32(this.pos,!0),this.pos+=4,this.offset=this.datav.getUint32(this.pos,!0),this.pos+=4,this.headerSize=this.datav.getUint32(this.pos,!0),this.pos+=4,this.width=this.datav.getUint32(this.pos,!0),this.pos+=4,this.height=this.datav.getInt32(this.pos,!0),this.pos+=4,this.planes=this.datav.getUint16(this.pos,!0),this.pos+=2,this.bitPP=this.datav.getUint16(this.pos,!0),this.pos+=2,this.compress=this.datav.getUint32(this.pos,!0),this.pos+=4,this.rawSize=this.datav.getUint32(this.pos,!0),this.pos+=4,this.hr=this.datav.getUint32(this.pos,!0),this.pos+=4,this.vr=this.datav.getUint32(this.pos,!0),this.pos+=4,this.colors=this.datav.getUint32(this.pos,!0),this.pos+=4,this.importantColors=this.datav.getUint32(this.pos,!0),this.pos+=4,this.bitPP===16&&this.is_with_alpha&&(this.bitPP=15),this.bitPP<15){var r=this.colors===0?1<<this.bitPP:this.colors;this.palette=new Array(r);for(var e=0;e<r;e++){var t=this.datav.getUint8(this.pos++,!0),n=this.datav.getUint8(this.pos++,!0),a=this.datav.getUint8(this.pos++,!0),i=this.datav.getUint8(this.pos++,!0);this.palette[e]={red:a,green:n,blue:t,quad:i}}}this.height<0&&(this.height*=-1,this.bottom_up=!1)},zo.prototype.parseBGR=function(){this.pos=this.offset;var r="bit"+this.bitPP,e=this.width*this.height*4;if(e>536870912)throw new Error("Image dimensions exceed 512MB, which is too large.");this.data=new Uint8Array(e);try{this[r]()}catch(t){mn.log("bit decode error:"+t)}},zo.prototype.bit1=function(){var r,e=Math.ceil(this.width/8),t=e%4;for(r=this.height-1;r>=0;r--){for(var n=this.bottom_up?r:this.height-1-r,a=0;a<e;a++)for(var i=this.datav.getUint8(this.pos++,!0),o=n*this.width*4+8*a*4,l=0;l<8&&8*a+l<this.width;l++){var u=this.palette[i>>7-l&1];this.data[o+4*l]=u.blue,this.data[o+4*l+1]=u.green,this.data[o+4*l+2]=u.red,this.data[o+4*l+3]=255}t!==0&&(this.pos+=4-t)}},zo.prototype.bit4=function(){for(var r=Math.ceil(this.width/2),e=r%4,t=this.height-1;t>=0;t--){for(var n=this.bottom_up?t:this.height-1-t,a=0;a<r;a++){var i=this.datav.getUint8(this.pos++,!0),o=n*this.width*4+2*a*4,l=i>>4,u=15&i,h=this.palette[l];if(this.data[o]=h.blue,this.data[o+1]=h.green,this.data[o+2]=h.red,this.data[o+3]=255,2*a+1>=this.width)break;h=this.palette[u],this.data[o+4]=h.blue,this.data[o+4+1]=h.green,this.data[o+4+2]=h.red,this.data[o+4+3]=255}e!==0&&(this.pos+=4-e)}},zo.prototype.bit8=function(){for(var r=this.width%4,e=this.height-1;e>=0;e--){for(var t=this.bottom_up?e:this.height-1-e,n=0;n<this.width;n++){var a=this.datav.getUint8(this.pos++,!0),i=t*this.width*4+4*n;if(a<this.palette.length){var o=this.palette[a];this.data[i]=o.red,this.data[i+1]=o.green,this.data[i+2]=o.blue,this.data[i+3]=255}else this.data[i]=255,this.data[i+1]=255,this.data[i+2]=255,this.data[i+3]=255}r!==0&&(this.pos+=4-r)}},zo.prototype.bit15=function(){for(var r=this.width%3,e=parseInt("11111",2),t=this.height-1;t>=0;t--){for(var n=this.bottom_up?t:this.height-1-t,a=0;a<this.width;a++){var i=this.datav.getUint16(this.pos,!0);this.pos+=2;var o=(i&e)/e*255|0,l=(i>>5&e)/e*255|0,u=(i>>10&e)/e*255|0,h=i>>15?255:0,f=n*this.width*4+4*a;this.data[f]=u,this.data[f+1]=l,this.data[f+2]=o,this.data[f+3]=h}this.pos+=r}},zo.prototype.bit16=function(){for(var r=this.width%3,e=parseInt("11111",2),t=parseInt("111111",2),n=this.height-1;n>=0;n--){for(var a=this.bottom_up?n:this.height-1-n,i=0;i<this.width;i++){var o=this.datav.getUint16(this.pos,!0);this.pos+=2;var l=(o&e)/e*255|0,u=(o>>5&t)/t*255|0,h=(o>>11)/e*255|0,f=a*this.width*4+4*i;this.data[f]=h,this.data[f+1]=u,this.data[f+2]=l,this.data[f+3]=255}this.pos+=r}},zo.prototype.bit24=function(){for(var r=this.height-1;r>=0;r--){for(var e=this.bottom_up?r:this.height-1-r,t=0;t<this.width;t++){var n=this.datav.getUint8(this.pos++,!0),a=this.datav.getUint8(this.pos++,!0),i=this.datav.getUint8(this.pos++,!0),o=e*this.width*4+4*t;this.data[o]=i,this.data[o+1]=a,this.data[o+2]=n,this.data[o+3]=255}this.pos+=this.width%4}},zo.prototype.bit32=function(){for(var r=this.height-1;r>=0;r--)for(var e=this.bottom_up?r:this.height-1-r,t=0;t<this.width;t++){var n=this.datav.getUint8(this.pos++,!0),a=this.datav.getUint8(this.pos++,!0),i=this.datav.getUint8(this.pos++,!0),o=this.datav.getUint8(this.pos++,!0),l=e*this.width*4+4*t;this.data[l]=i,this.data[l+1]=a,this.data[l+2]=n,this.data[l+3]=o}},zo.prototype.getData=function(){return this.data},(function(r){r.processBMP=function(e,t,n,a){var i=new zo(e,!1),o=i.width,l=i.height,u={data:i.getData(),width:o,height:l},h=new xx(100).encode(u,100);return r.processJPEG.call(this,h,t,n,a)}})(er.API),b3.prototype.getData=function(){return this.data},(function(r){r.processWEBP=function(e,t,n,a){var i=new b3(e),o=i.width,l=i.height,u={data:i.getData(),width:o,height:l},h=new xx(100).encode(u,100);return r.processJPEG.call(this,h,t,n,a)}})(er.API),er.API.processRGBA=function(r,e,t){for(var n=r.data,a=n.length,i=new Uint8Array(a/4*3),o=new Uint8Array(a/4),l=0,u=0,h=0;h<a;h+=4){var f=n[h],m=n[h+1],x=n[h+2],g=n[h+3];i[l++]=f,i[l++]=m,i[l++]=x,o[u++]=g}var y=this.__addimage__.arrayBufferToBinaryString(i);return{alpha:this.__addimage__.arrayBufferToBinaryString(o),data:y,index:e,alias:t,colorSpace:"DeviceRGB",bitsPerComponent:8,width:r.width,height:r.height}},er.API.setLanguage=function(r){return this.internal.languageSettings===void 0&&(this.internal.languageSettings={},this.internal.languageSettings.isSubscribed=!1),{af:"Afrikaans",sq:"Albanian",ar:"Arabic (Standard)","ar-DZ":"Arabic (Algeria)","ar-BH":"Arabic (Bahrain)","ar-EG":"Arabic (Egypt)","ar-IQ":"Arabic (Iraq)","ar-JO":"Arabic (Jordan)","ar-KW":"Arabic (Kuwait)","ar-LB":"Arabic (Lebanon)","ar-LY":"Arabic (Libya)","ar-MA":"Arabic (Morocco)","ar-OM":"Arabic (Oman)","ar-QA":"Arabic (Qatar)","ar-SA":"Arabic (Saudi Arabia)","ar-SY":"Arabic (Syria)","ar-TN":"Arabic (Tunisia)","ar-AE":"Arabic (U.A.E.)","ar-YE":"Arabic (Yemen)",an:"Aragonese",hy:"Armenian",as:"Assamese",ast:"Asturian",az:"Azerbaijani",eu:"Basque",be:"Belarusian",bn:"Bengali",bs:"Bosnian",br:"Breton",bg:"Bulgarian",my:"Burmese",ca:"Catalan",ch:"Chamorro",ce:"Chechen",zh:"Chinese","zh-HK":"Chinese (Hong Kong)","zh-CN":"Chinese (PRC)","zh-SG":"Chinese (Singapore)","zh-TW":"Chinese (Taiwan)",cv:"Chuvash",co:"Corsican",cr:"Cree",hr:"Croatian",cs:"Czech",da:"Danish",nl:"Dutch (Standard)","nl-BE":"Dutch (Belgian)",en:"English","en-AU":"English (Australia)","en-BZ":"English (Belize)","en-CA":"English (Canada)","en-IE":"English (Ireland)","en-JM":"English (Jamaica)","en-NZ":"English (New Zealand)","en-PH":"English (Philippines)","en-ZA":"English (South Africa)","en-TT":"English (Trinidad & Tobago)","en-GB":"English (United Kingdom)","en-US":"English (United States)","en-ZW":"English (Zimbabwe)",eo:"Esperanto",et:"Estonian",fo:"Faeroese",fj:"Fijian",fi:"Finnish",fr:"French (Standard)","fr-BE":"French (Belgium)","fr-CA":"French (Canada)","fr-FR":"French (France)","fr-LU":"French (Luxembourg)","fr-MC":"French (Monaco)","fr-CH":"French (Switzerland)",fy:"Frisian",fur:"Friulian",gd:"Gaelic (Scots)","gd-IE":"Gaelic (Irish)",gl:"Galacian",ka:"Georgian",de:"German (Standard)","de-AT":"German (Austria)","de-DE":"German (Germany)","de-LI":"German (Liechtenstein)","de-LU":"German (Luxembourg)","de-CH":"German (Switzerland)",el:"Greek",gu:"Gujurati",ht:"Haitian",he:"Hebrew",hi:"Hindi",hu:"Hungarian",is:"Icelandic",id:"Indonesian",iu:"Inuktitut",ga:"Irish",it:"Italian (Standard)","it-CH":"Italian (Switzerland)",ja:"Japanese",kn:"Kannada",ks:"Kashmiri",kk:"Kazakh",km:"Khmer",ky:"Kirghiz",tlh:"Klingon",ko:"Korean","ko-KP":"Korean (North Korea)","ko-KR":"Korean (South Korea)",la:"Latin",lv:"Latvian",lt:"Lithuanian",lb:"Luxembourgish",mk:"North Macedonia",ms:"Malay",ml:"Malayalam",mt:"Maltese",mi:"Maori",mr:"Marathi",mo:"Moldavian",nv:"Navajo",ng:"Ndonga",ne:"Nepali",no:"Norwegian",nb:"Norwegian (Bokmal)",nn:"Norwegian (Nynorsk)",oc:"Occitan",or:"Oriya",om:"Oromo",fa:"Persian","fa-IR":"Persian/Iran",pl:"Polish",pt:"Portuguese","pt-BR":"Portuguese (Brazil)",pa:"Punjabi","pa-IN":"Punjabi (India)","pa-PK":"Punjabi (Pakistan)",qu:"Quechua",rm:"Rhaeto-Romanic",ro:"Romanian","ro-MO":"Romanian (Moldavia)",ru:"Russian","ru-MO":"Russian (Moldavia)",sz:"Sami (Lappish)",sg:"Sango",sa:"Sanskrit",sc:"Sardinian",sd:"Sindhi",si:"Singhalese",sr:"Serbian",sk:"Slovak",sl:"Slovenian",so:"Somani",sb:"Sorbian",es:"Spanish","es-AR":"Spanish (Argentina)","es-BO":"Spanish (Bolivia)","es-CL":"Spanish (Chile)","es-CO":"Spanish (Colombia)","es-CR":"Spanish (Costa Rica)","es-DO":"Spanish (Dominican Republic)","es-EC":"Spanish (Ecuador)","es-SV":"Spanish (El Salvador)","es-GT":"Spanish (Guatemala)","es-HN":"Spanish (Honduras)","es-MX":"Spanish (Mexico)","es-NI":"Spanish (Nicaragua)","es-PA":"Spanish (Panama)","es-PY":"Spanish (Paraguay)","es-PE":"Spanish (Peru)","es-PR":"Spanish (Puerto Rico)","es-ES":"Spanish (Spain)","es-UY":"Spanish (Uruguay)","es-VE":"Spanish (Venezuela)",sx:"Sutu",sw:"Swahili",sv:"Swedish","sv-FI":"Swedish (Finland)","sv-SV":"Swedish (Sweden)",ta:"Tamil",tt:"Tatar",te:"Teluga",th:"Thai",tig:"Tigre",ts:"Tsonga",tn:"Tswana",tr:"Turkish",tk:"Turkmen",uk:"Ukrainian",hsb:"Upper Sorbian",ur:"Urdu",ve:"Venda",vi:"Vietnamese",vo:"Volapuk",wa:"Walloon",cy:"Welsh",xh:"Xhosa",ji:"Yiddish",zu:"Zulu"}[r]!==void 0&&(this.internal.languageSettings.languageCode=r,this.internal.languageSettings.isSubscribed===!1&&(this.internal.events.subscribe("putCatalog",function(){this.internal.write("/Lang ("+this.internal.languageSettings.languageCode+")")}),this.internal.languageSettings.isSubscribed=!0)),this},Df=er.API,Ug=Df.getCharWidthsArray=function(r,e){var t,n,a=(e=e||{}).font||this.internal.getFont(),i=e.fontSize||this.internal.getFontSize(),o=e.charSpace||this.internal.getCharSpace(),l=e.widths?e.widths:a.metadata.Unicode.widths,u=l.fof?l.fof:1,h=e.kerning?e.kerning:a.metadata.Unicode.kerning,f=h.fof?h.fof:1,m=e.doKerning!==!1,x=0,g=r.length,y=0,v=l[0]||u,S=[];for(t=0;t<g;t++)n=r.charCodeAt(t),typeof a.metadata.widthOfString=="function"?S.push((a.metadata.widthOfGlyph(a.metadata.characterToGlyph(n))+o*(1e3/i)||0)/1e3):(x=m&&an(h[n])==="object"&&!isNaN(parseInt(h[n][y],10))?h[n][y]/f:0,S.push((l[n]||v)/u+x)),y=n;return S},u3=Df.getStringUnitWidth=function(r,e){var t=(e=e||{}).fontSize||this.internal.getFontSize(),n=e.font||this.internal.getFont(),a=e.charSpace||this.internal.getCharSpace();return Df.processArabic&&(r=Df.processArabic(r)),typeof n.metadata.widthOfString=="function"?n.metadata.widthOfString(r,t,a)/t:Ug.apply(this,arguments).reduce(function(i,o){return i+o},0)},h3=function(r,e,t,n){for(var a=[],i=0,o=r.length,l=0;i!==o&&l+e[i]<t;)l+=e[i],i++;a.push(r.slice(0,i));var u=i;for(l=0;i!==o;)l+e[i]>n&&(a.push(r.slice(u,i)),l=0,u=i),l+=e[i],i++;return u!==i&&a.push(r.slice(u,i)),a},f3=function(r,e,t){t||(t={});var n,a,i,o,l,u,h,f=[],m=[f],x=t.textIndent||0,g=0,y=0,v=r.split(" "),S=Ug.apply(this,[" ",t])[0];if(u=t.lineIndent===-1?v[0].length+2:t.lineIndent||0){var k=Array(u).join(" "),A=[];v.map(function(j){(j=j.split(/\s*\n/)).length>1?A=A.concat(j.map(function(W,ee){return(ee&&W.length?`
`:"")+W})):A.push(j[0])}),v=A,u=u3.apply(this,[k,t])}for(i=0,o=v.length;i<o;i++){var N=0;if(n=v[i],u&&n[0]==`
`&&(n=n.substr(1),N=1),x+g+(y=(a=Ug.apply(this,[n,t])).reduce(function(j,W){return j+W},0))>e||N){if(y>e){for(l=h3.apply(this,[n,a,e-(x+g),e]),f.push(l.shift()),f=[l.pop()];l.length;)m.push([l.shift()]);y=a.slice(n.length-(f[0]?f[0].length:0)).reduce(function(j,W){return j+W},0)}else f=[n];m.push(f),x=y+u,g=S}else f.push(n),x+=g+y,g=S}return h=u?function(j,W){return(W?k:"")+j.join(" ")}:function(j){return j.join(" ")},m.map(h)},Df.splitTextToSize=function(r,e,t){var n,a=(t=t||{}).fontSize||this.internal.getFontSize(),i=(function(f){if(f.widths&&f.kerning)return{widths:f.widths,kerning:f.kerning};var m=this.internal.getFont(f.fontName,f.fontStyle),x="Unicode";return m.metadata[x]?{widths:m.metadata[x].widths||{0:1},kerning:m.metadata[x].kerning||{}}:{font:m.metadata,fontSize:this.internal.getFontSize(),charSpace:this.internal.getCharSpace()}}).call(this,t);n=Array.isArray(r)?r:String(r).split(/\r?\n/);var o=1*this.internal.scaleFactor*e/a;i.textIndent=t.textIndent?1*t.textIndent*this.internal.scaleFactor/a:0,i.lineIndent=t.lineIndent;var l,u,h=[];for(l=0,u=n.length;l<u;l++)h=h.concat(f3.apply(this,[n[l],o,i]));return h},(function(r){r.__fontmetrics__=r.__fontmetrics__||{};for(var e="0123456789abcdef",t="klmnopqrstuvwxyz",n={},a={},i=0;i<16;i++)n[t[i]]=e[i],a[e[i]]=t[i];var o=function(x){return"0x"+parseInt(x,10).toString(16)},l=r.__fontmetrics__.compress=function(x){var g,y,v,S,k=["{"];for(var A in x){if(g=x[A],isNaN(parseInt(A,10))?y="'"+A+"'":(A=parseInt(A,10),y=(y=o(A).slice(2)).slice(0,-1)+a[y.slice(-1)]),typeof g=="number")g<0?(v=o(g).slice(3),S="-"):(v=o(g).slice(2),S=""),v=S+v.slice(0,-1)+a[v.slice(-1)];else{if(an(g)!=="object")throw new Error("Don't know what to do with value type "+an(g)+".");v=l(g)}k.push(y+v)}return k.push("}"),k.join("")},u=r.__fontmetrics__.uncompress=function(x){if(typeof x!="string")throw new Error("Invalid argument passed to uncompress.");for(var g,y,v,S,k={},A=1,N=k,j=[],W="",ee="",z=x.length-1,B=1;B<z;B+=1)(S=x[B])=="'"?g?(v=g.join(""),g=void 0):g=[]:g?g.push(S):S=="{"?(j.push([N,v]),N={},v=void 0):S=="}"?((y=j.pop())[0][y[1]]=N,v=void 0,N=y[0]):S=="-"?A=-1:v===void 0?n.hasOwnProperty(S)?(W+=n[S],v=parseInt(W,16)*A,A=1,W=""):W+=S:n.hasOwnProperty(S)?(ee+=n[S],N[v]=parseInt(ee,16)*A,A=1,v=void 0,ee=""):ee+=S;return k},h={codePages:["WinAnsiEncoding"],WinAnsiEncoding:u("{19m8n201n9q201o9r201s9l201t9m201u8m201w9n201x9o201y8o202k8q202l8r202m9p202q8p20aw8k203k8t203t8v203u9v2cq8s212m9t15m8w15n9w2dw9s16k8u16l9u17s9z17x8y17y9y}")},f={Unicode:{Courier:h,"Courier-Bold":h,"Courier-BoldOblique":h,"Courier-Oblique":h,Helvetica:h,"Helvetica-Bold":h,"Helvetica-BoldOblique":h,"Helvetica-Oblique":h,"Times-Roman":h,"Times-Bold":h,"Times-BoldItalic":h,"Times-Italic":h}},m={Unicode:{"Courier-Oblique":u("{'widths'{k3w'fof'6o}'kerning'{'fof'-6o}}"),"Times-BoldItalic":u("{'widths'{k3o2q4ycx2r201n3m201o6o201s2l201t2l201u2l201w3m201x3m201y3m2k1t2l2r202m2n2n3m2o3m2p5n202q6o2r1w2s2l2t2l2u3m2v3t2w1t2x2l2y1t2z1w3k3m3l3m3m3m3n3m3o3m3p3m3q3m3r3m3s3m203t2l203u2l3v2l3w3t3x3t3y3t3z3m4k5n4l4m4m4m4n4m4o4s4p4m4q4m4r4s4s4y4t2r4u3m4v4m4w3x4x5t4y4s4z4s5k3x5l4s5m4m5n3r5o3x5p4s5q4m5r5t5s4m5t3x5u3x5v2l5w1w5x2l5y3t5z3m6k2l6l3m6m3m6n2w6o3m6p2w6q2l6r3m6s3r6t1w6u1w6v3m6w1w6x4y6y3r6z3m7k3m7l3m7m2r7n2r7o1w7p3r7q2w7r4m7s3m7t2w7u2r7v2n7w1q7x2n7y3t202l3mcl4mal2ram3man3mao3map3mar3mas2lat4uau1uav3maw3way4uaz2lbk2sbl3t'fof'6obo2lbp3tbq3mbr1tbs2lbu1ybv3mbz3mck4m202k3mcm4mcn4mco4mcp4mcq5ycr4mcs4mct4mcu4mcv4mcw2r2m3rcy2rcz2rdl4sdm4sdn4sdo4sdp4sdq4sds4sdt4sdu4sdv4sdw4sdz3mek3mel3mem3men3meo3mep3meq4ser2wes2wet2weu2wev2wew1wex1wey1wez1wfl3rfm3mfn3mfo3mfp3mfq3mfr3tfs3mft3rfu3rfv3rfw3rfz2w203k6o212m6o2dw2l2cq2l3t3m3u2l17s3x19m3m}'kerning'{cl{4qu5kt5qt5rs17ss5ts}201s{201ss}201t{cks4lscmscnscoscpscls2wu2yu201ts}201x{2wu2yu}2k{201ts}2w{4qx5kx5ou5qx5rs17su5tu}2x{17su5tu5ou}2y{4qx5kx5ou5qx5rs17ss5ts}'fof'-6ofn{17sw5tw5ou5qw5rs}7t{cksclscmscnscoscps4ls}3u{17su5tu5os5qs}3v{17su5tu5os5qs}7p{17su5tu}ck{4qu5kt5qt5rs17ss5ts}4l{4qu5kt5qt5rs17ss5ts}cm{4qu5kt5qt5rs17ss5ts}cn{4qu5kt5qt5rs17ss5ts}co{4qu5kt5qt5rs17ss5ts}cp{4qu5kt5qt5rs17ss5ts}6l{4qu5ou5qw5rt17su5tu}5q{ckuclucmucnucoucpu4lu}5r{ckuclucmucnucoucpu4lu}7q{cksclscmscnscoscps4ls}6p{4qu5ou5qw5rt17sw5tw}ek{4qu5ou5qw5rt17su5tu}el{4qu5ou5qw5rt17su5tu}em{4qu5ou5qw5rt17su5tu}en{4qu5ou5qw5rt17su5tu}eo{4qu5ou5qw5rt17su5tu}ep{4qu5ou5qw5rt17su5tu}es{17ss5ts5qs4qu}et{4qu5ou5qw5rt17sw5tw}eu{4qu5ou5qw5rt17ss5ts}ev{17ss5ts5qs4qu}6z{17sw5tw5ou5qw5rs}fm{17sw5tw5ou5qw5rs}7n{201ts}fo{17sw5tw5ou5qw5rs}fp{17sw5tw5ou5qw5rs}fq{17sw5tw5ou5qw5rs}7r{cksclscmscnscoscps4ls}fs{17sw5tw5ou5qw5rs}ft{17su5tu}fu{17su5tu}fv{17su5tu}fw{17su5tu}fz{cksclscmscnscoscps4ls}}}"),"Helvetica-Bold":u("{'widths'{k3s2q4scx1w201n3r201o6o201s1w201t1w201u1w201w3m201x3m201y3m2k1w2l2l202m2n2n3r2o3r2p5t202q6o2r1s2s2l2t2l2u2r2v3u2w1w2x2l2y1w2z1w3k3r3l3r3m3r3n3r3o3r3p3r3q3r3r3r3s3r203t2l203u2l3v2l3w3u3x3u3y3u3z3x4k6l4l4s4m4s4n4s4o4s4p4m4q3x4r4y4s4s4t1w4u3r4v4s4w3x4x5n4y4s4z4y5k4m5l4y5m4s5n4m5o3x5p4s5q4m5r5y5s4m5t4m5u3x5v2l5w1w5x2l5y3u5z3r6k2l6l3r6m3x6n3r6o3x6p3r6q2l6r3x6s3x6t1w6u1w6v3r6w1w6x5t6y3x6z3x7k3x7l3x7m2r7n3r7o2l7p3x7q3r7r4y7s3r7t3r7u3m7v2r7w1w7x2r7y3u202l3rcl4sal2lam3ran3rao3rap3rar3ras2lat4tau2pav3raw3uay4taz2lbk2sbl3u'fof'6obo2lbp3xbq3rbr1wbs2lbu2obv3rbz3xck4s202k3rcm4scn4sco4scp4scq6ocr4scs4mct4mcu4mcv4mcw1w2m2zcy1wcz1wdl4sdm4ydn4ydo4ydp4ydq4yds4ydt4sdu4sdv4sdw4sdz3xek3rel3rem3ren3reo3rep3req5ter3res3ret3reu3rev3rew1wex1wey1wez1wfl3xfm3xfn3xfo3xfp3xfq3xfr3ufs3xft3xfu3xfv3xfw3xfz3r203k6o212m6o2dw2l2cq2l3t3r3u2l17s4m19m3r}'kerning'{cl{4qs5ku5ot5qs17sv5tv}201t{2ww4wy2yw}201w{2ks}201x{2ww4wy2yw}2k{201ts201xs}2w{7qs4qu5kw5os5qw5rs17su5tu7tsfzs}2x{5ow5qs}2y{7qs4qu5kw5os5qw5rs17su5tu7tsfzs}'fof'-6o7p{17su5tu5ot}ck{4qs5ku5ot5qs17sv5tv}4l{4qs5ku5ot5qs17sv5tv}cm{4qs5ku5ot5qs17sv5tv}cn{4qs5ku5ot5qs17sv5tv}co{4qs5ku5ot5qs17sv5tv}cp{4qs5ku5ot5qs17sv5tv}6l{17st5tt5os}17s{2kwclvcmvcnvcovcpv4lv4wwckv}5o{2kucltcmtcntcotcpt4lt4wtckt}5q{2ksclscmscnscoscps4ls4wvcks}5r{2ks4ws}5t{2kwclvcmvcnvcovcpv4lv4wwckv}eo{17st5tt5os}fu{17su5tu5ot}6p{17ss5ts}ek{17st5tt5os}el{17st5tt5os}em{17st5tt5os}en{17st5tt5os}6o{201ts}ep{17st5tt5os}es{17ss5ts}et{17ss5ts}eu{17ss5ts}ev{17ss5ts}6z{17su5tu5os5qt}fm{17su5tu5os5qt}fn{17su5tu5os5qt}fo{17su5tu5os5qt}fp{17su5tu5os5qt}fq{17su5tu5os5qt}fs{17su5tu5os5qt}ft{17su5tu5ot}7m{5os}fv{17su5tu5ot}fw{17su5tu5ot}}}"),Courier:u("{'widths'{k3w'fof'6o}'kerning'{'fof'-6o}}"),"Courier-BoldOblique":u("{'widths'{k3w'fof'6o}'kerning'{'fof'-6o}}"),"Times-Bold":u("{'widths'{k3q2q5ncx2r201n3m201o6o201s2l201t2l201u2l201w3m201x3m201y3m2k1t2l2l202m2n2n3m2o3m2p6o202q6o2r1w2s2l2t2l2u3m2v3t2w1t2x2l2y1t2z1w3k3m3l3m3m3m3n3m3o3m3p3m3q3m3r3m3s3m203t2l203u2l3v2l3w3t3x3t3y3t3z3m4k5x4l4s4m4m4n4s4o4s4p4m4q3x4r4y4s4y4t2r4u3m4v4y4w4m4x5y4y4s4z4y5k3x5l4y5m4s5n3r5o4m5p4s5q4s5r6o5s4s5t4s5u4m5v2l5w1w5x2l5y3u5z3m6k2l6l3m6m3r6n2w6o3r6p2w6q2l6r3m6s3r6t1w6u2l6v3r6w1w6x5n6y3r6z3m7k3r7l3r7m2w7n2r7o2l7p3r7q3m7r4s7s3m7t3m7u2w7v2r7w1q7x2r7y3o202l3mcl4sal2lam3man3mao3map3mar3mas2lat4uau1yav3maw3tay4uaz2lbk2sbl3t'fof'6obo2lbp3rbr1tbs2lbu2lbv3mbz3mck4s202k3mcm4scn4sco4scp4scq6ocr4scs4mct4mcu4mcv4mcw2r2m3rcy2rcz2rdl4sdm4ydn4ydo4ydp4ydq4yds4ydt4sdu4sdv4sdw4sdz3rek3mel3mem3men3meo3mep3meq4ser2wes2wet2weu2wev2wew1wex1wey1wez1wfl3rfm3mfn3mfo3mfp3mfq3mfr3tfs3mft3rfu3rfv3rfw3rfz3m203k6o212m6o2dw2l2cq2l3t3m3u2l17s4s19m3m}'kerning'{cl{4qt5ks5ot5qy5rw17sv5tv}201t{cks4lscmscnscoscpscls4wv}2k{201ts}2w{4qu5ku7mu5os5qx5ru17su5tu}2x{17su5tu5ou5qs}2y{4qv5kv7mu5ot5qz5ru17su5tu}'fof'-6o7t{cksclscmscnscoscps4ls}3u{17su5tu5os5qu}3v{17su5tu5os5qu}fu{17su5tu5ou5qu}7p{17su5tu5ou5qu}ck{4qt5ks5ot5qy5rw17sv5tv}4l{4qt5ks5ot5qy5rw17sv5tv}cm{4qt5ks5ot5qy5rw17sv5tv}cn{4qt5ks5ot5qy5rw17sv5tv}co{4qt5ks5ot5qy5rw17sv5tv}cp{4qt5ks5ot5qy5rw17sv5tv}6l{17st5tt5ou5qu}17s{ckuclucmucnucoucpu4lu4wu}5o{ckuclucmucnucoucpu4lu4wu}5q{ckzclzcmzcnzcozcpz4lz4wu}5r{ckxclxcmxcnxcoxcpx4lx4wu}5t{ckuclucmucnucoucpu4lu4wu}7q{ckuclucmucnucoucpu4lu}6p{17sw5tw5ou5qu}ek{17st5tt5qu}el{17st5tt5ou5qu}em{17st5tt5qu}en{17st5tt5qu}eo{17st5tt5qu}ep{17st5tt5ou5qu}es{17ss5ts5qu}et{17sw5tw5ou5qu}eu{17sw5tw5ou5qu}ev{17ss5ts5qu}6z{17sw5tw5ou5qu5rs}fm{17sw5tw5ou5qu5rs}fn{17sw5tw5ou5qu5rs}fo{17sw5tw5ou5qu5rs}fp{17sw5tw5ou5qu5rs}fq{17sw5tw5ou5qu5rs}7r{cktcltcmtcntcotcpt4lt5os}fs{17sw5tw5ou5qu5rs}ft{17su5tu5ou5qu}7m{5os}fv{17su5tu5ou5qu}fw{17su5tu5ou5qu}fz{cksclscmscnscoscps4ls}}}"),Symbol:u("{'widths'{k3uaw4r19m3m2k1t2l2l202m2y2n3m2p5n202q6o3k3m2s2l2t2l2v3r2w1t3m3m2y1t2z1wbk2sbl3r'fof'6o3n3m3o3m3p3m3q3m3r3m3s3m3t3m3u1w3v1w3w3r3x3r3y3r3z2wbp3t3l3m5v2l5x2l5z3m2q4yfr3r7v3k7w1o7x3k}'kerning'{'fof'-6o}}"),Helvetica:u("{'widths'{k3p2q4mcx1w201n3r201o6o201s1q201t1q201u1q201w2l201x2l201y2l2k1w2l1w202m2n2n3r2o3r2p5t202q6o2r1n2s2l2t2l2u2r2v3u2w1w2x2l2y1w2z1w3k3r3l3r3m3r3n3r3o3r3p3r3q3r3r3r3s3r203t2l203u2l3v1w3w3u3x3u3y3u3z3r4k6p4l4m4m4m4n4s4o4s4p4m4q3x4r4y4s4s4t1w4u3m4v4m4w3r4x5n4y4s4z4y5k4m5l4y5m4s5n4m5o3x5p4s5q4m5r5y5s4m5t4m5u3x5v1w5w1w5x1w5y2z5z3r6k2l6l3r6m3r6n3m6o3r6p3r6q1w6r3r6s3r6t1q6u1q6v3m6w1q6x5n6y3r6z3r7k3r7l3r7m2l7n3m7o1w7p3r7q3m7r4s7s3m7t3m7u3m7v2l7w1u7x2l7y3u202l3rcl4mal2lam3ran3rao3rap3rar3ras2lat4tau2pav3raw3uay4taz2lbk2sbl3u'fof'6obo2lbp3rbr1wbs2lbu2obv3rbz3xck4m202k3rcm4mcn4mco4mcp4mcq6ocr4scs4mct4mcu4mcv4mcw1w2m2ncy1wcz1wdl4sdm4ydn4ydo4ydp4ydq4yds4ydt4sdu4sdv4sdw4sdz3xek3rel3rem3ren3reo3rep3req5ter3mes3ret3reu3rev3rew1wex1wey1wez1wfl3rfm3rfn3rfo3rfp3rfq3rfr3ufs3xft3rfu3rfv3rfw3rfz3m203k6o212m6o2dw2l2cq2l3t3r3u1w17s4m19m3r}'kerning'{5q{4wv}cl{4qs5kw5ow5qs17sv5tv}201t{2wu4w1k2yu}201x{2wu4wy2yu}17s{2ktclucmucnu4otcpu4lu4wycoucku}2w{7qs4qz5k1m17sy5ow5qx5rsfsu5ty7tufzu}2x{17sy5ty5oy5qs}2y{7qs4qz5k1m17sy5ow5qx5rsfsu5ty7tufzu}'fof'-6o7p{17sv5tv5ow}ck{4qs5kw5ow5qs17sv5tv}4l{4qs5kw5ow5qs17sv5tv}cm{4qs5kw5ow5qs17sv5tv}cn{4qs5kw5ow5qs17sv5tv}co{4qs5kw5ow5qs17sv5tv}cp{4qs5kw5ow5qs17sv5tv}6l{17sy5ty5ow}do{17st5tt}4z{17st5tt}7s{fst}dm{17st5tt}dn{17st5tt}5o{ckwclwcmwcnwcowcpw4lw4wv}dp{17st5tt}dq{17st5tt}7t{5ow}ds{17st5tt}5t{2ktclucmucnu4otcpu4lu4wycoucku}fu{17sv5tv5ow}6p{17sy5ty5ow5qs}ek{17sy5ty5ow}el{17sy5ty5ow}em{17sy5ty5ow}en{5ty}eo{17sy5ty5ow}ep{17sy5ty5ow}es{17sy5ty5qs}et{17sy5ty5ow5qs}eu{17sy5ty5ow5qs}ev{17sy5ty5ow5qs}6z{17sy5ty5ow5qs}fm{17sy5ty5ow5qs}fn{17sy5ty5ow5qs}fo{17sy5ty5ow5qs}fp{17sy5ty5qs}fq{17sy5ty5ow5qs}7r{5ow}fs{17sy5ty5ow5qs}ft{17sv5tv5ow}7m{5ow}fv{17sv5tv5ow}fw{17sv5tv5ow}}}"),"Helvetica-BoldOblique":u("{'widths'{k3s2q4scx1w201n3r201o6o201s1w201t1w201u1w201w3m201x3m201y3m2k1w2l2l202m2n2n3r2o3r2p5t202q6o2r1s2s2l2t2l2u2r2v3u2w1w2x2l2y1w2z1w3k3r3l3r3m3r3n3r3o3r3p3r3q3r3r3r3s3r203t2l203u2l3v2l3w3u3x3u3y3u3z3x4k6l4l4s4m4s4n4s4o4s4p4m4q3x4r4y4s4s4t1w4u3r4v4s4w3x4x5n4y4s4z4y5k4m5l4y5m4s5n4m5o3x5p4s5q4m5r5y5s4m5t4m5u3x5v2l5w1w5x2l5y3u5z3r6k2l6l3r6m3x6n3r6o3x6p3r6q2l6r3x6s3x6t1w6u1w6v3r6w1w6x5t6y3x6z3x7k3x7l3x7m2r7n3r7o2l7p3x7q3r7r4y7s3r7t3r7u3m7v2r7w1w7x2r7y3u202l3rcl4sal2lam3ran3rao3rap3rar3ras2lat4tau2pav3raw3uay4taz2lbk2sbl3u'fof'6obo2lbp3xbq3rbr1wbs2lbu2obv3rbz3xck4s202k3rcm4scn4sco4scp4scq6ocr4scs4mct4mcu4mcv4mcw1w2m2zcy1wcz1wdl4sdm4ydn4ydo4ydp4ydq4yds4ydt4sdu4sdv4sdw4sdz3xek3rel3rem3ren3reo3rep3req5ter3res3ret3reu3rev3rew1wex1wey1wez1wfl3xfm3xfn3xfo3xfp3xfq3xfr3ufs3xft3xfu3xfv3xfw3xfz3r203k6o212m6o2dw2l2cq2l3t3r3u2l17s4m19m3r}'kerning'{cl{4qs5ku5ot5qs17sv5tv}201t{2ww4wy2yw}201w{2ks}201x{2ww4wy2yw}2k{201ts201xs}2w{7qs4qu5kw5os5qw5rs17su5tu7tsfzs}2x{5ow5qs}2y{7qs4qu5kw5os5qw5rs17su5tu7tsfzs}'fof'-6o7p{17su5tu5ot}ck{4qs5ku5ot5qs17sv5tv}4l{4qs5ku5ot5qs17sv5tv}cm{4qs5ku5ot5qs17sv5tv}cn{4qs5ku5ot5qs17sv5tv}co{4qs5ku5ot5qs17sv5tv}cp{4qs5ku5ot5qs17sv5tv}6l{17st5tt5os}17s{2kwclvcmvcnvcovcpv4lv4wwckv}5o{2kucltcmtcntcotcpt4lt4wtckt}5q{2ksclscmscnscoscps4ls4wvcks}5r{2ks4ws}5t{2kwclvcmvcnvcovcpv4lv4wwckv}eo{17st5tt5os}fu{17su5tu5ot}6p{17ss5ts}ek{17st5tt5os}el{17st5tt5os}em{17st5tt5os}en{17st5tt5os}6o{201ts}ep{17st5tt5os}es{17ss5ts}et{17ss5ts}eu{17ss5ts}ev{17ss5ts}6z{17su5tu5os5qt}fm{17su5tu5os5qt}fn{17su5tu5os5qt}fo{17su5tu5os5qt}fp{17su5tu5os5qt}fq{17su5tu5os5qt}fs{17su5tu5os5qt}ft{17su5tu5ot}7m{5os}fv{17su5tu5ot}fw{17su5tu5ot}}}"),ZapfDingbats:u("{'widths'{k4u2k1w'fof'6o}'kerning'{'fof'-6o}}"),"Courier-Bold":u("{'widths'{k3w'fof'6o}'kerning'{'fof'-6o}}"),"Times-Italic":u("{'widths'{k3n2q4ycx2l201n3m201o5t201s2l201t2l201u2l201w3r201x3r201y3r2k1t2l2l202m2n2n3m2o3m2p5n202q5t2r1p2s2l2t2l2u3m2v4n2w1t2x2l2y1t2z1w3k3m3l3m3m3m3n3m3o3m3p3m3q3m3r3m3s3m203t2l203u2l3v2l3w4n3x4n3y4n3z3m4k5w4l3x4m3x4n4m4o4s4p3x4q3x4r4s4s4s4t2l4u2w4v4m4w3r4x5n4y4m4z4s5k3x5l4s5m3x5n3m5o3r5p4s5q3x5r5n5s3x5t3r5u3r5v2r5w1w5x2r5y2u5z3m6k2l6l3m6m3m6n2w6o3m6p2w6q1w6r3m6s3m6t1w6u1w6v2w6w1w6x4s6y3m6z3m7k3m7l3m7m2r7n2r7o1w7p3m7q2w7r4m7s2w7t2w7u2r7v2s7w1v7x2s7y3q202l3mcl3xal2ram3man3mao3map3mar3mas2lat4wau1vav3maw4nay4waz2lbk2sbl4n'fof'6obo2lbp3mbq3obr1tbs2lbu1zbv3mbz3mck3x202k3mcm3xcn3xco3xcp3xcq5tcr4mcs3xct3xcu3xcv3xcw2l2m2ucy2lcz2ldl4mdm4sdn4sdo4sdp4sdq4sds4sdt4sdu4sdv4sdw4sdz3mek3mel3mem3men3meo3mep3meq4mer2wes2wet2weu2wev2wew1wex1wey1wez1wfl3mfm3mfn3mfo3mfp3mfq3mfr4nfs3mft3mfu3mfv3mfw3mfz2w203k6o212m6m2dw2l2cq2l3t3m3u2l17s3r19m3m}'kerning'{cl{5kt4qw}201s{201sw}201t{201tw2wy2yy6q-t}201x{2wy2yy}2k{201tw}2w{7qs4qy7rs5ky7mw5os5qx5ru17su5tu}2x{17ss5ts5os}2y{7qs4qy7rs5ky7mw5os5qx5ru17su5tu}'fof'-6o6t{17ss5ts5qs}7t{5os}3v{5qs}7p{17su5tu5qs}ck{5kt4qw}4l{5kt4qw}cm{5kt4qw}cn{5kt4qw}co{5kt4qw}cp{5kt4qw}6l{4qs5ks5ou5qw5ru17su5tu}17s{2ks}5q{ckvclvcmvcnvcovcpv4lv}5r{ckuclucmucnucoucpu4lu}5t{2ks}6p{4qs5ks5ou5qw5ru17su5tu}ek{4qs5ks5ou5qw5ru17su5tu}el{4qs5ks5ou5qw5ru17su5tu}em{4qs5ks5ou5qw5ru17su5tu}en{4qs5ks5ou5qw5ru17su5tu}eo{4qs5ks5ou5qw5ru17su5tu}ep{4qs5ks5ou5qw5ru17su5tu}es{5ks5qs4qs}et{4qs5ks5ou5qw5ru17su5tu}eu{4qs5ks5qw5ru17su5tu}ev{5ks5qs4qs}ex{17ss5ts5qs}6z{4qv5ks5ou5qw5ru17su5tu}fm{4qv5ks5ou5qw5ru17su5tu}fn{4qv5ks5ou5qw5ru17su5tu}fo{4qv5ks5ou5qw5ru17su5tu}fp{4qv5ks5ou5qw5ru17su5tu}fq{4qv5ks5ou5qw5ru17su5tu}7r{5os}fs{4qv5ks5ou5qw5ru17su5tu}ft{17su5tu5qs}fu{17su5tu5qs}fv{17su5tu5qs}fw{17su5tu5qs}}}"),"Times-Roman":u("{'widths'{k3n2q4ycx2l201n3m201o6o201s2l201t2l201u2l201w2w201x2w201y2w2k1t2l2l202m2n2n3m2o3m2p5n202q6o2r1m2s2l2t2l2u3m2v3s2w1t2x2l2y1t2z1w3k3m3l3m3m3m3n3m3o3m3p3m3q3m3r3m3s3m203t2l203u2l3v1w3w3s3x3s3y3s3z2w4k5w4l4s4m4m4n4m4o4s4p3x4q3r4r4s4s4s4t2l4u2r4v4s4w3x4x5t4y4s4z4s5k3r5l4s5m4m5n3r5o3x5p4s5q4s5r5y5s4s5t4s5u3x5v2l5w1w5x2l5y2z5z3m6k2l6l2w6m3m6n2w6o3m6p2w6q2l6r3m6s3m6t1w6u1w6v3m6w1w6x4y6y3m6z3m7k3m7l3m7m2l7n2r7o1w7p3m7q3m7r4s7s3m7t3m7u2w7v3k7w1o7x3k7y3q202l3mcl4sal2lam3man3mao3map3mar3mas2lat4wau1vav3maw3say4waz2lbk2sbl3s'fof'6obo2lbp3mbq2xbr1tbs2lbu1zbv3mbz2wck4s202k3mcm4scn4sco4scp4scq5tcr4mcs3xct3xcu3xcv3xcw2l2m2tcy2lcz2ldl4sdm4sdn4sdo4sdp4sdq4sds4sdt4sdu4sdv4sdw4sdz3mek2wel2wem2wen2weo2wep2weq4mer2wes2wet2weu2wev2wew1wex1wey1wez1wfl3mfm3mfn3mfo3mfp3mfq3mfr3sfs3mft3mfu3mfv3mfw3mfz3m203k6o212m6m2dw2l2cq2l3t3m3u1w17s4s19m3m}'kerning'{cl{4qs5ku17sw5ou5qy5rw201ss5tw201ws}201s{201ss}201t{ckw4lwcmwcnwcowcpwclw4wu201ts}2k{201ts}2w{4qs5kw5os5qx5ru17sx5tx}2x{17sw5tw5ou5qu}2y{4qs5kw5os5qx5ru17sx5tx}'fof'-6o7t{ckuclucmucnucoucpu4lu5os5rs}3u{17su5tu5qs}3v{17su5tu5qs}7p{17sw5tw5qs}ck{4qs5ku17sw5ou5qy5rw201ss5tw201ws}4l{4qs5ku17sw5ou5qy5rw201ss5tw201ws}cm{4qs5ku17sw5ou5qy5rw201ss5tw201ws}cn{4qs5ku17sw5ou5qy5rw201ss5tw201ws}co{4qs5ku17sw5ou5qy5rw201ss5tw201ws}cp{4qs5ku17sw5ou5qy5rw201ss5tw201ws}6l{17su5tu5os5qw5rs}17s{2ktclvcmvcnvcovcpv4lv4wuckv}5o{ckwclwcmwcnwcowcpw4lw4wu}5q{ckyclycmycnycoycpy4ly4wu5ms}5r{cktcltcmtcntcotcpt4lt4ws}5t{2ktclvcmvcnvcovcpv4lv4wuckv}7q{cksclscmscnscoscps4ls}6p{17su5tu5qw5rs}ek{5qs5rs}el{17su5tu5os5qw5rs}em{17su5tu5os5qs5rs}en{17su5qs5rs}eo{5qs5rs}ep{17su5tu5os5qw5rs}es{5qs}et{17su5tu5qw5rs}eu{17su5tu5qs5rs}ev{5qs}6z{17sv5tv5os5qx5rs}fm{5os5qt5rs}fn{17sv5tv5os5qx5rs}fo{17sv5tv5os5qx5rs}fp{5os5qt5rs}fq{5os5qt5rs}7r{ckuclucmucnucoucpu4lu5os}fs{17sv5tv5os5qx5rs}ft{17ss5ts5qs}fu{17sw5tw5qs}fv{17sw5tw5qs}fw{17ss5ts5qs}fz{ckuclucmucnucoucpu4lu5os5rs}}}"),"Helvetica-Oblique":u("{'widths'{k3p2q4mcx1w201n3r201o6o201s1q201t1q201u1q201w2l201x2l201y2l2k1w2l1w202m2n2n3r2o3r2p5t202q6o2r1n2s2l2t2l2u2r2v3u2w1w2x2l2y1w2z1w3k3r3l3r3m3r3n3r3o3r3p3r3q3r3r3r3s3r203t2l203u2l3v1w3w3u3x3u3y3u3z3r4k6p4l4m4m4m4n4s4o4s4p4m4q3x4r4y4s4s4t1w4u3m4v4m4w3r4x5n4y4s4z4y5k4m5l4y5m4s5n4m5o3x5p4s5q4m5r5y5s4m5t4m5u3x5v1w5w1w5x1w5y2z5z3r6k2l6l3r6m3r6n3m6o3r6p3r6q1w6r3r6s3r6t1q6u1q6v3m6w1q6x5n6y3r6z3r7k3r7l3r7m2l7n3m7o1w7p3r7q3m7r4s7s3m7t3m7u3m7v2l7w1u7x2l7y3u202l3rcl4mal2lam3ran3rao3rap3rar3ras2lat4tau2pav3raw3uay4taz2lbk2sbl3u'fof'6obo2lbp3rbr1wbs2lbu2obv3rbz3xck4m202k3rcm4mcn4mco4mcp4mcq6ocr4scs4mct4mcu4mcv4mcw1w2m2ncy1wcz1wdl4sdm4ydn4ydo4ydp4ydq4yds4ydt4sdu4sdv4sdw4sdz3xek3rel3rem3ren3reo3rep3req5ter3mes3ret3reu3rev3rew1wex1wey1wez1wfl3rfm3rfn3rfo3rfp3rfq3rfr3ufs3xft3rfu3rfv3rfw3rfz3m203k6o212m6o2dw2l2cq2l3t3r3u1w17s4m19m3r}'kerning'{5q{4wv}cl{4qs5kw5ow5qs17sv5tv}201t{2wu4w1k2yu}201x{2wu4wy2yu}17s{2ktclucmucnu4otcpu4lu4wycoucku}2w{7qs4qz5k1m17sy5ow5qx5rsfsu5ty7tufzu}2x{17sy5ty5oy5qs}2y{7qs4qz5k1m17sy5ow5qx5rsfsu5ty7tufzu}'fof'-6o7p{17sv5tv5ow}ck{4qs5kw5ow5qs17sv5tv}4l{4qs5kw5ow5qs17sv5tv}cm{4qs5kw5ow5qs17sv5tv}cn{4qs5kw5ow5qs17sv5tv}co{4qs5kw5ow5qs17sv5tv}cp{4qs5kw5ow5qs17sv5tv}6l{17sy5ty5ow}do{17st5tt}4z{17st5tt}7s{fst}dm{17st5tt}dn{17st5tt}5o{ckwclwcmwcnwcowcpw4lw4wv}dp{17st5tt}dq{17st5tt}7t{5ow}ds{17st5tt}5t{2ktclucmucnu4otcpu4lu4wycoucku}fu{17sv5tv5ow}6p{17sy5ty5ow5qs}ek{17sy5ty5ow}el{17sy5ty5ow}em{17sy5ty5ow}en{5ty}eo{17sy5ty5ow}ep{17sy5ty5ow}es{17sy5ty5qs}et{17sy5ty5ow5qs}eu{17sy5ty5ow5qs}ev{17sy5ty5ow5qs}6z{17sy5ty5ow5qs}fm{17sy5ty5ow5qs}fn{17sy5ty5ow5qs}fo{17sy5ty5ow5qs}fp{17sy5ty5qs}fq{17sy5ty5ow5qs}7r{5ow}fs{17sy5ty5ow5qs}ft{17sv5tv5ow}7m{5ow}fv{17sv5tv5ow}fw{17sv5tv5ow}}}")}};r.events.push(["addFont",function(x){var g=x.font,y=m.Unicode[g.postScriptName];y&&(g.metadata.Unicode={},g.metadata.Unicode.widths=y.widths,g.metadata.Unicode.kerning=y.kerning);var v=f.Unicode[g.postScriptName];v&&(g.metadata.Unicode.encoding=v,g.encoding=v.codePages[0])}])})(er.API),(function(r){var e=function(t){for(var n=t.length,a=new Uint8Array(n),i=0;i<n;i++)a[i]=t.charCodeAt(i);return a};r.API.events.push(["addFont",function(t){var n=void 0,a=t.font,i=t.instance;if(!a.isStandardFont){if(i===void 0)throw new Error("Font does not exist in vFS, import fonts or remove declaration doc.addFont('"+a.postScriptName+"').");if(typeof(n=i.existsFileInVFS(a.postScriptName)===!1?i.loadFile(a.postScriptName):i.getFileFromVFS(a.postScriptName))!="string")throw new Error("Font is not stored as string-data in vFS, import fonts or remove declaration doc.addFont('"+a.postScriptName+"').");(function(o,l){l=/^\x00\x01\x00\x00/.test(l)?e(l):e(Jg(l)),o.metadata=r.API.TTFFont.open(l),o.metadata.Unicode=o.metadata.Unicode||{encoding:{},kerning:{},widths:[]},o.metadata.glyIdsUsed=[0]})(a,n)}}])})(er),er.API.addSvgAsImage=function(r,e,t,n,a,i,o,l){if(isNaN(e)||isNaN(t))throw mn.error("jsPDF.addSvgAsImage: Invalid coordinates",arguments),new Error("Invalid coordinates passed to jsPDF.addSvgAsImage");if(isNaN(n)||isNaN(a))throw mn.error("jsPDF.addSvgAsImage: Invalid measurements",arguments),new Error("Invalid measurements (width and/or height) passed to jsPDF.addSvgAsImage");var u=document.createElement("canvas");u.width=n,u.height=a;var h=u.getContext("2d");h.fillStyle="#fff",h.fillRect(0,0,u.width,u.height);var f={ignoreMouse:!0,ignoreAnimation:!0,ignoreDimensions:!0},m=this;return(ur.canvg?Promise.resolve(ur.canvg):$g(()=>import("./index.es-DwXUPDX2.js"),[])).catch(function(x){return Promise.reject(new Error("Could not load canvg: "+x))}).then(function(x){return x.default?x.default:x}).then(function(x){return x.fromString(h,r,f)},function(){return Promise.reject(new Error("Could not load canvg."))}).then(function(x){return x.render(f)}).then(function(){m.addImage(u.toDataURL("image/jpeg",1),e,t,n,a,o,l)})},er.API.putTotalPages=function(r){var e,t=0;parseInt(this.internal.getFont().id.substr(1),10)<15?(e=new RegExp(r,"g"),t=this.internal.getNumberOfPages()):(e=new RegExp(this.pdfEscape16(r,this.internal.getFont()),"g"),t=this.pdfEscape16(this.internal.getNumberOfPages()+"",this.internal.getFont()));for(var n=1;n<=this.internal.getNumberOfPages();n++)for(var a=0;a<this.internal.pages[n].length;a++)this.internal.pages[n][a]=this.internal.pages[n][a].replace(e,t);return this},er.API.viewerPreferences=function(r,e){var t;r=r||{},e=e||!1;var n,a,i,o={HideToolbar:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.3},HideMenubar:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.3},HideWindowUI:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.3},FitWindow:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.3},CenterWindow:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.3},DisplayDocTitle:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.4},NonFullScreenPageMode:{defaultValue:"UseNone",value:"UseNone",type:"name",explicitSet:!1,valueSet:["UseNone","UseOutlines","UseThumbs","UseOC"],pdfVersion:1.3},Direction:{defaultValue:"L2R",value:"L2R",type:"name",explicitSet:!1,valueSet:["L2R","R2L"],pdfVersion:1.3},ViewArea:{defaultValue:"CropBox",value:"CropBox",type:"name",explicitSet:!1,valueSet:["MediaBox","CropBox","TrimBox","BleedBox","ArtBox"],pdfVersion:1.4},ViewClip:{defaultValue:"CropBox",value:"CropBox",type:"name",explicitSet:!1,valueSet:["MediaBox","CropBox","TrimBox","BleedBox","ArtBox"],pdfVersion:1.4},PrintArea:{defaultValue:"CropBox",value:"CropBox",type:"name",explicitSet:!1,valueSet:["MediaBox","CropBox","TrimBox","BleedBox","ArtBox"],pdfVersion:1.4},PrintClip:{defaultValue:"CropBox",value:"CropBox",type:"name",explicitSet:!1,valueSet:["MediaBox","CropBox","TrimBox","BleedBox","ArtBox"],pdfVersion:1.4},PrintScaling:{defaultValue:"AppDefault",value:"AppDefault",type:"name",explicitSet:!1,valueSet:["AppDefault","None"],pdfVersion:1.6},Duplex:{defaultValue:"",value:"none",type:"name",explicitSet:!1,valueSet:["Simplex","DuplexFlipShortEdge","DuplexFlipLongEdge","none"],pdfVersion:1.7},PickTrayByPDFSize:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.7},PrintPageRange:{defaultValue:"",value:"",type:"array",explicitSet:!1,valueSet:null,pdfVersion:1.7},NumCopies:{defaultValue:1,value:1,type:"integer",explicitSet:!1,valueSet:null,pdfVersion:1.7}},l=Object.keys(o),u=[],h=0,f=0,m=0;function x(y,v){var S,k=!1;for(S=0;S<y.length;S+=1)y[S]===v&&(k=!0);return k}if(this.internal.viewerpreferences===void 0&&(this.internal.viewerpreferences={},this.internal.viewerpreferences.configuration=JSON.parse(JSON.stringify(o)),this.internal.viewerpreferences.isSubscribed=!1),t=this.internal.viewerpreferences.configuration,r==="reset"||e===!0){var g=l.length;for(m=0;m<g;m+=1)t[l[m]].value=t[l[m]].defaultValue,t[l[m]].explicitSet=!1}if(an(r)==="object"){for(a in r)if(i=r[a],x(l,a)&&i!==void 0){if(t[a].type==="boolean"&&typeof i=="boolean")t[a].value=i;else if(t[a].type==="name"&&x(t[a].valueSet,i))t[a].value=i;else if(t[a].type==="integer"&&Number.isInteger(i))t[a].value=i;else if(t[a].type==="array"){for(h=0;h<i.length;h+=1)if(n=!0,i[h].length===1&&typeof i[h][0]=="number")u.push(String(i[h]-1));else if(i[h].length>1){for(f=0;f<i[h].length;f+=1)typeof i[h][f]!="number"&&(n=!1);n===!0&&u.push([i[h][0]-1,i[h][1]-1].join(" "))}t[a].value="["+u.join(" ")+"]"}else t[a].value=t[a].defaultValue;t[a].explicitSet=!0}}return this.internal.viewerpreferences.isSubscribed===!1&&(this.internal.events.subscribe("putCatalog",function(){var y,v=[];for(y in t)t[y].explicitSet===!0&&(t[y].type==="name"?v.push("/"+y+" /"+t[y].value):v.push("/"+y+" "+t[y].value));v.length!==0&&this.internal.write(`/ViewerPreferences
<<
`+v.join(`
`)+`
>>`)}),this.internal.viewerpreferences.isSubscribed=!0),this.internal.viewerpreferences.configuration=t,this},er.API.addMetadata=function(r,e){return this.internal.__metadata__===void 0&&(this.internal.__metadata__={metadata:r,namespaceUri:e??"http://jspdf.default.namespaceuri/",rawXml:typeof e=="boolean"&&e},this.internal.events.subscribe("putCatalog",Oz),this.internal.events.subscribe("postPutResources",Nz)),this},(function(r){var e=r.API,t=e.pdfEscape16=function(i,o){for(var l,u=o.metadata.Unicode.widths,h=["","0","00","000","0000"],f=[""],m=0,x=i.length;m<x;++m){if(l=o.metadata.characterToGlyph(i.charCodeAt(m)),o.metadata.glyIdsUsed.push(l),o.metadata.toUnicode[l]=i.charCodeAt(m),u.indexOf(l)==-1&&(u.push(l),u.push([parseInt(o.metadata.widthOfGlyph(l),10)])),l=="0")return f.join("");l=l.toString(16),f.push(h[4-l.length],l)}return f.join("")},n=function(i){var o,l,u,h,f,m,x;for(f=`/CIDInit /ProcSet findresource begin
12 dict begin
begincmap
/CIDSystemInfo <<
  /Registry (Adobe)
  /Ordering (UCS)
  /Supplement 0
>> def
/CMapName /Adobe-Identity-UCS def
/CMapType 2 def
1 begincodespacerange
<0000><ffff>
endcodespacerange`,u=[],m=0,x=(l=Object.keys(i).sort(function(g,y){return g-y})).length;m<x;m++)o=l[m],u.length>=100&&(f+=`
`+u.length+` beginbfchar
`+u.join(`
`)+`
endbfchar`,u=[]),i[o]!==void 0&&i[o]!==null&&typeof i[o].toString=="function"&&(h=("0000"+i[o].toString(16)).slice(-4),o=("0000"+(+o).toString(16)).slice(-4),u.push("<"+o+"><"+h+">"));return u.length&&(f+=`
`+u.length+` beginbfchar
`+u.join(`
`)+`
endbfchar
`),f+`endcmap
CMapName currentdict /CMap defineresource pop
end
end`};e.events.push(["putFont",function(i){(function(o){var l=o.font,u=o.out,h=o.newObject,f=o.putStream;if(l.metadata instanceof r.API.TTFFont&&l.encoding==="Identity-H"){for(var m=l.metadata.Unicode.widths,x=l.metadata.subset.encode(l.metadata.glyIdsUsed,1),g="",y=0;y<x.length;y++)g+=String.fromCharCode(x[y]);var v=h();f({data:g,addLength1:!0,objectId:v}),u("endobj");var S=h();f({data:n(l.metadata.toUnicode),addLength1:!0,objectId:S}),u("endobj");var k=h();u("<<"),u("/Type /FontDescriptor"),u("/FontName /"+Bf(l.fontName)),u("/FontFile2 "+v+" 0 R"),u("/FontBBox "+r.API.PDFObject.convert(l.metadata.bbox)),u("/Flags "+l.metadata.flags),u("/StemV "+l.metadata.stemV),u("/ItalicAngle "+l.metadata.italicAngle),u("/Ascent "+l.metadata.ascender),u("/Descent "+l.metadata.decender),u("/CapHeight "+l.metadata.capHeight),u(">>"),u("endobj");var A=h();u("<<"),u("/Type /Font"),u("/BaseFont /"+Bf(l.fontName)),u("/FontDescriptor "+k+" 0 R"),u("/W "+r.API.PDFObject.convert(m)),u("/CIDToGIDMap /Identity"),u("/DW 1000"),u("/Subtype /CIDFontType2"),u("/CIDSystemInfo"),u("<<"),u("/Supplement 0"),u("/Registry (Adobe)"),u("/Ordering ("+l.encoding+")"),u(">>"),u(">>"),u("endobj"),l.objectNumber=h(),u("<<"),u("/Type /Font"),u("/Subtype /Type0"),u("/ToUnicode "+S+" 0 R"),u("/BaseFont /"+Bf(l.fontName)),u("/Encoding /"+l.encoding),u("/DescendantFonts ["+A+" 0 R]"),u(">>"),u("endobj"),l.isAlreadyPutted=!0}})(i)}]),e.events.push(["putFont",function(i){(function(o){var l=o.font,u=o.out,h=o.newObject,f=o.putStream;if(l.metadata instanceof r.API.TTFFont&&l.encoding==="WinAnsiEncoding"){for(var m=l.metadata.rawData,x="",g=0;g<m.length;g++)x+=String.fromCharCode(m[g]);var y=h();f({data:x,addLength1:!0,objectId:y}),u("endobj");var v=h();f({data:n(l.metadata.toUnicode),addLength1:!0,objectId:v}),u("endobj");var S=h();u("<<"),u("/Descent "+l.metadata.decender),u("/CapHeight "+l.metadata.capHeight),u("/StemV "+l.metadata.stemV),u("/Type /FontDescriptor"),u("/FontFile2 "+y+" 0 R"),u("/Flags 96"),u("/FontBBox "+r.API.PDFObject.convert(l.metadata.bbox)),u("/FontName /"+Bf(l.fontName)),u("/ItalicAngle "+l.metadata.italicAngle),u("/Ascent "+l.metadata.ascender),u(">>"),u("endobj"),l.objectNumber=h();for(var k=0;k<l.metadata.hmtx.widths.length;k++)l.metadata.hmtx.widths[k]=parseInt(l.metadata.hmtx.widths[k]*(1e3/l.metadata.head.unitsPerEm));u("<</Subtype/TrueType/Type/Font/ToUnicode "+v+" 0 R/BaseFont/"+Bf(l.fontName)+"/FontDescriptor "+S+" 0 R/Encoding/"+l.encoding+" /FirstChar 29 /LastChar 255 /Widths "+r.API.PDFObject.convert(l.metadata.hmtx.widths)+">>"),u("endobj"),l.isAlreadyPutted=!0}})(i)}]);var a=function(i){var o,l=i.text||"",u=i.x,h=i.y,f=i.options||{},m=i.mutex||{},x=m.pdfEscape,g=m.activeFontKey,y=m.fonts,v=g,S="",k=0,A="",N=y[v].encoding;if(y[v].encoding!=="Identity-H")return{text:l,x:u,y:h,options:f,mutex:m};for(A=l,v=g,Array.isArray(l)&&(A=l[0]),k=0;k<A.length;k+=1)y[v].metadata.hasOwnProperty("cmap")&&(o=y[v].metadata.cmap.unicode.codeMap[A[k].charCodeAt(0)]),o||A[k].charCodeAt(0)<256&&y[v].metadata.hasOwnProperty("Unicode")?S+=A[k]:S+="";var j="";return parseInt(v.slice(1))<14||N==="WinAnsiEncoding"?j=x(S,v).split("").map(function(W){return W.charCodeAt(0).toString(16)}).join(""):N==="Identity-H"&&(j=t(S,y[v])),m.isHex=!0,{text:j,x:u,y:h,options:f,mutex:m}};e.events.push(["postProcessText",function(i){var o=i.text||"",l=[],u={text:o,x:i.x,y:i.y,options:i.options,mutex:i.mutex};if(Array.isArray(o)){var h=0;for(h=0;h<o.length;h+=1)Array.isArray(o[h])&&o[h].length===3?l.push([a(Object.assign({},u,{text:o[h][0]})).text,o[h][1],o[h][2]]):l.push(a(Object.assign({},u,{text:o[h]})).text);i.text=l}else i.text=a(Object.assign({},u,{text:o})).text}])})(er),(function(r){var e=function(){return this.internal.vFS===void 0&&(this.internal.vFS={}),!0};r.existsFileInVFS=function(t){return e.call(this),this.internal.vFS[t]!==void 0},r.addFileToVFS=function(t,n){return e.call(this),this.internal.vFS[t]=n,this},r.getFileFromVFS=function(t){return e.call(this),this.internal.vFS[t]!==void 0?this.internal.vFS[t]:null}})(er.API),(function(r){r.__bidiEngine__=r.prototype.__bidiEngine__=function(n){var a,i,o,l,u,h,f,m=e,x=[[0,3,0,1,0,0,0],[0,3,0,1,2,2,0],[0,3,0,17,2,0,1],[0,3,5,5,4,1,0],[0,3,21,21,4,0,1],[0,3,5,5,4,2,0]],g=[[2,0,1,1,0,1,0],[2,0,1,1,0,2,0],[2,0,2,1,3,2,0],[2,0,2,33,3,1,1]],y={L:0,R:1,EN:2,AN:3,N:4,B:5,S:6},v={0:0,5:1,6:2,7:3,32:4,251:5,254:6,255:7},S=["(",")","(","<",">","<","[","]","[","{","}","{","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","",""],k=new RegExp(/^([1-4|9]|1[0-9]|2[0-9]|3[0168]|4[04589]|5[012]|7[78]|159|16[0-9]|17[0-2]|21[569]|22[03489]|250)$/),A=!1,N=0;this.__bidiEngine__={};var j=function(q){var O=q.charCodeAt(),V=O>>8,F=v[V];return F!==void 0?m[256*F+(255&O)]:V===252||V===253?"AL":k.test(V)?"L":V===8?"R":"N"},W=function(q){for(var O,V=0;V<q.length;V++){if((O=j(q.charAt(V)))==="L")return!1;if(O==="R")return!0}return!1},ee=function(q,O,V,F){var re,ae,J,ge,te=O[F];switch(te){case"L":case"R":case"LRE":case"RLE":case"LRO":case"RLO":case"PDF":A=!1;break;case"N":case"AN":break;case"EN":A&&(te="AN");break;case"AL":A=!0,te="R";break;case"WS":case"BN":te="N";break;case"CS":F<1||F+1>=O.length||(re=V[F-1])!=="EN"&&re!=="AN"||(ae=O[F+1])!=="EN"&&ae!=="AN"?te="N":A&&(ae="AN"),te=ae===re?ae:"N";break;case"ES":te=(re=F>0?V[F-1]:"B")==="EN"&&F+1<O.length&&O[F+1]==="EN"?"EN":"N";break;case"ET":if(F>0&&V[F-1]==="EN"){te="EN";break}if(A){te="N";break}for(J=F+1,ge=O.length;J<ge&&O[J]==="ET";)J++;te=J<ge&&O[J]==="EN"?"EN":"N";break;case"NSM":if(o&&!l){for(ge=O.length,J=F+1;J<ge&&O[J]==="NSM";)J++;if(J<ge){var ke=q[F],Y=ke>=1425&&ke<=2303||ke===64286;if(re=O[J],Y&&(re==="R"||re==="AL")){te="R";break}}}te=F<1||(re=O[F-1])==="B"?"N":V[F-1];break;case"B":A=!1,a=!0,te=N;break;case"S":i=!0,te="N"}return te},z=function(q,O,V){var F=q.split("");return V&&B(F,V,{hiLevel:N}),F.reverse(),O&&O.reverse(),F.join("")},B=function(q,O,V){var F,re,ae,J,ge,te=-1,ke=q.length,Y=0,w=[],L=N?g:x,P=[];for(A=!1,a=!1,i=!1,re=0;re<ke;re++)P[re]=j(q[re]);for(ae=0;ae<ke;ae++){if(ge=Y,w[ae]=ee(q,P,w,ae),F=240&(Y=L[ge][y[w[ae]]]),Y&=15,O[ae]=J=L[Y][5],F>0)if(F===16){for(re=te;re<ae;re++)O[re]=1;te=-1}else te=-1;if(L[Y][6])te===-1&&(te=ae);else if(te>-1){for(re=te;re<ae;re++)O[re]=J;te=-1}P[ae]==="B"&&(O[ae]=0),V.hiLevel|=J}i&&(function(U,ie,fe){for(var xe=0;xe<fe;xe++)if(U[xe]==="S"){ie[xe]=N;for(var ve=xe-1;ve>=0&&U[ve]==="WS";ve--)ie[ve]=N}})(P,O,ke)},D=function(q,O,V,F,re){if(!(re.hiLevel<q)){if(q===1&&N===1&&!a)return O.reverse(),void(V&&V.reverse());for(var ae,J,ge,te,ke=O.length,Y=0;Y<ke;){if(F[Y]>=q){for(ge=Y+1;ge<ke&&F[ge]>=q;)ge++;for(te=Y,J=ge-1;te<J;te++,J--)ae=O[te],O[te]=O[J],O[J]=ae,V&&(ae=V[te],V[te]=V[J],V[J]=ae);Y=ge}Y++}}},Z=function(q,O,V){var F=q.split(""),re={hiLevel:N};return V||(V=[]),B(F,V,re),(function(ae,J,ge){if(ge.hiLevel!==0&&f)for(var te,ke=0;ke<ae.length;ke++)J[ke]===1&&(te=S.indexOf(ae[ke]))>=0&&(ae[ke]=S[te+1])})(F,V,re),D(2,F,O,V,re),D(1,F,O,V,re),F.join("")};return this.__bidiEngine__.doBidiReorder=function(q,O,V){if((function(re,ae){if(ae)for(var J=0;J<re.length;J++)ae[J]=J;l===void 0&&(l=W(re)),h===void 0&&(h=W(re))})(q,O),o||!u||h)if(o&&u&&l^h)N=l?1:0,q=z(q,O,V);else if(!o&&u&&h)N=l?1:0,q=Z(q,O,V),q=z(q,O);else if(!o||l||u||h){if(o&&!u&&l^h)q=z(q,O),l?(N=0,q=Z(q,O,V)):(N=1,q=Z(q,O,V),q=z(q,O));else if(o&&l&&!u&&h)N=1,q=Z(q,O,V),q=z(q,O);else if(!o&&!u&&l^h){var F=f;l?(N=1,q=Z(q,O,V),N=0,f=!1,q=Z(q,O,V),f=F):(N=0,q=Z(q,O,V),q=z(q,O),N=1,f=!1,q=Z(q,O,V),f=F,q=z(q,O))}}else N=0,q=Z(q,O,V);else N=l?1:0,q=Z(q,O,V);return q},this.__bidiEngine__.setOptions=function(q){q&&(o=q.isInputVisual,u=q.isOutputVisual,l=q.isInputRtl,h=q.isOutputRtl,f=q.isSymmetricSwapping)},this.__bidiEngine__.setOptions(n),this.__bidiEngine__};var e=["BN","BN","BN","BN","BN","BN","BN","BN","BN","S","B","S","WS","B","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","B","B","B","S","WS","N","N","ET","ET","ET","N","N","N","N","N","ES","CS","ES","CS","CS","EN","EN","EN","EN","EN","EN","EN","EN","EN","EN","CS","N","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","N","BN","BN","BN","BN","BN","BN","B","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","CS","N","ET","ET","ET","ET","N","N","N","N","L","N","N","BN","N","N","ET","ET","EN","EN","N","L","N","N","N","EN","L","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","L","L","L","L","L","L","L","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","L","N","N","N","N","N","ET","N","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","R","NSM","R","NSM","NSM","R","NSM","NSM","R","NSM","N","N","N","N","N","N","N","N","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","N","N","N","N","N","R","R","R","R","R","N","N","N","N","N","N","N","N","N","N","N","AN","AN","AN","AN","AN","AN","N","N","AL","ET","ET","AL","CS","AL","N","N","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","AL","AL","N","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","AN","AN","AN","AN","AN","AN","AN","AN","AN","AN","ET","AN","AN","AL","AL","AL","NSM","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","NSM","NSM","NSM","NSM","NSM","NSM","NSM","AN","N","NSM","NSM","NSM","NSM","NSM","NSM","AL","AL","NSM","NSM","N","NSM","NSM","NSM","NSM","AL","AL","EN","EN","EN","EN","EN","EN","EN","EN","EN","EN","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","N","AL","AL","NSM","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","N","N","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","AL","N","N","N","N","N","N","N","N","N","N","N","N","N","N","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","R","R","N","N","N","N","R","N","N","N","N","N","WS","WS","WS","WS","WS","WS","WS","WS","WS","WS","WS","BN","BN","BN","L","R","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","WS","B","LRE","RLE","PDF","LRO","RLO","CS","ET","ET","ET","ET","ET","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","CS","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","WS","BN","BN","BN","BN","BN","N","LRI","RLI","FSI","PDI","BN","BN","BN","BN","BN","BN","EN","L","N","N","EN","EN","EN","EN","EN","EN","ES","ES","N","N","N","L","EN","EN","EN","EN","EN","EN","EN","EN","EN","EN","ES","ES","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","L","L","L","L","L","L","L","N","N","N","N","N","N","N","N","N","N","N","N","L","L","L","L","L","N","N","N","N","N","R","NSM","R","R","R","R","R","R","R","R","R","R","ES","R","R","R","R","R","R","R","R","R","R","R","R","R","N","R","R","R","R","R","N","R","N","R","R","N","R","R","N","R","R","R","R","R","R","R","R","R","R","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","CS","N","CS","N","N","CS","N","N","N","N","N","N","N","N","N","ET","N","N","ES","ES","N","N","N","N","N","ET","ET","N","N","N","N","N","AL","AL","AL","AL","AL","N","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","N","N","BN","N","N","N","ET","ET","ET","N","N","N","N","N","ES","CS","ES","CS","CS","EN","EN","EN","EN","EN","EN","EN","EN","EN","EN","CS","N","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","N","N","N","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","L","L","L","L","L","L","N","N","L","L","L","L","L","L","N","N","L","L","L","L","L","L","N","N","L","L","L","N","N","N","ET","ET","N","N","N","ET","ET","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N"],t=new r.__bidiEngine__({isInputVisual:!0});r.API.events.push(["postProcessText",function(n){var a=n.text;n.x,n.y;var i=n.options||{};n.mutex,i.lang;var o=[];if(i.isInputVisual=typeof i.isInputVisual!="boolean"||i.isInputVisual,t.setOptions(i),Object.prototype.toString.call(a)==="[object Array]"){var l=0;for(o=[],l=0;l<a.length;l+=1)Object.prototype.toString.call(a[l])==="[object Array]"?o.push([t.doBidiReorder(a[l][0]),a[l][1],a[l][2]]):o.push([t.doBidiReorder(a[l])]);n.text=o}else n.text=t.doBidiReorder(a);t.setOptions({isInputVisual:!0})}])})(er),er.API.TTFFont=(function(){function r(e){var t;if(this.rawData=e,t=this.contents=new Tu(e),this.contents.pos=4,t.readString(4)==="ttcf")throw new Error("TTCF not supported.");t.pos=0,this.parse(),this.subset=new Gz(this),this.registerTTF()}return r.open=function(e){return new r(e)},r.prototype.parse=function(){return this.directory=new Dz(this.contents),this.head=new Fz(this),this.name=new Pz(this),this.cmap=new pC(this),this.toUnicode={},this.hhea=new Mz(this),this.maxp=new Iz(this),this.hmtx=new Uz(this),this.post=new Rz(this),this.os2=new jz(this),this.loca=new Vz(this),this.glyf=new zz(this),this.ascender=this.os2.exists&&this.os2.ascender||this.hhea.ascender,this.decender=this.os2.exists&&this.os2.decender||this.hhea.decender,this.lineGap=this.os2.exists&&this.os2.lineGap||this.hhea.lineGap,this.bbox=[this.head.xMin,this.head.yMin,this.head.xMax,this.head.yMax]},r.prototype.registerTTF=function(){var e,t,n,a,i;if(this.scaleFactor=1e3/this.head.unitsPerEm,this.bbox=(function(){var o,l,u,h;for(h=[],o=0,l=(u=this.bbox).length;o<l;o++)e=u[o],h.push(Math.round(e*this.scaleFactor));return h}).call(this),this.stemV=0,this.post.exists?(n=255&(a=this.post.italic_angle),32768&(t=a>>16)&&(t=-(1+(65535^t))),this.italicAngle=+(t+"."+n)):this.italicAngle=0,this.ascender=Math.round(this.ascender*this.scaleFactor),this.decender=Math.round(this.decender*this.scaleFactor),this.lineGap=Math.round(this.lineGap*this.scaleFactor),this.capHeight=this.os2.exists&&this.os2.capHeight||this.ascender,this.xHeight=this.os2.exists&&this.os2.xHeight||0,this.familyClass=(this.os2.exists&&this.os2.familyClass||0)>>8,this.isSerif=(i=this.familyClass)===1||i===2||i===3||i===4||i===5||i===7,this.isScript=this.familyClass===10,this.flags=0,this.post.isFixedPitch&&(this.flags|=1),this.isSerif&&(this.flags|=2),this.isScript&&(this.flags|=8),this.italicAngle!==0&&(this.flags|=64),this.flags|=32,!this.cmap.unicode)throw new Error("No unicode cmap for font")},r.prototype.characterToGlyph=function(e){var t;return((t=this.cmap.unicode)!=null?t.codeMap[e]:void 0)||0},r.prototype.widthOfGlyph=function(e){var t;return t=1e3/this.head.unitsPerEm,this.hmtx.forGlyph(e).advance*t},r.prototype.widthOfString=function(e,t,n){var a,i,o,l;for(o=0,i=0,l=(e=""+e).length;0<=l?i<l:i>l;i=0<=l?++i:--i)a=e.charCodeAt(i),o+=this.widthOfGlyph(this.characterToGlyph(a))+n*(1e3/t)||0;return o*(t/1e3)},r.prototype.lineHeight=function(e,t){var n;return t==null&&(t=!1),n=t?this.lineGap:0,(this.ascender+n-this.decender)/1e3*e},r})();var tl,Tu=(function(){function r(e){this.data=e??[],this.pos=0,this.length=this.data.length}return r.prototype.readByte=function(){return this.data[this.pos++]},r.prototype.writeByte=function(e){return this.data[this.pos++]=e},r.prototype.readUInt32=function(){return 16777216*this.readByte()+(this.readByte()<<16)+(this.readByte()<<8)+this.readByte()},r.prototype.writeUInt32=function(e){return this.writeByte(e>>>24&255),this.writeByte(e>>16&255),this.writeByte(e>>8&255),this.writeByte(255&e)},r.prototype.readInt32=function(){var e;return(e=this.readUInt32())>=2147483648?e-4294967296:e},r.prototype.writeInt32=function(e){return e<0&&(e+=4294967296),this.writeUInt32(e)},r.prototype.readUInt16=function(){return this.readByte()<<8|this.readByte()},r.prototype.writeUInt16=function(e){return this.writeByte(e>>8&255),this.writeByte(255&e)},r.prototype.readInt16=function(){var e;return(e=this.readUInt16())>=32768?e-65536:e},r.prototype.writeInt16=function(e){return e<0&&(e+=65536),this.writeUInt16(e)},r.prototype.readString=function(e){var t,n;for(n=[],t=0;0<=e?t<e:t>e;t=0<=e?++t:--t)n[t]=String.fromCharCode(this.readByte());return n.join("")},r.prototype.writeString=function(e){var t,n,a;for(a=[],t=0,n=e.length;0<=n?t<n:t>n;t=0<=n?++t:--t)a.push(this.writeByte(e.charCodeAt(t)));return a},r.prototype.readShort=function(){return this.readInt16()},r.prototype.writeShort=function(e){return this.writeInt16(e)},r.prototype.readLongLong=function(){var e,t,n,a,i,o,l,u;return e=this.readByte(),t=this.readByte(),n=this.readByte(),a=this.readByte(),i=this.readByte(),o=this.readByte(),l=this.readByte(),u=this.readByte(),128&e?-1*(72057594037927940*(255^e)+281474976710656*(255^t)+1099511627776*(255^n)+4294967296*(255^a)+16777216*(255^i)+65536*(255^o)+256*(255^l)+(255^u)+1):72057594037927940*e+281474976710656*t+1099511627776*n+4294967296*a+16777216*i+65536*o+256*l+u},r.prototype.writeLongLong=function(e){var t,n;return t=Math.floor(e/4294967296),n=4294967295&e,this.writeByte(t>>24&255),this.writeByte(t>>16&255),this.writeByte(t>>8&255),this.writeByte(255&t),this.writeByte(n>>24&255),this.writeByte(n>>16&255),this.writeByte(n>>8&255),this.writeByte(255&n)},r.prototype.readInt=function(){return this.readInt32()},r.prototype.writeInt=function(e){return this.writeInt32(e)},r.prototype.read=function(e){var t,n;for(t=[],n=0;0<=e?n<e:n>e;n=0<=e?++n:--n)t.push(this.readByte());return t},r.prototype.write=function(e){var t,n,a,i;for(i=[],n=0,a=e.length;n<a;n++)t=e[n],i.push(this.writeByte(t));return i},r})(),Dz=(function(){var r;function e(t){var n,a,i;for(this.scalarType=t.readInt(),this.tableCount=t.readShort(),this.searchRange=t.readShort(),this.entrySelector=t.readShort(),this.rangeShift=t.readShort(),this.tables={},a=0,i=this.tableCount;0<=i?a<i:a>i;a=0<=i?++a:--a)n={tag:t.readString(4),checksum:t.readInt(),offset:t.readInt(),length:t.readInt()},this.tables[n.tag]=n}return e.prototype.encode=function(t){var n,a,i,o,l,u,h,f,m,x,g,y,v;for(v in g=Object.keys(t).length,u=Math.log(2),m=16*Math.floor(Math.log(g)/u),o=Math.floor(m/u),f=16*g-m,(a=new Tu).writeInt(this.scalarType),a.writeShort(g),a.writeShort(m),a.writeShort(o),a.writeShort(f),i=16*g,h=a.pos+i,l=null,y=[],t)for(x=t[v],a.writeString(v),a.writeInt(r(x)),a.writeInt(h),a.writeInt(x.length),y=y.concat(x),v==="head"&&(l=h),h+=x.length;h%4;)y.push(0),h++;return a.write(y),n=2981146554-r(a.data),a.pos=l+8,a.writeUInt32(n),a.data},r=function(t){var n,a,i,o;for(t=mC.call(t);t.length%4;)t.push(0);for(i=new Tu(t),a=0,n=0,o=t.length;n<o;n=n+=4)a+=i.readUInt32();return 4294967295&a},e})(),Lz={}.hasOwnProperty,jl=function(r,e){for(var t in e)Lz.call(e,t)&&(r[t]=e[t]);function n(){this.constructor=r}return n.prototype=e.prototype,r.prototype=new n,r.__super__=e.prototype,r};tl=(function(){function r(e){var t;this.file=e,t=this.file.directory.tables[this.tag],this.exists=!!t,t&&(this.offset=t.offset,this.length=t.length,this.parse(this.file.contents))}return r.prototype.parse=function(){},r.prototype.encode=function(){},r.prototype.raw=function(){return this.exists?(this.file.contents.pos=this.offset,this.file.contents.read(this.length)):null},r})();var Fz=(function(){function r(){return r.__super__.constructor.apply(this,arguments)}return jl(r,tl),r.prototype.tag="head",r.prototype.parse=function(e){return e.pos=this.offset,this.version=e.readInt(),this.revision=e.readInt(),this.checkSumAdjustment=e.readInt(),this.magicNumber=e.readInt(),this.flags=e.readShort(),this.unitsPerEm=e.readShort(),this.created=e.readLongLong(),this.modified=e.readLongLong(),this.xMin=e.readShort(),this.yMin=e.readShort(),this.xMax=e.readShort(),this.yMax=e.readShort(),this.macStyle=e.readShort(),this.lowestRecPPEM=e.readShort(),this.fontDirectionHint=e.readShort(),this.indexToLocFormat=e.readShort(),this.glyphDataFormat=e.readShort()},r.prototype.encode=function(e){var t;return(t=new Tu).writeInt(this.version),t.writeInt(this.revision),t.writeInt(this.checkSumAdjustment),t.writeInt(this.magicNumber),t.writeShort(this.flags),t.writeShort(this.unitsPerEm),t.writeLongLong(this.created),t.writeLongLong(this.modified),t.writeShort(this.xMin),t.writeShort(this.yMin),t.writeShort(this.xMax),t.writeShort(this.yMax),t.writeShort(this.macStyle),t.writeShort(this.lowestRecPPEM),t.writeShort(this.fontDirectionHint),t.writeShort(e),t.writeShort(this.glyphDataFormat),t.data},r})(),w3=(function(){function r(e,t){var n,a,i,o,l,u,h,f,m,x,g,y,v,S,k,A,N;switch(this.platformID=e.readUInt16(),this.encodingID=e.readShort(),this.offset=t+e.readInt(),m=e.pos,e.pos=this.offset,this.format=e.readUInt16(),this.length=e.readUInt16(),this.language=e.readUInt16(),this.isUnicode=this.platformID===3&&this.encodingID===1&&this.format===4||this.platformID===0&&this.format===4,this.codeMap={},this.format){case 0:for(u=0;u<256;++u)this.codeMap[u]=e.readByte();break;case 4:for(g=e.readUInt16(),x=g/2,e.pos+=6,i=(function(){var j,W;for(W=[],u=j=0;0<=x?j<x:j>x;u=0<=x?++j:--j)W.push(e.readUInt16());return W})(),e.pos+=2,v=(function(){var j,W;for(W=[],u=j=0;0<=x?j<x:j>x;u=0<=x?++j:--j)W.push(e.readUInt16());return W})(),h=(function(){var j,W;for(W=[],u=j=0;0<=x?j<x:j>x;u=0<=x?++j:--j)W.push(e.readUInt16());return W})(),f=(function(){var j,W;for(W=[],u=j=0;0<=x?j<x:j>x;u=0<=x?++j:--j)W.push(e.readUInt16());return W})(),a=(this.length-e.pos+this.offset)/2,l=(function(){var j,W;for(W=[],u=j=0;0<=a?j<a:j>a;u=0<=a?++j:--j)W.push(e.readUInt16());return W})(),u=k=0,N=i.length;k<N;u=++k)for(S=i[u],n=A=y=v[u];y<=S?A<=S:A>=S;n=y<=S?++A:--A)f[u]===0?o=n+h[u]:(o=l[f[u]/2+(n-y)-(x-u)]||0)!==0&&(o+=h[u]),this.codeMap[n]=65535&o}e.pos=m}return r.encode=function(e,t){var n,a,i,o,l,u,h,f,m,x,g,y,v,S,k,A,N,j,W,ee,z,B,D,Z,q,O,V,F,re,ae,J,ge,te,ke,Y,w,L,P,U,ie,fe,xe,ve,ce,De,ue;switch(F=new Tu,o=Object.keys(e).sort(function(Ye,R){return Ye-R}),t){case"macroman":for(v=0,S=(function(){var Ye=[];for(y=0;y<256;++y)Ye.push(0);return Ye})(),A={0:0},i={},re=0,te=o.length;re<te;re++)A[ve=e[a=o[re]]]==null&&(A[ve]=++v),i[a]={old:e[a],new:A[e[a]]},S[a]=A[e[a]];return F.writeUInt16(1),F.writeUInt16(0),F.writeUInt32(12),F.writeUInt16(0),F.writeUInt16(262),F.writeUInt16(0),F.write(S),{charMap:i,subtable:F.data,maxGlyphID:v+1};case"unicode":for(O=[],m=[],N=0,A={},n={},k=h=null,ae=0,ke=o.length;ae<ke;ae++)A[W=e[a=o[ae]]]==null&&(A[W]=++N),n[a]={old:W,new:A[W]},l=A[W]-a,k!=null&&l===h||(k&&m.push(k),O.push(a),h=l),k=a;for(k&&m.push(k),m.push(65535),O.push(65535),Z=2*(D=O.length),B=2*Math.pow(Math.log(D)/Math.LN2,2),x=Math.log(B/2)/Math.LN2,z=2*D-B,u=[],ee=[],g=[],y=J=0,Y=O.length;J<Y;y=++J){if(q=O[y],f=m[y],q===65535){u.push(0),ee.push(0);break}if(q-(V=n[q].new)>=32768)for(u.push(0),ee.push(2*(g.length+D-y)),a=ge=q;q<=f?ge<=f:ge>=f;a=q<=f?++ge:--ge)g.push(n[a].new);else u.push(V-q),ee.push(0)}for(F.writeUInt16(3),F.writeUInt16(1),F.writeUInt32(12),F.writeUInt16(4),F.writeUInt16(16+8*D+2*g.length),F.writeUInt16(0),F.writeUInt16(Z),F.writeUInt16(B),F.writeUInt16(x),F.writeUInt16(z),fe=0,w=m.length;fe<w;fe++)a=m[fe],F.writeUInt16(a);for(F.writeUInt16(0),xe=0,L=O.length;xe<L;xe++)a=O[xe],F.writeUInt16(a);for(ce=0,P=u.length;ce<P;ce++)l=u[ce],F.writeUInt16(l);for(De=0,U=ee.length;De<U;De++)j=ee[De],F.writeUInt16(j);for(ue=0,ie=g.length;ue<ie;ue++)v=g[ue],F.writeUInt16(v);return{charMap:n,subtable:F.data,maxGlyphID:N+1}}},r})(),pC=(function(){function r(){return r.__super__.constructor.apply(this,arguments)}return jl(r,tl),r.prototype.tag="cmap",r.prototype.parse=function(e){var t,n,a;for(e.pos=this.offset,this.version=e.readUInt16(),a=e.readUInt16(),this.tables=[],this.unicode=null,n=0;0<=a?n<a:n>a;n=0<=a?++n:--n)t=new w3(e,this.offset),this.tables.push(t),t.isUnicode&&this.unicode==null&&(this.unicode=t);return!0},r.encode=function(e,t){var n,a;return t==null&&(t="macroman"),n=w3.encode(e,t),(a=new Tu).writeUInt16(0),a.writeUInt16(1),n.table=a.data.concat(n.subtable),n},r})(),Mz=(function(){function r(){return r.__super__.constructor.apply(this,arguments)}return jl(r,tl),r.prototype.tag="hhea",r.prototype.parse=function(e){return e.pos=this.offset,this.version=e.readInt(),this.ascender=e.readShort(),this.decender=e.readShort(),this.lineGap=e.readShort(),this.advanceWidthMax=e.readShort(),this.minLeftSideBearing=e.readShort(),this.minRightSideBearing=e.readShort(),this.xMaxExtent=e.readShort(),this.caretSlopeRise=e.readShort(),this.caretSlopeRun=e.readShort(),this.caretOffset=e.readShort(),e.pos+=8,this.metricDataFormat=e.readShort(),this.numberOfMetrics=e.readUInt16()},r})(),jz=(function(){function r(){return r.__super__.constructor.apply(this,arguments)}return jl(r,tl),r.prototype.tag="OS/2",r.prototype.parse=function(e){if(e.pos=this.offset,this.version=e.readUInt16(),this.averageCharWidth=e.readShort(),this.weightClass=e.readUInt16(),this.widthClass=e.readUInt16(),this.type=e.readShort(),this.ySubscriptXSize=e.readShort(),this.ySubscriptYSize=e.readShort(),this.ySubscriptXOffset=e.readShort(),this.ySubscriptYOffset=e.readShort(),this.ySuperscriptXSize=e.readShort(),this.ySuperscriptYSize=e.readShort(),this.ySuperscriptXOffset=e.readShort(),this.ySuperscriptYOffset=e.readShort(),this.yStrikeoutSize=e.readShort(),this.yStrikeoutPosition=e.readShort(),this.familyClass=e.readShort(),this.panose=(function(){var t,n;for(n=[],t=0;t<10;++t)n.push(e.readByte());return n})(),this.charRange=(function(){var t,n;for(n=[],t=0;t<4;++t)n.push(e.readInt());return n})(),this.vendorID=e.readString(4),this.selection=e.readShort(),this.firstCharIndex=e.readShort(),this.lastCharIndex=e.readShort(),this.version>0&&(this.ascent=e.readShort(),this.descent=e.readShort(),this.lineGap=e.readShort(),this.winAscent=e.readShort(),this.winDescent=e.readShort(),this.codePageRange=(function(){var t,n;for(n=[],t=0;t<2;t=++t)n.push(e.readInt());return n})(),this.version>1))return this.xHeight=e.readShort(),this.capHeight=e.readShort(),this.defaultChar=e.readShort(),this.breakChar=e.readShort(),this.maxContext=e.readShort()},r})(),Rz=(function(){function r(){return r.__super__.constructor.apply(this,arguments)}return jl(r,tl),r.prototype.tag="post",r.prototype.parse=function(e){var t,n,a;switch(e.pos=this.offset,this.format=e.readInt(),this.italicAngle=e.readInt(),this.underlinePosition=e.readShort(),this.underlineThickness=e.readShort(),this.isFixedPitch=e.readInt(),this.minMemType42=e.readInt(),this.maxMemType42=e.readInt(),this.minMemType1=e.readInt(),this.maxMemType1=e.readInt(),this.format){case 65536:case 196608:break;case 131072:var i;for(n=e.readUInt16(),this.glyphNameIndex=[],i=0;0<=n?i<n:i>n;i=0<=n?++i:--i)this.glyphNameIndex.push(e.readUInt16());for(this.names=[],a=[];e.pos<this.offset+this.length;)t=e.readByte(),a.push(this.names.push(e.readString(t)));return a;case 151552:return n=e.readUInt16(),this.offsets=e.read(n);case 262144:return this.map=(function(){var o,l,u;for(u=[],i=o=0,l=this.file.maxp.numGlyphs;0<=l?o<l:o>l;i=0<=l?++o:--o)u.push(e.readUInt32());return u}).call(this)}},r})(),Bz=function(r,e){this.raw=r,this.length=r.length,this.platformID=e.platformID,this.encodingID=e.encodingID,this.languageID=e.languageID},Pz=(function(){function r(){return r.__super__.constructor.apply(this,arguments)}return jl(r,tl),r.prototype.tag="name",r.prototype.parse=function(e){var t,n,a,i,o,l,u,h,f,m,x;for(e.pos=this.offset,e.readShort(),t=e.readShort(),l=e.readShort(),n=[],i=0;0<=t?i<t:i>t;i=0<=t?++i:--i)n.push({platformID:e.readShort(),encodingID:e.readShort(),languageID:e.readShort(),nameID:e.readShort(),length:e.readShort(),offset:this.offset+l+e.readShort()});for(u={},i=f=0,m=n.length;f<m;i=++f)a=n[i],e.pos=a.offset,h=e.readString(a.length),o=new Bz(h,a),u[x=a.nameID]==null&&(u[x]=[]),u[a.nameID].push(o);this.strings=u,this.copyright=u[0],this.fontFamily=u[1],this.fontSubfamily=u[2],this.uniqueSubfamily=u[3],this.fontName=u[4],this.version=u[5];try{this.postscriptName=u[6][0].raw.replace(/[\x00-\x19\x80-\xff]/g,"")}catch{this.postscriptName=u[4][0].raw.replace(/[\x00-\x19\x80-\xff]/g,"")}return this.trademark=u[7],this.manufacturer=u[8],this.designer=u[9],this.description=u[10],this.vendorUrl=u[11],this.designerUrl=u[12],this.license=u[13],this.licenseUrl=u[14],this.preferredFamily=u[15],this.preferredSubfamily=u[17],this.compatibleFull=u[18],this.sampleText=u[19]},r})(),Iz=(function(){function r(){return r.__super__.constructor.apply(this,arguments)}return jl(r,tl),r.prototype.tag="maxp",r.prototype.parse=function(e){return e.pos=this.offset,this.version=e.readInt(),this.numGlyphs=e.readUInt16(),this.maxPoints=e.readUInt16(),this.maxContours=e.readUInt16(),this.maxCompositePoints=e.readUInt16(),this.maxComponentContours=e.readUInt16(),this.maxZones=e.readUInt16(),this.maxTwilightPoints=e.readUInt16(),this.maxStorage=e.readUInt16(),this.maxFunctionDefs=e.readUInt16(),this.maxInstructionDefs=e.readUInt16(),this.maxStackElements=e.readUInt16(),this.maxSizeOfInstructions=e.readUInt16(),this.maxComponentElements=e.readUInt16(),this.maxComponentDepth=e.readUInt16()},r})(),Uz=(function(){function r(){return r.__super__.constructor.apply(this,arguments)}return jl(r,tl),r.prototype.tag="hmtx",r.prototype.parse=function(e){var t,n,a,i,o,l,u;for(e.pos=this.offset,this.metrics=[],t=0,l=this.file.hhea.numberOfMetrics;0<=l?t<l:t>l;t=0<=l?++t:--t)this.metrics.push({advance:e.readUInt16(),lsb:e.readInt16()});for(a=this.file.maxp.numGlyphs-this.file.hhea.numberOfMetrics,this.leftSideBearings=(function(){var h,f;for(f=[],t=h=0;0<=a?h<a:h>a;t=0<=a?++h:--h)f.push(e.readInt16());return f})(),this.widths=(function(){var h,f,m,x;for(x=[],h=0,f=(m=this.metrics).length;h<f;h++)i=m[h],x.push(i.advance);return x}).call(this),n=this.widths[this.widths.length-1],u=[],t=o=0;0<=a?o<a:o>a;t=0<=a?++o:--o)u.push(this.widths.push(n));return u},r.prototype.forGlyph=function(e){return e in this.metrics?this.metrics[e]:{advance:this.metrics[this.metrics.length-1].advance,lsb:this.leftSideBearings[e-this.metrics.length]}},r})(),mC=[].slice,zz=(function(){function r(){return r.__super__.constructor.apply(this,arguments)}return jl(r,tl),r.prototype.tag="glyf",r.prototype.parse=function(){return this.cache={}},r.prototype.glyphFor=function(e){var t,n,a,i,o,l,u,h,f,m;return e in this.cache?this.cache[e]:(i=this.file.loca,t=this.file.contents,n=i.indexOf(e),(a=i.lengthOf(e))===0?this.cache[e]=null:(t.pos=this.offset+n,o=(l=new Tu(t.read(a))).readShort(),h=l.readShort(),m=l.readShort(),u=l.readShort(),f=l.readShort(),this.cache[e]=o===-1?new qz(l,h,m,u,f):new Hz(l,o,h,m,u,f),this.cache[e]))},r.prototype.encode=function(e,t,n){var a,i,o,l,u;for(o=[],i=[],l=0,u=t.length;l<u;l++)a=e[t[l]],i.push(o.length),a&&(o=o.concat(a.encode(n)));return i.push(o.length),{table:o,offsets:i}},r})(),Hz=(function(){function r(e,t,n,a,i,o){this.raw=e,this.numberOfContours=t,this.xMin=n,this.yMin=a,this.xMax=i,this.yMax=o,this.compound=!1}return r.prototype.encode=function(){return this.raw.data},r})(),qz=(function(){function r(e,t,n,a,i){var o,l;for(this.raw=e,this.xMin=t,this.yMin=n,this.xMax=a,this.yMax=i,this.compound=!0,this.glyphIDs=[],this.glyphOffsets=[],o=this.raw;l=o.readShort(),this.glyphOffsets.push(o.pos),this.glyphIDs.push(o.readUInt16()),32&l;)o.pos+=1&l?4:2,128&l?o.pos+=8:64&l?o.pos+=4:8&l&&(o.pos+=2)}return r.prototype.encode=function(){var e,t,n;for(t=new Tu(mC.call(this.raw.data)),e=0,n=this.glyphIDs.length;e<n;++e)t.pos=this.glyphOffsets[e];return t.data},r})(),Vz=(function(){function r(){return r.__super__.constructor.apply(this,arguments)}return jl(r,tl),r.prototype.tag="loca",r.prototype.parse=function(e){var t,n;return e.pos=this.offset,t=this.file.head.indexToLocFormat,this.offsets=t===0?(function(){var a,i;for(i=[],n=0,a=this.length;n<a;n+=2)i.push(2*e.readUInt16());return i}).call(this):(function(){var a,i;for(i=[],n=0,a=this.length;n<a;n+=4)i.push(e.readUInt32());return i}).call(this)},r.prototype.indexOf=function(e){return this.offsets[e]},r.prototype.lengthOf=function(e){return this.offsets[e+1]-this.offsets[e]},r.prototype.encode=function(e,t){for(var n=new Uint32Array(this.offsets.length),a=0,i=0,o=0;o<n.length;++o)if(n[o]=a,i<t.length&&t[i]==o){++i,n[o]=a;var l=this.offsets[o],u=this.offsets[o+1]-l;u>0&&(a+=u)}for(var h=new Array(4*n.length),f=0;f<n.length;++f)h[4*f+3]=255&n[f],h[4*f+2]=(65280&n[f])>>8,h[4*f+1]=(16711680&n[f])>>16,h[4*f]=(4278190080&n[f])>>24;return h},r})(),Gz=(function(){function r(e){this.font=e,this.subset={},this.unicodes={},this.next=33}return r.prototype.generateCmap=function(){var e,t,n,a,i;for(t in a=this.font.cmap.tables[0].codeMap,e={},i=this.subset)n=i[t],e[t]=a[n];return e},r.prototype.glyphsFor=function(e){var t,n,a,i,o,l,u;for(a={},o=0,l=e.length;o<l;o++)a[i=e[o]]=this.font.glyf.glyphFor(i);for(i in t=[],a)(n=a[i])!=null&&n.compound&&t.push.apply(t,n.glyphIDs);if(t.length>0)for(i in u=this.glyphsFor(t))n=u[i],a[i]=n;return a},r.prototype.encode=function(e,t){var n,a,i,o,l,u,h,f,m,x,g,y,v,S,k;for(a in n=pC.encode(this.generateCmap(),"unicode"),o=this.glyphsFor(e),g={0:0},k=n.charMap)g[(u=k[a]).old]=u.new;for(y in x=n.maxGlyphID,o)y in g||(g[y]=x++);return f=(function(A){var N,j;for(N in j={},A)j[A[N]]=N;return j})(g),m=Object.keys(f).sort(function(A,N){return A-N}),v=(function(){var A,N,j;for(j=[],A=0,N=m.length;A<N;A++)l=m[A],j.push(f[l]);return j})(),i=this.font.glyf.encode(o,v,g),h=this.font.loca.encode(i.offsets,v),S={cmap:this.font.cmap.raw(),glyf:i.table,loca:h,hmtx:this.font.hmtx.raw(),hhea:this.font.hhea.raw(),maxp:this.font.maxp.raw(),post:this.font.post.raw(),name:this.font.name.raw(),head:this.font.head.encode(t)},this.font.os2.exists&&(S["OS/2"]=this.font.os2.raw()),this.font.directory.encode(S)},r})();er.API.PDFObject=(function(){var r;function e(){}return r=function(t,n){return(Array(n+1).join("0")+t).slice(-n)},e.convert=function(t){var n,a,i,o;if(Array.isArray(t))return"["+(function(){var l,u,h;for(h=[],l=0,u=t.length;l<u;l++)n=t[l],h.push(e.convert(n));return h})().join(" ")+"]";if(typeof t=="string")return"/"+t;if(t!=null&&t.isString)return"("+t+")";if(t instanceof Date)return"(D:"+r(t.getUTCFullYear(),4)+r(t.getUTCMonth(),2)+r(t.getUTCDate(),2)+r(t.getUTCHours(),2)+r(t.getUTCMinutes(),2)+r(t.getUTCSeconds(),2)+"Z)";if({}.toString.call(t)==="[object Object]"){for(a in i=["<<"],t)o=t[a],i.push("/"+a+" "+e.convert(o));return i.push(">>"),i.join(`
`)}return""+t},e})();function Wz(r,e){Ck.saveAs(r,e)}async function Yz(r,e,t,n){if(r.length===0)return;const a=.75,i=t*a,o=n*a,l=i>o?"landscape":"portrait",u=new er({orientation:l,unit:"pt",format:[i,o]});for(let h=0;h<r.length;h++){h>0&&u.addPage([i,o],l);const f=r[h].blob,m=await xC(f),x=f.type==="image/jpeg"?"JPEG":"PNG";u.addImage(m,x,0,0,i,o)}u.save(e)}async function Xz(r,e,t,n,a){if(e.length===0)return;const i=.75,o=n*i,l=a*i,u=o>l?"landscape":"portrait",h=new er({orientation:u,unit:"pt",format:[o,l]});for(let g=0;g<e.length;g++){g>0&&h.addPage([o,l],u);const y=e[g].blob,v=await xC(y),S=y.type==="image/jpeg"?"JPEG":"PNG";h.addImage(v,S,0,0,o,l)}const f=h.output("blob"),m=await kk.loadAsync(r);m.file("all-images.pdf",f);const x=await m.generateAsync({type:"blob"});Ck.saveAs(x,t)}function xC(r){return new Promise((e,t)=>{const n=new FileReader;n.onload=()=>e(n.result),n.onerror=t,n.readAsDataURL(r)})}function Kz(){const r=fr(R=>R.csvData),e=fr(R=>R.templateConfig),t=fr(R=>R.buildOptions),n=fr(R=>R.setBuildOptions),a=fr(R=>R.buildProgress),i=fr(R=>R.setBuildProgress),o=fr(R=>R.setCurrentStep),l=fr(R=>R.shareText),u=fr(R=>R.setShareText),h=fr(R=>R.generatedImages),f=fr(R=>R.setGeneratedImages),m=fr(R=>R.clearGeneratedImages),x=Me.useRef(null),[g,y]=Me.useState(null),[v,S]=Me.useState(!1),[k,A]=Me.useState(!1),[N,j]=Me.useState(null),[W,ee]=Me.useState(null),[z,B]=Me.useState(new Set),[D,Z]=Me.useState("zip"),[q,O]=Me.useState(""),V=fa(R=>R.t),F=D==="zip"||D==="zippdf"||D==="both",re=D==="pdf"||D==="zippdf",ae=D==="share"||D==="both",J=(r==null?void 0:r.rows)??[],ge=(r==null?void 0:r.headers)??[],te=J.length,ke=te>0,Y=e.elements.length>0,w=a.status==="running",L=a.status==="completed",P=a.status==="cancelled",U=a.status==="error",ie=a.total>0?Math.round(a.completed/a.total*100):0,fe=Me.useCallback(async()=>{var H;if(!ke||!Y)return;y(null),m(),i({status:"running",completed:0,total:te});const R=new ZP;x.current=R;try{const{zip:ne,images:G}=await R.generate(e,J,t,(le,Fe)=>{i({completed:le,total:Fe})});if(ae||re){const le=G.map(Fe=>({blob:Fe.blob,url:URL.createObjectURL(Fe.blob),row:Fe.row,index:Fe.index}));f(le)}i({status:"completed"});const K=((H=r==null?void 0:r.fileName)==null?void 0:H.replace(/\.(csv|xlsx|xls)$/i,""))??"images";D==="zippdf"?await Xz(ne,G,`${K}.zip`,e.width,e.height):D==="pdf"?await Yz(G,`${K}.pdf`,e.width,e.height):F&&Wz(ne,`${K}.zip`)}catch(ne){const G=ne instanceof Error?ne.message:"Generation failed";G.includes("cancelled")?i({status:"cancelled"}):(i({status:"error"}),y(G))}finally{x.current=null}},[ke,Y,te,e,J,t,r==null?void 0:r.fileName,i,m,f,F,re,ae,D]),xe=Me.useCallback(()=>{var R;(R=x.current)==null||R.cancel()},[]),ve=Me.useCallback(R=>{n({filenamePattern:`${t.filenamePattern}{${R}}`}),S(!1)},[t.filenamePattern,n]),ce=Me.useCallback(R=>{u(`${l}{${R}}`),A(!1)},[l,u]),De=Me.useCallback(R=>{ee(R),setTimeout(()=>ee(null),3e3)},[]),ue=Me.useCallback(async(R,H)=>{const ne=qd(l,R.row),G=new File([R.blob],"image.png",{type:R.blob.type});if(H==="native"&&navigator.share){if(ne)try{await navigator.clipboard.writeText(ne),De(V("build.textCopied"))}catch{}try{await navigator.share({text:ne,files:[G]})}catch{}return}if(H==="whatsapp"){const K=encodeURIComponent(ne);window.open(`https://wa.me/?text=${K}`,"_blank");return}if(H==="copy")try{await navigator.clipboard.writeText(ne)}catch{}},[l]),Ye=Me.useCallback(R=>{B(H=>{const ne=new Set(H);return ne.has(R)?ne.delete(R):ne.add(R),ne})},[]);return ke?Y?_.jsxs("div",{className:"max-w-3xl mx-auto space-y-4 sm:space-y-6",children:[_.jsxs("div",{className:"bg-white rounded-lg border border-gray-200 p-4 sm:p-6 space-y-4 sm:space-y-6",children:[_.jsx("h3",{className:"text-sm font-semibold text-gray-800 uppercase tracking-wide",children:V("build.exportOptions")}),_.jsxs("div",{children:[_.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:V("build.outputMode")}),_.jsx("div",{className:"flex flex-wrap gap-2",children:[{value:"zip",label:V("build.downloadZip"),icon:lh},{value:"pdf",label:V("build.downloadPdf"),icon:Wb},{value:"zippdf",label:V("build.downloadZipPdf"),icon:lh},{value:"share",label:V("build.shareOnly"),icon:Ff},{value:"both",label:V("build.both"),icon:null}].map(({value:R,label:H,icon:ne})=>_.jsxs("button",{type:"button",disabled:w,onClick:()=>Z(R),className:`inline-flex items-center gap-1.5 px-3 py-2 text-sm font-medium rounded-lg border transition-colors ${D===R?"border-indigo-500 bg-indigo-50 text-indigo-700":"border-gray-200 bg-white text-gray-600 hover:bg-gray-50"} disabled:opacity-50 disabled:cursor-not-allowed`,children:[ne&&_.jsx(ne,{className:"w-3.5 h-3.5"}),H]},R))})]}),_.jsxs("div",{children:[_.jsxs("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:[_.jsx(Wb,{className:"w-4 h-4 inline-block mr-1.5 -mt-0.5 text-gray-400"}),V("build.imageFormat")]}),_.jsx("div",{className:"flex gap-3",children:["png","jpeg"].map(R=>_.jsx("button",{type:"button",disabled:w,onClick:()=>n({format:R}),className:`px-4 py-2 text-sm font-medium rounded-lg border transition-colors ${t.format===R?"border-indigo-500 bg-indigo-50 text-indigo-700":"border-gray-200 bg-white text-gray-600 hover:bg-gray-50"} disabled:opacity-50 disabled:cursor-not-allowed`,children:R.toUpperCase()},R))})]}),t.format==="jpeg"&&_.jsxs("div",{children:[_.jsxs("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:[V("build.quality"),": ",t.quality,"%"]}),_.jsx("input",{type:"range",min:1,max:100,value:t.quality,disabled:w,onChange:R=>n({quality:Number(R.target.value)}),className:"w-full h-2 bg-gray-200 rounded-lg appearance-none cursor-pointer accent-indigo-600 disabled:opacity-50 disabled:cursor-not-allowed"}),_.jsxs("div",{className:"flex justify-between text-xs text-gray-400 mt-1",children:[_.jsx("span",{children:V("build.smallest")}),_.jsx("span",{children:V("build.best")})]})]}),F&&_.jsxs("div",{children:[_.jsxs("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:[_.jsx(OA,{className:"w-4 h-4 inline-block mr-1.5 -mt-0.5 text-gray-400"}),V("build.filenamePattern")]}),_.jsx("div",{className:"relative",children:_.jsx("input",{type:"text",value:t.filenamePattern,disabled:w,onChange:R=>n({filenamePattern:R.target.value}),placeholder:"e.g. {name}_badge",className:"w-full px-3 py-2 text-sm border border-gray-200 rounded-lg focus:outline-none focus:ring-2 focus:ring-indigo-500 focus:border-transparent disabled:opacity-50 disabled:cursor-not-allowed"})}),_.jsxs("div",{className:"mt-2",children:[_.jsx("button",{type:"button",disabled:w,onClick:()=>S(!v),className:"text-xs text-indigo-600 hover:text-indigo-700 font-medium disabled:opacity-50 disabled:cursor-not-allowed",children:V(v?"build.hideTokens":"build.showTokens")}),v&&_.jsxs("div",{className:"mt-2 flex flex-wrap gap-1.5",children:[ge.map(R=>_.jsx("button",{type:"button",onClick:()=>ve(R.name),className:"inline-flex items-center px-2 py-1 text-xs font-mono bg-gray-100 text-gray-700 rounded hover:bg-indigo-100 hover:text-indigo-700 transition-colors",children:`{${R.name}}`},R.name)),_.jsx("button",{type:"button",onClick:()=>ve("index"),className:"inline-flex items-center px-2 py-1 text-xs font-mono bg-gray-100 text-gray-700 rounded hover:bg-indigo-100 hover:text-indigo-700 transition-colors",children:"{index}"})]})]}),_.jsx("p",{className:"mt-1 text-xs text-gray-400",children:V("build.filenameHint")})]})]}),ae&&_.jsxs("div",{className:"bg-white rounded-lg border border-gray-200 p-4 sm:p-6 space-y-4",children:[_.jsxs("h3",{className:"text-sm font-semibold text-gray-800 uppercase tracking-wide flex items-center gap-2",children:[_.jsx(Ff,{className:"w-4 h-4 text-gray-400"}),V("build.shareText")]}),_.jsx("p",{className:"text-xs text-gray-500",children:V("build.shareTextHint")}),_.jsx("textarea",{value:l,disabled:w,onChange:R=>u(R.target.value),placeholder:V("build.shareTextPlaceholder"),rows:3,className:"w-full px-3 py-2 text-sm border border-gray-200 rounded-lg focus:outline-none focus:ring-2 focus:ring-indigo-500 focus:border-transparent resize-y disabled:opacity-50 disabled:cursor-not-allowed"}),_.jsxs("div",{children:[_.jsx("button",{type:"button",disabled:w,onClick:()=>A(!k),className:"text-xs text-indigo-600 hover:text-indigo-700 font-medium disabled:opacity-50 disabled:cursor-not-allowed",children:V(k?"build.hideTokens":"build.showTokens")}),k&&_.jsx("div",{className:"mt-2 flex flex-wrap gap-1.5",children:ge.map(R=>_.jsx("button",{type:"button",onClick:()=>ce(R.name),className:"inline-flex items-center px-2 py-1 text-xs font-mono bg-gray-100 text-gray-700 rounded hover:bg-indigo-100 hover:text-indigo-700 transition-colors",children:`{${R.name}}`},R.name))})]}),_.jsxs("div",{children:[_.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:V("build.cardLabel")}),_.jsx("p",{className:"text-xs text-gray-500 mb-2",children:V("build.cardLabelHint")}),_.jsxs("select",{value:q,disabled:w,onChange:R=>O(R.target.value),className:"w-full sm:w-auto px-3 py-2 text-sm border border-gray-200 rounded-lg bg-white focus:outline-none focus:ring-2 focus:ring-indigo-500 focus:border-transparent disabled:opacity-50 disabled:cursor-not-allowed",children:[_.jsx("option",{value:"",children:V("build.autoFirstColumn")}),ge.map(R=>_.jsx("option",{value:R.name,children:R.name},R.name))]})]})]}),_.jsx("div",{className:"bg-white rounded-lg border border-gray-200 p-4",children:_.jsxs("div",{className:"flex items-center justify-between text-sm text-gray-600",children:[_.jsxs("span",{children:[V("build.summary",{count:String(te),format:t.format.toUpperCase()}),t.format==="jpeg"&&_.jsxs(_.Fragment,{children:[" ",V("build.summaryQuality",{quality:String(t.quality)})]})]}),_.jsxs("span",{className:"text-xs text-gray-400",children:[e.width,"",e.height,"px"]})]})}),(w||L||P||U)&&_.jsxs("div",{className:"bg-white rounded-lg border border-gray-200 p-4 sm:p-6 space-y-4",children:[_.jsxs("div",{children:[_.jsxs("div",{className:"flex items-center justify-between text-sm mb-2",children:[_.jsxs("span",{className:"font-medium text-gray-700",children:[w&&V("build.generating"),L&&V("build.complete"),P&&V("build.cancelled"),U&&V("build.failed")]}),_.jsxs("span",{className:"text-gray-500",children:[a.completed," / ",a.total]})]}),_.jsx("div",{className:"w-full bg-gray-200 rounded-full h-3 overflow-hidden",children:_.jsx("div",{className:`h-full rounded-full transition-all duration-300 ${U?"bg-red-500":P?"bg-yellow-500":L?"bg-green-500":"bg-indigo-600"}`,style:{width:`${ie}%`}})}),_.jsxs("p",{className:"text-xs text-gray-400 mt-1",children:[ie,"%"]})]}),L&&_.jsxs("div",{className:"flex items-center gap-2 text-sm text-green-700 bg-green-50 rounded-lg p-3",children:[_.jsx(cA,{className:"w-5 h-5 flex-shrink-0"}),_.jsxs("span",{children:[V("build.allGenerated",{count:String(a.total)}),F&&!re&&` ${V("build.andDownloaded")}`,re&&` ${V("build.andDownloaded")}`,ae&&V("build.scrollToShare"),"."]})]}),P&&_.jsxs("div",{className:"flex items-center gap-2 text-sm text-yellow-700 bg-yellow-50 rounded-lg p-3",children:[_.jsx(Vb,{className:"w-5 h-5 flex-shrink-0"}),_.jsx("span",{children:V("build.cancelledAfter",{completed:String(a.completed),total:String(a.total)})})]}),U&&g&&_.jsxs("div",{className:"flex items-center gap-2 text-sm text-red-700 bg-red-50 rounded-lg p-3",children:[_.jsx(t0,{className:"w-5 h-5 flex-shrink-0"}),_.jsx("span",{children:g})]})]}),_.jsx("div",{className:"flex items-center justify-end",children:_.jsxs("div",{className:"flex items-center gap-3",children:[w&&_.jsxs("button",{type:"button",onClick:xe,className:"inline-flex items-center gap-2 px-4 py-2 text-sm font-medium text-red-600 bg-red-50 border border-red-200 rounded-lg hover:bg-red-100 transition-colors",children:[_.jsx(Vb,{className:"w-4 h-4"}),V("build.cancel")]}),_.jsx("button",{type:"button",onClick:fe,disabled:w,className:"inline-flex items-center gap-2 px-5 py-2.5 text-sm font-medium text-white bg-indigo-600 rounded-lg hover:bg-indigo-700 transition-colors shadow-sm disabled:opacity-50 disabled:cursor-not-allowed",children:w?_.jsxs(_.Fragment,{children:[_.jsx(Rp,{className:"w-4 h-4 animate-spin"}),V("build.generatingBtn")]}):_.jsxs(_.Fragment,{children:[F?_.jsx(lh,{className:"w-4 h-4"}):_.jsx(Ff,{className:"w-4 h-4"}),L||U||P?V("build.buildAgain"):V("build.buildImages",{count:String(te)})]})})]})}),L&&h.length>0&&ae&&_.jsxs("div",{className:"bg-white rounded-lg border border-gray-200 p-4 sm:p-6 space-y-4",children:[_.jsxs("h3",{className:"text-sm font-semibold text-gray-800 uppercase tracking-wide flex items-center gap-2",children:[_.jsx(Ff,{className:"w-4 h-4 text-gray-400"}),V("build.shareImages",{count:String(h.length)})]}),_.jsx("p",{className:"text-xs text-gray-500",children:V("build.shareImagesHint")}),_.jsx("div",{className:"space-y-3 max-h-[60vh] overflow-y-auto",children:h.map((R,H)=>{const ne=qd(l,R.row),G=z.has(H),K=q?R.row[q]||`Image ${H+1}`:Object.values(R.row)[0]||`Image ${H+1}`;return _.jsxs("div",{className:"border border-gray-100 rounded-lg overflow-hidden bg-gray-50",children:[_.jsxs("button",{type:"button",onClick:()=>Ye(H),className:"w-full flex items-center gap-3 p-3 text-left hover:bg-gray-100 transition-colors",children:[_.jsx("img",{src:R.url,alt:`Generated ${H+1}`,className:"w-10 h-10 sm:w-12 sm:h-12 rounded object-cover flex-shrink-0"}),_.jsxs("div",{className:"flex-1 min-w-0",children:[_.jsx("p",{className:"text-sm font-medium text-gray-800 truncate",children:K}),_.jsx("p",{className:"text-xs text-gray-500 truncate",children:ne})]}),G?_.jsx(k3,{className:"w-4 h-4 text-gray-400 flex-shrink-0"}):_.jsx(e0,{className:"w-4 h-4 text-gray-400 flex-shrink-0"})]}),G&&_.jsxs("div",{className:"px-3 pb-3 space-y-3",children:[_.jsx("img",{src:R.url,alt:`Generated ${H+1}`,className:"w-full max-w-xs mx-auto rounded-lg shadow-sm"}),_.jsx("div",{className:"bg-white rounded-lg border border-gray-200 p-3",children:_.jsx("p",{className:"text-sm text-gray-700 whitespace-pre-wrap break-words",children:ne})}),_.jsxs("div",{className:"flex flex-wrap gap-2",children:[typeof navigator<"u"&&typeof navigator.share=="function"&&_.jsxs("button",{type:"button",onClick:()=>ue(R,"native"),className:"inline-flex items-center gap-1.5 px-3 py-2 text-xs font-medium text-white bg-indigo-600 rounded-lg hover:bg-indigo-700 transition-colors",children:[_.jsx(Ff,{className:"w-3.5 h-3.5"}),V("build.share")]}),_.jsxs("button",{type:"button",onClick:()=>ue(R,"whatsapp"),className:"inline-flex items-center gap-1.5 px-3 py-2 text-xs font-medium text-white bg-green-600 rounded-lg hover:bg-green-700 transition-colors",children:[_.jsx(WA,{className:"w-3.5 h-3.5"}),V("build.whatsapp")]}),_.jsx("button",{type:"button",onClick:async()=>{await ue(R,"copy"),j(H),setTimeout(()=>j(null),2e3)},className:"inline-flex items-center gap-1.5 px-3 py-2 text-xs font-medium text-gray-700 bg-white border border-gray-200 rounded-lg hover:bg-gray-50 transition-colors",children:N===H?_.jsxs(_.Fragment,{children:[_.jsx(np,{className:"w-3.5 h-3.5 text-green-600"}),V("build.copied")]}):_.jsxs(_.Fragment,{children:[_.jsx(ip,{className:"w-3.5 h-3.5"}),V("build.copyText")]})}),_.jsxs("a",{href:R.url,download:`image_${H+1}.${t.format==="jpeg"?"jpg":"png"}`,className:"inline-flex items-center gap-1.5 px-3 py-2 text-xs font-medium text-gray-700 bg-white border border-gray-200 rounded-lg hover:bg-gray-50 transition-colors",children:[_.jsx(lh,{className:"w-3.5 h-3.5"}),V("build.download")]})]})]})]},H)})})]}),W&&_.jsx("div",{className:"fixed bottom-4 left-1/2 -translate-x-1/2 z-50 px-4 py-2.5 bg-gray-900 text-white text-sm rounded-lg shadow-lg max-w-[90vw] text-center",style:{animation:"fadeIn 0.2s ease-out"},children:W})]}):_.jsx("div",{className:"max-w-3xl mx-auto",children:_.jsxs("div",{className:"flex flex-col items-center justify-center py-20 text-center",children:[_.jsx(Nl,{className:"w-12 h-12 text-gray-300 mb-4"}),_.jsx("h2",{className:"text-lg font-medium text-gray-700",children:V("build.noElements")}),_.jsx("p",{className:"mt-1 text-sm text-gray-500",children:V("build.noElementsHint")}),_.jsxs("button",{type:"button",onClick:()=>o("editor"),className:"mt-4 inline-flex items-center gap-2 px-4 py-2 text-sm font-medium text-indigo-600 bg-indigo-50 rounded-lg hover:bg-indigo-100 transition-colors",children:[_.jsx(Qf,{className:"w-4 h-4"}),V("build.goToEditor")]})]})}):_.jsx("div",{className:"max-w-3xl mx-auto",children:_.jsxs("div",{className:"flex flex-col items-center justify-center py-20 text-center",children:[_.jsx(t0,{className:"w-12 h-12 text-gray-300 mb-4"}),_.jsx("h2",{className:"text-lg font-medium text-gray-700",children:V("build.noData")}),_.jsx("p",{className:"mt-1 text-sm text-gray-500",children:V("build.noDataHint")}),_.jsxs("button",{type:"button",onClick:()=>o("upload"),className:"mt-4 inline-flex items-center gap-2 px-4 py-2 text-sm font-medium text-indigo-600 bg-indigo-50 rounded-lg hover:bg-indigo-100 transition-colors",children:[_.jsx(Qf,{className:"w-4 h-4"}),V("build.goToUpload")]})]})})}function _3(){return _.jsxs("div",{className:"absolute inset-0 overflow-hidden pointer-events-none","aria-hidden":"true",children:[_.jsx("div",{className:"absolute -top-32 -left-32 w-96 h-96 bg-indigo-200/30 rounded-full blur-3xl animate-[float_20s_ease-in-out_infinite]"}),_.jsx("div",{className:"absolute top-1/3 -right-24 w-80 h-80 bg-violet-200/25 rounded-full blur-3xl animate-[float_25s_ease-in-out_infinite_reverse]"}),_.jsx("div",{className:"absolute -bottom-20 left-1/4 w-72 h-72 bg-pink-200/20 rounded-full blur-3xl animate-[float_22s_ease-in-out_3s_infinite]"})]})}function bi({icon:r,title:e,desc:t}){return _.jsxs("div",{className:"group bg-white rounded-2xl p-6 shadow-sm border border-gray-100 hover:shadow-lg hover:border-indigo-200 transition-all duration-300 hover:-translate-y-1",children:[_.jsx("div",{className:"w-12 h-12 rounded-xl bg-indigo-50 text-indigo-600 flex items-center justify-center mb-4 group-hover:bg-indigo-100 group-hover:scale-110 transition-all duration-300",children:r}),_.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-2",children:e}),_.jsx("p",{className:"text-gray-600 text-sm leading-relaxed",children:t})]})}function zg({number:r,icon:e,title:t,desc:n}){return _.jsxs("div",{className:"relative flex flex-col items-center text-center",children:[_.jsx("div",{className:"w-16 h-16 rounded-2xl bg-indigo-600 text-white flex items-center justify-center mb-4 shadow-lg shadow-indigo-200",children:e}),_.jsx("span",{className:"absolute -top-2 -right-2 sm:right-auto sm:-left-2 w-7 h-7 rounded-full bg-indigo-100 text-indigo-700 text-xs font-bold flex items-center justify-center",children:r}),_.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-2",children:t}),_.jsx("p",{className:"text-gray-600 text-sm leading-relaxed max-w-xs",children:n})]})}function Lf({icon:r,title:e,desc:t}){return _.jsxs("div",{className:"flex gap-4 items-start bg-white rounded-xl p-5 border border-gray-100 shadow-sm hover:shadow-md transition-all duration-300 hover:-translate-y-0.5",children:[_.jsx("div",{className:"w-10 h-10 rounded-lg bg-violet-50 text-violet-600 flex items-center justify-center shrink-0",children:r}),_.jsxs("div",{children:[_.jsx("h3",{className:"font-semibold text-gray-900 mb-1",children:e}),_.jsx("p",{className:"text-gray-600 text-sm leading-relaxed",children:t})]})]})}function $z({t:r}){return _.jsxs("div",{className:"relative bg-white rounded-2xl shadow-2xl shadow-gray-200/60 border border-gray-200/80 overflow-hidden",children:[_.jsxs("div",{className:"bg-gray-100 px-4 py-3 flex items-center gap-2 border-b border-gray-200",children:[_.jsxs("div",{className:"flex gap-1.5",children:[_.jsx("div",{className:"w-3 h-3 rounded-full bg-red-400"}),_.jsx("div",{className:"w-3 h-3 rounded-full bg-yellow-400"}),_.jsx("div",{className:"w-3 h-3 rounded-full bg-green-400"})]}),_.jsx("div",{className:"flex-1 text-center",children:_.jsxs("span",{className:"text-xs text-gray-500 font-medium",children:["Post Factory  ",r("app.title")]})})]}),_.jsxs("div",{className:"p-6 sm:p-8 bg-gradient-to-br from-gray-50 to-indigo-50/30",children:[_.jsx("div",{className:"grid grid-cols-4 gap-4",children:[{key:"previewUpload",icon:_.jsx(Wd,{className:"w-6 h-6"}),active:!1},{key:"previewDesign",icon:_.jsx(op,{className:"w-6 h-6"}),active:!0},{key:"previewPreview",icon:_.jsx(vv,{className:"w-6 h-6"}),active:!1},{key:"previewBuild",icon:_.jsx(lh,{className:"w-6 h-6"}),active:!1}].map(e=>_.jsxs("div",{className:`flex flex-col items-center gap-2 p-4 rounded-xl transition-all ${e.active?"bg-indigo-600 text-white shadow-lg shadow-indigo-200":"bg-white text-gray-400 border border-gray-200"}`,children:[e.icon,_.jsx("span",{className:"text-xs font-medium",children:r(`landing.${e.key}`)})]},e.key))}),_.jsxs("div",{className:"mt-6 grid grid-cols-3 gap-4",children:[_.jsxs("div",{className:"col-span-1 bg-white rounded-xl border border-gray-200 p-4 space-y-3",children:[_.jsx("div",{className:"h-3 w-20 bg-gray-200 rounded"}),_.jsxs("div",{className:"space-y-2",children:[_.jsx("div",{className:"h-8 bg-indigo-50 rounded-lg border border-indigo-100 flex items-center px-2",children:_.jsx("span",{className:"text-[10px] text-indigo-400 font-mono truncate",children:"{name}"})}),_.jsx("div",{className:"h-8 bg-violet-50 rounded-lg border border-violet-100 flex items-center px-2",children:_.jsx("span",{className:"text-[10px] text-violet-400 font-mono truncate",children:"{photo}"})}),_.jsx("div",{className:"h-8 bg-pink-50 rounded-lg border border-pink-100 flex items-center px-2",children:_.jsx("span",{className:"text-[10px] text-pink-400 font-mono truncate",children:"{date}"})})]})]}),_.jsx("div",{className:"col-span-1 bg-white rounded-xl border border-gray-200 p-4 flex items-center justify-center",children:_.jsxs("div",{className:"w-full aspect-square bg-gradient-to-br from-indigo-100 to-violet-100 rounded-lg flex items-center justify-center relative overflow-hidden",children:[_.jsxs("div",{className:"text-center space-y-2",children:[_.jsx("div",{className:"h-3 w-16 bg-indigo-300 rounded mx-auto"}),_.jsx("div",{className:"h-2 w-12 bg-violet-300 rounded mx-auto"}),_.jsx("div",{className:"w-8 h-8 bg-indigo-200 rounded-full mx-auto mt-2"})]}),_.jsx("div",{className:"absolute top-2 left-2 w-2 h-2 border-2 border-indigo-400 rounded-sm bg-white"}),_.jsx("div",{className:"absolute top-2 right-2 w-2 h-2 border-2 border-indigo-400 rounded-sm bg-white"}),_.jsx("div",{className:"absolute bottom-2 left-2 w-2 h-2 border-2 border-indigo-400 rounded-sm bg-white"}),_.jsx("div",{className:"absolute bottom-2 right-2 w-2 h-2 border-2 border-indigo-400 rounded-sm bg-white"})]})}),_.jsxs("div",{className:"col-span-1 bg-white rounded-xl border border-gray-200 p-4 space-y-3",children:[_.jsx("div",{className:"h-3 w-20 bg-gray-200 rounded"}),_.jsxs("div",{className:"space-y-2",children:[_.jsxs("div",{className:"flex items-center gap-2",children:[_.jsx("div",{className:"h-3 w-3 bg-indigo-400 rounded"}),_.jsx("div",{className:"h-2 flex-1 bg-gray-100 rounded"})]}),_.jsxs("div",{className:"flex items-center gap-2",children:[_.jsx("div",{className:"h-3 w-3 bg-violet-400 rounded"}),_.jsx("div",{className:"h-2 flex-1 bg-gray-100 rounded"})]}),_.jsxs("div",{className:"flex items-center gap-2",children:[_.jsx("div",{className:"h-3 w-3 bg-green-400 rounded"}),_.jsx("div",{className:"h-2 flex-1 bg-gray-100 rounded"}),_.jsx("span",{className:"text-[9px] text-green-500 font-medium",children:"IF"})]})]})]})]})]})]})}function Zz({t:r}){return _.jsx("div",{className:"relative mx-auto w-[260px]",children:_.jsxs("div",{className:"bg-gray-900 rounded-[2.5rem] p-3 shadow-2xl shadow-gray-400/30",children:[_.jsx("div",{className:"absolute top-3 left-1/2 -translate-x-1/2 w-24 h-5 bg-gray-900 rounded-b-xl z-10"}),_.jsxs("div",{className:"bg-white rounded-[2rem] overflow-hidden",children:[_.jsx("div",{className:"h-8 bg-gray-50 flex items-center justify-center",children:_.jsx("div",{className:"w-16 h-1.5 bg-gray-300 rounded-full"})}),_.jsxs("div",{className:"px-3 py-2 bg-white border-b border-gray-100 flex items-center gap-2",children:[_.jsx("div",{className:"w-5 h-5 rounded bg-indigo-600 flex items-center justify-center",children:_.jsx(Nl,{className:"w-3 h-3 text-white"})}),_.jsx("span",{className:"text-[10px] font-semibold text-gray-900",children:r("app.title")})]}),_.jsx("div",{className:"px-2 py-2 bg-white border-b border-gray-50 flex gap-1",children:[{key:"previewUpload",active:!1},{key:"previewDesign",active:!0},{key:"previewPreview",active:!1},{key:"previewBuild",active:!1}].map(e=>_.jsx("div",{className:`flex-1 text-center py-1 rounded-md text-[8px] font-medium ${e.active?"bg-indigo-600 text-white":"text-gray-400"}`,children:r(`landing.${e.key}`)},e.key))}),_.jsxs("div",{className:"p-3",children:[_.jsxs("div",{className:"aspect-square bg-gradient-to-br from-indigo-50 to-violet-50 rounded-lg flex items-center justify-center relative",children:[_.jsxs("div",{className:"text-center space-y-1.5",children:[_.jsx("div",{className:"h-2 w-12 bg-indigo-300 rounded mx-auto"}),_.jsx("div",{className:"h-1.5 w-8 bg-violet-300 rounded mx-auto"}),_.jsx("div",{className:"w-6 h-6 bg-indigo-200 rounded-full mx-auto mt-1"})]}),_.jsx("div",{className:"absolute top-1 left-1 w-1.5 h-1.5 border border-indigo-400 rounded-sm bg-white"}),_.jsx("div",{className:"absolute top-1 right-1 w-1.5 h-1.5 border border-indigo-400 rounded-sm bg-white"}),_.jsx("div",{className:"absolute bottom-1 left-1 w-1.5 h-1.5 border border-indigo-400 rounded-sm bg-white"}),_.jsx("div",{className:"absolute bottom-1 right-1 w-1.5 h-1.5 border border-indigo-400 rounded-sm bg-white"})]}),_.jsxs("div",{className:"mt-2 flex gap-1",children:[_.jsx("div",{className:"flex-1 h-5 bg-indigo-50 rounded border border-indigo-100 flex items-center justify-center",children:_.jsx("span",{className:"text-[8px] text-indigo-400 font-mono",children:"{name}"})}),_.jsx("div",{className:"flex-1 h-5 bg-violet-50 rounded border border-violet-100 flex items-center justify-center",children:_.jsx("span",{className:"text-[8px] text-violet-400 font-mono",children:"{photo}"})})]})]}),_.jsx("div",{className:"h-6 bg-gray-50 flex items-center justify-center",children:_.jsx("div",{className:"w-20 h-1 bg-gray-300 rounded-full"})})]})]})})}function Jz(){const r=fa(a=>a.t),e=fr(a=>a.setCurrentStep),t=()=>{e("upload")},n=()=>{var a;(a=document.getElementById("features"))==null||a.scrollIntoView({behavior:"smooth"})};return _.jsxs("div",{className:"min-h-screen bg-gradient-to-b from-gray-50 to-white overflow-y-auto",children:[_.jsx("nav",{className:"sticky top-0 z-50 bg-white/80 backdrop-blur-lg border-b border-gray-200/60",children:_.jsxs("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 h-16 flex items-center justify-between",children:[_.jsxs("div",{className:"flex items-center gap-3",children:[_.jsx("div",{className:"w-9 h-9 rounded-xl bg-indigo-600 text-white flex items-center justify-center shadow-sm",children:_.jsx(Nl,{className:"w-5 h-5"})}),_.jsx("span",{className:"text-lg font-bold text-gray-900 tracking-tight",children:"Post Factory"})]}),_.jsxs("div",{className:"flex items-center gap-3",children:[_.jsx(Ax,{}),_.jsxs("button",{onClick:t,className:"hidden sm:inline-flex items-center gap-2 px-4 py-2 bg-indigo-600 text-white text-sm font-medium rounded-lg hover:bg-indigo-700 transition-colors shadow-sm",children:[r("landing.getStarted"),_.jsx(cd,{className:"w-4 h-4 rtl:rotate-180"})]})]})]})}),_.jsxs("section",{className:"relative overflow-hidden",children:[_.jsx("div",{className:"absolute inset-0 bg-gradient-to-br from-indigo-50 via-white to-violet-50"}),_.jsx(_3,{}),_.jsx("div",{className:"absolute inset-0 opacity-[0.03]",style:{backgroundImage:"radial-gradient(circle at 1px 1px, #4f46e5 1px, transparent 0)",backgroundSize:"40px 40px"}}),_.jsxs("div",{className:"relative max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 pt-16 sm:pt-24 pb-20 sm:pb-32",children:[_.jsxs("div",{className:"text-center max-w-4xl mx-auto",children:[_.jsxs("div",{className:"inline-flex items-center gap-2 px-3 py-1.5 bg-indigo-50 text-indigo-700 rounded-full text-xs font-medium mb-6 border border-indigo-100",children:[_.jsx(y2,{className:"w-3.5 h-3.5"}),r("landing.feature4Title")]}),_.jsx("h1",{className:"text-4xl sm:text-5xl lg:text-6xl font-extrabold text-gray-900 tracking-tight leading-tight mb-6",children:r("landing.heroTitle")}),_.jsx("p",{className:"text-lg sm:text-xl text-gray-600 leading-relaxed mb-10 max-w-2xl mx-auto",children:r("landing.heroSubtitle")}),_.jsxs("div",{className:"flex flex-col sm:flex-row items-center justify-center gap-4",children:[_.jsxs("button",{onClick:t,className:"w-full sm:w-auto inline-flex items-center justify-center gap-2 px-8 py-4 bg-indigo-600 text-white text-base font-semibold rounded-xl hover:bg-indigo-700 transition-all shadow-lg shadow-indigo-200 hover:shadow-xl hover:shadow-indigo-300 hover:-translate-y-0.5",children:[r("landing.getStarted"),_.jsx(cd,{className:"w-5 h-5 rtl:rotate-180"})]}),_.jsxs("button",{onClick:n,className:"w-full sm:w-auto inline-flex items-center justify-center gap-2 px-8 py-4 bg-white text-gray-700 text-base font-semibold rounded-xl border border-gray-200 hover:border-gray-300 hover:bg-gray-50 transition-all",children:[r("landing.learnMore"),_.jsx(e0,{className:"w-5 h-5"})]})]})]}),_.jsx("div",{className:"mt-16 sm:mt-20 max-w-5xl mx-auto hidden sm:block",children:_.jsx($z,{t:r})}),_.jsx("div",{className:"mt-12 sm:hidden",children:_.jsx(Zz,{t:r})})]})]}),_.jsxs("section",{className:"py-20 sm:py-28 bg-white relative",id:"how-it-works",children:[_.jsx("div",{className:"absolute inset-0 overflow-hidden pointer-events-none","aria-hidden":"true",children:_.jsx("div",{className:"absolute top-0 left-0 w-full h-px bg-gradient-to-r from-transparent via-indigo-200 to-transparent"})}),_.jsxs("div",{className:"relative max-w-7xl mx-auto px-4 sm:px-6 lg:px-8",children:[_.jsxs("div",{className:"text-center mb-16",children:[_.jsx("h2",{className:"text-3xl sm:text-4xl font-bold text-gray-900 mb-4",children:r("landing.howItWorksTitle")}),_.jsx("p",{className:"text-lg text-gray-600 max-w-2xl mx-auto",children:r("landing.howItWorksSubtitle")})]}),_.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-4 gap-10 lg:gap-8",children:[_.jsx(zg,{number:1,icon:_.jsx(Wd,{className:"w-7 h-7"}),title:r("landing.step1Title"),desc:r("landing.step1Desc")}),_.jsx(zg,{number:2,icon:_.jsx(op,{className:"w-7 h-7"}),title:r("landing.step2Title"),desc:r("landing.step2Desc")}),_.jsx(zg,{number:3,icon:_.jsx(vv,{className:"w-7 h-7"}),title:r("landing.step3Title"),desc:r("landing.step3Desc")}),_.jsx(zg,{number:4,icon:_.jsx(lh,{className:"w-7 h-7"}),title:r("landing.step4Title"),desc:r("landing.step4Desc")})]})]})]}),_.jsxs("section",{className:"py-20 sm:py-28 bg-gray-50 relative",id:"features",children:[_.jsx(_3,{}),_.jsxs("div",{className:"relative max-w-7xl mx-auto px-4 sm:px-6 lg:px-8",children:[_.jsxs("div",{className:"text-center mb-16",children:[_.jsx("h2",{className:"text-3xl sm:text-4xl font-bold text-gray-900 mb-4",children:r("landing.featuresTitle")}),_.jsx("p",{className:"text-lg text-gray-600 max-w-2xl mx-auto",children:r("landing.featuresSubtitle")})]}),_.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 xl:grid-cols-4 gap-6",children:[_.jsx(bi,{icon:_.jsx(xh,{className:"w-6 h-6"}),title:r("landing.feature1Title"),desc:r("landing.feature1Desc")}),_.jsx(bi,{icon:_.jsx(OE,{className:"w-6 h-6"}),title:r("landing.feature2Title"),desc:r("landing.feature2Desc")}),_.jsx(bi,{icon:_.jsx(op,{className:"w-6 h-6"}),title:r("landing.feature3Title"),desc:r("landing.feature3Desc")}),_.jsx(bi,{icon:_.jsx(y2,{className:"w-6 h-6"}),title:r("landing.feature4Title"),desc:r("landing.feature4Desc")}),_.jsx(bi,{icon:_.jsx(bE,{className:"w-6 h-6"}),title:r("landing.feature5Title"),desc:r("landing.feature5Desc")}),_.jsx(bi,{icon:_.jsx(sp,{className:"w-6 h-6"}),title:r("landing.feature6Title"),desc:r("landing.feature6Desc")}),_.jsx(bi,{icon:_.jsx(Ff,{className:"w-6 h-6"}),title:r("landing.feature7Title"),desc:r("landing.feature7Desc")}),_.jsx(bi,{icon:_.jsx(ch,{className:"w-6 h-6"}),title:r("landing.feature8Title"),desc:r("landing.feature8Desc")}),_.jsx(bi,{icon:_.jsx(xh,{className:"w-6 h-6"}),title:r("landing.feature9Title"),desc:r("landing.feature9Desc")}),_.jsx(bi,{icon:_.jsx(_x,{className:"w-6 h-6"}),title:r("landing.feature10Title"),desc:r("landing.feature10Desc")}),_.jsx(bi,{icon:_.jsx(yA,{className:"w-6 h-6"}),title:r("landing.feature11Title"),desc:r("landing.feature11Desc")}),_.jsx(bi,{icon:_.jsx(T3,{className:"w-6 h-6"}),title:r("landing.feature12Title"),desc:r("landing.feature12Desc")}),_.jsx(bi,{icon:_.jsx(LE,{className:"w-6 h-6"}),title:r("landing.feature13Title"),desc:r("landing.feature13Desc")}),_.jsx(bi,{icon:_.jsx(C3,{className:"w-6 h-6"}),title:r("landing.feature14Title"),desc:r("landing.feature14Desc")}),_.jsx(bi,{icon:_.jsx(ch,{className:"w-6 h-6"}),title:r("landing.feature15Title"),desc:r("landing.feature15Desc")}),_.jsx(bi,{icon:_.jsx(Nl,{className:"w-6 h-6"}),title:r("landing.feature16Title"),desc:r("landing.feature16Desc")})]})]})]}),_.jsxs("section",{className:"py-20 sm:py-28 bg-white relative",id:"use-cases",children:[_.jsx("div",{className:"absolute inset-0 overflow-hidden pointer-events-none","aria-hidden":"true",children:_.jsx("div",{className:"absolute top-0 left-0 w-full h-px bg-gradient-to-r from-transparent via-violet-200 to-transparent"})}),_.jsxs("div",{className:"relative max-w-7xl mx-auto px-4 sm:px-6 lg:px-8",children:[_.jsxs("div",{className:"text-center mb-16",children:[_.jsx("h2",{className:"text-3xl sm:text-4xl font-bold text-gray-900 mb-4",children:r("landing.useCasesTitle")}),_.jsx("p",{className:"text-lg text-gray-600 max-w-2xl mx-auto",children:r("landing.useCasesSubtitle")})]}),_.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 gap-5",children:[_.jsx(Lf,{icon:_.jsx(kA,{className:"w-5 h-5"}),title:r("landing.useCase1Title"),desc:r("landing.useCase1Desc")}),_.jsx(Lf,{icon:_.jsx(VA,{className:"w-5 h-5"}),title:r("landing.useCase2Title"),desc:r("landing.useCase2Desc")}),_.jsx(Lf,{icon:_.jsx(JT,{className:"w-5 h-5"}),title:r("landing.useCase3Title"),desc:r("landing.useCase3Desc")}),_.jsx(Lf,{icon:_.jsx(IA,{className:"w-5 h-5"}),title:r("landing.useCase4Title"),desc:r("landing.useCase4Desc")}),_.jsx(Lf,{icon:_.jsx(_E,{className:"w-5 h-5"}),title:r("landing.useCase5Title"),desc:r("landing.useCase5Desc")}),_.jsx(Lf,{icon:_.jsx(tA,{className:"w-5 h-5"}),title:r("landing.useCase6Title"),desc:r("landing.useCase6Desc")})]})]})]}),_.jsxs("section",{className:"py-20 sm:py-28 bg-gradient-to-br from-indigo-600 via-indigo-700 to-violet-700 relative overflow-hidden",children:[_.jsx("div",{className:"absolute inset-0 opacity-10",style:{backgroundImage:"radial-gradient(circle at 1px 1px, white 1px, transparent 0)",backgroundSize:"32px 32px"}}),_.jsx("div",{className:"absolute -top-20 -right-20 w-80 h-80 bg-white/5 rounded-full blur-2xl animate-[float_18s_ease-in-out_infinite]","aria-hidden":"true"}),_.jsx("div",{className:"absolute -bottom-16 -left-16 w-64 h-64 bg-white/5 rounded-full blur-2xl animate-[float_22s_ease-in-out_infinite_reverse]","aria-hidden":"true"}),_.jsxs("div",{className:"relative max-w-4xl mx-auto px-4 sm:px-6 lg:px-8 text-center",children:[_.jsx("h2",{className:"text-3xl sm:text-4xl font-bold text-white mb-4",children:r("landing.ctaTitle")}),_.jsx("p",{className:"text-lg text-indigo-100 mb-10 max-w-2xl mx-auto",children:r("landing.ctaSubtitle")}),_.jsxs("button",{onClick:t,className:"inline-flex items-center gap-2 px-10 py-4 bg-white text-indigo-700 text-base font-semibold rounded-xl hover:bg-indigo-50 transition-all shadow-lg hover:shadow-xl hover:-translate-y-0.5",children:[r("landing.ctaButton"),_.jsx(cd,{className:"w-5 h-5 rtl:rotate-180"})]})]})]}),_.jsx("footer",{className:"bg-gray-900 text-gray-400 py-12",children:_.jsx("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8",children:_.jsxs("div",{className:"flex flex-col sm:flex-row items-center justify-between gap-6",children:[_.jsxs("div",{className:"flex items-center gap-3",children:[_.jsx("div",{className:"w-8 h-8 rounded-lg bg-indigo-600 text-white flex items-center justify-center",children:_.jsx(Nl,{className:"w-4 h-4"})}),_.jsxs("div",{children:[_.jsx("span",{className:"text-white font-semibold",children:"Post Factory"}),_.jsx("p",{className:"text-xs text-gray-500 mt-0.5",children:r("landing.footerTagline")})]})]}),_.jsxs("div",{className:"flex items-center gap-2 text-xs",children:[_.jsx(y2,{className:"w-4 h-4 text-green-500"}),_.jsx("span",{children:r("landing.footerPrivacy")})]})]})})})]})}function Qz(){const r=fr(a=>a.currentStep),e=fr(a=>a.csvData),t=fr(a=>a.templateConfig),n=fr(a=>a.setCurrentStep);switch(Me.useEffect(()=>{r==="editor"&&!e?n("upload"):(r==="preview"&&(!e||t.elements.length===0)||r==="build"&&(!e||t.elements.length===0))&&n(e?"editor":"upload")},[r,e,t.elements.length,n]),r){case"upload":return _.jsx(o_,{});case"editor":return e?_.jsx(UP,{}):null;case"preview":return e?_.jsx(VP,{}):null;case"build":return e?_.jsx(Kz,{}):null;default:return _.jsx(o_,{})}}function eH(){const r=fr(e=>e.showLanding);return Me.useEffect(()=>{r?document.documentElement.classList.remove("app-mode"):document.documentElement.classList.add("app-mode")},[r]),r?_.jsx(Jz,{}):_.jsx(XE,{children:_.jsx(Qz,{})})}function tH(r={}){const{immediate:e=!1,onNeedRefresh:t,onOfflineReady:n,onRegistered:a,onRegisteredSW:i,onRegisterError:o}=r;let l,u;const h=async(m=!0)=>{await u};async function f(){if("serviceWorker"in navigator){if(l=await $g(async()=>{const{Workbox:m}=await import("./workbox-window.prod.es5-BIl4cyR9.js");return{Workbox:m}},[]).then(({Workbox:m})=>new m("/sw.js",{scope:"/",type:"classic"})).catch(m=>{o==null||o(m)}),!l)return;l.addEventListener("activated",m=>{(m.isUpdate||m.isExternal)&&window.location.reload()}),l.addEventListener("installed",m=>{m.isUpdate||n==null||n()}),l.register({immediate:e}).then(m=>{i?i("/sw.js",m):a==null||a(m)}).catch(m=>{o==null||o(m)})}}return u=f(),h}bR();tH({onNeedRefresh(){},onOfflineReady(){console.log("Post Factory is ready to work offline")}});RT.createRoot(document.getElementById("root")).render(_.jsx(Me.StrictMode,{children:_.jsx(eH,{})}));export{an as _,mu as c,mv as g};
